function XU(t,r){for(var n=0;n<r.length;n++){const s=r[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function QU(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var n=function s(){return this instanceof s?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),n}var j0={exports:{}},qu={},w0={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function eq(){if(m_)return pt;m_=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function y(z,q,ee){this.props=z,this.context=q,this.refs=x,this.updater=ee||g}y.prototype.isReactComponent={},y.prototype.setState=function(z,q){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,q,"setState")},y.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function A(){}A.prototype=y.prototype;function E(z,q,ee){this.props=z,this.context=q,this.refs=x,this.updater=ee||g}var C=E.prototype=new A;C.constructor=E,b(C,y.prototype),C.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function T(z,q,ee){var oe,ce={},ye=null,de=null;if(q!=null)for(oe in q.ref!==void 0&&(de=q.ref),q.key!==void 0&&(ye=""+q.key),q)k.call(q,oe)&&!R.hasOwnProperty(oe)&&(ce[oe]=q[oe]);var fe=arguments.length-2;if(fe===1)ce.children=ee;else if(1<fe){for(var he=Array(fe),re=0;re<fe;re++)he[re]=arguments[re+2];ce.children=he}if(z&&z.defaultProps)for(oe in fe=z.defaultProps,fe)ce[oe]===void 0&&(ce[oe]=fe[oe]);return{$$typeof:t,type:z,key:ye,ref:de,props:ce,_owner:S.current}}function O(z,q){return{$$typeof:t,type:z.type,key:q,ref:z.ref,props:z.props,_owner:z._owner}}function U(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function D(z){var q={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ee){return q[ee]})}var I=/\/+/g;function B(z,q){return typeof z=="object"&&z!==null&&z.key!=null?D(""+z.key):q.toString(36)}function M(z,q,ee,oe,ce){var ye=typeof z;(ye==="undefined"||ye==="boolean")&&(z=null);var de=!1;if(z===null)de=!0;else switch(ye){case"string":case"number":de=!0;break;case"object":switch(z.$$typeof){case t:case r:de=!0}}if(de)return de=z,ce=ce(de),z=oe===""?"."+B(de,0):oe,w(ce)?(ee="",z!=null&&(ee=z.replace(I,"$&/")+"/"),M(ce,q,ee,"",function(re){return re})):ce!=null&&(U(ce)&&(ce=O(ce,ee+(!ce.key||de&&de.key===ce.key?"":(""+ce.key).replace(I,"$&/")+"/")+z)),q.push(ce)),1;if(de=0,oe=oe===""?".":oe+":",w(z))for(var fe=0;fe<z.length;fe++){ye=z[fe];var he=oe+B(ye,fe);de+=M(ye,q,ee,he,ce)}else if(he=v(z),typeof he=="function")for(z=he.call(z),fe=0;!(ye=z.next()).done;)ye=ye.value,he=oe+B(ye,fe++),de+=M(ye,q,ee,he,ce);else if(ye==="object")throw q=String(z),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return de}function W(z,q,ee){if(z==null)return z;var oe=[],ce=0;return M(z,oe,"","",function(ye){return q.call(ee,ye,ce++)}),oe}function V(z){if(z._status===-1){var q=z._result;q=q(),q.then(function(ee){(z._status===0||z._status===-1)&&(z._status=1,z._result=ee)},function(ee){(z._status===0||z._status===-1)&&(z._status=2,z._result=ee)}),z._status===-1&&(z._status=0,z._result=q)}if(z._status===1)return z._result.default;throw z._result}var Q={current:null},H={transition:null},X={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:H,ReactCurrentOwner:S};function K(){throw Error("act(...) is not supported in production builds of React.")}return pt.Children={map:W,forEach:function(z,q,ee){W(z,function(){q.apply(this,arguments)},ee)},count:function(z){var q=0;return W(z,function(){q++}),q},toArray:function(z){return W(z,function(q){return q})||[]},only:function(z){if(!U(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},pt.Component=y,pt.Fragment=n,pt.Profiler=a,pt.PureComponent=E,pt.StrictMode=s,pt.Suspense=d,pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,pt.act=K,pt.cloneElement=function(z,q,ee){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var oe=b({},z.props),ce=z.key,ye=z.ref,de=z._owner;if(q!=null){if(q.ref!==void 0&&(ye=q.ref,de=S.current),q.key!==void 0&&(ce=""+q.key),z.type&&z.type.defaultProps)var fe=z.type.defaultProps;for(he in q)k.call(q,he)&&!R.hasOwnProperty(he)&&(oe[he]=q[he]===void 0&&fe!==void 0?fe[he]:q[he])}var he=arguments.length-2;if(he===1)oe.children=ee;else if(1<he){fe=Array(he);for(var re=0;re<he;re++)fe[re]=arguments[re+2];oe.children=fe}return{$$typeof:t,type:z.type,key:ce,ref:ye,props:oe,_owner:de}},pt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},pt.createElement=T,pt.createFactory=function(z){var q=T.bind(null,z);return q.type=z,q},pt.createRef=function(){return{current:null}},pt.forwardRef=function(z){return{$$typeof:l,render:z}},pt.isValidElement=U,pt.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:V}},pt.memo=function(z,q){return{$$typeof:u,type:z,compare:q===void 0?null:q}},pt.startTransition=function(z){var q=H.transition;H.transition={};try{z()}finally{H.transition=q}},pt.unstable_act=K,pt.useCallback=function(z,q){return Q.current.useCallback(z,q)},pt.useContext=function(z){return Q.current.useContext(z)},pt.useDebugValue=function(){},pt.useDeferredValue=function(z){return Q.current.useDeferredValue(z)},pt.useEffect=function(z,q){return Q.current.useEffect(z,q)},pt.useId=function(){return Q.current.useId()},pt.useImperativeHandle=function(z,q,ee){return Q.current.useImperativeHandle(z,q,ee)},pt.useInsertionEffect=function(z,q){return Q.current.useInsertionEffect(z,q)},pt.useLayoutEffect=function(z,q){return Q.current.useLayoutEffect(z,q)},pt.useMemo=function(z,q){return Q.current.useMemo(z,q)},pt.useReducer=function(z,q,ee){return Q.current.useReducer(z,q,ee)},pt.useRef=function(z){return Q.current.useRef(z)},pt.useState=function(z){return Q.current.useState(z)},pt.useSyncExternalStore=function(z,q,ee){return Q.current.useSyncExternalStore(z,q,ee)},pt.useTransition=function(){return Q.current.useTransition()},pt.version="18.3.1",pt}var f_;function xx(){return f_||(f_=1,w0.exports=eq()),w0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function tq(){if(p_)return qu;p_=1;var t=xx(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,u){var f,m={},v=null,g=null;u!==void 0&&(v=""+u),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(g=d.ref);for(f in d)s.call(d,f)&&!i.hasOwnProperty(f)&&(m[f]=d[f]);if(l&&l.defaultProps)for(f in d=l.defaultProps,d)m[f]===void 0&&(m[f]=d[f]);return{$$typeof:r,type:l,key:v,ref:g,props:m,_owner:a.current}}return qu.Fragment=n,qu.jsx=o,qu.jsxs=o,qu}var v_;function rq(){return v_||(v_=1,j0.exports=tq()),j0.exports}var e=rq(),ip={},N0={exports:{}},Xn={},S0={exports:{}},k0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function nq(){return x_||(x_=1,(function(t){function r(H,X){var K=H.length;H.push(X);e:for(;0<K;){var z=K-1>>>1,q=H[z];if(0<a(q,X))H[z]=X,H[K]=q,K=z;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var X=H[0],K=H.pop();if(K!==X){H[0]=K;e:for(var z=0,q=H.length,ee=q>>>1;z<ee;){var oe=2*(z+1)-1,ce=H[oe],ye=oe+1,de=H[ye];if(0>a(ce,K))ye<q&&0>a(de,ce)?(H[z]=de,H[ye]=K,z=ye):(H[z]=ce,H[oe]=K,z=oe);else if(ye<q&&0>a(de,K))H[z]=de,H[ye]=K,z=ye;else break e}}return X}function a(H,X){var K=H.sortIndex-X.sortIndex;return K!==0?K:H.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],u=[],f=1,m=null,v=3,g=!1,b=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var X=n(u);X!==null;){if(X.callback===null)s(u);else if(X.startTime<=H)s(u),X.sortIndex=X.expirationTime,r(d,X);else break;X=n(u)}}function w(H){if(x=!1,C(H),!b)if(n(d)!==null)b=!0,V(k);else{var X=n(u);X!==null&&Q(w,X.startTime-H)}}function k(H,X){b=!1,x&&(x=!1,A(T),T=-1),g=!0;var K=v;try{for(C(X),m=n(d);m!==null&&(!(m.expirationTime>X)||H&&!D());){var z=m.callback;if(typeof z=="function"){m.callback=null,v=m.priorityLevel;var q=z(m.expirationTime<=X);X=t.unstable_now(),typeof q=="function"?m.callback=q:m===n(d)&&s(d),C(X)}else s(d);m=n(d)}if(m!==null)var ee=!0;else{var oe=n(u);oe!==null&&Q(w,oe.startTime-X),ee=!1}return ee}finally{m=null,v=K,g=!1}}var S=!1,R=null,T=-1,O=5,U=-1;function D(){return!(t.unstable_now()-U<O)}function I(){if(R!==null){var H=t.unstable_now();U=H;var X=!0;try{X=R(!0,H)}finally{X?B():(S=!1,R=null)}}else S=!1}var B;if(typeof E=="function")B=function(){E(I)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,W=M.port2;M.port1.onmessage=I,B=function(){W.postMessage(null)}}else B=function(){y(I,0)};function V(H){R=H,S||(S=!0,B())}function Q(H,X){T=y(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,V(k))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var K=v;v=X;try{return H()}finally{v=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=v;v=H;try{return X()}finally{v=K}},t.unstable_scheduleCallback=function(H,X,K){var z=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?z+K:z):K=z,H){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=K+q,H={id:f++,callback:X,priorityLevel:H,startTime:K,expirationTime:q,sortIndex:-1},K>z?(H.sortIndex=K,r(u,H),n(d)===null&&H===n(u)&&(x?(A(T),T=-1):x=!0,Q(w,K-z))):(H.sortIndex=q,r(d,H),b||g||(b=!0,V(k))),H},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(H){var X=v;return function(){var K=v;v=X;try{return H.apply(this,arguments)}finally{v=K}}}})(k0)),k0}var g_;function sq(){return g_||(g_=1,S0.exports=nq()),S0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function aq(){if(y_)return Xn;y_=1;var t=xx(),r=sq();function n(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,p=1;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(c,h){o(c,h),o(c+"Capture",h)}function o(c,h){for(a[c]=h,c=0;c<h.length;c++)s.add(h[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function v(c){return d.call(m,c)?!0:d.call(f,c)?!1:u.test(c)?m[c]=!0:(f[c]=!0,!1)}function g(c,h,p,N){if(p!==null&&p.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return N?!1:p!==null?!p.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,h,p,N){if(h===null||typeof h>"u"||g(c,h,p,N))return!0;if(N)return!1;if(p!==null)switch(p.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(c,h,p,N,_,P,F){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=N,this.attributeNamespace=_,this.mustUseProperty=p,this.propertyName=c,this.type=h,this.sanitizeURL=P,this.removeEmptyString=F}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){y[c]=new x(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var h=c[0];y[h]=new x(h,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){y[c]=new x(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){y[c]=new x(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){y[c]=new x(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){y[c]=new x(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){y[c]=new x(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){y[c]=new x(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){y[c]=new x(c,5,!1,c.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function E(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var h=c.replace(A,E);y[h]=new x(h,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var h=c.replace(A,E);y[h]=new x(h,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var h=c.replace(A,E);y[h]=new x(h,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){y[c]=new x(c,1,!1,c.toLowerCase(),null,!1,!1)}),y.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){y[c]=new x(c,1,!1,c.toLowerCase(),null,!0,!0)});function C(c,h,p,N){var _=y.hasOwnProperty(h)?y[h]:null;(_!==null?_.type!==0:N||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(b(h,p,_,N)&&(p=null),N||_===null?v(h)&&(p===null?c.removeAttribute(h):c.setAttribute(h,""+p)):_.mustUseProperty?c[_.propertyName]=p===null?_.type===3?!1:"":p:(h=_.attributeName,N=_.attributeNamespace,p===null?c.removeAttribute(h):(_=_.type,p=_===3||_===4&&p===!0?"":""+p,N?c.setAttributeNS(N,h,p):c.setAttribute(h,p))))}var w=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),S=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),D=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),H=Symbol.iterator;function X(c){return c===null||typeof c!="object"?null:(c=H&&c[H]||c["@@iterator"],typeof c=="function"?c:null)}var K=Object.assign,z;function q(c){if(z===void 0)try{throw Error()}catch(p){var h=p.stack.trim().match(/\n( *(at )?)/);z=h&&h[1]||""}return`
`+z+c}var ee=!1;function oe(c,h){if(!c||ee)return"";ee=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(me){var N=me}Reflect.construct(c,[],h)}else{try{h.call()}catch(me){N=me}c.call(h.prototype)}else{try{throw Error()}catch(me){N=me}c()}}catch(me){if(me&&N&&typeof me.stack=="string"){for(var _=me.stack.split(`
`),P=N.stack.split(`
`),F=_.length-1,Y=P.length-1;1<=F&&0<=Y&&_[F]!==P[Y];)Y--;for(;1<=F&&0<=Y;F--,Y--)if(_[F]!==P[Y]){if(F!==1||Y!==1)do if(F--,Y--,0>Y||_[F]!==P[Y]){var te=`
`+_[F].replace(" at new "," at ");return c.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",c.displayName)),te}while(1<=F&&0<=Y);break}}}finally{ee=!1,Error.prepareStackTrace=p}return(c=c?c.displayName||c.name:"")?q(c):""}function ce(c){switch(c.tag){case 5:return q(c.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return c=oe(c.type,!1),c;case 11:return c=oe(c.type.render,!1),c;case 1:return c=oe(c.type,!0),c;default:return""}}function ye(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case R:return"Fragment";case S:return"Portal";case O:return"Profiler";case T:return"StrictMode";case B:return"Suspense";case M:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case D:return(c.displayName||"Context")+".Consumer";case U:return(c._context.displayName||"Context")+".Provider";case I:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case W:return h=c.displayName||null,h!==null?h:ye(c.type)||"Memo";case V:h=c._payload,c=c._init;try{return ye(c(h))}catch{}}return null}function de(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(h);case 8:return h===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function fe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function he(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function re(c){var h=he(c)?"checked":"value",p=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),N=""+c[h];if(!c.hasOwnProperty(h)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,P=p.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return _.call(this)},set:function(F){N=""+F,P.call(this,F)}}),Object.defineProperty(c,h,{enumerable:p.enumerable}),{getValue:function(){return N},setValue:function(F){N=""+F},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function ge(c){c._valueTracker||(c._valueTracker=re(c))}function le(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var p=h.getValue(),N="";return c&&(N=he(c)?c.checked?"true":"false":c.value),c=N,c!==p?(h.setValue(c),!0):!1}function Ye(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function _e(c,h){var p=h.checked;return K({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??c._wrapperState.initialChecked})}function Et(c,h){var p=h.defaultValue==null?"":h.defaultValue,N=h.checked!=null?h.checked:h.defaultChecked;p=fe(h.value!=null?h.value:p),c._wrapperState={initialChecked:N,initialValue:p,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function kt(c,h){h=h.checked,h!=null&&C(c,"checked",h,!1)}function jt(c,h){kt(c,h);var p=fe(h.value),N=h.type;if(p!=null)N==="number"?(p===0&&c.value===""||c.value!=p)&&(c.value=""+p):c.value!==""+p&&(c.value=""+p);else if(N==="submit"||N==="reset"){c.removeAttribute("value");return}h.hasOwnProperty("value")?er(c,h.type,p):h.hasOwnProperty("defaultValue")&&er(c,h.type,fe(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(c.defaultChecked=!!h.defaultChecked)}function Br(c,h,p){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var N=h.type;if(!(N!=="submit"&&N!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+c._wrapperState.initialValue,p||h===c.value||(c.value=h),c.defaultValue=h}p=c.name,p!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,p!==""&&(c.name=p)}function er(c,h,p){(h!=="number"||Ye(c.ownerDocument)!==c)&&(p==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+p&&(c.defaultValue=""+p))}var gr=Array.isArray;function yr(c,h,p,N){if(c=c.options,h){h={};for(var _=0;_<p.length;_++)h["$"+p[_]]=!0;for(p=0;p<c.length;p++)_=h.hasOwnProperty("$"+c[p].value),c[p].selected!==_&&(c[p].selected=_),_&&N&&(c[p].defaultSelected=!0)}else{for(p=""+fe(p),h=null,_=0;_<c.length;_++){if(c[_].value===p){c[_].selected=!0,N&&(c[_].defaultSelected=!0);return}h!==null||c[_].disabled||(h=c[_])}h!==null&&(h.selected=!0)}}function It(c,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},h,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function br(c,h){var p=h.value;if(p==null){if(p=h.children,h=h.defaultValue,p!=null){if(h!=null)throw Error(n(92));if(gr(p)){if(1<p.length)throw Error(n(93));p=p[0]}h=p}h==null&&(h=""),p=h}c._wrapperState={initialValue:fe(p)}}function Zs(c,h){var p=fe(h.value),N=fe(h.defaultValue);p!=null&&(p=""+p,p!==c.value&&(c.value=p),h.defaultValue==null&&c.defaultValue!==p&&(c.defaultValue=p)),N!=null&&(c.defaultValue=""+N)}function Cs(c){var h=c.textContent;h===c._wrapperState.initialValue&&h!==""&&h!==null&&(c.value=h)}function Xs(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ti(c,h){return c==null||c==="http://www.w3.org/1999/xhtml"?Xs(h):c==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Hn,zn=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,p,N,_){MSApp.execUnsafeLocalFunction(function(){return c(h,p,N,_)})}:c})(function(c,h){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=h;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Hn.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;h.firstChild;)c.appendChild(h.firstChild)}});function Wr(c,h){if(h){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=h;return}}c.textContent=h}var Vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qt=["Webkit","ms","Moz","O"];Object.keys(Vn).forEach(function(c){qt.forEach(function(h){h=h+c.charAt(0).toUpperCase()+c.substring(1),Vn[h]=Vn[c]})});function ae(c,h,p){return h==null||typeof h=="boolean"||h===""?"":p||typeof h!="number"||h===0||Vn.hasOwnProperty(c)&&Vn[c]?(""+h).trim():h+"px"}function ft(c,h){c=c.style;for(var p in h)if(h.hasOwnProperty(p)){var N=p.indexOf("--")===0,_=ae(p,h[p],N);p==="float"&&(p="cssFloat"),N?c.setProperty(p,_):c[p]=_}}var lt=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ur(c,h){if(h){if(lt[c]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function As(c,h){if(c.indexOf("-")===-1)return typeof h.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=null;function Ze(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var wt=null,Nt=null,ct=null;function Ht(c){if(c=_u(c)){if(typeof wt!="function")throw Error(n(280));var h=c.stateNode;h&&(h=bf(h),wt(c.stateNode,c.type,h))}}function Qe(c){Nt?ct?ct.push(c):ct=[c]:Nt=c}function xt(){if(Nt){var c=Nt,h=ct;if(ct=Nt=null,Ht(c),h)for(c=0;c<h.length;c++)Ht(h[c])}}function Bt(c,h){return c(h)}function Wt(){}var Cn=!1;function Dt(c,h,p){if(Cn)return c(h,p);Cn=!0;try{return Bt(c,h,p)}finally{Cn=!1,(Nt!==null||ct!==null)&&(Wt(),xt())}}function Mt(c,h){var p=c.stateNode;if(p===null)return null;var N=bf(p);if(N===null)return null;p=N[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(c=c.type,N=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!N;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,h,typeof p));return p}var as=!1;if(l)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){as=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{as=!1}function is(c,h,p,N,_,P,F,Y,te){var me=Array.prototype.slice.call(arguments,3);try{h.apply(p,me)}catch(Ce){this.onError(Ce)}}var Ui=!1,_s=null,du=!1,Fg=null,aW={onError:function(c){Ui=!0,_s=c}};function iW(c,h,p,N,_,P,F,Y,te){Ui=!1,_s=null,is.apply(aW,arguments)}function oW(c,h,p,N,_,P,F,Y,te){if(iW.apply(this,arguments),Ui){if(Ui){var me=_s;Ui=!1,_s=null}else throw Error(n(198));du||(du=!0,Fg=me)}}function Go(c){var h=c,p=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(p=h.return),c=h.return;while(c)}return h.tag===3?p:null}function M2(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function L2(c){if(Go(c)!==c)throw Error(n(188))}function lW(c){var h=c.alternate;if(!h){if(h=Go(c),h===null)throw Error(n(188));return h!==c?null:c}for(var p=c,N=h;;){var _=p.return;if(_===null)break;var P=_.alternate;if(P===null){if(N=_.return,N!==null){p=N;continue}break}if(_.child===P.child){for(P=_.child;P;){if(P===p)return L2(_),c;if(P===N)return L2(_),h;P=P.sibling}throw Error(n(188))}if(p.return!==N.return)p=_,N=P;else{for(var F=!1,Y=_.child;Y;){if(Y===p){F=!0,p=_,N=P;break}if(Y===N){F=!0,N=_,p=P;break}Y=Y.sibling}if(!F){for(Y=P.child;Y;){if(Y===p){F=!0,p=P,N=_;break}if(Y===N){F=!0,N=P,p=_;break}Y=Y.sibling}if(!F)throw Error(n(189))}}if(p.alternate!==N)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:h}function z2(c){return c=lW(c),c!==null?$2(c):null}function $2(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=$2(c);if(h!==null)return h;c=c.sibling}return null}var F2=r.unstable_scheduleCallback,B2=r.unstable_cancelCallback,cW=r.unstable_shouldYield,dW=r.unstable_requestPaint,jr=r.unstable_now,uW=r.unstable_getCurrentPriorityLevel,Bg=r.unstable_ImmediatePriority,W2=r.unstable_UserBlockingPriority,Qm=r.unstable_NormalPriority,hW=r.unstable_LowPriority,U2=r.unstable_IdlePriority,ef=null,Aa=null;function mW(c){if(Aa&&typeof Aa.onCommitFiberRoot=="function")try{Aa.onCommitFiberRoot(ef,c,void 0,(c.current.flags&128)===128)}catch{}}var Qs=Math.clz32?Math.clz32:vW,fW=Math.log,pW=Math.LN2;function vW(c){return c>>>=0,c===0?32:31-(fW(c)/pW|0)|0}var tf=64,rf=4194304;function uu(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function nf(c,h){var p=c.pendingLanes;if(p===0)return 0;var N=0,_=c.suspendedLanes,P=c.pingedLanes,F=p&268435455;if(F!==0){var Y=F&~_;Y!==0?N=uu(Y):(P&=F,P!==0&&(N=uu(P)))}else F=p&~_,F!==0?N=uu(F):P!==0&&(N=uu(P));if(N===0)return 0;if(h!==0&&h!==N&&(h&_)===0&&(_=N&-N,P=h&-h,_>=P||_===16&&(P&4194240)!==0))return h;if((N&4)!==0&&(N|=p&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=N;0<h;)p=31-Qs(h),_=1<<p,N|=c[p],h&=~_;return N}function xW(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gW(c,h){for(var p=c.suspendedLanes,N=c.pingedLanes,_=c.expirationTimes,P=c.pendingLanes;0<P;){var F=31-Qs(P),Y=1<<F,te=_[F];te===-1?((Y&p)===0||(Y&N)!==0)&&(_[F]=xW(Y,h)):te<=h&&(c.expiredLanes|=Y),P&=~Y}}function Wg(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function q2(){var c=tf;return tf<<=1,(tf&4194240)===0&&(tf=64),c}function Ug(c){for(var h=[],p=0;31>p;p++)h.push(c);return h}function hu(c,h,p){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-Qs(h),c[h]=p}function yW(c,h){var p=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var N=c.eventTimes;for(c=c.expirationTimes;0<p;){var _=31-Qs(p),P=1<<_;h[_]=0,N[_]=-1,c[_]=-1,p&=~P}}function qg(c,h){var p=c.entangledLanes|=h;for(c=c.entanglements;p;){var N=31-Qs(p),_=1<<N;_&h|c[N]&h&&(c[N]|=h),p&=~_}}var Lt=0;function H2(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var V2,Hg,G2,K2,J2,Vg=!1,sf=[],qi=null,Hi=null,Vi=null,mu=new Map,fu=new Map,Gi=[],bW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y2(c,h){switch(c){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":mu.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(h.pointerId)}}function pu(c,h,p,N,_,P){return c===null||c.nativeEvent!==P?(c={blockedOn:h,domEventName:p,eventSystemFlags:N,nativeEvent:P,targetContainers:[_]},h!==null&&(h=_u(h),h!==null&&Hg(h)),c):(c.eventSystemFlags|=N,h=c.targetContainers,_!==null&&h.indexOf(_)===-1&&h.push(_),c)}function jW(c,h,p,N,_){switch(h){case"focusin":return qi=pu(qi,c,h,p,N,_),!0;case"dragenter":return Hi=pu(Hi,c,h,p,N,_),!0;case"mouseover":return Vi=pu(Vi,c,h,p,N,_),!0;case"pointerover":var P=_.pointerId;return mu.set(P,pu(mu.get(P)||null,c,h,p,N,_)),!0;case"gotpointercapture":return P=_.pointerId,fu.set(P,pu(fu.get(P)||null,c,h,p,N,_)),!0}return!1}function Z2(c){var h=Ko(c.target);if(h!==null){var p=Go(h);if(p!==null){if(h=p.tag,h===13){if(h=M2(p),h!==null){c.blockedOn=h,J2(c.priority,function(){G2(p)});return}}else if(h===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function af(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var p=Kg(c.domEventName,c.eventSystemFlags,h[0],c.nativeEvent);if(p===null){p=c.nativeEvent;var N=new p.constructor(p.type,p);Es=N,p.target.dispatchEvent(N),Es=null}else return h=_u(p),h!==null&&Hg(h),c.blockedOn=p,!1;h.shift()}return!0}function X2(c,h,p){af(c)&&p.delete(h)}function wW(){Vg=!1,qi!==null&&af(qi)&&(qi=null),Hi!==null&&af(Hi)&&(Hi=null),Vi!==null&&af(Vi)&&(Vi=null),mu.forEach(X2),fu.forEach(X2)}function vu(c,h){c.blockedOn===h&&(c.blockedOn=null,Vg||(Vg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,wW)))}function xu(c){function h(_){return vu(_,c)}if(0<sf.length){vu(sf[0],c);for(var p=1;p<sf.length;p++){var N=sf[p];N.blockedOn===c&&(N.blockedOn=null)}}for(qi!==null&&vu(qi,c),Hi!==null&&vu(Hi,c),Vi!==null&&vu(Vi,c),mu.forEach(h),fu.forEach(h),p=0;p<Gi.length;p++)N=Gi[p],N.blockedOn===c&&(N.blockedOn=null);for(;0<Gi.length&&(p=Gi[0],p.blockedOn===null);)Z2(p),p.blockedOn===null&&Gi.shift()}var Jl=w.ReactCurrentBatchConfig,of=!0;function NW(c,h,p,N){var _=Lt,P=Jl.transition;Jl.transition=null;try{Lt=1,Gg(c,h,p,N)}finally{Lt=_,Jl.transition=P}}function SW(c,h,p,N){var _=Lt,P=Jl.transition;Jl.transition=null;try{Lt=4,Gg(c,h,p,N)}finally{Lt=_,Jl.transition=P}}function Gg(c,h,p,N){if(of){var _=Kg(c,h,p,N);if(_===null)uy(c,h,N,lf,p),Y2(c,N);else if(jW(_,c,h,p,N))N.stopPropagation();else if(Y2(c,N),h&4&&-1<bW.indexOf(c)){for(;_!==null;){var P=_u(_);if(P!==null&&V2(P),P=Kg(c,h,p,N),P===null&&uy(c,h,N,lf,p),P===_)break;_=P}_!==null&&N.stopPropagation()}else uy(c,h,N,null,p)}}var lf=null;function Kg(c,h,p,N){if(lf=null,c=Ze(N),c=Ko(c),c!==null)if(h=Go(c),h===null)c=null;else if(p=h.tag,p===13){if(c=M2(h),c!==null)return c;c=null}else if(p===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null);return lf=c,null}function Q2(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uW()){case Bg:return 1;case W2:return 4;case Qm:case hW:return 16;case U2:return 536870912;default:return 16}default:return 16}}var Ki=null,Jg=null,cf=null;function eA(){if(cf)return cf;var c,h=Jg,p=h.length,N,_="value"in Ki?Ki.value:Ki.textContent,P=_.length;for(c=0;c<p&&h[c]===_[c];c++);var F=p-c;for(N=1;N<=F&&h[p-N]===_[P-N];N++);return cf=_.slice(c,1<N?1-N:void 0)}function df(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function uf(){return!0}function tA(){return!1}function os(c){function h(p,N,_,P,F){this._reactName=p,this._targetInst=_,this.type=N,this.nativeEvent=P,this.target=F,this.currentTarget=null;for(var Y in c)c.hasOwnProperty(Y)&&(p=c[Y],this[Y]=p?p(P):P[Y]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?uf:tA,this.isPropagationStopped=tA,this}return K(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=uf)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=uf)},persist:function(){},isPersistent:uf}),h}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yg=os(Yl),gu=K({},Yl,{view:0,detail:0}),kW=os(gu),Zg,Xg,yu,hf=K({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ey,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==yu&&(yu&&c.type==="mousemove"?(Zg=c.screenX-yu.screenX,Xg=c.screenY-yu.screenY):Xg=Zg=0,yu=c),Zg)},movementY:function(c){return"movementY"in c?c.movementY:Xg}}),rA=os(hf),CW=K({},hf,{dataTransfer:0}),AW=os(CW),EW=K({},gu,{relatedTarget:0}),Qg=os(EW),_W=K({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),RW=os(_W),TW=K({},Yl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),PW=os(TW),OW=K({},Yl,{data:0}),nA=os(OW),IW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LW(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=MW[c])?!!h[c]:!1}function ey(){return LW}var zW=K({},gu,{key:function(c){if(c.key){var h=IW[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=df(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?DW[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ey,charCode:function(c){return c.type==="keypress"?df(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?df(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),$W=os(zW),FW=K({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sA=os(FW),BW=K({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ey}),WW=os(BW),UW=K({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qW=os(UW),HW=K({},hf,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),VW=os(HW),GW=[9,13,27,32],ty=l&&"CompositionEvent"in window,bu=null;l&&"documentMode"in document&&(bu=document.documentMode);var KW=l&&"TextEvent"in window&&!bu,aA=l&&(!ty||bu&&8<bu&&11>=bu),iA=" ",oA=!1;function lA(c,h){switch(c){case"keyup":return GW.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cA(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Zl=!1;function JW(c,h){switch(c){case"compositionend":return cA(h);case"keypress":return h.which!==32?null:(oA=!0,iA);case"textInput":return c=h.data,c===iA&&oA?null:c;default:return null}}function YW(c,h){if(Zl)return c==="compositionend"||!ty&&lA(c,h)?(c=eA(),cf=Jg=Ki=null,Zl=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return aA&&h.locale!=="ko"?null:h.data;default:return null}}var ZW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dA(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!ZW[c.type]:h==="textarea"}function uA(c,h,p,N){Qe(N),h=xf(h,"onChange"),0<h.length&&(p=new Yg("onChange","change",null,p,N),c.push({event:p,listeners:h}))}var ju=null,wu=null;function XW(c){_A(c,0)}function mf(c){var h=rc(c);if(le(h))return c}function QW(c,h){if(c==="change")return h}var hA=!1;if(l){var ry;if(l){var ny="oninput"in document;if(!ny){var mA=document.createElement("div");mA.setAttribute("oninput","return;"),ny=typeof mA.oninput=="function"}ry=ny}else ry=!1;hA=ry&&(!document.documentMode||9<document.documentMode)}function fA(){ju&&(ju.detachEvent("onpropertychange",pA),wu=ju=null)}function pA(c){if(c.propertyName==="value"&&mf(wu)){var h=[];uA(h,wu,c,Ze(c)),Dt(XW,h)}}function eU(c,h,p){c==="focusin"?(fA(),ju=h,wu=p,ju.attachEvent("onpropertychange",pA)):c==="focusout"&&fA()}function tU(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return mf(wu)}function rU(c,h){if(c==="click")return mf(h)}function nU(c,h){if(c==="input"||c==="change")return mf(h)}function sU(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var ea=typeof Object.is=="function"?Object.is:sU;function Nu(c,h){if(ea(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var p=Object.keys(c),N=Object.keys(h);if(p.length!==N.length)return!1;for(N=0;N<p.length;N++){var _=p[N];if(!d.call(h,_)||!ea(c[_],h[_]))return!1}return!0}function vA(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function xA(c,h){var p=vA(c);c=0;for(var N;p;){if(p.nodeType===3){if(N=c+p.textContent.length,c<=h&&N>=h)return{node:p,offset:h-c};c=N}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=vA(p)}}function gA(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?gA(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function yA(){for(var c=window,h=Ye();h instanceof c.HTMLIFrameElement;){try{var p=typeof h.contentWindow.location.href=="string"}catch{p=!1}if(p)c=h.contentWindow;else break;h=Ye(c.document)}return h}function sy(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}function aU(c){var h=yA(),p=c.focusedElem,N=c.selectionRange;if(h!==p&&p&&p.ownerDocument&&gA(p.ownerDocument.documentElement,p)){if(N!==null&&sy(p)){if(h=N.start,c=N.end,c===void 0&&(c=h),"selectionStart"in p)p.selectionStart=h,p.selectionEnd=Math.min(c,p.value.length);else if(c=(h=p.ownerDocument||document)&&h.defaultView||window,c.getSelection){c=c.getSelection();var _=p.textContent.length,P=Math.min(N.start,_);N=N.end===void 0?P:Math.min(N.end,_),!c.extend&&P>N&&(_=N,N=P,P=_),_=xA(p,P);var F=xA(p,N);_&&F&&(c.rangeCount!==1||c.anchorNode!==_.node||c.anchorOffset!==_.offset||c.focusNode!==F.node||c.focusOffset!==F.offset)&&(h=h.createRange(),h.setStart(_.node,_.offset),c.removeAllRanges(),P>N?(c.addRange(h),c.extend(F.node,F.offset)):(h.setEnd(F.node,F.offset),c.addRange(h)))}}for(h=[],c=p;c=c.parentNode;)c.nodeType===1&&h.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<h.length;p++)c=h[p],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var iU=l&&"documentMode"in document&&11>=document.documentMode,Xl=null,ay=null,Su=null,iy=!1;function bA(c,h,p){var N=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;iy||Xl==null||Xl!==Ye(N)||(N=Xl,"selectionStart"in N&&sy(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Su&&Nu(Su,N)||(Su=N,N=xf(ay,"onSelect"),0<N.length&&(h=new Yg("onSelect","select",null,h,p),c.push({event:h,listeners:N}),h.target=Xl)))}function ff(c,h){var p={};return p[c.toLowerCase()]=h.toLowerCase(),p["Webkit"+c]="webkit"+h,p["Moz"+c]="moz"+h,p}var Ql={animationend:ff("Animation","AnimationEnd"),animationiteration:ff("Animation","AnimationIteration"),animationstart:ff("Animation","AnimationStart"),transitionend:ff("Transition","TransitionEnd")},oy={},jA={};l&&(jA=document.createElement("div").style,"AnimationEvent"in window||(delete Ql.animationend.animation,delete Ql.animationiteration.animation,delete Ql.animationstart.animation),"TransitionEvent"in window||delete Ql.transitionend.transition);function pf(c){if(oy[c])return oy[c];if(!Ql[c])return c;var h=Ql[c],p;for(p in h)if(h.hasOwnProperty(p)&&p in jA)return oy[c]=h[p];return c}var wA=pf("animationend"),NA=pf("animationiteration"),SA=pf("animationstart"),kA=pf("transitionend"),CA=new Map,AA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(c,h){CA.set(c,h),i(h,[c])}for(var ly=0;ly<AA.length;ly++){var cy=AA[ly],oU=cy.toLowerCase(),lU=cy[0].toUpperCase()+cy.slice(1);Ji(oU,"on"+lU)}Ji(wA,"onAnimationEnd"),Ji(NA,"onAnimationIteration"),Ji(SA,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(kA,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cU=new Set("cancel close invalid load scroll toggle".split(" ").concat(ku));function EA(c,h,p){var N=c.type||"unknown-event";c.currentTarget=p,oW(N,h,void 0,c),c.currentTarget=null}function _A(c,h){h=(h&4)!==0;for(var p=0;p<c.length;p++){var N=c[p],_=N.event;N=N.listeners;e:{var P=void 0;if(h)for(var F=N.length-1;0<=F;F--){var Y=N[F],te=Y.instance,me=Y.currentTarget;if(Y=Y.listener,te!==P&&_.isPropagationStopped())break e;EA(_,Y,me),P=te}else for(F=0;F<N.length;F++){if(Y=N[F],te=Y.instance,me=Y.currentTarget,Y=Y.listener,te!==P&&_.isPropagationStopped())break e;EA(_,Y,me),P=te}}}if(du)throw c=Fg,du=!1,Fg=null,c}function tr(c,h){var p=h[xy];p===void 0&&(p=h[xy]=new Set);var N=c+"__bubble";p.has(N)||(RA(h,c,2,!1),p.add(N))}function dy(c,h,p){var N=0;h&&(N|=4),RA(p,c,N,h)}var vf="_reactListening"+Math.random().toString(36).slice(2);function Cu(c){if(!c[vf]){c[vf]=!0,s.forEach(function(p){p!=="selectionchange"&&(cU.has(p)||dy(p,!1,c),dy(p,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[vf]||(h[vf]=!0,dy("selectionchange",!1,h))}}function RA(c,h,p,N){switch(Q2(h)){case 1:var _=NW;break;case 4:_=SW;break;default:_=Gg}p=_.bind(null,h,p,c),_=void 0,!as||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(_=!0),N?_!==void 0?c.addEventListener(h,p,{capture:!0,passive:_}):c.addEventListener(h,p,!0):_!==void 0?c.addEventListener(h,p,{passive:_}):c.addEventListener(h,p,!1)}function uy(c,h,p,N,_){var P=N;if((h&1)===0&&(h&2)===0&&N!==null)e:for(;;){if(N===null)return;var F=N.tag;if(F===3||F===4){var Y=N.stateNode.containerInfo;if(Y===_||Y.nodeType===8&&Y.parentNode===_)break;if(F===4)for(F=N.return;F!==null;){var te=F.tag;if((te===3||te===4)&&(te=F.stateNode.containerInfo,te===_||te.nodeType===8&&te.parentNode===_))return;F=F.return}for(;Y!==null;){if(F=Ko(Y),F===null)return;if(te=F.tag,te===5||te===6){N=P=F;continue e}Y=Y.parentNode}}N=N.return}Dt(function(){var me=P,Ce=Ze(p),Ee=[];e:{var ke=CA.get(c);if(ke!==void 0){var Ue=Yg,Ve=c;switch(c){case"keypress":if(df(p)===0)break e;case"keydown":case"keyup":Ue=$W;break;case"focusin":Ve="focus",Ue=Qg;break;case"focusout":Ve="blur",Ue=Qg;break;case"beforeblur":case"afterblur":Ue=Qg;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=rA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=AW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=WW;break;case wA:case NA:case SA:Ue=RW;break;case kA:Ue=qW;break;case"scroll":Ue=kW;break;case"wheel":Ue=VW;break;case"copy":case"cut":case"paste":Ue=PW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=sA}var Je=(h&4)!==0,wr=!Je&&c==="scroll",ie=Je?ke!==null?ke+"Capture":null:ke;Je=[];for(var ne=me,ue;ne!==null;){ue=ne;var Te=ue.stateNode;if(ue.tag===5&&Te!==null&&(ue=Te,ie!==null&&(Te=Mt(ne,ie),Te!=null&&Je.push(Au(ne,Te,ue)))),wr)break;ne=ne.return}0<Je.length&&(ke=new Ue(ke,Ve,null,p,Ce),Ee.push({event:ke,listeners:Je}))}}if((h&7)===0){e:{if(ke=c==="mouseover"||c==="pointerover",Ue=c==="mouseout"||c==="pointerout",ke&&p!==Es&&(Ve=p.relatedTarget||p.fromElement)&&(Ko(Ve)||Ve[ri]))break e;if((Ue||ke)&&(ke=Ce.window===Ce?Ce:(ke=Ce.ownerDocument)?ke.defaultView||ke.parentWindow:window,Ue?(Ve=p.relatedTarget||p.toElement,Ue=me,Ve=Ve?Ko(Ve):null,Ve!==null&&(wr=Go(Ve),Ve!==wr||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Ue=null,Ve=me),Ue!==Ve)){if(Je=rA,Te="onMouseLeave",ie="onMouseEnter",ne="mouse",(c==="pointerout"||c==="pointerover")&&(Je=sA,Te="onPointerLeave",ie="onPointerEnter",ne="pointer"),wr=Ue==null?ke:rc(Ue),ue=Ve==null?ke:rc(Ve),ke=new Je(Te,ne+"leave",Ue,p,Ce),ke.target=wr,ke.relatedTarget=ue,Te=null,Ko(Ce)===me&&(Je=new Je(ie,ne+"enter",Ve,p,Ce),Je.target=ue,Je.relatedTarget=wr,Te=Je),wr=Te,Ue&&Ve)t:{for(Je=Ue,ie=Ve,ne=0,ue=Je;ue;ue=ec(ue))ne++;for(ue=0,Te=ie;Te;Te=ec(Te))ue++;for(;0<ne-ue;)Je=ec(Je),ne--;for(;0<ue-ne;)ie=ec(ie),ue--;for(;ne--;){if(Je===ie||ie!==null&&Je===ie.alternate)break t;Je=ec(Je),ie=ec(ie)}Je=null}else Je=null;Ue!==null&&TA(Ee,ke,Ue,Je,!1),Ve!==null&&wr!==null&&TA(Ee,wr,Ve,Je,!0)}}e:{if(ke=me?rc(me):window,Ue=ke.nodeName&&ke.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&ke.type==="file")var Xe=QW;else if(dA(ke))if(hA)Xe=nU;else{Xe=tU;var tt=eU}else(Ue=ke.nodeName)&&Ue.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(Xe=rU);if(Xe&&(Xe=Xe(c,me))){uA(Ee,Xe,p,Ce);break e}tt&&tt(c,ke,me),c==="focusout"&&(tt=ke._wrapperState)&&tt.controlled&&ke.type==="number"&&er(ke,"number",ke.value)}switch(tt=me?rc(me):window,c){case"focusin":(dA(tt)||tt.contentEditable==="true")&&(Xl=tt,ay=me,Su=null);break;case"focusout":Su=ay=Xl=null;break;case"mousedown":iy=!0;break;case"contextmenu":case"mouseup":case"dragend":iy=!1,bA(Ee,p,Ce);break;case"selectionchange":if(iU)break;case"keydown":case"keyup":bA(Ee,p,Ce)}var rt;if(ty)e:{switch(c){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Zl?lA(c,p)&&(it="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(it="onCompositionStart");it&&(aA&&p.locale!=="ko"&&(Zl||it!=="onCompositionStart"?it==="onCompositionEnd"&&Zl&&(rt=eA()):(Ki=Ce,Jg="value"in Ki?Ki.value:Ki.textContent,Zl=!0)),tt=xf(me,it),0<tt.length&&(it=new nA(it,c,null,p,Ce),Ee.push({event:it,listeners:tt}),rt?it.data=rt:(rt=cA(p),rt!==null&&(it.data=rt)))),(rt=KW?JW(c,p):YW(c,p))&&(me=xf(me,"onBeforeInput"),0<me.length&&(Ce=new nA("onBeforeInput","beforeinput",null,p,Ce),Ee.push({event:Ce,listeners:me}),Ce.data=rt))}_A(Ee,h)})}function Au(c,h,p){return{instance:c,listener:h,currentTarget:p}}function xf(c,h){for(var p=h+"Capture",N=[];c!==null;){var _=c,P=_.stateNode;_.tag===5&&P!==null&&(_=P,P=Mt(c,p),P!=null&&N.unshift(Au(c,P,_)),P=Mt(c,h),P!=null&&N.push(Au(c,P,_))),c=c.return}return N}function ec(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function TA(c,h,p,N,_){for(var P=h._reactName,F=[];p!==null&&p!==N;){var Y=p,te=Y.alternate,me=Y.stateNode;if(te!==null&&te===N)break;Y.tag===5&&me!==null&&(Y=me,_?(te=Mt(p,P),te!=null&&F.unshift(Au(p,te,Y))):_||(te=Mt(p,P),te!=null&&F.push(Au(p,te,Y)))),p=p.return}F.length!==0&&c.push({event:h,listeners:F})}var dU=/\r\n?/g,uU=/\u0000|\uFFFD/g;function PA(c){return(typeof c=="string"?c:""+c).replace(dU,`
`).replace(uU,"")}function gf(c,h,p){if(h=PA(h),PA(c)!==h&&p)throw Error(n(425))}function yf(){}var hy=null,my=null;function fy(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var py=typeof setTimeout=="function"?setTimeout:void 0,hU=typeof clearTimeout=="function"?clearTimeout:void 0,OA=typeof Promise=="function"?Promise:void 0,mU=typeof queueMicrotask=="function"?queueMicrotask:typeof OA<"u"?function(c){return OA.resolve(null).then(c).catch(fU)}:py;function fU(c){setTimeout(function(){throw c})}function vy(c,h){var p=h,N=0;do{var _=p.nextSibling;if(c.removeChild(p),_&&_.nodeType===8)if(p=_.data,p==="/$"){if(N===0){c.removeChild(_),xu(h);return}N--}else p!=="$"&&p!=="$?"&&p!=="$!"||N++;p=_}while(p);xu(h)}function Yi(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return c}function IA(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"){if(h===0)return c;h--}else p==="/$"&&h++}c=c.previousSibling}return null}var tc=Math.random().toString(36).slice(2),Ea="__reactFiber$"+tc,Eu="__reactProps$"+tc,ri="__reactContainer$"+tc,xy="__reactEvents$"+tc,pU="__reactListeners$"+tc,vU="__reactHandles$"+tc;function Ko(c){var h=c[Ea];if(h)return h;for(var p=c.parentNode;p;){if(h=p[ri]||p[Ea]){if(p=h.alternate,h.child!==null||p!==null&&p.child!==null)for(c=IA(c);c!==null;){if(p=c[Ea])return p;c=IA(c)}return h}c=p,p=c.parentNode}return null}function _u(c){return c=c[Ea]||c[ri],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function rc(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function bf(c){return c[Eu]||null}var gy=[],nc=-1;function Zi(c){return{current:c}}function rr(c){0>nc||(c.current=gy[nc],gy[nc]=null,nc--)}function Gt(c,h){nc++,gy[nc]=c.current,c.current=h}var Xi={},An=Zi(Xi),Gn=Zi(!1),Jo=Xi;function sc(c,h){var p=c.type.contextTypes;if(!p)return Xi;var N=c.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===h)return N.__reactInternalMemoizedMaskedChildContext;var _={},P;for(P in p)_[P]=h[P];return N&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=_),_}function Kn(c){return c=c.childContextTypes,c!=null}function jf(){rr(Gn),rr(An)}function DA(c,h,p){if(An.current!==Xi)throw Error(n(168));Gt(An,h),Gt(Gn,p)}function MA(c,h,p){var N=c.stateNode;if(h=h.childContextTypes,typeof N.getChildContext!="function")return p;N=N.getChildContext();for(var _ in N)if(!(_ in h))throw Error(n(108,de(c)||"Unknown",_));return K({},p,N)}function wf(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Xi,Jo=An.current,Gt(An,c),Gt(Gn,Gn.current),!0}function LA(c,h,p){var N=c.stateNode;if(!N)throw Error(n(169));p?(c=MA(c,h,Jo),N.__reactInternalMemoizedMergedChildContext=c,rr(Gn),rr(An),Gt(An,c)):rr(Gn),Gt(Gn,p)}var ni=null,Nf=!1,yy=!1;function zA(c){ni===null?ni=[c]:ni.push(c)}function xU(c){Nf=!0,zA(c)}function Qi(){if(!yy&&ni!==null){yy=!0;var c=0,h=Lt;try{var p=ni;for(Lt=1;c<p.length;c++){var N=p[c];do N=N(!0);while(N!==null)}ni=null,Nf=!1}catch(_){throw ni!==null&&(ni=ni.slice(c+1)),F2(Bg,Qi),_}finally{Lt=h,yy=!1}}return null}var ac=[],ic=0,Sf=null,kf=0,Rs=[],Ts=0,Yo=null,si=1,ai="";function Zo(c,h){ac[ic++]=kf,ac[ic++]=Sf,Sf=c,kf=h}function $A(c,h,p){Rs[Ts++]=si,Rs[Ts++]=ai,Rs[Ts++]=Yo,Yo=c;var N=si;c=ai;var _=32-Qs(N)-1;N&=~(1<<_),p+=1;var P=32-Qs(h)+_;if(30<P){var F=_-_%5;P=(N&(1<<F)-1).toString(32),N>>=F,_-=F,si=1<<32-Qs(h)+_|p<<_|N,ai=P+c}else si=1<<P|p<<_|N,ai=c}function by(c){c.return!==null&&(Zo(c,1),$A(c,1,0))}function jy(c){for(;c===Sf;)Sf=ac[--ic],ac[ic]=null,kf=ac[--ic],ac[ic]=null;for(;c===Yo;)Yo=Rs[--Ts],Rs[Ts]=null,ai=Rs[--Ts],Rs[Ts]=null,si=Rs[--Ts],Rs[Ts]=null}var ls=null,cs=null,ar=!1,ta=null;function FA(c,h){var p=Ds(5,null,null,0);p.elementType="DELETED",p.stateNode=h,p.return=c,h=c.deletions,h===null?(c.deletions=[p],c.flags|=16):h.push(p)}function BA(c,h){switch(c.tag){case 5:var p=c.type;return h=h.nodeType!==1||p.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(c.stateNode=h,ls=c,cs=Yi(h.firstChild),!0):!1;case 6:return h=c.pendingProps===""||h.nodeType!==3?null:h,h!==null?(c.stateNode=h,ls=c,cs=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(p=Yo!==null?{id:si,overflow:ai}:null,c.memoizedState={dehydrated:h,treeContext:p,retryLane:1073741824},p=Ds(18,null,null,0),p.stateNode=h,p.return=c,c.child=p,ls=c,cs=null,!0):!1;default:return!1}}function wy(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Ny(c){if(ar){var h=cs;if(h){var p=h;if(!BA(c,h)){if(wy(c))throw Error(n(418));h=Yi(p.nextSibling);var N=ls;h&&BA(c,h)?FA(N,p):(c.flags=c.flags&-4097|2,ar=!1,ls=c)}}else{if(wy(c))throw Error(n(418));c.flags=c.flags&-4097|2,ar=!1,ls=c}}}function WA(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;ls=c}function Cf(c){if(c!==ls)return!1;if(!ar)return WA(c),ar=!0,!1;var h;if((h=c.tag!==3)&&!(h=c.tag!==5)&&(h=c.type,h=h!=="head"&&h!=="body"&&!fy(c.type,c.memoizedProps)),h&&(h=cs)){if(wy(c))throw UA(),Error(n(418));for(;h;)FA(c,h),h=Yi(h.nextSibling)}if(WA(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"){if(h===0){cs=Yi(c.nextSibling);break e}h--}else p!=="$"&&p!=="$!"&&p!=="$?"||h++}c=c.nextSibling}cs=null}}else cs=ls?Yi(c.stateNode.nextSibling):null;return!0}function UA(){for(var c=cs;c;)c=Yi(c.nextSibling)}function oc(){cs=ls=null,ar=!1}function Sy(c){ta===null?ta=[c]:ta.push(c)}var gU=w.ReactCurrentBatchConfig;function Ru(c,h,p){if(c=p.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var N=p.stateNode}if(!N)throw Error(n(147,c));var _=N,P=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===P?h.ref:(h=function(F){var Y=_.refs;F===null?delete Y[P]:Y[P]=F},h._stringRef=P,h)}if(typeof c!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,c))}return c}function Af(c,h){throw c=Object.prototype.toString.call(h),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function qA(c){var h=c._init;return h(c._payload)}function HA(c){function h(ie,ne){if(c){var ue=ie.deletions;ue===null?(ie.deletions=[ne],ie.flags|=16):ue.push(ne)}}function p(ie,ne){if(!c)return null;for(;ne!==null;)h(ie,ne),ne=ne.sibling;return null}function N(ie,ne){for(ie=new Map;ne!==null;)ne.key!==null?ie.set(ne.key,ne):ie.set(ne.index,ne),ne=ne.sibling;return ie}function _(ie,ne){return ie=oo(ie,ne),ie.index=0,ie.sibling=null,ie}function P(ie,ne,ue){return ie.index=ue,c?(ue=ie.alternate,ue!==null?(ue=ue.index,ue<ne?(ie.flags|=2,ne):ue):(ie.flags|=2,ne)):(ie.flags|=1048576,ne)}function F(ie){return c&&ie.alternate===null&&(ie.flags|=2),ie}function Y(ie,ne,ue,Te){return ne===null||ne.tag!==6?(ne=p0(ue,ie.mode,Te),ne.return=ie,ne):(ne=_(ne,ue),ne.return=ie,ne)}function te(ie,ne,ue,Te){var Xe=ue.type;return Xe===R?Ce(ie,ne,ue.props.children,Te,ue.key):ne!==null&&(ne.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===V&&qA(Xe)===ne.type)?(Te=_(ne,ue.props),Te.ref=Ru(ie,ne,ue),Te.return=ie,Te):(Te=Zf(ue.type,ue.key,ue.props,null,ie.mode,Te),Te.ref=Ru(ie,ne,ue),Te.return=ie,Te)}function me(ie,ne,ue,Te){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ue.containerInfo||ne.stateNode.implementation!==ue.implementation?(ne=v0(ue,ie.mode,Te),ne.return=ie,ne):(ne=_(ne,ue.children||[]),ne.return=ie,ne)}function Ce(ie,ne,ue,Te,Xe){return ne===null||ne.tag!==7?(ne=al(ue,ie.mode,Te,Xe),ne.return=ie,ne):(ne=_(ne,ue),ne.return=ie,ne)}function Ee(ie,ne,ue){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=p0(""+ne,ie.mode,ue),ne.return=ie,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case k:return ue=Zf(ne.type,ne.key,ne.props,null,ie.mode,ue),ue.ref=Ru(ie,null,ne),ue.return=ie,ue;case S:return ne=v0(ne,ie.mode,ue),ne.return=ie,ne;case V:var Te=ne._init;return Ee(ie,Te(ne._payload),ue)}if(gr(ne)||X(ne))return ne=al(ne,ie.mode,ue,null),ne.return=ie,ne;Af(ie,ne)}return null}function ke(ie,ne,ue,Te){var Xe=ne!==null?ne.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Xe!==null?null:Y(ie,ne,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:return ue.key===Xe?te(ie,ne,ue,Te):null;case S:return ue.key===Xe?me(ie,ne,ue,Te):null;case V:return Xe=ue._init,ke(ie,ne,Xe(ue._payload),Te)}if(gr(ue)||X(ue))return Xe!==null?null:Ce(ie,ne,ue,Te,null);Af(ie,ue)}return null}function Ue(ie,ne,ue,Te,Xe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return ie=ie.get(ue)||null,Y(ne,ie,""+Te,Xe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case k:return ie=ie.get(Te.key===null?ue:Te.key)||null,te(ne,ie,Te,Xe);case S:return ie=ie.get(Te.key===null?ue:Te.key)||null,me(ne,ie,Te,Xe);case V:var tt=Te._init;return Ue(ie,ne,ue,tt(Te._payload),Xe)}if(gr(Te)||X(Te))return ie=ie.get(ue)||null,Ce(ne,ie,Te,Xe,null);Af(ne,Te)}return null}function Ve(ie,ne,ue,Te){for(var Xe=null,tt=null,rt=ne,it=ne=0,ln=null;rt!==null&&it<ue.length;it++){rt.index>it?(ln=rt,rt=null):ln=rt.sibling;var Rt=ke(ie,rt,ue[it],Te);if(Rt===null){rt===null&&(rt=ln);break}c&&rt&&Rt.alternate===null&&h(ie,rt),ne=P(Rt,ne,it),tt===null?Xe=Rt:tt.sibling=Rt,tt=Rt,rt=ln}if(it===ue.length)return p(ie,rt),ar&&Zo(ie,it),Xe;if(rt===null){for(;it<ue.length;it++)rt=Ee(ie,ue[it],Te),rt!==null&&(ne=P(rt,ne,it),tt===null?Xe=rt:tt.sibling=rt,tt=rt);return ar&&Zo(ie,it),Xe}for(rt=N(ie,rt);it<ue.length;it++)ln=Ue(rt,ie,it,ue[it],Te),ln!==null&&(c&&ln.alternate!==null&&rt.delete(ln.key===null?it:ln.key),ne=P(ln,ne,it),tt===null?Xe=ln:tt.sibling=ln,tt=ln);return c&&rt.forEach(function(lo){return h(ie,lo)}),ar&&Zo(ie,it),Xe}function Je(ie,ne,ue,Te){var Xe=X(ue);if(typeof Xe!="function")throw Error(n(150));if(ue=Xe.call(ue),ue==null)throw Error(n(151));for(var tt=Xe=null,rt=ne,it=ne=0,ln=null,Rt=ue.next();rt!==null&&!Rt.done;it++,Rt=ue.next()){rt.index>it?(ln=rt,rt=null):ln=rt.sibling;var lo=ke(ie,rt,Rt.value,Te);if(lo===null){rt===null&&(rt=ln);break}c&&rt&&lo.alternate===null&&h(ie,rt),ne=P(lo,ne,it),tt===null?Xe=lo:tt.sibling=lo,tt=lo,rt=ln}if(Rt.done)return p(ie,rt),ar&&Zo(ie,it),Xe;if(rt===null){for(;!Rt.done;it++,Rt=ue.next())Rt=Ee(ie,Rt.value,Te),Rt!==null&&(ne=P(Rt,ne,it),tt===null?Xe=Rt:tt.sibling=Rt,tt=Rt);return ar&&Zo(ie,it),Xe}for(rt=N(ie,rt);!Rt.done;it++,Rt=ue.next())Rt=Ue(rt,ie,it,Rt.value,Te),Rt!==null&&(c&&Rt.alternate!==null&&rt.delete(Rt.key===null?it:Rt.key),ne=P(Rt,ne,it),tt===null?Xe=Rt:tt.sibling=Rt,tt=Rt);return c&&rt.forEach(function(ZU){return h(ie,ZU)}),ar&&Zo(ie,it),Xe}function wr(ie,ne,ue,Te){if(typeof ue=="object"&&ue!==null&&ue.type===R&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case k:e:{for(var Xe=ue.key,tt=ne;tt!==null;){if(tt.key===Xe){if(Xe=ue.type,Xe===R){if(tt.tag===7){p(ie,tt.sibling),ne=_(tt,ue.props.children),ne.return=ie,ie=ne;break e}}else if(tt.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===V&&qA(Xe)===tt.type){p(ie,tt.sibling),ne=_(tt,ue.props),ne.ref=Ru(ie,tt,ue),ne.return=ie,ie=ne;break e}p(ie,tt);break}else h(ie,tt);tt=tt.sibling}ue.type===R?(ne=al(ue.props.children,ie.mode,Te,ue.key),ne.return=ie,ie=ne):(Te=Zf(ue.type,ue.key,ue.props,null,ie.mode,Te),Te.ref=Ru(ie,ne,ue),Te.return=ie,ie=Te)}return F(ie);case S:e:{for(tt=ue.key;ne!==null;){if(ne.key===tt)if(ne.tag===4&&ne.stateNode.containerInfo===ue.containerInfo&&ne.stateNode.implementation===ue.implementation){p(ie,ne.sibling),ne=_(ne,ue.children||[]),ne.return=ie,ie=ne;break e}else{p(ie,ne);break}else h(ie,ne);ne=ne.sibling}ne=v0(ue,ie.mode,Te),ne.return=ie,ie=ne}return F(ie);case V:return tt=ue._init,wr(ie,ne,tt(ue._payload),Te)}if(gr(ue))return Ve(ie,ne,ue,Te);if(X(ue))return Je(ie,ne,ue,Te);Af(ie,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ne!==null&&ne.tag===6?(p(ie,ne.sibling),ne=_(ne,ue),ne.return=ie,ie=ne):(p(ie,ne),ne=p0(ue,ie.mode,Te),ne.return=ie,ie=ne),F(ie)):p(ie,ne)}return wr}var lc=HA(!0),VA=HA(!1),Ef=Zi(null),_f=null,cc=null,ky=null;function Cy(){ky=cc=_f=null}function Ay(c){var h=Ef.current;rr(Ef),c._currentValue=h}function Ey(c,h,p){for(;c!==null;){var N=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,N!==null&&(N.childLanes|=h)):N!==null&&(N.childLanes&h)!==h&&(N.childLanes|=h),c===p)break;c=c.return}}function dc(c,h){_f=c,ky=cc=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&h)!==0&&(Jn=!0),c.firstContext=null)}function Ps(c){var h=c._currentValue;if(ky!==c)if(c={context:c,memoizedValue:h,next:null},cc===null){if(_f===null)throw Error(n(308));cc=c,_f.dependencies={lanes:0,firstContext:c}}else cc=cc.next=c;return h}var Xo=null;function _y(c){Xo===null?Xo=[c]:Xo.push(c)}function GA(c,h,p,N){var _=h.interleaved;return _===null?(p.next=p,_y(h)):(p.next=_.next,_.next=p),h.interleaved=p,ii(c,N)}function ii(c,h){c.lanes|=h;var p=c.alternate;for(p!==null&&(p.lanes|=h),p=c,c=c.return;c!==null;)c.childLanes|=h,p=c.alternate,p!==null&&(p.childLanes|=h),p=c,c=c.return;return p.tag===3?p.stateNode:null}var eo=!1;function Ry(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KA(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function oi(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function to(c,h,p){var N=c.updateQueue;if(N===null)return null;if(N=N.shared,(_t&2)!==0){var _=N.pending;return _===null?h.next=h:(h.next=_.next,_.next=h),N.pending=h,ii(c,p)}return _=N.interleaved,_===null?(h.next=h,_y(N)):(h.next=_.next,_.next=h),N.interleaved=h,ii(c,p)}function Rf(c,h,p){if(h=h.updateQueue,h!==null&&(h=h.shared,(p&4194240)!==0)){var N=h.lanes;N&=c.pendingLanes,p|=N,h.lanes=p,qg(c,p)}}function JA(c,h){var p=c.updateQueue,N=c.alternate;if(N!==null&&(N=N.updateQueue,p===N)){var _=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var F={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};P===null?_=P=F:P=P.next=F,p=p.next}while(p!==null);P===null?_=P=h:P=P.next=h}else _=P=h;p={baseState:N.baseState,firstBaseUpdate:_,lastBaseUpdate:P,shared:N.shared,effects:N.effects},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=h}function Tf(c,h,p,N){var _=c.updateQueue;eo=!1;var P=_.firstBaseUpdate,F=_.lastBaseUpdate,Y=_.shared.pending;if(Y!==null){_.shared.pending=null;var te=Y,me=te.next;te.next=null,F===null?P=me:F.next=me,F=te;var Ce=c.alternate;Ce!==null&&(Ce=Ce.updateQueue,Y=Ce.lastBaseUpdate,Y!==F&&(Y===null?Ce.firstBaseUpdate=me:Y.next=me,Ce.lastBaseUpdate=te))}if(P!==null){var Ee=_.baseState;F=0,Ce=me=te=null,Y=P;do{var ke=Y.lane,Ue=Y.eventTime;if((N&ke)===ke){Ce!==null&&(Ce=Ce.next={eventTime:Ue,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Ve=c,Je=Y;switch(ke=h,Ue=p,Je.tag){case 1:if(Ve=Je.payload,typeof Ve=="function"){Ee=Ve.call(Ue,Ee,ke);break e}Ee=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Je.payload,ke=typeof Ve=="function"?Ve.call(Ue,Ee,ke):Ve,ke==null)break e;Ee=K({},Ee,ke);break e;case 2:eo=!0}}Y.callback!==null&&Y.lane!==0&&(c.flags|=64,ke=_.effects,ke===null?_.effects=[Y]:ke.push(Y))}else Ue={eventTime:Ue,lane:ke,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ce===null?(me=Ce=Ue,te=Ee):Ce=Ce.next=Ue,F|=ke;if(Y=Y.next,Y===null){if(Y=_.shared.pending,Y===null)break;ke=Y,Y=ke.next,ke.next=null,_.lastBaseUpdate=ke,_.shared.pending=null}}while(!0);if(Ce===null&&(te=Ee),_.baseState=te,_.firstBaseUpdate=me,_.lastBaseUpdate=Ce,h=_.shared.interleaved,h!==null){_=h;do F|=_.lane,_=_.next;while(_!==h)}else P===null&&(_.shared.lanes=0);tl|=F,c.lanes=F,c.memoizedState=Ee}}function YA(c,h,p){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var N=c[h],_=N.callback;if(_!==null){if(N.callback=null,N=p,typeof _!="function")throw Error(n(191,_));_.call(N)}}}var Tu={},_a=Zi(Tu),Pu=Zi(Tu),Ou=Zi(Tu);function Qo(c){if(c===Tu)throw Error(n(174));return c}function Ty(c,h){switch(Gt(Ou,h),Gt(Pu,c),Gt(_a,Tu),c=h.nodeType,c){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:ti(null,"");break;default:c=c===8?h.parentNode:h,h=c.namespaceURI||null,c=c.tagName,h=ti(h,c)}rr(_a),Gt(_a,h)}function uc(){rr(_a),rr(Pu),rr(Ou)}function ZA(c){Qo(Ou.current);var h=Qo(_a.current),p=ti(h,c.type);h!==p&&(Gt(Pu,c),Gt(_a,p))}function Py(c){Pu.current===c&&(rr(_a),rr(Pu))}var dr=Zi(0);function Pf(c){for(var h=c;h!==null;){if(h.tag===13){var p=h.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Oy=[];function Iy(){for(var c=0;c<Oy.length;c++)Oy[c]._workInProgressVersionPrimary=null;Oy.length=0}var Of=w.ReactCurrentDispatcher,Dy=w.ReactCurrentBatchConfig,el=0,ur=null,qr=null,an=null,If=!1,Iu=!1,Du=0,yU=0;function En(){throw Error(n(321))}function My(c,h){if(h===null)return!1;for(var p=0;p<h.length&&p<c.length;p++)if(!ea(c[p],h[p]))return!1;return!0}function Ly(c,h,p,N,_,P){if(el=P,ur=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Of.current=c===null||c.memoizedState===null?NU:SU,c=p(N,_),Iu){P=0;do{if(Iu=!1,Du=0,25<=P)throw Error(n(301));P+=1,an=qr=null,h.updateQueue=null,Of.current=kU,c=p(N,_)}while(Iu)}if(Of.current=Lf,h=qr!==null&&qr.next!==null,el=0,an=qr=ur=null,If=!1,h)throw Error(n(300));return c}function zy(){var c=Du!==0;return Du=0,c}function Ra(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?ur.memoizedState=an=c:an=an.next=c,an}function Os(){if(qr===null){var c=ur.alternate;c=c!==null?c.memoizedState:null}else c=qr.next;var h=an===null?ur.memoizedState:an.next;if(h!==null)an=h,qr=c;else{if(c===null)throw Error(n(310));qr=c,c={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},an===null?ur.memoizedState=an=c:an=an.next=c}return an}function Mu(c,h){return typeof h=="function"?h(c):h}function $y(c){var h=Os(),p=h.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var N=qr,_=N.baseQueue,P=p.pending;if(P!==null){if(_!==null){var F=_.next;_.next=P.next,P.next=F}N.baseQueue=_=P,p.pending=null}if(_!==null){P=_.next,N=N.baseState;var Y=F=null,te=null,me=P;do{var Ce=me.lane;if((el&Ce)===Ce)te!==null&&(te=te.next={lane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),N=me.hasEagerState?me.eagerState:c(N,me.action);else{var Ee={lane:Ce,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null};te===null?(Y=te=Ee,F=N):te=te.next=Ee,ur.lanes|=Ce,tl|=Ce}me=me.next}while(me!==null&&me!==P);te===null?F=N:te.next=Y,ea(N,h.memoizedState)||(Jn=!0),h.memoizedState=N,h.baseState=F,h.baseQueue=te,p.lastRenderedState=N}if(c=p.interleaved,c!==null){_=c;do P=_.lane,ur.lanes|=P,tl|=P,_=_.next;while(_!==c)}else _===null&&(p.lanes=0);return[h.memoizedState,p.dispatch]}function Fy(c){var h=Os(),p=h.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var N=p.dispatch,_=p.pending,P=h.memoizedState;if(_!==null){p.pending=null;var F=_=_.next;do P=c(P,F.action),F=F.next;while(F!==_);ea(P,h.memoizedState)||(Jn=!0),h.memoizedState=P,h.baseQueue===null&&(h.baseState=P),p.lastRenderedState=P}return[P,N]}function XA(){}function QA(c,h){var p=ur,N=Os(),_=h(),P=!ea(N.memoizedState,_);if(P&&(N.memoizedState=_,Jn=!0),N=N.queue,By(rE.bind(null,p,N,c),[c]),N.getSnapshot!==h||P||an!==null&&an.memoizedState.tag&1){if(p.flags|=2048,Lu(9,tE.bind(null,p,N,_,h),void 0,null),on===null)throw Error(n(349));(el&30)!==0||eE(p,h,_)}return _}function eE(c,h,p){c.flags|=16384,c={getSnapshot:h,value:p},h=ur.updateQueue,h===null?(h={lastEffect:null,stores:null},ur.updateQueue=h,h.stores=[c]):(p=h.stores,p===null?h.stores=[c]:p.push(c))}function tE(c,h,p,N){h.value=p,h.getSnapshot=N,nE(h)&&sE(c)}function rE(c,h,p){return p(function(){nE(h)&&sE(c)})}function nE(c){var h=c.getSnapshot;c=c.value;try{var p=h();return!ea(c,p)}catch{return!0}}function sE(c){var h=ii(c,1);h!==null&&aa(h,c,1,-1)}function aE(c){var h=Ra();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:c},h.queue=c,c=c.dispatch=wU.bind(null,ur,c),[h.memoizedState,c]}function Lu(c,h,p,N){return c={tag:c,create:h,destroy:p,deps:N,next:null},h=ur.updateQueue,h===null?(h={lastEffect:null,stores:null},ur.updateQueue=h,h.lastEffect=c.next=c):(p=h.lastEffect,p===null?h.lastEffect=c.next=c:(N=p.next,p.next=c,c.next=N,h.lastEffect=c)),c}function iE(){return Os().memoizedState}function Df(c,h,p,N){var _=Ra();ur.flags|=c,_.memoizedState=Lu(1|h,p,void 0,N===void 0?null:N)}function Mf(c,h,p,N){var _=Os();N=N===void 0?null:N;var P=void 0;if(qr!==null){var F=qr.memoizedState;if(P=F.destroy,N!==null&&My(N,F.deps)){_.memoizedState=Lu(h,p,P,N);return}}ur.flags|=c,_.memoizedState=Lu(1|h,p,P,N)}function oE(c,h){return Df(8390656,8,c,h)}function By(c,h){return Mf(2048,8,c,h)}function lE(c,h){return Mf(4,2,c,h)}function cE(c,h){return Mf(4,4,c,h)}function dE(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function uE(c,h,p){return p=p!=null?p.concat([c]):null,Mf(4,4,dE.bind(null,h,c),p)}function Wy(){}function hE(c,h){var p=Os();h=h===void 0?null:h;var N=p.memoizedState;return N!==null&&h!==null&&My(h,N[1])?N[0]:(p.memoizedState=[c,h],c)}function mE(c,h){var p=Os();h=h===void 0?null:h;var N=p.memoizedState;return N!==null&&h!==null&&My(h,N[1])?N[0]:(c=c(),p.memoizedState=[c,h],c)}function fE(c,h,p){return(el&21)===0?(c.baseState&&(c.baseState=!1,Jn=!0),c.memoizedState=p):(ea(p,h)||(p=q2(),ur.lanes|=p,tl|=p,c.baseState=!0),h)}function bU(c,h){var p=Lt;Lt=p!==0&&4>p?p:4,c(!0);var N=Dy.transition;Dy.transition={};try{c(!1),h()}finally{Lt=p,Dy.transition=N}}function pE(){return Os().memoizedState}function jU(c,h,p){var N=ao(c);if(p={lane:N,action:p,hasEagerState:!1,eagerState:null,next:null},vE(c))xE(h,p);else if(p=GA(c,h,p,N),p!==null){var _=Fn();aa(p,c,N,_),gE(p,h,N)}}function wU(c,h,p){var N=ao(c),_={lane:N,action:p,hasEagerState:!1,eagerState:null,next:null};if(vE(c))xE(h,_);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=h.lastRenderedReducer,P!==null))try{var F=h.lastRenderedState,Y=P(F,p);if(_.hasEagerState=!0,_.eagerState=Y,ea(Y,F)){var te=h.interleaved;te===null?(_.next=_,_y(h)):(_.next=te.next,te.next=_),h.interleaved=_;return}}catch{}finally{}p=GA(c,h,_,N),p!==null&&(_=Fn(),aa(p,c,N,_),gE(p,h,N))}}function vE(c){var h=c.alternate;return c===ur||h!==null&&h===ur}function xE(c,h){Iu=If=!0;var p=c.pending;p===null?h.next=h:(h.next=p.next,p.next=h),c.pending=h}function gE(c,h,p){if((p&4194240)!==0){var N=h.lanes;N&=c.pendingLanes,p|=N,h.lanes=p,qg(c,p)}}var Lf={readContext:Ps,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},NU={readContext:Ps,useCallback:function(c,h){return Ra().memoizedState=[c,h===void 0?null:h],c},useContext:Ps,useEffect:oE,useImperativeHandle:function(c,h,p){return p=p!=null?p.concat([c]):null,Df(4194308,4,dE.bind(null,h,c),p)},useLayoutEffect:function(c,h){return Df(4194308,4,c,h)},useInsertionEffect:function(c,h){return Df(4,2,c,h)},useMemo:function(c,h){var p=Ra();return h=h===void 0?null:h,c=c(),p.memoizedState=[c,h],c},useReducer:function(c,h,p){var N=Ra();return h=p!==void 0?p(h):h,N.memoizedState=N.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},N.queue=c,c=c.dispatch=jU.bind(null,ur,c),[N.memoizedState,c]},useRef:function(c){var h=Ra();return c={current:c},h.memoizedState=c},useState:aE,useDebugValue:Wy,useDeferredValue:function(c){return Ra().memoizedState=c},useTransition:function(){var c=aE(!1),h=c[0];return c=bU.bind(null,c[1]),Ra().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,p){var N=ur,_=Ra();if(ar){if(p===void 0)throw Error(n(407));p=p()}else{if(p=h(),on===null)throw Error(n(349));(el&30)!==0||eE(N,h,p)}_.memoizedState=p;var P={value:p,getSnapshot:h};return _.queue=P,oE(rE.bind(null,N,P,c),[c]),N.flags|=2048,Lu(9,tE.bind(null,N,P,p,h),void 0,null),p},useId:function(){var c=Ra(),h=on.identifierPrefix;if(ar){var p=ai,N=si;p=(N&~(1<<32-Qs(N)-1)).toString(32)+p,h=":"+h+"R"+p,p=Du++,0<p&&(h+="H"+p.toString(32)),h+=":"}else p=yU++,h=":"+h+"r"+p.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},SU={readContext:Ps,useCallback:hE,useContext:Ps,useEffect:By,useImperativeHandle:uE,useInsertionEffect:lE,useLayoutEffect:cE,useMemo:mE,useReducer:$y,useRef:iE,useState:function(){return $y(Mu)},useDebugValue:Wy,useDeferredValue:function(c){var h=Os();return fE(h,qr.memoizedState,c)},useTransition:function(){var c=$y(Mu)[0],h=Os().memoizedState;return[c,h]},useMutableSource:XA,useSyncExternalStore:QA,useId:pE,unstable_isNewReconciler:!1},kU={readContext:Ps,useCallback:hE,useContext:Ps,useEffect:By,useImperativeHandle:uE,useInsertionEffect:lE,useLayoutEffect:cE,useMemo:mE,useReducer:Fy,useRef:iE,useState:function(){return Fy(Mu)},useDebugValue:Wy,useDeferredValue:function(c){var h=Os();return qr===null?h.memoizedState=c:fE(h,qr.memoizedState,c)},useTransition:function(){var c=Fy(Mu)[0],h=Os().memoizedState;return[c,h]},useMutableSource:XA,useSyncExternalStore:QA,useId:pE,unstable_isNewReconciler:!1};function ra(c,h){if(c&&c.defaultProps){h=K({},h),c=c.defaultProps;for(var p in c)h[p]===void 0&&(h[p]=c[p]);return h}return h}function Uy(c,h,p,N){h=c.memoizedState,p=p(N,h),p=p==null?h:K({},h,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var zf={isMounted:function(c){return(c=c._reactInternals)?Go(c)===c:!1},enqueueSetState:function(c,h,p){c=c._reactInternals;var N=Fn(),_=ao(c),P=oi(N,_);P.payload=h,p!=null&&(P.callback=p),h=to(c,P,_),h!==null&&(aa(h,c,_,N),Rf(h,c,_))},enqueueReplaceState:function(c,h,p){c=c._reactInternals;var N=Fn(),_=ao(c),P=oi(N,_);P.tag=1,P.payload=h,p!=null&&(P.callback=p),h=to(c,P,_),h!==null&&(aa(h,c,_,N),Rf(h,c,_))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var p=Fn(),N=ao(c),_=oi(p,N);_.tag=2,h!=null&&(_.callback=h),h=to(c,_,N),h!==null&&(aa(h,c,N,p),Rf(h,c,N))}};function yE(c,h,p,N,_,P,F){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(N,P,F):h.prototype&&h.prototype.isPureReactComponent?!Nu(p,N)||!Nu(_,P):!0}function bE(c,h,p){var N=!1,_=Xi,P=h.contextType;return typeof P=="object"&&P!==null?P=Ps(P):(_=Kn(h)?Jo:An.current,N=h.contextTypes,P=(N=N!=null)?sc(c,_):Xi),h=new h(p,P),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=zf,c.stateNode=h,h._reactInternals=c,N&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=_,c.__reactInternalMemoizedMaskedChildContext=P),h}function jE(c,h,p,N){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(p,N),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(p,N),h.state!==c&&zf.enqueueReplaceState(h,h.state,null)}function qy(c,h,p,N){var _=c.stateNode;_.props=p,_.state=c.memoizedState,_.refs={},Ry(c);var P=h.contextType;typeof P=="object"&&P!==null?_.context=Ps(P):(P=Kn(h)?Jo:An.current,_.context=sc(c,P)),_.state=c.memoizedState,P=h.getDerivedStateFromProps,typeof P=="function"&&(Uy(c,h,P,p),_.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(h=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),h!==_.state&&zf.enqueueReplaceState(_,_.state,null),Tf(c,p,_,N),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308)}function hc(c,h){try{var p="",N=h;do p+=ce(N),N=N.return;while(N);var _=p}catch(P){_=`
Error generating stack: `+P.message+`
`+P.stack}return{value:c,source:h,stack:_,digest:null}}function Hy(c,h,p){return{value:c,source:null,stack:p??null,digest:h??null}}function Vy(c,h){try{console.error(h.value)}catch(p){setTimeout(function(){throw p})}}var CU=typeof WeakMap=="function"?WeakMap:Map;function wE(c,h,p){p=oi(-1,p),p.tag=3,p.payload={element:null};var N=h.value;return p.callback=function(){Hf||(Hf=!0,o0=N),Vy(c,h)},p}function NE(c,h,p){p=oi(-1,p),p.tag=3;var N=c.type.getDerivedStateFromError;if(typeof N=="function"){var _=h.value;p.payload=function(){return N(_)},p.callback=function(){Vy(c,h)}}var P=c.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(p.callback=function(){Vy(c,h),typeof N!="function"&&(no===null?no=new Set([this]):no.add(this));var F=h.stack;this.componentDidCatch(h.value,{componentStack:F!==null?F:""})}),p}function SE(c,h,p){var N=c.pingCache;if(N===null){N=c.pingCache=new CU;var _=new Set;N.set(h,_)}else _=N.get(h),_===void 0&&(_=new Set,N.set(h,_));_.has(p)||(_.add(p),c=FU.bind(null,c,h,p),h.then(c,c))}function kE(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function CE(c,h,p,N,_){return(c.mode&1)===0?(c===h?c.flags|=65536:(c.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(h=oi(-1,1),h.tag=2,to(p,h,1))),p.lanes|=1),c):(c.flags|=65536,c.lanes=_,c)}var AU=w.ReactCurrentOwner,Jn=!1;function $n(c,h,p,N){h.child=c===null?VA(h,null,p,N):lc(h,c.child,p,N)}function AE(c,h,p,N,_){p=p.render;var P=h.ref;return dc(h,_),N=Ly(c,h,p,N,P,_),p=zy(),c!==null&&!Jn?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~_,li(c,h,_)):(ar&&p&&by(h),h.flags|=1,$n(c,h,N,_),h.child)}function EE(c,h,p,N,_){if(c===null){var P=p.type;return typeof P=="function"&&!f0(P)&&P.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(h.tag=15,h.type=P,_E(c,h,P,N,_)):(c=Zf(p.type,null,N,h,h.mode,_),c.ref=h.ref,c.return=h,h.child=c)}if(P=c.child,(c.lanes&_)===0){var F=P.memoizedProps;if(p=p.compare,p=p!==null?p:Nu,p(F,N)&&c.ref===h.ref)return li(c,h,_)}return h.flags|=1,c=oo(P,N),c.ref=h.ref,c.return=h,h.child=c}function _E(c,h,p,N,_){if(c!==null){var P=c.memoizedProps;if(Nu(P,N)&&c.ref===h.ref)if(Jn=!1,h.pendingProps=N=P,(c.lanes&_)!==0)(c.flags&131072)!==0&&(Jn=!0);else return h.lanes=c.lanes,li(c,h,_)}return Gy(c,h,p,N,_)}function RE(c,h,p){var N=h.pendingProps,_=N.children,P=c!==null?c.memoizedState:null;if(N.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(fc,ds),ds|=p;else{if((p&1073741824)===0)return c=P!==null?P.baseLanes|p:p,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,Gt(fc,ds),ds|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=P!==null?P.baseLanes:p,Gt(fc,ds),ds|=N}else P!==null?(N=P.baseLanes|p,h.memoizedState=null):N=p,Gt(fc,ds),ds|=N;return $n(c,h,_,p),h.child}function TE(c,h){var p=h.ref;(c===null&&p!==null||c!==null&&c.ref!==p)&&(h.flags|=512,h.flags|=2097152)}function Gy(c,h,p,N,_){var P=Kn(p)?Jo:An.current;return P=sc(h,P),dc(h,_),p=Ly(c,h,p,N,P,_),N=zy(),c!==null&&!Jn?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~_,li(c,h,_)):(ar&&N&&by(h),h.flags|=1,$n(c,h,p,_),h.child)}function PE(c,h,p,N,_){if(Kn(p)){var P=!0;wf(h)}else P=!1;if(dc(h,_),h.stateNode===null)Ff(c,h),bE(h,p,N),qy(h,p,N,_),N=!0;else if(c===null){var F=h.stateNode,Y=h.memoizedProps;F.props=Y;var te=F.context,me=p.contextType;typeof me=="object"&&me!==null?me=Ps(me):(me=Kn(p)?Jo:An.current,me=sc(h,me));var Ce=p.getDerivedStateFromProps,Ee=typeof Ce=="function"||typeof F.getSnapshotBeforeUpdate=="function";Ee||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Y!==N||te!==me)&&jE(h,F,N,me),eo=!1;var ke=h.memoizedState;F.state=ke,Tf(h,N,F,_),te=h.memoizedState,Y!==N||ke!==te||Gn.current||eo?(typeof Ce=="function"&&(Uy(h,p,Ce,N),te=h.memoizedState),(Y=eo||yE(h,p,Y,N,ke,te,me))?(Ee||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(h.flags|=4194308)):(typeof F.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=N,h.memoizedState=te),F.props=N,F.state=te,F.context=me,N=Y):(typeof F.componentDidMount=="function"&&(h.flags|=4194308),N=!1)}else{F=h.stateNode,KA(c,h),Y=h.memoizedProps,me=h.type===h.elementType?Y:ra(h.type,Y),F.props=me,Ee=h.pendingProps,ke=F.context,te=p.contextType,typeof te=="object"&&te!==null?te=Ps(te):(te=Kn(p)?Jo:An.current,te=sc(h,te));var Ue=p.getDerivedStateFromProps;(Ce=typeof Ue=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Y!==Ee||ke!==te)&&jE(h,F,N,te),eo=!1,ke=h.memoizedState,F.state=ke,Tf(h,N,F,_);var Ve=h.memoizedState;Y!==Ee||ke!==Ve||Gn.current||eo?(typeof Ue=="function"&&(Uy(h,p,Ue,N),Ve=h.memoizedState),(me=eo||yE(h,p,me,N,ke,Ve,te)||!1)?(Ce||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(N,Ve,te),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(N,Ve,te)),typeof F.componentDidUpdate=="function"&&(h.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof F.componentDidUpdate!="function"||Y===c.memoizedProps&&ke===c.memoizedState||(h.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&ke===c.memoizedState||(h.flags|=1024),h.memoizedProps=N,h.memoizedState=Ve),F.props=N,F.state=Ve,F.context=te,N=me):(typeof F.componentDidUpdate!="function"||Y===c.memoizedProps&&ke===c.memoizedState||(h.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&ke===c.memoizedState||(h.flags|=1024),N=!1)}return Ky(c,h,p,N,P,_)}function Ky(c,h,p,N,_,P){TE(c,h);var F=(h.flags&128)!==0;if(!N&&!F)return _&&LA(h,p,!1),li(c,h,P);N=h.stateNode,AU.current=h;var Y=F&&typeof p.getDerivedStateFromError!="function"?null:N.render();return h.flags|=1,c!==null&&F?(h.child=lc(h,c.child,null,P),h.child=lc(h,null,Y,P)):$n(c,h,Y,P),h.memoizedState=N.state,_&&LA(h,p,!0),h.child}function OE(c){var h=c.stateNode;h.pendingContext?DA(c,h.pendingContext,h.pendingContext!==h.context):h.context&&DA(c,h.context,!1),Ty(c,h.containerInfo)}function IE(c,h,p,N,_){return oc(),Sy(_),h.flags|=256,$n(c,h,p,N),h.child}var Jy={dehydrated:null,treeContext:null,retryLane:0};function Yy(c){return{baseLanes:c,cachePool:null,transitions:null}}function DE(c,h,p){var N=h.pendingProps,_=dr.current,P=!1,F=(h.flags&128)!==0,Y;if((Y=F)||(Y=c!==null&&c.memoizedState===null?!1:(_&2)!==0),Y?(P=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(_|=1),Gt(dr,_&1),c===null)return Ny(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((h.mode&1)===0?h.lanes=1:c.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(F=N.children,c=N.fallback,P?(N=h.mode,P=h.child,F={mode:"hidden",children:F},(N&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=F):P=Xf(F,N,0,null),c=al(c,N,p,null),P.return=h,c.return=h,P.sibling=c,h.child=P,h.child.memoizedState=Yy(p),h.memoizedState=Jy,c):Zy(h,F));if(_=c.memoizedState,_!==null&&(Y=_.dehydrated,Y!==null))return EU(c,h,F,N,Y,_,p);if(P){P=N.fallback,F=h.mode,_=c.child,Y=_.sibling;var te={mode:"hidden",children:N.children};return(F&1)===0&&h.child!==_?(N=h.child,N.childLanes=0,N.pendingProps=te,h.deletions=null):(N=oo(_,te),N.subtreeFlags=_.subtreeFlags&14680064),Y!==null?P=oo(Y,P):(P=al(P,F,p,null),P.flags|=2),P.return=h,N.return=h,N.sibling=P,h.child=N,N=P,P=h.child,F=c.child.memoizedState,F=F===null?Yy(p):{baseLanes:F.baseLanes|p,cachePool:null,transitions:F.transitions},P.memoizedState=F,P.childLanes=c.childLanes&~p,h.memoizedState=Jy,N}return P=c.child,c=P.sibling,N=oo(P,{mode:"visible",children:N.children}),(h.mode&1)===0&&(N.lanes=p),N.return=h,N.sibling=null,c!==null&&(p=h.deletions,p===null?(h.deletions=[c],h.flags|=16):p.push(c)),h.child=N,h.memoizedState=null,N}function Zy(c,h){return h=Xf({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function $f(c,h,p,N){return N!==null&&Sy(N),lc(h,c.child,null,p),c=Zy(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function EU(c,h,p,N,_,P,F){if(p)return h.flags&256?(h.flags&=-257,N=Hy(Error(n(422))),$f(c,h,F,N)):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(P=N.fallback,_=h.mode,N=Xf({mode:"visible",children:N.children},_,0,null),P=al(P,_,F,null),P.flags|=2,N.return=h,P.return=h,N.sibling=P,h.child=N,(h.mode&1)!==0&&lc(h,c.child,null,F),h.child.memoizedState=Yy(F),h.memoizedState=Jy,P);if((h.mode&1)===0)return $f(c,h,F,null);if(_.data==="$!"){if(N=_.nextSibling&&_.nextSibling.dataset,N)var Y=N.dgst;return N=Y,P=Error(n(419)),N=Hy(P,N,void 0),$f(c,h,F,N)}if(Y=(F&c.childLanes)!==0,Jn||Y){if(N=on,N!==null){switch(F&-F){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(N.suspendedLanes|F))!==0?0:_,_!==0&&_!==P.retryLane&&(P.retryLane=_,ii(c,_),aa(N,c,_,-1))}return m0(),N=Hy(Error(n(421))),$f(c,h,F,N)}return _.data==="$?"?(h.flags|=128,h.child=c.child,h=BU.bind(null,c),_._reactRetry=h,null):(c=P.treeContext,cs=Yi(_.nextSibling),ls=h,ar=!0,ta=null,c!==null&&(Rs[Ts++]=si,Rs[Ts++]=ai,Rs[Ts++]=Yo,si=c.id,ai=c.overflow,Yo=h),h=Zy(h,N.children),h.flags|=4096,h)}function ME(c,h,p){c.lanes|=h;var N=c.alternate;N!==null&&(N.lanes|=h),Ey(c.return,h,p)}function Xy(c,h,p,N,_){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:N,tail:p,tailMode:_}:(P.isBackwards=h,P.rendering=null,P.renderingStartTime=0,P.last=N,P.tail=p,P.tailMode=_)}function LE(c,h,p){var N=h.pendingProps,_=N.revealOrder,P=N.tail;if($n(c,h,N.children,p),N=dr.current,(N&2)!==0)N=N&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&ME(c,p,h);else if(c.tag===19)ME(c,p,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}N&=1}if(Gt(dr,N),(h.mode&1)===0)h.memoizedState=null;else switch(_){case"forwards":for(p=h.child,_=null;p!==null;)c=p.alternate,c!==null&&Pf(c)===null&&(_=p),p=p.sibling;p=_,p===null?(_=h.child,h.child=null):(_=p.sibling,p.sibling=null),Xy(h,!1,_,p,P);break;case"backwards":for(p=null,_=h.child,h.child=null;_!==null;){if(c=_.alternate,c!==null&&Pf(c)===null){h.child=_;break}c=_.sibling,_.sibling=p,p=_,_=c}Xy(h,!0,p,null,P);break;case"together":Xy(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Ff(c,h){(h.mode&1)===0&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function li(c,h,p){if(c!==null&&(h.dependencies=c.dependencies),tl|=h.lanes,(p&h.childLanes)===0)return null;if(c!==null&&h.child!==c.child)throw Error(n(153));if(h.child!==null){for(c=h.child,p=oo(c,c.pendingProps),h.child=p,p.return=h;c.sibling!==null;)c=c.sibling,p=p.sibling=oo(c,c.pendingProps),p.return=h;p.sibling=null}return h.child}function _U(c,h,p){switch(h.tag){case 3:OE(h),oc();break;case 5:ZA(h);break;case 1:Kn(h.type)&&wf(h);break;case 4:Ty(h,h.stateNode.containerInfo);break;case 10:var N=h.type._context,_=h.memoizedProps.value;Gt(Ef,N._currentValue),N._currentValue=_;break;case 13:if(N=h.memoizedState,N!==null)return N.dehydrated!==null?(Gt(dr,dr.current&1),h.flags|=128,null):(p&h.child.childLanes)!==0?DE(c,h,p):(Gt(dr,dr.current&1),c=li(c,h,p),c!==null?c.sibling:null);Gt(dr,dr.current&1);break;case 19:if(N=(p&h.childLanes)!==0,(c.flags&128)!==0){if(N)return LE(c,h,p);h.flags|=128}if(_=h.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Gt(dr,dr.current),N)break;return null;case 22:case 23:return h.lanes=0,RE(c,h,p)}return li(c,h,p)}var zE,Qy,$E,FE;zE=function(c,h){for(var p=h.child;p!==null;){if(p.tag===5||p.tag===6)c.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Qy=function(){},$E=function(c,h,p,N){var _=c.memoizedProps;if(_!==N){c=h.stateNode,Qo(_a.current);var P=null;switch(p){case"input":_=_e(c,_),N=_e(c,N),P=[];break;case"select":_=K({},_,{value:void 0}),N=K({},N,{value:void 0}),P=[];break;case"textarea":_=It(c,_),N=It(c,N),P=[];break;default:typeof _.onClick!="function"&&typeof N.onClick=="function"&&(c.onclick=yf)}Ur(p,N);var F;p=null;for(me in _)if(!N.hasOwnProperty(me)&&_.hasOwnProperty(me)&&_[me]!=null)if(me==="style"){var Y=_[me];for(F in Y)Y.hasOwnProperty(F)&&(p||(p={}),p[F]="")}else me!=="dangerouslySetInnerHTML"&&me!=="children"&&me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(a.hasOwnProperty(me)?P||(P=[]):(P=P||[]).push(me,null));for(me in N){var te=N[me];if(Y=_?.[me],N.hasOwnProperty(me)&&te!==Y&&(te!=null||Y!=null))if(me==="style")if(Y){for(F in Y)!Y.hasOwnProperty(F)||te&&te.hasOwnProperty(F)||(p||(p={}),p[F]="");for(F in te)te.hasOwnProperty(F)&&Y[F]!==te[F]&&(p||(p={}),p[F]=te[F])}else p||(P||(P=[]),P.push(me,p)),p=te;else me==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,Y=Y?Y.__html:void 0,te!=null&&Y!==te&&(P=P||[]).push(me,te)):me==="children"?typeof te!="string"&&typeof te!="number"||(P=P||[]).push(me,""+te):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&(a.hasOwnProperty(me)?(te!=null&&me==="onScroll"&&tr("scroll",c),P||Y===te||(P=[])):(P=P||[]).push(me,te))}p&&(P=P||[]).push("style",p);var me=P;(h.updateQueue=me)&&(h.flags|=4)}},FE=function(c,h,p,N){p!==N&&(h.flags|=4)};function zu(c,h){if(!ar)switch(c.tailMode){case"hidden":h=c.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var N=null;p!==null;)p.alternate!==null&&(N=p),p=p.sibling;N===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:N.sibling=null}}function _n(c){var h=c.alternate!==null&&c.alternate.child===c.child,p=0,N=0;if(h)for(var _=c.child;_!==null;)p|=_.lanes|_.childLanes,N|=_.subtreeFlags&14680064,N|=_.flags&14680064,_.return=c,_=_.sibling;else for(_=c.child;_!==null;)p|=_.lanes|_.childLanes,N|=_.subtreeFlags,N|=_.flags,_.return=c,_=_.sibling;return c.subtreeFlags|=N,c.childLanes=p,h}function RU(c,h,p){var N=h.pendingProps;switch(jy(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(h),null;case 1:return Kn(h.type)&&jf(),_n(h),null;case 3:return N=h.stateNode,uc(),rr(Gn),rr(An),Iy(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(c===null||c.child===null)&&(Cf(h)?h.flags|=4:c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,ta!==null&&(d0(ta),ta=null))),Qy(c,h),_n(h),null;case 5:Py(h);var _=Qo(Ou.current);if(p=h.type,c!==null&&h.stateNode!=null)$E(c,h,p,N,_),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!N){if(h.stateNode===null)throw Error(n(166));return _n(h),null}if(c=Qo(_a.current),Cf(h)){N=h.stateNode,p=h.type;var P=h.memoizedProps;switch(N[Ea]=h,N[Eu]=P,c=(h.mode&1)!==0,p){case"dialog":tr("cancel",N),tr("close",N);break;case"iframe":case"object":case"embed":tr("load",N);break;case"video":case"audio":for(_=0;_<ku.length;_++)tr(ku[_],N);break;case"source":tr("error",N);break;case"img":case"image":case"link":tr("error",N),tr("load",N);break;case"details":tr("toggle",N);break;case"input":Et(N,P),tr("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!P.multiple},tr("invalid",N);break;case"textarea":br(N,P),tr("invalid",N)}Ur(p,P),_=null;for(var F in P)if(P.hasOwnProperty(F)){var Y=P[F];F==="children"?typeof Y=="string"?N.textContent!==Y&&(P.suppressHydrationWarning!==!0&&gf(N.textContent,Y,c),_=["children",Y]):typeof Y=="number"&&N.textContent!==""+Y&&(P.suppressHydrationWarning!==!0&&gf(N.textContent,Y,c),_=["children",""+Y]):a.hasOwnProperty(F)&&Y!=null&&F==="onScroll"&&tr("scroll",N)}switch(p){case"input":ge(N),Br(N,P,!0);break;case"textarea":ge(N),Cs(N);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(N.onclick=yf)}N=_,h.updateQueue=N,N!==null&&(h.flags|=4)}else{F=_.nodeType===9?_:_.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Xs(p)),c==="http://www.w3.org/1999/xhtml"?p==="script"?(c=F.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof N.is=="string"?c=F.createElement(p,{is:N.is}):(c=F.createElement(p),p==="select"&&(F=c,N.multiple?F.multiple=!0:N.size&&(F.size=N.size))):c=F.createElementNS(c,p),c[Ea]=h,c[Eu]=N,zE(c,h,!1,!1),h.stateNode=c;e:{switch(F=As(p,N),p){case"dialog":tr("cancel",c),tr("close",c),_=N;break;case"iframe":case"object":case"embed":tr("load",c),_=N;break;case"video":case"audio":for(_=0;_<ku.length;_++)tr(ku[_],c);_=N;break;case"source":tr("error",c),_=N;break;case"img":case"image":case"link":tr("error",c),tr("load",c),_=N;break;case"details":tr("toggle",c),_=N;break;case"input":Et(c,N),_=_e(c,N),tr("invalid",c);break;case"option":_=N;break;case"select":c._wrapperState={wasMultiple:!!N.multiple},_=K({},N,{value:void 0}),tr("invalid",c);break;case"textarea":br(c,N),_=It(c,N),tr("invalid",c);break;default:_=N}Ur(p,_),Y=_;for(P in Y)if(Y.hasOwnProperty(P)){var te=Y[P];P==="style"?ft(c,te):P==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&zn(c,te)):P==="children"?typeof te=="string"?(p!=="textarea"||te!=="")&&Wr(c,te):typeof te=="number"&&Wr(c,""+te):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(a.hasOwnProperty(P)?te!=null&&P==="onScroll"&&tr("scroll",c):te!=null&&C(c,P,te,F))}switch(p){case"input":ge(c),Br(c,N,!1);break;case"textarea":ge(c),Cs(c);break;case"option":N.value!=null&&c.setAttribute("value",""+fe(N.value));break;case"select":c.multiple=!!N.multiple,P=N.value,P!=null?yr(c,!!N.multiple,P,!1):N.defaultValue!=null&&yr(c,!!N.multiple,N.defaultValue,!0);break;default:typeof _.onClick=="function"&&(c.onclick=yf)}switch(p){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return _n(h),null;case 6:if(c&&h.stateNode!=null)FE(c,h,c.memoizedProps,N);else{if(typeof N!="string"&&h.stateNode===null)throw Error(n(166));if(p=Qo(Ou.current),Qo(_a.current),Cf(h)){if(N=h.stateNode,p=h.memoizedProps,N[Ea]=h,(P=N.nodeValue!==p)&&(c=ls,c!==null))switch(c.tag){case 3:gf(N.nodeValue,p,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&gf(N.nodeValue,p,(c.mode&1)!==0)}P&&(h.flags|=4)}else N=(p.nodeType===9?p:p.ownerDocument).createTextNode(N),N[Ea]=h,h.stateNode=N}return _n(h),null;case 13:if(rr(dr),N=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(ar&&cs!==null&&(h.mode&1)!==0&&(h.flags&128)===0)UA(),oc(),h.flags|=98560,P=!1;else if(P=Cf(h),N!==null&&N.dehydrated!==null){if(c===null){if(!P)throw Error(n(318));if(P=h.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[Ea]=h}else oc(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;_n(h),P=!1}else ta!==null&&(d0(ta),ta=null),P=!0;if(!P)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=p,h):(N=N!==null,N!==(c!==null&&c.memoizedState!==null)&&N&&(h.child.flags|=8192,(h.mode&1)!==0&&(c===null||(dr.current&1)!==0?Hr===0&&(Hr=3):m0())),h.updateQueue!==null&&(h.flags|=4),_n(h),null);case 4:return uc(),Qy(c,h),c===null&&Cu(h.stateNode.containerInfo),_n(h),null;case 10:return Ay(h.type._context),_n(h),null;case 17:return Kn(h.type)&&jf(),_n(h),null;case 19:if(rr(dr),P=h.memoizedState,P===null)return _n(h),null;if(N=(h.flags&128)!==0,F=P.rendering,F===null)if(N)zu(P,!1);else{if(Hr!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(F=Pf(c),F!==null){for(h.flags|=128,zu(P,!1),N=F.updateQueue,N!==null&&(h.updateQueue=N,h.flags|=4),h.subtreeFlags=0,N=p,p=h.child;p!==null;)P=p,c=N,P.flags&=14680066,F=P.alternate,F===null?(P.childLanes=0,P.lanes=c,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=F.childLanes,P.lanes=F.lanes,P.child=F.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=F.memoizedProps,P.memoizedState=F.memoizedState,P.updateQueue=F.updateQueue,P.type=F.type,c=F.dependencies,P.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),p=p.sibling;return Gt(dr,dr.current&1|2),h.child}c=c.sibling}P.tail!==null&&jr()>pc&&(h.flags|=128,N=!0,zu(P,!1),h.lanes=4194304)}else{if(!N)if(c=Pf(F),c!==null){if(h.flags|=128,N=!0,p=c.updateQueue,p!==null&&(h.updateQueue=p,h.flags|=4),zu(P,!0),P.tail===null&&P.tailMode==="hidden"&&!F.alternate&&!ar)return _n(h),null}else 2*jr()-P.renderingStartTime>pc&&p!==1073741824&&(h.flags|=128,N=!0,zu(P,!1),h.lanes=4194304);P.isBackwards?(F.sibling=h.child,h.child=F):(p=P.last,p!==null?p.sibling=F:h.child=F,P.last=F)}return P.tail!==null?(h=P.tail,P.rendering=h,P.tail=h.sibling,P.renderingStartTime=jr(),h.sibling=null,p=dr.current,Gt(dr,N?p&1|2:p&1),h):(_n(h),null);case 22:case 23:return h0(),N=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==N&&(h.flags|=8192),N&&(h.mode&1)!==0?(ds&1073741824)!==0&&(_n(h),h.subtreeFlags&6&&(h.flags|=8192)):_n(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function TU(c,h){switch(jy(h),h.tag){case 1:return Kn(h.type)&&jf(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return uc(),rr(Gn),rr(An),Iy(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 5:return Py(h),null;case 13:if(rr(dr),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(n(340));oc()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return rr(dr),null;case 4:return uc(),null;case 10:return Ay(h.type._context),null;case 22:case 23:return h0(),null;case 24:return null;default:return null}}var Bf=!1,Rn=!1,PU=typeof WeakSet=="function"?WeakSet:Set,qe=null;function mc(c,h){var p=c.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(N){pr(c,h,N)}else p.current=null}function e0(c,h,p){try{p()}catch(N){pr(c,h,N)}}var BE=!1;function OU(c,h){if(hy=of,c=yA(),sy(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var N=p.getSelection&&p.getSelection();if(N&&N.rangeCount!==0){p=N.anchorNode;var _=N.anchorOffset,P=N.focusNode;N=N.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var F=0,Y=-1,te=-1,me=0,Ce=0,Ee=c,ke=null;t:for(;;){for(var Ue;Ee!==p||_!==0&&Ee.nodeType!==3||(Y=F+_),Ee!==P||N!==0&&Ee.nodeType!==3||(te=F+N),Ee.nodeType===3&&(F+=Ee.nodeValue.length),(Ue=Ee.firstChild)!==null;)ke=Ee,Ee=Ue;for(;;){if(Ee===c)break t;if(ke===p&&++me===_&&(Y=F),ke===P&&++Ce===N&&(te=F),(Ue=Ee.nextSibling)!==null)break;Ee=ke,ke=Ee.parentNode}Ee=Ue}p=Y===-1||te===-1?null:{start:Y,end:te}}else p=null}p=p||{start:0,end:0}}else p=null;for(my={focusedElem:c,selectionRange:p},of=!1,qe=h;qe!==null;)if(h=qe,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,qe=c;else for(;qe!==null;){h=qe;try{var Ve=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var Je=Ve.memoizedProps,wr=Ve.memoizedState,ie=h.stateNode,ne=ie.getSnapshotBeforeUpdate(h.elementType===h.type?Je:ra(h.type,Je),wr);ie.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ue=h.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Te){pr(h,h.return,Te)}if(c=h.sibling,c!==null){c.return=h.return,qe=c;break}qe=h.return}return Ve=BE,BE=!1,Ve}function $u(c,h,p){var N=h.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var _=N=N.next;do{if((_.tag&c)===c){var P=_.destroy;_.destroy=void 0,P!==void 0&&e0(h,p,P)}_=_.next}while(_!==N)}}function Wf(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&c)===c){var N=p.create;p.destroy=N()}p=p.next}while(p!==h)}}function t0(c){var h=c.ref;if(h!==null){var p=c.stateNode;switch(c.tag){case 5:c=p;break;default:c=p}typeof h=="function"?h(c):h.current=c}}function WE(c){var h=c.alternate;h!==null&&(c.alternate=null,WE(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&(delete h[Ea],delete h[Eu],delete h[xy],delete h[pU],delete h[vU])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function UE(c){return c.tag===5||c.tag===3||c.tag===4}function qE(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||UE(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function r0(c,h,p){var N=c.tag;if(N===5||N===6)c=c.stateNode,h?p.nodeType===8?p.parentNode.insertBefore(c,h):p.insertBefore(c,h):(p.nodeType===8?(h=p.parentNode,h.insertBefore(c,p)):(h=p,h.appendChild(c)),p=p._reactRootContainer,p!=null||h.onclick!==null||(h.onclick=yf));else if(N!==4&&(c=c.child,c!==null))for(r0(c,h,p),c=c.sibling;c!==null;)r0(c,h,p),c=c.sibling}function n0(c,h,p){var N=c.tag;if(N===5||N===6)c=c.stateNode,h?p.insertBefore(c,h):p.appendChild(c);else if(N!==4&&(c=c.child,c!==null))for(n0(c,h,p),c=c.sibling;c!==null;)n0(c,h,p),c=c.sibling}var vn=null,na=!1;function ro(c,h,p){for(p=p.child;p!==null;)HE(c,h,p),p=p.sibling}function HE(c,h,p){if(Aa&&typeof Aa.onCommitFiberUnmount=="function")try{Aa.onCommitFiberUnmount(ef,p)}catch{}switch(p.tag){case 5:Rn||mc(p,h);case 6:var N=vn,_=na;vn=null,ro(c,h,p),vn=N,na=_,vn!==null&&(na?(c=vn,p=p.stateNode,c.nodeType===8?c.parentNode.removeChild(p):c.removeChild(p)):vn.removeChild(p.stateNode));break;case 18:vn!==null&&(na?(c=vn,p=p.stateNode,c.nodeType===8?vy(c.parentNode,p):c.nodeType===1&&vy(c,p),xu(c)):vy(vn,p.stateNode));break;case 4:N=vn,_=na,vn=p.stateNode.containerInfo,na=!0,ro(c,h,p),vn=N,na=_;break;case 0:case 11:case 14:case 15:if(!Rn&&(N=p.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){_=N=N.next;do{var P=_,F=P.destroy;P=P.tag,F!==void 0&&((P&2)!==0||(P&4)!==0)&&e0(p,h,F),_=_.next}while(_!==N)}ro(c,h,p);break;case 1:if(!Rn&&(mc(p,h),N=p.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=p.memoizedProps,N.state=p.memoizedState,N.componentWillUnmount()}catch(Y){pr(p,h,Y)}ro(c,h,p);break;case 21:ro(c,h,p);break;case 22:p.mode&1?(Rn=(N=Rn)||p.memoizedState!==null,ro(c,h,p),Rn=N):ro(c,h,p);break;default:ro(c,h,p)}}function VE(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var p=c.stateNode;p===null&&(p=c.stateNode=new PU),h.forEach(function(N){var _=WU.bind(null,c,N);p.has(N)||(p.add(N),N.then(_,_))})}}function sa(c,h){var p=h.deletions;if(p!==null)for(var N=0;N<p.length;N++){var _=p[N];try{var P=c,F=h,Y=F;e:for(;Y!==null;){switch(Y.tag){case 5:vn=Y.stateNode,na=!1;break e;case 3:vn=Y.stateNode.containerInfo,na=!0;break e;case 4:vn=Y.stateNode.containerInfo,na=!0;break e}Y=Y.return}if(vn===null)throw Error(n(160));HE(P,F,_),vn=null,na=!1;var te=_.alternate;te!==null&&(te.return=null),_.return=null}catch(me){pr(_,h,me)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)GE(h,c),h=h.sibling}function GE(c,h){var p=c.alternate,N=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(sa(h,c),Ta(c),N&4){try{$u(3,c,c.return),Wf(3,c)}catch(Je){pr(c,c.return,Je)}try{$u(5,c,c.return)}catch(Je){pr(c,c.return,Je)}}break;case 1:sa(h,c),Ta(c),N&512&&p!==null&&mc(p,p.return);break;case 5:if(sa(h,c),Ta(c),N&512&&p!==null&&mc(p,p.return),c.flags&32){var _=c.stateNode;try{Wr(_,"")}catch(Je){pr(c,c.return,Je)}}if(N&4&&(_=c.stateNode,_!=null)){var P=c.memoizedProps,F=p!==null?p.memoizedProps:P,Y=c.type,te=c.updateQueue;if(c.updateQueue=null,te!==null)try{Y==="input"&&P.type==="radio"&&P.name!=null&&kt(_,P),As(Y,F);var me=As(Y,P);for(F=0;F<te.length;F+=2){var Ce=te[F],Ee=te[F+1];Ce==="style"?ft(_,Ee):Ce==="dangerouslySetInnerHTML"?zn(_,Ee):Ce==="children"?Wr(_,Ee):C(_,Ce,Ee,me)}switch(Y){case"input":jt(_,P);break;case"textarea":Zs(_,P);break;case"select":var ke=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!P.multiple;var Ue=P.value;Ue!=null?yr(_,!!P.multiple,Ue,!1):ke!==!!P.multiple&&(P.defaultValue!=null?yr(_,!!P.multiple,P.defaultValue,!0):yr(_,!!P.multiple,P.multiple?[]:"",!1))}_[Eu]=P}catch(Je){pr(c,c.return,Je)}}break;case 6:if(sa(h,c),Ta(c),N&4){if(c.stateNode===null)throw Error(n(162));_=c.stateNode,P=c.memoizedProps;try{_.nodeValue=P}catch(Je){pr(c,c.return,Je)}}break;case 3:if(sa(h,c),Ta(c),N&4&&p!==null&&p.memoizedState.isDehydrated)try{xu(h.containerInfo)}catch(Je){pr(c,c.return,Je)}break;case 4:sa(h,c),Ta(c);break;case 13:sa(h,c),Ta(c),_=c.child,_.flags&8192&&(P=_.memoizedState!==null,_.stateNode.isHidden=P,!P||_.alternate!==null&&_.alternate.memoizedState!==null||(i0=jr())),N&4&&VE(c);break;case 22:if(Ce=p!==null&&p.memoizedState!==null,c.mode&1?(Rn=(me=Rn)||Ce,sa(h,c),Rn=me):sa(h,c),Ta(c),N&8192){if(me=c.memoizedState!==null,(c.stateNode.isHidden=me)&&!Ce&&(c.mode&1)!==0)for(qe=c,Ce=c.child;Ce!==null;){for(Ee=qe=Ce;qe!==null;){switch(ke=qe,Ue=ke.child,ke.tag){case 0:case 11:case 14:case 15:$u(4,ke,ke.return);break;case 1:mc(ke,ke.return);var Ve=ke.stateNode;if(typeof Ve.componentWillUnmount=="function"){N=ke,p=ke.return;try{h=N,Ve.props=h.memoizedProps,Ve.state=h.memoizedState,Ve.componentWillUnmount()}catch(Je){pr(N,p,Je)}}break;case 5:mc(ke,ke.return);break;case 22:if(ke.memoizedState!==null){YE(Ee);continue}}Ue!==null?(Ue.return=ke,qe=Ue):YE(Ee)}Ce=Ce.sibling}e:for(Ce=null,Ee=c;;){if(Ee.tag===5){if(Ce===null){Ce=Ee;try{_=Ee.stateNode,me?(P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(Y=Ee.stateNode,te=Ee.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null,Y.style.display=ae("display",F))}catch(Je){pr(c,c.return,Je)}}}else if(Ee.tag===6){if(Ce===null)try{Ee.stateNode.nodeValue=me?"":Ee.memoizedProps}catch(Je){pr(c,c.return,Je)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===c)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===c)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===c)break e;Ce===Ee&&(Ce=null),Ee=Ee.return}Ce===Ee&&(Ce=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:sa(h,c),Ta(c),N&4&&VE(c);break;case 21:break;default:sa(h,c),Ta(c)}}function Ta(c){var h=c.flags;if(h&2){try{e:{for(var p=c.return;p!==null;){if(UE(p)){var N=p;break e}p=p.return}throw Error(n(160))}switch(N.tag){case 5:var _=N.stateNode;N.flags&32&&(Wr(_,""),N.flags&=-33);var P=qE(c);n0(c,P,_);break;case 3:case 4:var F=N.stateNode.containerInfo,Y=qE(c);r0(c,Y,F);break;default:throw Error(n(161))}}catch(te){pr(c,c.return,te)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function IU(c,h,p){qe=c,KE(c)}function KE(c,h,p){for(var N=(c.mode&1)!==0;qe!==null;){var _=qe,P=_.child;if(_.tag===22&&N){var F=_.memoizedState!==null||Bf;if(!F){var Y=_.alternate,te=Y!==null&&Y.memoizedState!==null||Rn;Y=Bf;var me=Rn;if(Bf=F,(Rn=te)&&!me)for(qe=_;qe!==null;)F=qe,te=F.child,F.tag===22&&F.memoizedState!==null?ZE(_):te!==null?(te.return=F,qe=te):ZE(_);for(;P!==null;)qe=P,KE(P),P=P.sibling;qe=_,Bf=Y,Rn=me}JE(c)}else(_.subtreeFlags&8772)!==0&&P!==null?(P.return=_,qe=P):JE(c)}}function JE(c){for(;qe!==null;){var h=qe;if((h.flags&8772)!==0){var p=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Rn||Wf(5,h);break;case 1:var N=h.stateNode;if(h.flags&4&&!Rn)if(p===null)N.componentDidMount();else{var _=h.elementType===h.type?p.memoizedProps:ra(h.type,p.memoizedProps);N.componentDidUpdate(_,p.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var P=h.updateQueue;P!==null&&YA(h,P,N);break;case 3:var F=h.updateQueue;if(F!==null){if(p=null,h.child!==null)switch(h.child.tag){case 5:p=h.child.stateNode;break;case 1:p=h.child.stateNode}YA(h,F,p)}break;case 5:var Y=h.stateNode;if(p===null&&h.flags&4){p=Y;var te=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&p.focus();break;case"img":te.src&&(p.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var me=h.alternate;if(me!==null){var Ce=me.memoizedState;if(Ce!==null){var Ee=Ce.dehydrated;Ee!==null&&xu(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rn||h.flags&512&&t0(h)}catch(ke){pr(h,h.return,ke)}}if(h===c){qe=null;break}if(p=h.sibling,p!==null){p.return=h.return,qe=p;break}qe=h.return}}function YE(c){for(;qe!==null;){var h=qe;if(h===c){qe=null;break}var p=h.sibling;if(p!==null){p.return=h.return,qe=p;break}qe=h.return}}function ZE(c){for(;qe!==null;){var h=qe;try{switch(h.tag){case 0:case 11:case 15:var p=h.return;try{Wf(4,h)}catch(te){pr(h,p,te)}break;case 1:var N=h.stateNode;if(typeof N.componentDidMount=="function"){var _=h.return;try{N.componentDidMount()}catch(te){pr(h,_,te)}}var P=h.return;try{t0(h)}catch(te){pr(h,P,te)}break;case 5:var F=h.return;try{t0(h)}catch(te){pr(h,F,te)}}}catch(te){pr(h,h.return,te)}if(h===c){qe=null;break}var Y=h.sibling;if(Y!==null){Y.return=h.return,qe=Y;break}qe=h.return}}var DU=Math.ceil,Uf=w.ReactCurrentDispatcher,s0=w.ReactCurrentOwner,Is=w.ReactCurrentBatchConfig,_t=0,on=null,Er=null,xn=0,ds=0,fc=Zi(0),Hr=0,Fu=null,tl=0,qf=0,a0=0,Bu=null,Yn=null,i0=0,pc=1/0,ci=null,Hf=!1,o0=null,no=null,Vf=!1,so=null,Gf=0,Wu=0,l0=null,Kf=-1,Jf=0;function Fn(){return(_t&6)!==0?jr():Kf!==-1?Kf:Kf=jr()}function ao(c){return(c.mode&1)===0?1:(_t&2)!==0&&xn!==0?xn&-xn:gU.transition!==null?(Jf===0&&(Jf=q2()),Jf):(c=Lt,c!==0||(c=window.event,c=c===void 0?16:Q2(c.type)),c)}function aa(c,h,p,N){if(50<Wu)throw Wu=0,l0=null,Error(n(185));hu(c,p,N),((_t&2)===0||c!==on)&&(c===on&&((_t&2)===0&&(qf|=p),Hr===4&&io(c,xn)),Zn(c,N),p===1&&_t===0&&(h.mode&1)===0&&(pc=jr()+500,Nf&&Qi()))}function Zn(c,h){var p=c.callbackNode;gW(c,h);var N=nf(c,c===on?xn:0);if(N===0)p!==null&&B2(p),c.callbackNode=null,c.callbackPriority=0;else if(h=N&-N,c.callbackPriority!==h){if(p!=null&&B2(p),h===1)c.tag===0?xU(QE.bind(null,c)):zA(QE.bind(null,c)),mU(function(){(_t&6)===0&&Qi()}),p=null;else{switch(H2(N)){case 1:p=Bg;break;case 4:p=W2;break;case 16:p=Qm;break;case 536870912:p=U2;break;default:p=Qm}p=o_(p,XE.bind(null,c))}c.callbackPriority=h,c.callbackNode=p}}function XE(c,h){if(Kf=-1,Jf=0,(_t&6)!==0)throw Error(n(327));var p=c.callbackNode;if(vc()&&c.callbackNode!==p)return null;var N=nf(c,c===on?xn:0);if(N===0)return null;if((N&30)!==0||(N&c.expiredLanes)!==0||h)h=Yf(c,N);else{h=N;var _=_t;_t|=2;var P=t_();(on!==c||xn!==h)&&(ci=null,pc=jr()+500,nl(c,h));do try{zU();break}catch(Y){e_(c,Y)}while(!0);Cy(),Uf.current=P,_t=_,Er!==null?h=0:(on=null,xn=0,h=Hr)}if(h!==0){if(h===2&&(_=Wg(c),_!==0&&(N=_,h=c0(c,_))),h===1)throw p=Fu,nl(c,0),io(c,N),Zn(c,jr()),p;if(h===6)io(c,N);else{if(_=c.current.alternate,(N&30)===0&&!MU(_)&&(h=Yf(c,N),h===2&&(P=Wg(c),P!==0&&(N=P,h=c0(c,P))),h===1))throw p=Fu,nl(c,0),io(c,N),Zn(c,jr()),p;switch(c.finishedWork=_,c.finishedLanes=N,h){case 0:case 1:throw Error(n(345));case 2:sl(c,Yn,ci);break;case 3:if(io(c,N),(N&130023424)===N&&(h=i0+500-jr(),10<h)){if(nf(c,0)!==0)break;if(_=c.suspendedLanes,(_&N)!==N){Fn(),c.pingedLanes|=c.suspendedLanes&_;break}c.timeoutHandle=py(sl.bind(null,c,Yn,ci),h);break}sl(c,Yn,ci);break;case 4:if(io(c,N),(N&4194240)===N)break;for(h=c.eventTimes,_=-1;0<N;){var F=31-Qs(N);P=1<<F,F=h[F],F>_&&(_=F),N&=~P}if(N=_,N=jr()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*DU(N/1960))-N,10<N){c.timeoutHandle=py(sl.bind(null,c,Yn,ci),N);break}sl(c,Yn,ci);break;case 5:sl(c,Yn,ci);break;default:throw Error(n(329))}}}return Zn(c,jr()),c.callbackNode===p?XE.bind(null,c):null}function c0(c,h){var p=Bu;return c.current.memoizedState.isDehydrated&&(nl(c,h).flags|=256),c=Yf(c,h),c!==2&&(h=Yn,Yn=p,h!==null&&d0(h)),c}function d0(c){Yn===null?Yn=c:Yn.push.apply(Yn,c)}function MU(c){for(var h=c;;){if(h.flags&16384){var p=h.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var N=0;N<p.length;N++){var _=p[N],P=_.getSnapshot;_=_.value;try{if(!ea(P(),_))return!1}catch{return!1}}}if(p=h.child,h.subtreeFlags&16384&&p!==null)p.return=h,h=p;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function io(c,h){for(h&=~a0,h&=~qf,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var p=31-Qs(h),N=1<<p;c[p]=-1,h&=~N}}function QE(c){if((_t&6)!==0)throw Error(n(327));vc();var h=nf(c,0);if((h&1)===0)return Zn(c,jr()),null;var p=Yf(c,h);if(c.tag!==0&&p===2){var N=Wg(c);N!==0&&(h=N,p=c0(c,N))}if(p===1)throw p=Fu,nl(c,0),io(c,h),Zn(c,jr()),p;if(p===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,sl(c,Yn,ci),Zn(c,jr()),null}function u0(c,h){var p=_t;_t|=1;try{return c(h)}finally{_t=p,_t===0&&(pc=jr()+500,Nf&&Qi())}}function rl(c){so!==null&&so.tag===0&&(_t&6)===0&&vc();var h=_t;_t|=1;var p=Is.transition,N=Lt;try{if(Is.transition=null,Lt=1,c)return c()}finally{Lt=N,Is.transition=p,_t=h,(_t&6)===0&&Qi()}}function h0(){ds=fc.current,rr(fc)}function nl(c,h){c.finishedWork=null,c.finishedLanes=0;var p=c.timeoutHandle;if(p!==-1&&(c.timeoutHandle=-1,hU(p)),Er!==null)for(p=Er.return;p!==null;){var N=p;switch(jy(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&jf();break;case 3:uc(),rr(Gn),rr(An),Iy();break;case 5:Py(N);break;case 4:uc();break;case 13:rr(dr);break;case 19:rr(dr);break;case 10:Ay(N.type._context);break;case 22:case 23:h0()}p=p.return}if(on=c,Er=c=oo(c.current,null),xn=ds=h,Hr=0,Fu=null,a0=qf=tl=0,Yn=Bu=null,Xo!==null){for(h=0;h<Xo.length;h++)if(p=Xo[h],N=p.interleaved,N!==null){p.interleaved=null;var _=N.next,P=p.pending;if(P!==null){var F=P.next;P.next=_,N.next=F}p.pending=N}Xo=null}return c}function e_(c,h){do{var p=Er;try{if(Cy(),Of.current=Lf,If){for(var N=ur.memoizedState;N!==null;){var _=N.queue;_!==null&&(_.pending=null),N=N.next}If=!1}if(el=0,an=qr=ur=null,Iu=!1,Du=0,s0.current=null,p===null||p.return===null){Hr=1,Fu=h,Er=null;break}e:{var P=c,F=p.return,Y=p,te=h;if(h=xn,Y.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var me=te,Ce=Y,Ee=Ce.tag;if((Ce.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var ke=Ce.alternate;ke?(Ce.updateQueue=ke.updateQueue,Ce.memoizedState=ke.memoizedState,Ce.lanes=ke.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Ue=kE(F);if(Ue!==null){Ue.flags&=-257,CE(Ue,F,Y,P,h),Ue.mode&1&&SE(P,me,h),h=Ue,te=me;var Ve=h.updateQueue;if(Ve===null){var Je=new Set;Je.add(te),h.updateQueue=Je}else Ve.add(te);break e}else{if((h&1)===0){SE(P,me,h),m0();break e}te=Error(n(426))}}else if(ar&&Y.mode&1){var wr=kE(F);if(wr!==null){(wr.flags&65536)===0&&(wr.flags|=256),CE(wr,F,Y,P,h),Sy(hc(te,Y));break e}}P=te=hc(te,Y),Hr!==4&&(Hr=2),Bu===null?Bu=[P]:Bu.push(P),P=F;do{switch(P.tag){case 3:P.flags|=65536,h&=-h,P.lanes|=h;var ie=wE(P,te,h);JA(P,ie);break e;case 1:Y=te;var ne=P.type,ue=P.stateNode;if((P.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(no===null||!no.has(ue)))){P.flags|=65536,h&=-h,P.lanes|=h;var Te=NE(P,Y,h);JA(P,Te);break e}}P=P.return}while(P!==null)}n_(p)}catch(Xe){h=Xe,Er===p&&p!==null&&(Er=p=p.return);continue}break}while(!0)}function t_(){var c=Uf.current;return Uf.current=Lf,c===null?Lf:c}function m0(){(Hr===0||Hr===3||Hr===2)&&(Hr=4),on===null||(tl&268435455)===0&&(qf&268435455)===0||io(on,xn)}function Yf(c,h){var p=_t;_t|=2;var N=t_();(on!==c||xn!==h)&&(ci=null,nl(c,h));do try{LU();break}catch(_){e_(c,_)}while(!0);if(Cy(),_t=p,Uf.current=N,Er!==null)throw Error(n(261));return on=null,xn=0,Hr}function LU(){for(;Er!==null;)r_(Er)}function zU(){for(;Er!==null&&!cW();)r_(Er)}function r_(c){var h=i_(c.alternate,c,ds);c.memoizedProps=c.pendingProps,h===null?n_(c):Er=h,s0.current=null}function n_(c){var h=c;do{var p=h.alternate;if(c=h.return,(h.flags&32768)===0){if(p=RU(p,h,ds),p!==null){Er=p;return}}else{if(p=TU(p,h),p!==null){p.flags&=32767,Er=p;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Hr=6,Er=null;return}}if(h=h.sibling,h!==null){Er=h;return}Er=h=c}while(h!==null);Hr===0&&(Hr=5)}function sl(c,h,p){var N=Lt,_=Is.transition;try{Is.transition=null,Lt=1,$U(c,h,p,N)}finally{Is.transition=_,Lt=N}return null}function $U(c,h,p,N){do vc();while(so!==null);if((_t&6)!==0)throw Error(n(327));p=c.finishedWork;var _=c.finishedLanes;if(p===null)return null;if(c.finishedWork=null,c.finishedLanes=0,p===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var P=p.lanes|p.childLanes;if(yW(c,P),c===on&&(Er=on=null,xn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Vf||(Vf=!0,o_(Qm,function(){return vc(),null})),P=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||P){P=Is.transition,Is.transition=null;var F=Lt;Lt=1;var Y=_t;_t|=4,s0.current=null,OU(c,p),GE(p,c),aU(my),of=!!hy,my=hy=null,c.current=p,IU(p),dW(),_t=Y,Lt=F,Is.transition=P}else c.current=p;if(Vf&&(Vf=!1,so=c,Gf=_),P=c.pendingLanes,P===0&&(no=null),mW(p.stateNode),Zn(c,jr()),h!==null)for(N=c.onRecoverableError,p=0;p<h.length;p++)_=h[p],N(_.value,{componentStack:_.stack,digest:_.digest});if(Hf)throw Hf=!1,c=o0,o0=null,c;return(Gf&1)!==0&&c.tag!==0&&vc(),P=c.pendingLanes,(P&1)!==0?c===l0?Wu++:(Wu=0,l0=c):Wu=0,Qi(),null}function vc(){if(so!==null){var c=H2(Gf),h=Is.transition,p=Lt;try{if(Is.transition=null,Lt=16>c?16:c,so===null)var N=!1;else{if(c=so,so=null,Gf=0,(_t&6)!==0)throw Error(n(331));var _=_t;for(_t|=4,qe=c.current;qe!==null;){var P=qe,F=P.child;if((qe.flags&16)!==0){var Y=P.deletions;if(Y!==null){for(var te=0;te<Y.length;te++){var me=Y[te];for(qe=me;qe!==null;){var Ce=qe;switch(Ce.tag){case 0:case 11:case 15:$u(8,Ce,P)}var Ee=Ce.child;if(Ee!==null)Ee.return=Ce,qe=Ee;else for(;qe!==null;){Ce=qe;var ke=Ce.sibling,Ue=Ce.return;if(WE(Ce),Ce===me){qe=null;break}if(ke!==null){ke.return=Ue,qe=ke;break}qe=Ue}}}var Ve=P.alternate;if(Ve!==null){var Je=Ve.child;if(Je!==null){Ve.child=null;do{var wr=Je.sibling;Je.sibling=null,Je=wr}while(Je!==null)}}qe=P}}if((P.subtreeFlags&2064)!==0&&F!==null)F.return=P,qe=F;else e:for(;qe!==null;){if(P=qe,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:$u(9,P,P.return)}var ie=P.sibling;if(ie!==null){ie.return=P.return,qe=ie;break e}qe=P.return}}var ne=c.current;for(qe=ne;qe!==null;){F=qe;var ue=F.child;if((F.subtreeFlags&2064)!==0&&ue!==null)ue.return=F,qe=ue;else e:for(F=ne;qe!==null;){if(Y=qe,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:Wf(9,Y)}}catch(Xe){pr(Y,Y.return,Xe)}if(Y===F){qe=null;break e}var Te=Y.sibling;if(Te!==null){Te.return=Y.return,qe=Te;break e}qe=Y.return}}if(_t=_,Qi(),Aa&&typeof Aa.onPostCommitFiberRoot=="function")try{Aa.onPostCommitFiberRoot(ef,c)}catch{}N=!0}return N}finally{Lt=p,Is.transition=h}}return!1}function s_(c,h,p){h=hc(p,h),h=wE(c,h,1),c=to(c,h,1),h=Fn(),c!==null&&(hu(c,1,h),Zn(c,h))}function pr(c,h,p){if(c.tag===3)s_(c,c,p);else for(;h!==null;){if(h.tag===3){s_(h,c,p);break}else if(h.tag===1){var N=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(no===null||!no.has(N))){c=hc(p,c),c=NE(h,c,1),h=to(h,c,1),c=Fn(),h!==null&&(hu(h,1,c),Zn(h,c));break}}h=h.return}}function FU(c,h,p){var N=c.pingCache;N!==null&&N.delete(h),h=Fn(),c.pingedLanes|=c.suspendedLanes&p,on===c&&(xn&p)===p&&(Hr===4||Hr===3&&(xn&130023424)===xn&&500>jr()-i0?nl(c,0):a0|=p),Zn(c,h)}function a_(c,h){h===0&&((c.mode&1)===0?h=1:(h=rf,rf<<=1,(rf&130023424)===0&&(rf=4194304)));var p=Fn();c=ii(c,h),c!==null&&(hu(c,h,p),Zn(c,p))}function BU(c){var h=c.memoizedState,p=0;h!==null&&(p=h.retryLane),a_(c,p)}function WU(c,h){var p=0;switch(c.tag){case 13:var N=c.stateNode,_=c.memoizedState;_!==null&&(p=_.retryLane);break;case 19:N=c.stateNode;break;default:throw Error(n(314))}N!==null&&N.delete(h),a_(c,p)}var i_;i_=function(c,h,p){if(c!==null)if(c.memoizedProps!==h.pendingProps||Gn.current)Jn=!0;else{if((c.lanes&p)===0&&(h.flags&128)===0)return Jn=!1,_U(c,h,p);Jn=(c.flags&131072)!==0}else Jn=!1,ar&&(h.flags&1048576)!==0&&$A(h,kf,h.index);switch(h.lanes=0,h.tag){case 2:var N=h.type;Ff(c,h),c=h.pendingProps;var _=sc(h,An.current);dc(h,p),_=Ly(null,h,N,c,_,p);var P=zy();return h.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Kn(N)?(P=!0,wf(h)):P=!1,h.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Ry(h),_.updater=zf,h.stateNode=_,_._reactInternals=h,qy(h,N,c,p),h=Ky(null,h,N,!0,P,p)):(h.tag=0,ar&&P&&by(h),$n(null,h,_,p),h=h.child),h;case 16:N=h.elementType;e:{switch(Ff(c,h),c=h.pendingProps,_=N._init,N=_(N._payload),h.type=N,_=h.tag=qU(N),c=ra(N,c),_){case 0:h=Gy(null,h,N,c,p);break e;case 1:h=PE(null,h,N,c,p);break e;case 11:h=AE(null,h,N,c,p);break e;case 14:h=EE(null,h,N,ra(N.type,c),p);break e}throw Error(n(306,N,""))}return h;case 0:return N=h.type,_=h.pendingProps,_=h.elementType===N?_:ra(N,_),Gy(c,h,N,_,p);case 1:return N=h.type,_=h.pendingProps,_=h.elementType===N?_:ra(N,_),PE(c,h,N,_,p);case 3:e:{if(OE(h),c===null)throw Error(n(387));N=h.pendingProps,P=h.memoizedState,_=P.element,KA(c,h),Tf(h,N,null,p);var F=h.memoizedState;if(N=F.element,P.isDehydrated)if(P={element:N,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},h.updateQueue.baseState=P,h.memoizedState=P,h.flags&256){_=hc(Error(n(423)),h),h=IE(c,h,N,p,_);break e}else if(N!==_){_=hc(Error(n(424)),h),h=IE(c,h,N,p,_);break e}else for(cs=Yi(h.stateNode.containerInfo.firstChild),ls=h,ar=!0,ta=null,p=VA(h,null,N,p),h.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(oc(),N===_){h=li(c,h,p);break e}$n(c,h,N,p)}h=h.child}return h;case 5:return ZA(h),c===null&&Ny(h),N=h.type,_=h.pendingProps,P=c!==null?c.memoizedProps:null,F=_.children,fy(N,_)?F=null:P!==null&&fy(N,P)&&(h.flags|=32),TE(c,h),$n(c,h,F,p),h.child;case 6:return c===null&&Ny(h),null;case 13:return DE(c,h,p);case 4:return Ty(h,h.stateNode.containerInfo),N=h.pendingProps,c===null?h.child=lc(h,null,N,p):$n(c,h,N,p),h.child;case 11:return N=h.type,_=h.pendingProps,_=h.elementType===N?_:ra(N,_),AE(c,h,N,_,p);case 7:return $n(c,h,h.pendingProps,p),h.child;case 8:return $n(c,h,h.pendingProps.children,p),h.child;case 12:return $n(c,h,h.pendingProps.children,p),h.child;case 10:e:{if(N=h.type._context,_=h.pendingProps,P=h.memoizedProps,F=_.value,Gt(Ef,N._currentValue),N._currentValue=F,P!==null)if(ea(P.value,F)){if(P.children===_.children&&!Gn.current){h=li(c,h,p);break e}}else for(P=h.child,P!==null&&(P.return=h);P!==null;){var Y=P.dependencies;if(Y!==null){F=P.child;for(var te=Y.firstContext;te!==null;){if(te.context===N){if(P.tag===1){te=oi(-1,p&-p),te.tag=2;var me=P.updateQueue;if(me!==null){me=me.shared;var Ce=me.pending;Ce===null?te.next=te:(te.next=Ce.next,Ce.next=te),me.pending=te}}P.lanes|=p,te=P.alternate,te!==null&&(te.lanes|=p),Ey(P.return,p,h),Y.lanes|=p;break}te=te.next}}else if(P.tag===10)F=P.type===h.type?null:P.child;else if(P.tag===18){if(F=P.return,F===null)throw Error(n(341));F.lanes|=p,Y=F.alternate,Y!==null&&(Y.lanes|=p),Ey(F,p,h),F=P.sibling}else F=P.child;if(F!==null)F.return=P;else for(F=P;F!==null;){if(F===h){F=null;break}if(P=F.sibling,P!==null){P.return=F.return,F=P;break}F=F.return}P=F}$n(c,h,_.children,p),h=h.child}return h;case 9:return _=h.type,N=h.pendingProps.children,dc(h,p),_=Ps(_),N=N(_),h.flags|=1,$n(c,h,N,p),h.child;case 14:return N=h.type,_=ra(N,h.pendingProps),_=ra(N.type,_),EE(c,h,N,_,p);case 15:return _E(c,h,h.type,h.pendingProps,p);case 17:return N=h.type,_=h.pendingProps,_=h.elementType===N?_:ra(N,_),Ff(c,h),h.tag=1,Kn(N)?(c=!0,wf(h)):c=!1,dc(h,p),bE(h,N,_),qy(h,N,_,p),Ky(null,h,N,!0,c,p);case 19:return LE(c,h,p);case 22:return RE(c,h,p)}throw Error(n(156,h.tag))};function o_(c,h){return F2(c,h)}function UU(c,h,p,N){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(c,h,p,N){return new UU(c,h,p,N)}function f0(c){return c=c.prototype,!(!c||!c.isReactComponent)}function qU(c){if(typeof c=="function")return f0(c)?1:0;if(c!=null){if(c=c.$$typeof,c===I)return 11;if(c===W)return 14}return 2}function oo(c,h){var p=c.alternate;return p===null?(p=Ds(c.tag,h,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=h,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&14680064,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,h=c.dependencies,p.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p}function Zf(c,h,p,N,_,P){var F=2;if(N=c,typeof c=="function")f0(c)&&(F=1);else if(typeof c=="string")F=5;else e:switch(c){case R:return al(p.children,_,P,h);case T:F=8,_|=8;break;case O:return c=Ds(12,p,h,_|2),c.elementType=O,c.lanes=P,c;case B:return c=Ds(13,p,h,_),c.elementType=B,c.lanes=P,c;case M:return c=Ds(19,p,h,_),c.elementType=M,c.lanes=P,c;case Q:return Xf(p,_,P,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case U:F=10;break e;case D:F=9;break e;case I:F=11;break e;case W:F=14;break e;case V:F=16,N=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return h=Ds(F,p,h,_),h.elementType=c,h.type=N,h.lanes=P,h}function al(c,h,p,N){return c=Ds(7,c,N,h),c.lanes=p,c}function Xf(c,h,p,N){return c=Ds(22,c,N,h),c.elementType=Q,c.lanes=p,c.stateNode={isHidden:!1},c}function p0(c,h,p){return c=Ds(6,c,null,h),c.lanes=p,c}function v0(c,h,p){return h=Ds(4,c.children!==null?c.children:[],c.key,h),h.lanes=p,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function HU(c,h,p,N,_){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ug(0),this.expirationTimes=Ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ug(0),this.identifierPrefix=N,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function x0(c,h,p,N,_,P,F,Y,te){return c=new HU(c,h,p,Y,te),h===1?(h=1,P===!0&&(h|=8)):h=0,P=Ds(3,null,null,h),c.current=P,P.stateNode=c,P.memoizedState={element:N,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(P),c}function VU(c,h,p){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:N==null?null:""+N,children:c,containerInfo:h,implementation:p}}function l_(c){if(!c)return Xi;c=c._reactInternals;e:{if(Go(c)!==c||c.tag!==1)throw Error(n(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Kn(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(c.tag===1){var p=c.type;if(Kn(p))return MA(c,p,h)}return h}function c_(c,h,p,N,_,P,F,Y,te){return c=x0(p,N,!0,c,_,P,F,Y,te),c.context=l_(null),p=c.current,N=Fn(),_=ao(p),P=oi(N,_),P.callback=h??null,to(p,P,_),c.current.lanes=_,hu(c,_,N),Zn(c,N),c}function Qf(c,h,p,N){var _=h.current,P=Fn(),F=ao(_);return p=l_(p),h.context===null?h.context=p:h.pendingContext=p,h=oi(P,F),h.payload={element:c},N=N===void 0?null:N,N!==null&&(h.callback=N),c=to(_,h,F),c!==null&&(aa(c,_,F,P),Rf(c,_,F)),F}function ep(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function d_(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<h?p:h}}function g0(c,h){d_(c,h),(c=c.alternate)&&d_(c,h)}function GU(){return null}var u_=typeof reportError=="function"?reportError:function(c){console.error(c)};function y0(c){this._internalRoot=c}tp.prototype.render=y0.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(n(409));Qf(c,h,null,null)},tp.prototype.unmount=y0.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;rl(function(){Qf(null,c,null,null)}),h[ri]=null}};function tp(c){this._internalRoot=c}tp.prototype.unstable_scheduleHydration=function(c){if(c){var h=K2();c={blockedOn:null,target:c,priority:h};for(var p=0;p<Gi.length&&h!==0&&h<Gi[p].priority;p++);Gi.splice(p,0,c),p===0&&Z2(c)}};function b0(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function rp(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function h_(){}function KU(c,h,p,N,_){if(_){if(typeof N=="function"){var P=N;N=function(){var me=ep(F);P.call(me)}}var F=c_(h,N,c,0,null,!1,!1,"",h_);return c._reactRootContainer=F,c[ri]=F.current,Cu(c.nodeType===8?c.parentNode:c),rl(),F}for(;_=c.lastChild;)c.removeChild(_);if(typeof N=="function"){var Y=N;N=function(){var me=ep(te);Y.call(me)}}var te=x0(c,0,!1,null,null,!1,!1,"",h_);return c._reactRootContainer=te,c[ri]=te.current,Cu(c.nodeType===8?c.parentNode:c),rl(function(){Qf(h,te,p,N)}),te}function np(c,h,p,N,_){var P=p._reactRootContainer;if(P){var F=P;if(typeof _=="function"){var Y=_;_=function(){var te=ep(F);Y.call(te)}}Qf(h,F,c,_)}else F=KU(p,h,c,_,N);return ep(F)}V2=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var p=uu(h.pendingLanes);p!==0&&(qg(h,p|1),Zn(h,jr()),(_t&6)===0&&(pc=jr()+500,Qi()))}break;case 13:rl(function(){var N=ii(c,1);if(N!==null){var _=Fn();aa(N,c,1,_)}}),g0(c,1)}},Hg=function(c){if(c.tag===13){var h=ii(c,134217728);if(h!==null){var p=Fn();aa(h,c,134217728,p)}g0(c,134217728)}},G2=function(c){if(c.tag===13){var h=ao(c),p=ii(c,h);if(p!==null){var N=Fn();aa(p,c,h,N)}g0(c,h)}},K2=function(){return Lt},J2=function(c,h){var p=Lt;try{return Lt=c,h()}finally{Lt=p}},wt=function(c,h,p){switch(h){case"input":if(jt(c,p),h=p.name,p.type==="radio"&&h!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<p.length;h++){var N=p[h];if(N!==c&&N.form===c.form){var _=bf(N);if(!_)throw Error(n(90));le(N),jt(N,_)}}}break;case"textarea":Zs(c,p);break;case"select":h=p.value,h!=null&&yr(c,!!p.multiple,h,!1)}},Bt=u0,Wt=rl;var JU={usingClientEntryPoint:!1,Events:[_u,rc,bf,Qe,xt,u0]},Uu={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YU={bundleType:Uu.bundleType,version:Uu.version,rendererPackageName:Uu.rendererPackageName,rendererConfig:Uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=z2(c),c===null?null:c.stateNode},findFiberByHostInstance:Uu.findFiberByHostInstance||GU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sp.isDisabled&&sp.supportsFiber)try{ef=sp.inject(YU),Aa=sp}catch{}}return Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JU,Xn.createPortal=function(c,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b0(h))throw Error(n(200));return VU(c,h,null,p)},Xn.createRoot=function(c,h){if(!b0(c))throw Error(n(299));var p=!1,N="",_=u_;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(N=h.identifierPrefix),h.onRecoverableError!==void 0&&(_=h.onRecoverableError)),h=x0(c,1,!1,null,null,p,!1,N,_),c[ri]=h.current,Cu(c.nodeType===8?c.parentNode:c),new y0(h)},Xn.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=z2(h),c=c===null?null:c.stateNode,c},Xn.flushSync=function(c){return rl(c)},Xn.hydrate=function(c,h,p){if(!rp(h))throw Error(n(200));return np(null,c,h,!0,p)},Xn.hydrateRoot=function(c,h,p){if(!b0(c))throw Error(n(405));var N=p!=null&&p.hydratedSources||null,_=!1,P="",F=u_;if(p!=null&&(p.unstable_strictMode===!0&&(_=!0),p.identifierPrefix!==void 0&&(P=p.identifierPrefix),p.onRecoverableError!==void 0&&(F=p.onRecoverableError)),h=c_(h,null,c,1,p??null,_,!1,P,F),c[ri]=h.current,Cu(c),N)for(c=0;c<N.length;c++)p=N[c],_=p._getVersion,_=_(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,_]:h.mutableSourceEagerHydrationData.push(p,_);return new tp(h)},Xn.render=function(c,h,p){if(!rp(h))throw Error(n(200));return np(null,c,h,!1,p)},Xn.unmountComponentAtNode=function(c){if(!rp(c))throw Error(n(40));return c._reactRootContainer?(rl(function(){np(null,null,c,!1,function(){c._reactRootContainer=null,c[ri]=null})}),!0):!1},Xn.unstable_batchedUpdates=u0,Xn.unstable_renderSubtreeIntoContainer=function(c,h,p,N){if(!rp(p))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return np(c,h,p,!1,N)},Xn.version="18.3.1-next-f1338f8080-20240426",Xn}var b_;function o3(){if(b_)return N0.exports;b_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),N0.exports=aq(),N0.exports}var j_;function iq(){if(j_)return ip;j_=1;var t=o3();return ip.createRoot=t.createRoot,ip.hydrateRoot=t.hydrateRoot,ip}var oq=iq(),j=xx();const $=Ft(j),l3=XU({__proto__:null,default:$},[j]);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w_="popstate";function lq(t={}){function r(s,a){let{pathname:i,search:o,hash:l}=s.location;return vN("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Rh(a)}return dq(r,n,null,t)}function lr(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function qs(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function cq(){return Math.random().toString(36).substring(2,10)}function N_(t,r){return{usr:t.state,key:t.key,idx:r}}function vN(t,r,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?Md(r):r,state:n,key:r&&r.key||s||cq()}}function Rh({pathname:t="/",search:r="",hash:n=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Md(t){let r={};if(t){let n=t.indexOf("#");n>=0&&(r.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(r.search=t.substring(s),t=t.substring(0,s)),t&&(r.pathname=t)}return r}function dq(t,r,n,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l="POP",d=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let y=f(),A=y==null?null:y-u;u=y,d&&d({action:l,location:x.location,delta:A})}function v(y,A){l="PUSH";let E=vN(x.location,y,A);u=f()+1;let C=N_(E,u),w=x.createHref(E);try{o.pushState(C,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(w)}i&&d&&d({action:l,location:x.location,delta:1})}function g(y,A){l="REPLACE";let E=vN(x.location,y,A);u=f();let C=N_(E,u),w=x.createHref(E);o.replaceState(C,"",w),i&&d&&d({action:l,location:x.location,delta:0})}function b(y){return uq(y)}let x={get action(){return l},get location(){return t(a,o)},listen(y){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(w_,m),d=y,()=>{a.removeEventListener(w_,m),d=null}},createHref(y){return r(a,y)},createURL:b,encodeLocation(y){let A=b(y);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:g,go(y){return o.go(y)}};return x}function uq(t,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lr(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Rh(t);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function c3(t,r,n="/"){return hq(t,r,n,!1)}function hq(t,r,n,s){let a=typeof r=="string"?Md(r):r,i=Ri(a.pathname||"/",n);if(i==null)return null;let o=d3(t);mq(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=Sq(i);l=wq(o[d],u,s)}return l}function d3(t,r=[],n=[],s="",a=!1){let i=(o,l,d=a,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(s)&&d)return;lr(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length)}let m=gi([s,f.relativePath]),v=n.concat(f);o.children&&o.children.length>0&&(lr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),d3(o.children,r,v,m,d)),!(o.path==null&&!o.index)&&r.push({path:m,score:bq(m,o.index),routesMeta:v})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let d of u3(o.path))i(o,l,!0,d)}),r}function u3(t){let r=t.split("/");if(r.length===0)return[];let[n,...s]=r,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=u3(s.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&l.push(...o),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function mq(t){t.sort((r,n)=>r.score!==n.score?n.score-r.score:jq(r.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var fq=/^:[\w-]+$/,pq=3,vq=2,xq=1,gq=10,yq=-2,S_=t=>t==="*";function bq(t,r){let n=t.split("/"),s=n.length;return n.some(S_)&&(s+=yq),r&&(s+=vq),n.filter(a=>!S_(a)).reduce((a,i)=>a+(fq.test(i)?pq:i===""?xq:gq),s)}function jq(t,r){return t.length===r.length&&t.slice(0,-1).every((s,a)=>s===r[a])?t[t.length-1]-r[r.length-1]:0}function wq(t,r,n=!1){let{routesMeta:s}=t,a={},i="/",o=[];for(let l=0;l<s.length;++l){let d=s[l],u=l===s.length-1,f=i==="/"?r:r.slice(i.length)||"/",m=Jp({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},f),v=d.route;if(!m&&u&&n&&!s[s.length-1].route.index&&(m=Jp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:gi([i,m.pathname]),pathnameBase:Eq(gi([i,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(i=gi([i,m.pathnameBase]))}return o}function Jp(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=Nq(t.path,t.caseSensitive,t.end),a=r.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((u,{paramName:f,isOptional:m},v)=>{if(f==="*"){let b=l[v]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[v];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Nq(t,r=!1,n=!0){qs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(s.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),s]}function Sq(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return qs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function Ri(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function kq(t,r="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Md(t):t;return{pathname:n?n.startsWith("/")?n:Cq(n,r):r,search:_q(s),hash:Rq(a)}}function Cq(t,r){let n=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function C0(t,r,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Aq(t){return t.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Sk(t){let r=Aq(t);return r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase)}function kk(t,r,n,s=!1){let a;typeof t=="string"?a=Md(t):(a={...t},lr(!a.pathname||!a.pathname.includes("?"),C0("?","pathname","search",a)),lr(!a.pathname||!a.pathname.includes("#"),C0("#","pathname","hash",a)),lr(!a.search||!a.search.includes("#"),C0("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let m=r.length-1;if(!s&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}l=m>=0?r[m]:"/"}let d=kq(a,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||f)&&(d.pathname+="/"),d}var gi=t=>t.join("/").replace(/\/\/+/g,"/"),Eq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_q=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Tq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var h3=["POST","PUT","PATCH","DELETE"];new Set(h3);var Pq=["GET",...h3];new Set(Pq);var Ld=j.createContext(null);Ld.displayName="DataRouter";var gx=j.createContext(null);gx.displayName="DataRouterState";j.createContext(!1);var m3=j.createContext({isTransitioning:!1});m3.displayName="ViewTransition";var Oq=j.createContext(new Map);Oq.displayName="Fetchers";var Iq=j.createContext(null);Iq.displayName="Await";var Na=j.createContext(null);Na.displayName="Navigation";var Cm=j.createContext(null);Cm.displayName="Location";var Ks=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ks.displayName="Route";var Ck=j.createContext(null);Ck.displayName="RouteError";function Dq(t,{relative:r}={}){lr(zd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Na),{hash:a,pathname:i,search:o}=Am(t,{relative:r}),l=i;return n!=="/"&&(l=i==="/"?n:gi([n,i])),s.createHref({pathname:l,search:o,hash:a})}function zd(){return j.useContext(Cm)!=null}function ks(){return lr(zd(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Cm).location}var f3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p3(t){j.useContext(Na).static||j.useLayoutEffect(t)}function $r(){let{isDataRoute:t}=j.useContext(Ks);return t?Yq():Mq()}function Mq(){lr(zd(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Ld),{basename:r,navigator:n}=j.useContext(Na),{matches:s}=j.useContext(Ks),{pathname:a}=ks(),i=JSON.stringify(Sk(s)),o=j.useRef(!1);return p3(()=>{o.current=!0}),j.useCallback((d,u={})=>{if(qs(o.current,f3),!o.current)return;if(typeof d=="number"){n.go(d);return}let f=kk(d,JSON.parse(i),a,u.relative==="path");t==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:gi([r,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[r,n,i,a,t])}var Lq=j.createContext(null);function zq(t){let r=j.useContext(Ks).outlet;return j.useMemo(()=>r&&j.createElement(Lq.Provider,{value:t},r),[r,t])}function $d(){let{matches:t}=j.useContext(Ks),r=t[t.length-1];return r?r.params:{}}function Am(t,{relative:r}={}){let{matches:n}=j.useContext(Ks),{pathname:s}=ks(),a=JSON.stringify(Sk(n));return j.useMemo(()=>kk(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function $q(t,r){return v3(t,r)}function v3(t,r,n,s,a){lr(zd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=j.useContext(Na),{matches:o}=j.useContext(Ks),l=o[o.length-1],d=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let E=m&&m.path||"";x3(u,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=ks(),g;if(r){let E=typeof r=="string"?Md(r):r;lr(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=v;let b=g.pathname||"/",x=b;if(f!=="/"){let E=f.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=c3(t,{pathname:x});qs(m||y!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),qs(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=qq(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:gi([f,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:gi([f,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,s,a);return r&&A?j.createElement(Cm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},A):A}function Fq(){let t=Jq(),r=Tq(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},r),n?j.createElement("pre",{style:a},n):null,o)}var Bq=j.createElement(Fq,null),Wq=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){this.props.unstable_onError?this.props.unstable_onError(t,r):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?j.createElement(Ks.Provider,{value:this.props.routeContext},j.createElement(Ck.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Uq({routeContext:t,match:r,children:n}){let s=j.useContext(Ld);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Ks.Provider,{value:t},n)}function qq(t,r=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n?.errors;if(o!=null){let u=i.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);lr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,d=-1;if(n)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:v}=n,g=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||g){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,f,m)=>{let v,g=!1,b=null,x=null;n&&(v=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||Bq,l&&(d<0&&m===0?(x3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):d===m&&(g=!0,x=f.route.hydrateFallbackElement||null)));let y=r.concat(i.slice(0,m+1)),A=()=>{let E;return v?E=b:g?E=x:f.route.Component?E=j.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=u,j.createElement(Uq,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?j.createElement(Wq,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:A(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:s}):A()},null)}function Ak(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hq(t){let r=j.useContext(Ld);return lr(r,Ak(t)),r}function Vq(t){let r=j.useContext(gx);return lr(r,Ak(t)),r}function Gq(t){let r=j.useContext(Ks);return lr(r,Ak(t)),r}function Ek(t){let r=Gq(t),n=r.matches[r.matches.length-1];return lr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Kq(){return Ek("useRouteId")}function Jq(){let t=j.useContext(Ck),r=Vq("useRouteError"),n=Ek("useRouteError");return t!==void 0?t:r.errors?.[n]}function Yq(){let{router:t}=Hq("useNavigate"),r=Ek("useNavigate"),n=j.useRef(!1);return p3(()=>{n.current=!0}),j.useCallback(async(a,i={})=>{qs(n.current,f3),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:r,...i}))},[t,r])}var k_={};function x3(t,r,n){!r&&!k_[t]&&(k_[t]=!0,qs(!1,n))}j.memo(Zq);function Zq({routes:t,future:r,state:n,unstable_onError:s}){return v3(t,void 0,n,s,r)}function xN({to:t,replace:r,state:n,relative:s}){lr(zd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(Na);qs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=j.useContext(Ks),{pathname:o}=ks(),l=$r(),d=kk(t,Sk(i),o,s==="path"),u=JSON.stringify(d);return j.useEffect(()=>{l(JSON.parse(u),{replace:r,state:n,relative:s})},[l,u,s,r,n]),null}function Xq(t){return zq(t.context)}function gt(t){lr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qq({basename:t="/",children:r=null,location:n,navigationType:s="POP",navigator:a,static:i=!1}){lr(!zd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof n=="string"&&(n=Md(n));let{pathname:d="/",search:u="",hash:f="",state:m=null,key:v="default"}=n,g=j.useMemo(()=>{let b=Ri(d,o);return b==null?null:{location:{pathname:b,search:u,hash:f,state:m,key:v},navigationType:s}},[o,d,u,f,m,v,s]);return qs(g!=null,`<Router basename="${o}"> is not able to match the URL "${d}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:j.createElement(Na.Provider,{value:l},j.createElement(Cm.Provider,{children:r,value:g}))}function eH({children:t,location:r}){return $q(gN(t),r)}function gN(t,r=[]){let n=[];return j.Children.forEach(t,(s,a)=>{if(!j.isValidElement(s))return;let i=[...r,a];if(s.type===j.Fragment){n.push.apply(n,gN(s.props.children,i));return}lr(s.type===gt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lr(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=gN(s.props.children,i)),n.push(o)}),n}var Wp="get",Up="application/x-www-form-urlencoded";function yx(t){return t!=null&&typeof t.tagName=="string"}function tH(t){return yx(t)&&t.tagName.toLowerCase()==="button"}function rH(t){return yx(t)&&t.tagName.toLowerCase()==="form"}function nH(t){return yx(t)&&t.tagName.toLowerCase()==="input"}function sH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aH(t,r){return t.button===0&&(!r||r==="_self")&&!sH(t)}function yN(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,n)=>{let s=t[n];return r.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function iH(t,r){let n=yN(t);return r&&r.forEach((s,a)=>{n.has(a)||r.getAll(a).forEach(i=>{n.append(a,i)})}),n}var op=null;function oH(){if(op===null)try{new FormData(document.createElement("form"),0),op=!1}catch{op=!0}return op}var lH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function A0(t){return t!=null&&!lH.has(t)?(qs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Up}"`),null):t}function cH(t,r){let n,s,a,i,o;if(rH(t)){let l=t.getAttribute("action");s=l?Ri(l,r):null,n=t.getAttribute("method")||Wp,a=A0(t.getAttribute("enctype"))||Up,i=new FormData(t)}else if(tH(t)||nH(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||l.getAttribute("action");if(s=d?Ri(d,r):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Wp,a=A0(t.getAttribute("formenctype"))||A0(l.getAttribute("enctype"))||Up,i=new FormData(l,t),!oH()){let{name:u,type:f,value:m}=t;if(f==="image"){let v=u?`${u}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else u&&i.append(u,m)}}else{if(yx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wp,s=null,a=Up,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _k(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function dH(t,r,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:r&&Ri(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function uH(t,r){if(t.id in r)return r[t.id];try{let n=await import(t.module);return r[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hH(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mH(t,r,n){let s=await Promise.all(t.map(async a=>{let i=r.routes[a.route.id];if(i){let o=await uH(i,n);return o.links?o.links():[]}return[]}));return xH(s.flat(1).filter(hH).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function C_(t,r,n,s,a,i){let o=(d,u)=>n[u]?d.route.id!==n[u].route.id:!0,l=(d,u)=>n[u].pathname!==d.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==d.params["*"];return i==="assets"?r.filter((d,u)=>o(d,u)||l(d,u)):i==="data"?r.filter((d,u)=>{let f=s.routes[d.route.id];if(!f||!f.hasLoader)return!1;if(o(d,u)||l(d,u))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function fH(t,r,{includeHydrateFallback:n}={}){return pH(t.map(s=>{let a=r.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function pH(t){return[...new Set(t)]}function vH(t){let r={},n=Object.keys(t).sort();for(let s of n)r[s]=t[s];return r}function xH(t,r){let n=new Set;return new Set(r),t.reduce((s,a)=>{let i=JSON.stringify(vH(a));return n.has(i)||(n.add(i),s.push({key:i,link:a})),s},[])}function g3(){let t=j.useContext(Ld);return _k(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gH(){let t=j.useContext(gx);return _k(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Rk=j.createContext(void 0);Rk.displayName="FrameworkContext";function y3(){let t=j.useContext(Rk);return _k(t,"You must render this element inside a <HydratedRouter> element"),t}function yH(t,r){let n=j.useContext(Rk),[s,a]=j.useState(!1),[i,o]=j.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:u,onMouseLeave:f,onTouchStart:m}=r,v=j.useRef(null);j.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=A=>{A.forEach(E=>{o(E.isIntersecting)})},y=new IntersectionObserver(x,{threshold:.5});return v.current&&y.observe(v.current),()=>{y.disconnect()}}},[t]),j.useEffect(()=>{if(s){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[s]);let g=()=>{a(!0)},b=()=>{a(!1),o(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Hu(l,g),onBlur:Hu(d,b),onMouseEnter:Hu(u,g),onMouseLeave:Hu(f,b),onTouchStart:Hu(m,g)}]:[!1,v,{}]}function Hu(t,r){return n=>{t&&t(n),n.defaultPrevented||r(n)}}function bH({page:t,...r}){let{router:n}=g3(),s=j.useMemo(()=>c3(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?j.createElement(wH,{page:t,matches:s,...r}):null}function jH(t){let{manifest:r,routeModules:n}=y3(),[s,a]=j.useState([]);return j.useEffect(()=>{let i=!1;return mH(t,r,n).then(o=>{i||a(o)}),()=>{i=!0}},[t,r,n]),s}function wH({page:t,matches:r,...n}){let s=ks(),{manifest:a,routeModules:i}=y3(),{basename:o}=g3(),{loaderData:l,matches:d}=gH(),u=j.useMemo(()=>C_(t,r,d,a,s,"data"),[t,r,d,a,s]),f=j.useMemo(()=>C_(t,r,d,a,s,"assets"),[t,r,d,a,s]),m=j.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let b=new Set,x=!1;if(r.forEach(A=>{let E=a.routes[A.route.id];!E||!E.hasLoader||(!u.some(C=>C.route.id===A.route.id)&&A.route.id in l&&i[A.route.id]?.shouldRevalidate||E.hasClientLoader?x=!0:b.add(A.route.id))}),b.size===0)return[];let y=dH(t,o,"data");return x&&b.size>0&&y.searchParams.set("_routes",r.filter(A=>b.has(A.route.id)).map(A=>A.route.id).join(",")),[y.pathname+y.search]},[o,l,s,a,u,r,t,i]),v=j.useMemo(()=>fH(f,a),[f,a]),g=jH(f);return j.createElement(j.Fragment,null,m.map(b=>j.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),v.map(b=>j.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),g.map(({key:b,link:x})=>j.createElement("link",{key:b,nonce:n.nonce,...x})))}function NH(...t){return r=>{t.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var b3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b3&&(window.__reactRouterVersion="7.9.3")}catch{}function SH({basename:t,children:r,window:n}){let s=j.useRef();s.current==null&&(s.current=lq({window:n,v5Compat:!0}));let a=s.current,[i,o]=j.useState({action:a.action,location:a.location}),l=j.useCallback(d=>{j.startTransition(()=>o(d))},[o]);return j.useLayoutEffect(()=>a.listen(l),[a,l]),j.createElement(Qq,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:a})}var j3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eo=j.forwardRef(function({onClick:r,discover:n="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:f,viewTransition:m,...v},g){let{basename:b}=j.useContext(Na),x=typeof u=="string"&&j3.test(u),y,A=!1;if(typeof u=="string"&&x&&(y=u,b3))try{let O=new URL(window.location.href),U=u.startsWith("//")?new URL(O.protocol+u):new URL(u),D=Ri(U.pathname,b);U.origin===O.origin&&D!=null?u=D+U.search+U.hash:A=!0}catch{qs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Dq(u,{relative:a}),[C,w,k]=yH(s,v),S=EH(u,{replace:o,state:l,target:d,preventScrollReset:f,relative:a,viewTransition:m});function R(O){r&&r(O),O.defaultPrevented||S(O)}let T=j.createElement("a",{...v,...k,href:y||E,onClick:A||i?r:R,ref:NH(g,w),target:d,"data-discover":!x&&n==="render"?"true":void 0});return C&&!x?j.createElement(j.Fragment,null,T,j.createElement(bH,{page:E})):T});Eo.displayName="Link";var kH=j.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:d,...u},f){let m=Am(o,{relative:u.relative}),v=ks(),g=j.useContext(gx),{navigator:b,basename:x}=j.useContext(Na),y=g!=null&&IH(m)&&l===!0,A=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=v.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(E=E.toLowerCase(),C=C?C.toLowerCase():null,A=A.toLowerCase()),C&&x&&(C=Ri(C,x)||C);const w=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let k=E===A||!a&&E.startsWith(A)&&E.charAt(w)==="/",S=C!=null&&(C===A||!a&&C.startsWith(A)&&C.charAt(A.length)==="/"),R={isActive:k,isPending:S,isTransitioning:y},T=k?r:void 0,O;typeof s=="function"?O=s(R):O=[s,k?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let U=typeof i=="function"?i(R):i;return j.createElement(Eo,{...u,"aria-current":T,className:O,ref:f,style:U,to:o,viewTransition:l},typeof d=="function"?d(R):d)});kH.displayName="NavLink";var CH=j.forwardRef(({discover:t="render",fetcherKey:r,navigate:n,reloadDocument:s,replace:a,state:i,method:o=Wp,action:l,onSubmit:d,relative:u,preventScrollReset:f,viewTransition:m,...v},g)=>{let b=PH(),x=OH(l,{relative:u}),y=o.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&j3.test(l),E=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let w=C.nativeEvent.submitter,k=w?.getAttribute("formmethod")||o;b(w||C.currentTarget,{fetcherKey:r,method:k,navigate:n,replace:a,state:i,relative:u,preventScrollReset:f,viewTransition:m})};return j.createElement("form",{ref:g,method:y,action:x,onSubmit:s?d:E,...v,"data-discover":!A&&t==="render"?"true":void 0})});CH.displayName="Form";function AH(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w3(t){let r=j.useContext(Ld);return lr(r,AH(t)),r}function EH(t,{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=$r(),d=ks(),u=Am(t,{relative:i});return j.useCallback(f=>{if(aH(f,r)){f.preventDefault();let m=n!==void 0?n:Rh(d)===Rh(u);l(t,{replace:m,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[d,l,u,n,s,r,t,a,i,o])}function _H(t){qs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=j.useRef(yN(t)),n=j.useRef(!1),s=ks(),a=j.useMemo(()=>iH(s.search,n.current?null:r.current),[s.search]),i=$r(),o=j.useCallback((l,d)=>{const u=yN(typeof l=="function"?l(new URLSearchParams(a)):l);n.current=!0,i("?"+u,d)},[i,a]);return[a,o]}var RH=0,TH=()=>`__${String(++RH)}__`;function PH(){let{router:t}=w3("useSubmit"),{basename:r}=j.useContext(Na),n=Kq();return j.useCallback(async(s,a={})=>{let{action:i,method:o,encType:l,formData:d,body:u}=cH(s,r);if(a.navigate===!1){let f=a.fetcherKey||TH();await t.fetch(f,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,r,n])}function OH(t,{relative:r}={}){let{basename:n}=j.useContext(Na),s=j.useContext(Ks);lr(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...Am(t||".",{relative:r})},o=ks();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),d=l.getAll("index");if(d.some(f=>f==="")){l.delete("index"),d.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:gi([n,i.pathname])),Rh(i)}function IH(t,{relative:r}={}){let n=j.useContext(m3);lr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=w3("useViewTransitionState"),a=Am(t,{relative:r});if(!n.isTransitioning)return!1;let i=Ri(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=Ri(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jp(a.pathname,o)!=null||Jp(a.pathname,i)!=null}var Em=o3();const N3=Ft(Em),DH="modulepreload",MH=function(t){return"/"+t},A_={},Mo=function(r,n,s){let a=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=l?.nonce||l?.getAttribute("nonce");a=o(n.map(u=>{if(u=MH(u),u in A_)return;A_[u]=!0;const f=u.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":DH,f||(v.as="script"),v.crossOrigin="",v.href=u,d&&v.setAttribute("nonce",d),document.head.appendChild(v),f)return new Promise((g,b)=>{v.addEventListener("load",g),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},LH=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...n)=>Mo(async()=>{const{default:s}=await Promise.resolve().then(()=>Fd);return{default:s}},[]).then(({default:s})=>s(...n)):r=fetch,(...n)=>r(...n)};class Tk extends Error{constructor(r,n="FunctionsError",s){super(r),this.name=n,this.context=s}}class E_ extends Tk{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class __ extends Tk{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class R_ extends Tk{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var bN;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(bN||(bN={}));var zH=function(t,r,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(s.next(f))}catch(m){o(m)}}function d(f){try{u(s.throw(f))}catch(m){o(m)}}function u(f){f.done?i(f.value):a(f.value).then(l,d)}u((s=s.apply(t,r||[])).next())})};class $H{constructor(r,{headers:n={},customFetch:s,region:a=bN.Any}={}){this.url=r,this.headers=n,this.region=a,this.fetch=LH(s)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return zH(this,arguments,void 0,function*(n,s={}){var a;try{const{headers:i,method:o,body:l,signal:d}=s;let u={},{region:f}=s;f||(f=this.region);const m=new URL(`${this.url}/${n}`);f&&f!=="any"&&(u["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let v;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",v=l):typeof l=="string"?(u["Content-Type"]="text/plain",v=l):typeof FormData<"u"&&l instanceof FormData?v=l:(u["Content-Type"]="application/json",v=JSON.stringify(l)));const g=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:v,signal:d}).catch(A=>{throw A.name==="AbortError"?A:new E_(A)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new __(g);if(!g.ok)throw new R_(g);let x=((a=g.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),y;return x==="application/json"?y=yield g.json():x==="application/octet-stream"?y=yield g.blob():x==="text/event-stream"?y=g:x==="multipart/form-data"?y=yield g.formData():y=yield g.text(),{data:y,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new E_(i)}:{data:null,error:i,response:i instanceof R_||i instanceof __?i.context:void 0}}})}}var cn={},xc={},gc={},yc={},bc={},jc={},FH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ed=FH();const BH=ed.fetch,S3=ed.fetch.bind(ed),k3=ed.Headers,WH=ed.Request,UH=ed.Response,Fd=Object.freeze(Object.defineProperty({__proto__:null,Headers:k3,Request:WH,Response:UH,default:S3,fetch:BH},Symbol.toStringTag,{value:"Module"})),qH=QU(Fd);var lp={},T_;function C3(){if(T_)return lp;T_=1,Object.defineProperty(lp,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return lp.default=t,lp}var P_;function A3(){if(P_)return jc;P_=1;var t=jc&&jc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(jc,"__esModule",{value:!0});const r=t(qH),n=t(C3());class s{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,m,v,g;let b=null,x=null,y=null,A=u.status,E=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?x=S:x=JSON.parse(S))}const w=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),k=(v=u.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");w&&k&&k.length>1&&(y=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,y=null,A=406,E="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const w=await u.text();try{b=JSON.parse(w),Array.isArray(b)&&u.status===404&&(x=[],b=null,A=200,E="OK")}catch{u.status===404&&w===""?(A=204,E="No Content"):b={message:w}}if(b&&this.isMaybeSingle&&(!((g=b?.details)===null||g===void 0)&&g.includes("0 rows"))&&(b=null,A=200,E="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:x,count:y,status:A,statusText:E}});return this.shouldThrowOnError||(d=d.catch(u=>{var f,m,v;return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:`${(m=u?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(v=u?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,o)}returns(){return this}overrideTypes(){return this}}return jc.default=s,jc}var O_;function E3(){if(O_)return bc;O_=1;var t=bc&&bc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(bc,"__esModule",{value:!0});const r=t(A3());class n extends r.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:d=l}={}){const u=d?`${d}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const d=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:d=!1,format:u="text"}={}){var f;const m=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${v}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return bc.default=n,bc}var I_;function Pk(){if(I_)return yc;I_=1;var t=yc&&yc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(yc,"__esModule",{value:!0});const r=t(E3());class n extends r.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${d}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return yc.default=n,yc}var D_;function _3(){if(D_)return gc;D_=1;var t=gc&&gc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(gc,"__esModule",{value:!0});const r=t(Pk());class n{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},d=o?"HEAD":"GET";let u=!1;const f=(a??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const d="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(u.length>0){const f=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:d=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(m.length>0){const v=[...new Set(m)].map(g=>`"${g}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return gc.default=n,gc}var M_;function HH(){if(M_)return xc;M_=1;var t=xc&&xc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(xc,"__esModule",{value:!0});const r=t(_3()),n=t(Pk());class s{constructor(i,{headers:o={},schema:l,fetch:d}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=d}from(i){const o=new URL(`${this.url}/${i}`);return new r.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:d=!1,count:u}={}){var f;let m;const v=new URL(`${this.url}/rpc/${i}`);let g;l||d?(m=l?"HEAD":"GET",Object.entries(o).filter(([x,y])=>y!==void 0).map(([x,y])=>[x,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([x,y])=>{v.searchParams.append(x,y)})):(m="POST",g=o);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new n.default({method:m,url:v,headers:b,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return xc.default=s,xc}var L_;function VH(){if(L_)return cn;L_=1;var t=cn&&cn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(cn,"__esModule",{value:!0}),cn.PostgrestError=cn.PostgrestBuilder=cn.PostgrestTransformBuilder=cn.PostgrestFilterBuilder=cn.PostgrestQueryBuilder=cn.PostgrestClient=void 0;const r=t(HH());cn.PostgrestClient=r.default;const n=t(_3());cn.PostgrestQueryBuilder=n.default;const s=t(Pk());cn.PostgrestFilterBuilder=s.default;const a=t(E3());cn.PostgrestTransformBuilder=a.default;const i=t(A3());cn.PostgrestBuilder=i.default;const o=t(C3());return cn.PostgrestError=o.default,cn.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},cn}var GH=VH();const KH=Ft(GH),{PostgrestClient:JH,PostgrestQueryBuilder:jNe,PostgrestFilterBuilder:wNe,PostgrestTransformBuilder:NNe,PostgrestBuilder:SNe,PostgrestError:kNe}=KH;class YH{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const s=this.getWebSocketConstructor();return new s(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const ZH="2.75.0",XH=`realtime-js/${ZH}`,QH="1.0.0",jN=1e4,e9=1e3,t9=100;var vh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vh||(vh={}));var Jr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Jr||(Jr={}));var ca;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ca||(ca={}));var wN;(function(t){t.websocket="websocket"})(wN||(wN={}));var vl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vl||(vl={}));class r9{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),s=new TextDecoder;return this._decodeBroadcast(r,n,s)}_decodeBroadcast(r,n,s){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(r.slice(o,o+a));o=o+a;const d=s.decode(r.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(r.slice(o,r.byteLength)));return{ref:null,topic:l,event:d,payload:u}}}let R3=class{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Jt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Jt||(Jt={}));const z_=(t,r,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return r?Object.keys(r).reduce((i,o)=>(i[o]=n9(o,t,r,a),i),{}):{}},n9=(t,r,n,s)=>{const a=r.find(l=>l.name===t),i=a?.type,o=n[t];return i&&!s.includes(i)?T3(i,o):NN(o)},T3=(t,r)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return o9(r,n)}switch(t){case Jt.bool:return s9(r);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return a9(r);case Jt.json:case Jt.jsonb:return i9(r);case Jt.timestamp:return l9(r);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return NN(r);default:return NN(r)}},NN=t=>t,s9=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},a9=t=>{if(typeof t=="string"){const r=parseFloat(t);if(!Number.isNaN(r))return r}return t},i9=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(r){return console.log(`JSON parse error: ${r}`),t}return t},o9=(t,r)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>T3(r,l))}return t},l9=t=>typeof t=="string"?t.replace(" ","T"):t,P3=t=>{let r=t;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class E0{constructor(r,n,s={},a=jN){this.channel=r,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var s;return this._hasReceived(r)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(s=>s.status===r).forEach(s=>s.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var $_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($_||($_={}));class xh{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xh.syncState(this.state,a,i,o),this.pendingDiffs.forEach(d=>{this.state=xh.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=xh.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,s,a){const i=this.cloneDeep(r),o=this.transformState(n),l={},d={};return this.map(i,(u,f)=>{o[u]||(d[u]=f)}),this.map(o,(u,f)=>{const m=i[u];if(m){const v=f.map(y=>y.presence_ref),g=m.map(y=>y.presence_ref),b=f.filter(y=>g.indexOf(y.presence_ref)<0),x=m.filter(y=>v.indexOf(y.presence_ref)<0);b.length>0&&(l[u]=b),x.length>0&&(d[u]=x)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:d},s,a)}static syncDiff(r,n,s,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,d)=>{var u;const f=(u=r[l])!==null&&u!==void 0?u:[];if(r[l]=this.cloneDeep(d),f.length>0){const m=r[l].map(g=>g.presence_ref),v=f.filter(g=>m.indexOf(g.presence_ref)<0);r[l].unshift(...v)}s(l,f,d)}),this.map(o,(l,d)=>{let u=r[l];if(!u)return;const f=d.map(m=>m.presence_ref);u=u.filter(m=>f.indexOf(m.presence_ref)<0),r[l]=u,a(l,u,d),u.length===0&&delete r[l]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(s=>n(s,r[s]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,s)=>{const a=r[s];return"metas"in a?n[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=a,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var F_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(F_||(F_={}));var gh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(gh||(gh={}));var mi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mi||(mi={}));class Ok{constructor(r,n={config:{}},s){var a,i;if(this.topic=r,this.params=n,this.socket=s,this.bindings={},this.state=Jr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new E0(this,ca.join,this.params,this.timeout),this.rejoinTimer=new R3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Jr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ca.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new xh(this),this.broadcastEndpointURL=P3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Jr.closed){const{config:{broadcast:o,presence:l,private:d}}=this.params,u=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&a!==void 0?a:[],f=!!this.bindings[gh.PRESENCE]&&this.bindings[gh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},v={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(g=>r?.(mi.CHANNEL_ERROR,g)),this._onClose(()=>r?.(mi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket.setAuth(),g===void 0){r?.(mi.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,y=(b=x?.length)!==null&&b!==void 0?b:0,A=[];for(let E=0;E<y;E++){const C=x[E],{filter:{event:w,schema:k,table:S,filter:R}}=C,T=g&&g[E];if(T&&T.event===w&&T.schema===k&&T.table===S&&T.filter===R)A.push(Object.assign(Object.assign({},C),{id:T.id}));else{this.unsubscribe(),this.state=Jr.errored,r?.(mi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,r&&r(mi.SUBSCRIBED);return}}).receive("error",g=>{this.state=Jr.errored,r?.(mi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{r?.(mi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,s){return this.state===Jr.joined&&r===gh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,s)}async send(r,n={}){var s,a;if(!this._canPush()&&r.type==="broadcast"){const{event:i,payload:o}=r,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,d;const u=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Jr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ca.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new E0(this,ca.leave,{},r),s.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jr.closed,this.bindings={}}async _fetchWithTimeout(r,n,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(r,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new E0(this,r,n,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>t9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,s){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,s){var a,i;const o=r.toLocaleLowerCase(),{close:l,error:d,leave:u,join:f}=ca;if(s&&[l,d,u,f].indexOf(o)>=0&&s!==this._joinRef())return;let v=this._onMessage(o,n,s);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(g=>{var b,x,y;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((y=(x=g.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(v,s)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var b,x,y,A,E,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const w=g.id,k=(b=g.filter)===null||b===void 0?void 0:b.event;return w&&((x=n.ids)===null||x===void 0?void 0:x.includes(w))&&(k==="*"||k?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(E=(A=g?.filter)===null||A===void 0?void 0:A.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return w==="*"||w===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:x,table:y,commit_timestamp:A,type:E,errors:C}=b;v=Object.assign(Object.assign({},{schema:x,table:y,commit_timestamp:A,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(b))}g.callback(v,s)})}_isClosed(){return this.state===Jr.closed}_isJoined(){return this.state===Jr.joined}_isJoining(){return this.state===Jr.joining}_isLeaving(){return this.state===Jr.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,s){const a=r.toLocaleLowerCase(),i={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(r,n){const s=r.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Ok.isEqual(a.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const s in r)if(r[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(ca.close,{},r)}_onError(r){this._on(ca.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jr.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=z_(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=z_(r.columns,r.old_record)),n}}const _0=()=>{},cp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},c9=[1e3,2e3,5e3,1e4],d9=1e4,u9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h9{constructor(r,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jN,this.transport=null,this.heartbeatIntervalMs=cp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_0,this.ref=0,this.reconnectTimer=null,this.logger=_0,this.conn=null,this.sendBuffer=[],this.serializer=new r9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Mo(async()=>{const{default:l}=await Promise.resolve().then(()=>Fd);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${wN.websocket}`,this.httpEndpoint=P3(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=YH.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:QH}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,s){this.logger(r,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case vh.connecting:return vl.Connecting;case vh.open:return vl.Open;case vh.closing:return vl.Closing;default:return vl.Closed}}isConnected(){return this.connectionState()===vl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const s=`realtime:${r}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new Ok(`realtime:${r}`,n,this);return this.channels.push(i),i}}push(r){const{topic:n,event:s,payload:a,ref:i}=r,o=()=>{this.encode(r,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${n} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(e9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},cp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(s=>s.topic===r&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:o}=n,l=o?`(${o})`:"",d=i.status||"";this.log("receive",`${d} ${s} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(ca.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const s=r.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${r}${s}${a}`}_workerObjectUrl(r){let n;if(r)n=r;else{const s=new Blob([u9],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:XH};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(ca.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(s=>{try{s(n)}catch(a){this.log("error",`error in ${r} callback`,a)}})}catch(s){this.log("error",`error triggering ${r} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new R3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,s,a,i,o,l,d,u,f;if(this.transport=(n=r?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=r?.timeout)!==null&&s!==void 0?s:jN,this.heartbeatIntervalMs=(a=r?.heartbeatIntervalMs)!==null&&a!==void 0?a:cp.HEARTBEAT_INTERVAL,this.worker=(i=r?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=r?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=r?.heartbeatCallback)!==null&&l!==void 0?l:_0,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=r?.reconnectAfterMs)!==null&&d!==void 0?d:(m=>c9[m-1]||d9),this.encode=(u=r?.encode)!==null&&u!==void 0?u:((m,v)=>v(JSON.stringify(m))),this.decode=(f=r?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class Ik extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Tr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class m9 extends Ik{constructor(r,n,s){super(r),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class SN extends Ik{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}var f9=function(t,r,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(s.next(f))}catch(m){o(m)}}function d(f){try{u(s.throw(f))}catch(m){o(m)}}function u(f){f.done?i(f.value):a(f.value).then(l,d)}u((s=s.apply(t,r||[])).next())})};const O3=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...n)=>Mo(async()=>{const{default:s}=await Promise.resolve().then(()=>Fd);return{default:s}},void 0).then(({default:s})=>s(...n)):r=fetch,(...n)=>r(...n)},p9=()=>f9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mo(()=>Promise.resolve().then(()=>Fd),void 0)).Response:Response}),kN=t=>{if(Array.isArray(t))return t.map(n=>kN(n));if(typeof t=="function"||t!==Object(t))return t;const r={};return Object.entries(t).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));r[a]=kN(s)}),r},v9=t=>{if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var zl=function(t,r,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(s.next(f))}catch(m){o(m)}}function d(f){try{u(s.throw(f))}catch(m){o(m)}}function u(f){f.done?i(f.value):a(f.value).then(l,d)}u((s=s.apply(t,r||[])).next())})};const R0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),x9=(t,r,n)=>zl(void 0,void 0,void 0,function*(){const s=yield p9();t instanceof s&&!n?.noResolveJson?t.json().then(a=>{const i=t.status||500,o=a?.statusCode||i+"";r(new m9(R0(a),i,o))}).catch(a=>{r(new SN(R0(a),a))}):r(new SN(R0(t),t))}),g9=(t,r,n,s)=>{const a={method:t,headers:r?.headers||{}};return t==="GET"||!s?a:(v9(s)?(a.headers=Object.assign({"Content-Type":"application/json"},r?.headers),a.body=JSON.stringify(s)):a.body=s,r?.duplex&&(a.duplex=r.duplex),Object.assign(Object.assign({},a),n))};function _m(t,r,n,s,a,i){return zl(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,g9(r,s,a,i)).then(d=>{if(!d.ok)throw d;return s?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>x9(d,l,s))})})}function Yp(t,r,n,s){return zl(this,void 0,void 0,function*(){return _m(t,"GET",r,n,s)})}function Oa(t,r,n,s,a){return zl(this,void 0,void 0,function*(){return _m(t,"POST",r,s,a,n)})}function CN(t,r,n,s,a){return zl(this,void 0,void 0,function*(){return _m(t,"PUT",r,s,a,n)})}function y9(t,r,n,s){return zl(this,void 0,void 0,function*(){return _m(t,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function I3(t,r,n,s,a){return zl(this,void 0,void 0,function*(){return _m(t,"DELETE",r,s,a,n)})}var b9=function(t,r,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(s.next(f))}catch(m){o(m)}}function d(f){try{u(s.throw(f))}catch(m){o(m)}}function u(f){f.done?i(f.value):a(f.value).then(l,d)}u((s=s.apply(t,r||[])).next())})};class j9{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return b9(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}}var w9=function(t,r,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(s.next(f))}catch(m){o(m)}}function d(f){try{u(s.throw(f))}catch(m){o(m)}}function u(f){f.done?i(f.value):a(f.value).then(l,d)}u((s=s.apply(t,r||[])).next())})};class N9{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}asStream(){return new j9(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.execute().then(r,n)}execute(){return w9(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}}var Qn=function(t,r,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(s.next(f))}catch(m){o(m)}}function d(f){try{u(s.throw(f))}catch(m){o(m)}}function u(f){f.done?i(f.value):a(f.value).then(l,d)}u((s=s.apply(t,r||[])).next())})};const S9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},B_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class k9{constructor(r,n={},s,a){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=s,this.fetch=O3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,s,a){return Qn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},B_),a);let l=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),m=yield(r=="PUT"?CN:Oa)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}upload(r,n,s){return Qn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,s)})}uploadToSignedUrl(r,n,s,a){return Qn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(r),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let d;const u=Object.assign({upsert:B_.upsert},a),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",u.cacheControl),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",u.cacheControl)):(d=s,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const m=yield CN(this.fetch,l.toString(),d,{headers:f});return{data:{path:i,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Tr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(r,n){return Qn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const i=yield Oa(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ik("No token returned by API");return{data:{signedUrl:o.toString(),path:r,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tr(s))return{data:null,error:s};throw s}})}update(r,n,s){return Qn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,s)})}move(r,n,s){return Qn(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}})}copy(r,n,s){return Qn(this,void 0,void 0,function*(){try{return{data:{path:(yield Oa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}})}createSignedUrl(r,n,s){return Qn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r),i=yield Oa(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}})}createSignedUrls(r,n,s){return Qn(this,void 0,void 0,function*(){try{const a=yield Oa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}})}download(r,n){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(r),d=()=>Yp(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new N9(d,this.shouldThrowOnError)}info(r){return Qn(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const s=yield Yp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:kN(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tr(s))return{data:null,error:s};throw s}})}exists(r){return Qn(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield y9(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tr(s)&&s instanceof SN){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(r,n){const s=this._getFinalPath(r),a=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&a.push(d);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(r){return Qn(this,void 0,void 0,function*(){try{return{data:yield I3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}})}list(r,n,s){return Qn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},S9),n),{prefix:r||""});return{data:yield Oa(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}})}listV2(r,n){return Qn(this,void 0,void 0,function*(){try{const s=Object.assign({},r);return{data:yield Oa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tr(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const C9="2.75.0",A9={"X-Client-Info":`storage-js/${C9}`};var wc=function(t,r,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(s.next(f))}catch(m){o(m)}}function d(f){try{u(s.throw(f))}catch(m){o(m)}}function u(f){f.done?i(f.value):a(f.value).then(l,d)}u((s=s.apply(t,r||[])).next())})};class E9{constructor(r,n={},s,a){this.shouldThrowOnError=!1;const i=new URL(r);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A9),n),this.fetch=O3(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return wc(this,void 0,void 0,function*(){try{return{data:yield Yp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}getBucket(r){return wc(this,void 0,void 0,function*(){try{return{data:yield Yp(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}})}createBucket(r){return wc(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield Oa(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}})}updateBucket(r,n){return wc(this,void 0,void 0,function*(){try{return{data:yield CN(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tr(s))return{data:null,error:s};throw s}})}emptyBucket(r){return wc(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}})}deleteBucket(r){return wc(this,void 0,void 0,function*(){try{return{data:yield I3(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}})}}class _9 extends E9{constructor(r,n={},s,a){super(r,n,s,a)}from(r){return new k9(this.url,this.headers,r,this.fetch)}}const R9="2.75.0";let dh="";typeof Deno<"u"?dh="deno":typeof document<"u"?dh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dh="react-native":dh="node";const T9={"X-Client-Info":`supabase-js-${dh}/${R9}`},P9={headers:T9},O9={schema:"public"},I9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},D9={};var M9=function(t,r,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(s.next(f))}catch(m){o(m)}}function d(f){try{u(s.throw(f))}catch(m){o(m)}}function u(f){f.done?i(f.value):a(f.value).then(l,d)}u((s=s.apply(t,r||[])).next())})};const L9=t=>{let r;return t?r=t:typeof fetch>"u"?r=S3:r=fetch,(...n)=>r(...n)},z9=()=>typeof Headers>"u"?k3:Headers,$9=(t,r,n)=>{const s=L9(n),a=z9();return(i,o)=>M9(void 0,void 0,void 0,function*(){var l;const d=(l=yield r())!==null&&l!==void 0?l:t;let u=new a(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${d}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};var F9=function(t,r,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(s.next(f))}catch(m){o(m)}}function d(f){try{u(s.throw(f))}catch(m){o(m)}}function u(f){f.done?i(f.value):a(f.value).then(l,d)}u((s=s.apply(t,r||[])).next())})};function B9(t){return t.endsWith("/")?t:t+"/"}function W9(t,r){var n,s;const{db:a,auth:i,realtime:o,global:l}=t,{db:d,auth:u,realtime:f,global:m}=r,v={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(n=m?.headers)!==null&&n!==void 0?n:{}),(s=l?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>F9(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function U9(t){const r=t?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(B9(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const D3="2.75.0",Lc=30*1e3,AN=3,T0=AN*Lc,q9="http://localhost:9999",H9="supabase.auth.token",V9={"X-Client-Info":`gotrue-js/${D3}`},EN="X-Supabase-Api-Version",M3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},G9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,K9=600*1e3;class Th extends Error{constructor(r,n,s){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function nt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class J9 extends Th{constructor(r,n,s){super(r,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Y9(t){return nt(t)&&t.name==="AuthApiError"}class xl extends Th{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Lo extends Th{constructor(r,n,s,a){super(r,s,a),this.name=n,this.status=s}}class mo extends Lo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Z9(t){return nt(t)&&t.name==="AuthSessionMissingError"}class Nc extends Lo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dp extends Lo{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class up extends Lo{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function X9(t){return nt(t)&&t.name==="AuthImplicitGrantRedirectError"}class W_ extends Lo{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _N extends Lo{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function P0(t){return nt(t)&&t.name==="AuthRetryableFetchError"}class U_ extends Lo{constructor(r,n,s){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class RN extends Lo{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),q_=` 	
\r=`.split(""),Q9=(()=>{const t=new Array(128);for(let r=0;r<t.length;r+=1)t[r]=-1;for(let r=0;r<q_.length;r+=1)t[q_[r].charCodeAt(0)]=-2;for(let r=0;r<Zp.length;r+=1)t[Zp[r].charCodeAt(0)]=r;return t})();function H_(t,r,n){if(t!==null)for(r.queue=r.queue<<8|t,r.queuedBits+=8;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;n(Zp[s]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;n(Zp[s]),r.queuedBits-=6}}function L3(t,r,n){const s=Q9[t];if(s>-1)for(r.queue=r.queue<<6|s,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function V_(t){const r=[],n=o=>{r.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{r7(o,s,n)};for(let o=0;o<t.length;o+=1)L3(t.charCodeAt(o),a,i);return r.join("")}function e7(t,r){if(t<=127){r(t);return}else if(t<=2047){r(192|t>>6),r(128|t&63);return}else if(t<=65535){r(224|t>>12),r(128|t>>6&63),r(128|t&63);return}else if(t<=1114111){r(240|t>>18),r(128|t>>12&63),r(128|t>>6&63),r(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function t7(t,r){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}e7(s,r)}}function r7(t,r,n){if(r.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){r.utf8seq=s;break}if(r.utf8seq===2)r.codepoint=t&31;else if(r.utf8seq===3)r.codepoint=t&15;else if(r.utf8seq===4)r.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|t&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Vc(t){const r=[],n={queue:0,queuedBits:0},s=a=>{r.push(a)};for(let a=0;a<t.length;a+=1)L3(t.charCodeAt(a),n,s);return new Uint8Array(r)}function n7(t){const r=[];return t7(t,n=>r.push(n)),new Uint8Array(r)}function gl(t){const r=[],n={queue:0,queuedBits:0},s=a=>{r.push(a)};return t.forEach(a=>H_(a,n,s)),H_(null,n,s),r.join("")}function s7(t){return Math.round(Date.now()/1e3)+t}function a7(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const r=Math.random()*16|0;return(t=="x"?r:r&3|8).toString(16)})}const ms=()=>typeof window<"u"&&typeof document<"u",il={tested:!1,writable:!1},z3=()=>{if(!ms())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(il.tested)return il.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),il.tested=!0,il.writable=!0}catch{il.tested=!0,il.writable=!1}return il.writable};function i7(t){const r={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{r[i]=a})}catch{}return n.searchParams.forEach((s,a)=>{r[a]=s}),r}const $3=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...n)=>Mo(async()=>{const{default:s}=await Promise.resolve().then(()=>Fd);return{default:s}},void 0).then(({default:s})=>s(...n)):r=fetch,(...n)=>r(...n)},o7=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zc=async(t,r,n)=>{await t.setItem(r,JSON.stringify(n))},ol=async(t,r)=>{const n=await t.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},co=async(t,r)=>{await t.removeItem(r)};class bx{constructor(){this.promise=new bx.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}bx.promiseConstructor=Promise;function O0(t){const r=t.split(".");if(r.length!==3)throw new RN("Invalid JWT structure");for(let s=0;s<r.length;s++)if(!G9.test(r[s]))throw new RN("JWT not in base64url format");return{header:JSON.parse(V_(r[0])),payload:JSON.parse(V_(r[1])),signature:Vc(r[2]),raw:{header:r[0],payload:r[1]}}}async function l7(t){return await new Promise(r=>{setTimeout(()=>r(null),t)})}function c7(t,r){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!r(i,null,o)){s(o);return}}catch(o){if(!r(i,o)){a(o);return}}})()})}function d7(t){return("0"+t.toString(16)).substr(-2)}function u7(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(r),Array.from(r,d7).join("")}async function h7(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function m7(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await h7(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sc(t,r,n=!1){const s=u7();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await zc(t,`${r}-code-verifier`,a);const i=await m7(s);return[i,s===i?"plain":"s256"]}const f7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p7(t){const r=t.headers.get(EN);if(!r||!r.match(f7))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function v7(t){if(!t)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(t<=r)throw new Error("JWT has expired")}function x7(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const g7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kc(t){if(!g7.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function I0(){const t={};return new Proxy(t,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G_(t){return JSON.parse(JSON.stringify(t))}var y7=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n};const ml=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),b7=[502,503,504];async function K_(t){var r;if(!o7(t))throw new _N(ml(t),0);if(b7.includes(t.status))throw new _N(ml(t),t.status);let n;try{n=await t.json()}catch(i){throw new xl(ml(i),i)}let s;const a=p7(t);if(a&&a.getTime()>=M3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new U_(ml(n),t.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(s==="session_not_found")throw new mo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new U_(ml(n),t.status,n.weak_password.reasons);throw new J9(ml(n),t.status||500,s)}const j7=(t,r,n,s)=>{const a={method:t,headers:r?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function ot(t,r,n,s){var a;const i=Object.assign({},s?.headers);i[EN]||(i[EN]=M3["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await w7(t,r,n+l,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(d):{data:Object.assign({},d),error:null}}async function w7(t,r,n,s,a,i){const o=j7(r,s,a,i);let l;try{l=await t(n,Object.assign({},o))}catch(d){throw console.error(d),new _N(ml(d),0)}if(l.ok||await K_(l),s?.noResolveJson)return l;try{return await l.json()}catch(d){await K_(d)}}function oa(t){var r;let n=null;k7(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=s7(t.expires_in)));const s=(r=t.user)!==null&&r!==void 0?r:t;return{data:{session:n,user:s},error:null}}function J_(t){const r=oa(t);return!r.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(r.data.weak_password=t.weak_password),r}function go(t){var r;return{data:{user:(r=t.user)!==null&&r!==void 0?r:t},error:null}}function N7(t){return{data:t,error:null}}function S7(t){const{action_link:r,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i}=t,o=y7(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:r,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function Y_(t){return t}function k7(t){return t.access_token&&t.refresh_token&&t.expires_in}const D0=["global","local","others"];var C7=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n};class A7{constructor({url:r="",headers:n={},fetch:s}){this.url=r,this.headers=n,this.fetch=$3(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=D0[0]){if(D0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${D0.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(r,n={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:go})}catch(s){if(nt(s))return{data:{user:null},error:s};throw s}}async generateLink(r){try{const{options:n}=r,s=C7(r,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:S7,redirectTo:n?.redirectTo})}catch(n){if(nt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:go})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,s,a,i,o,l,d;try{const u={nextPage:null,lastPage:0,total:0},f=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=r?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Y_});if(f.error)throw f.error;const m=await f.json(),v=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(d=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);u[`${y}Page`]=x}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(nt(u))return{data:{users:[]},error:u};throw u}}async getUserById(r){kc(r);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:go})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){kc(r);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:go})}catch(s){if(nt(s))return{data:{user:null},error:s};throw s}}async deleteUser(r,n=!1){kc(r);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:go})}catch(s){if(nt(s))return{data:{user:null},error:s};throw s}}async _listFactors(r){kc(r.userId);try{const{data:n,error:s}=await ot(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _deleteFactor(r){kc(r.userId),kc(r.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,s,a,i,o,l,d;try{const u={nextPage:null,lastPage:0,total:0},f=await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=r?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Y_});if(f.error)throw f.error;const m=await f.json(),v=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(d=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);u[`${y}Page`]=x}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(nt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(r){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(r){try{return await ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}}function Z_(t={}){return{getItem:r=>t[r]||null,setItem:(r,n)=>{t[r]=n},removeItem:r=>{delete t[r]}}}const Cc={debug:!!(globalThis&&z3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F3 extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class E7 extends F3{}async function _7(t,r,n){Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,r);const s=new globalThis.AbortController;return r>0&&setTimeout(()=>{s.abort(),Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(r===0)throw Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new E7(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Cc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function R7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function B3(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function T7(t){return parseInt(t,16)}function P7(t){const r=new TextEncoder().encode(t);return"0x"+Array.from(r,s=>s.toString(16).padStart(2,"0")).join("")}function O7(t){var r;const{chainId:n,domain:s,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:d,resources:u,scheme:f,uri:m,version:v}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((r=t.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=B3(t.address),b=f?`${f}://${s}`:s,x=t.statement?`${t.statement}
`:"",y=`${b} wants you to sign in with your Ethereum account:
${g}

${x}`;let A=`URI: ${m}
Version: ${v}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(A+=`
Expiration Time: ${a.toISOString()}`),l&&(A+=`
Not Before: ${l.toISOString()}`),d&&(A+=`
Request ID: ${d}`),u){let E=`
Resources:`;for(const C of u){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);E+=`
- ${C}`}A+=E}return`${y}
${A}`}class Rr extends Error{constructor({message:r,code:n,cause:s,name:a}){var i;super(r,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=a??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Xp extends Rr{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function I7({error:t,options:r}){var n,s,a;const{publicKey:i}=r;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Rr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Rr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(r.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Rr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Rr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Rr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Rr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Rr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Rr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(U3(o)){if(i.rp.id!==o)return new Rr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Rr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Rr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function D7({error:t,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Rr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Rr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(U3(s)){if(n.rpId!==s)return new Rr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Rr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var W3=function(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n};class M7{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const L7=new M7;function z7(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:r,user:n,excludeCredentials:s}=t,a=W3(t,["challenge","user","excludeCredentials"]),i=Vc(r).buffer,o=Object.assign(Object.assign({},n),{id:Vc(n.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const u=s[d];l.excludeCredentials[d]=Object.assign(Object.assign({},u),{id:Vc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function $7(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:r,allowCredentials:n}=t,s=W3(t,["challenge","allowCredentials"]),a=Vc(r).buffer,i=Object.assign(Object.assign({},s),{challenge:a});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Vc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function F7(t){var r;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:gl(new Uint8Array(t.response.attestationObject)),clientDataJSON:gl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function B7(t){var r;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:gl(new Uint8Array(a.authenticatorData)),clientDataJSON:gl(new Uint8Array(a.clientDataJSON)),signature:gl(new Uint8Array(a.signature)),userHandle:a.userHandle?gl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function U3(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function X_(){var t,r;return!!(ms()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function W7(t){try{const r=await navigator.credentials.create(t);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Xp("Browser returned unexpected credential type",r)}:{data:null,error:new Xp("Empty credential response",r)}}catch(r){return{data:null,error:I7({error:r,options:t})}}}async function U7(t){try{const r=await navigator.credentials.get(t);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Xp("Browser returned unexpected credential type",r)}:{data:null,error:new Xp("Empty credential response",r)}}catch(r){return{data:null,error:D7({error:r,options:t})}}}const q7={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},H7={userVerification:"preferred",hints:["security-key"]};function Qp(...t){const r=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(n(o))s[i]=o;else if(r(o)){const l=s[i];r(l)?s[i]=Qp(l,o):s[i]=Qp(o)}else s[i]=o}return s}function V7(t,r){return Qp(q7,t,r||{})}function G7(t,r){return Qp(H7,t,r||{})}class K7{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:s,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!o)return{data:null,error:l};const d=a??L7.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${s}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=V7(o.webauthn.credential_options.publicKey,i?.create),{data:f,error:m}=await W7({publicKey:u,signal:d});return f?{data:{factorId:r,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const u=G7(o.webauthn.credential_options.publicKey,i?.request),{data:f,error:m}=await U7(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:d}));return f?{data:{factorId:r,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(o){return nt(o)?{data:null,error:o}:{data:null,error:new xl("Unexpected error in challenge",o)}}}async _verify({challengeId:r,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:s})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!n)return{data:null,error:new Th("rpId is required for WebAuthn authentication")};try{if(!X_())return{data:null,error:new xl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:s},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:d}=o;return this._verify({factorId:r,challengeId:o.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:s,credential_response:d.credential_response}})}catch(o){return nt(o)?{data:null,error:o}:{data:null,error:new xl("Unexpected error in authenticate",o)}}}async _register({friendlyName:r,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!n)return{data:null,error:new Th("rpId is required for WebAuthn registration")};try{if(!X_())return{data:null,error:new xl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:r});if(!o)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===r&&v.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:l};const{data:d,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:a},{create:i});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:u}}catch(o){return nt(o)?{data:null,error:o}:{data:null,error:new xl("Unexpected error in register",o)}}}}R7();const J7={url:q9,storageKey:H9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:V9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Q_(t,r,n){return await n()}const Ac={};class Ph{get jwks(){var r,n;return(n=(r=Ac[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){Ac[this.storageKey]=Object.assign(Object.assign({},Ac[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=Ac[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Ac[this.storageKey]=Object.assign(Object.assign({},Ac[this.storageKey]),{cachedAt:r})}constructor(r){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ph.nextInstanceID,Ph.nextInstanceID+=1,this.instanceID>0&&ms()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},J7),r);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new A7({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=$3(a.fetch),this.lock=a.lock||Q_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ms()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=_7:this.lock=Q_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new K7(this)},this.persistSession?(a.storage?this.storage=a.storage:z3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Z_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Z_(this.memoryStorage)),ms()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${D3}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=i7(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ms()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),X9(i)){const d=(r=i.details)===null||r===void 0?void 0:r.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return nt(n)?{error:n}:{error:new xl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,s,a;try{const i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=r?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=r?.options)===null||a===void 0?void 0:a.captchaToken}},xform:oa}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(i){if(nt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(r){var n,s,a;try{let i;if("email"in r){const{email:f,password:m,options:v}=r;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await Sc(this.storage,this.storageKey)),i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:f,password:m,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:g,code_challenge_method:b},xform:oa})}else if("phone"in r){const{phone:f,password:m,options:v}=r;i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(s=v?.data)!==null&&s!==void 0?s:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:oa})}else throw new dp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(i){if(nt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(r){try{let n;if("email"in r){const{email:i,password:o,options:l}=r;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:J_})}else if("phone"in r){const{phone:i,password:o,options:l}=r;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:J_})}else throw new dp("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Nc}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(nt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,s,a,i;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=r.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=r.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=r.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,s,a,i,o,l,d,u,f,m,v;let g,b;if("message"in r)g=r.message,b=r.signature;else{const{chain:x,wallet:y,statement:A,options:E}=r;let C;if(ms())if(typeof y=="object")C=y;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")C=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=y}const w=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href),k=await C.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=B3(k[0]);let R=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!R){const O=await C.request({method:"eth_chainId"});R=T7(O)}const T={domain:w.host,address:S,statement:A,uri:w.href,version:"1",chainId:R,nonce:(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=O7(T),b=await C.request({method:"personal_sign",params:[P7(g),S]})}try{const{data:x,error:y}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((m=r.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=r.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:oa});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Nc}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(nt(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(r){var n,s,a,i,o,l,d,u,f,m,v,g;let b,x;if("message"in r)b=r.message,x=r.signature;else{const{chain:y,wallet:A,statement:E,options:C}=r;let w;if(ms())if(typeof A=="object")w=A;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=A}const k=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),E?{statement:E}:null));let R;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")R=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)R=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)b=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),x=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${k.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(a=(s=C?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=C?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((m=(f=C?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...C.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:y,error:A}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:gl(x)},!((v=r.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(g=r.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:oa});if(A)throw A;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Nc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:A})}catch(y){if(nt(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(r){const n=await ol(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{const{data:i,error:o}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:s},xform:oa});if(await co(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Nc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(nt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(r){try{const{options:n,provider:s,token:a,access_token:i,nonce:o}=r,l=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:oa}),{data:d,error:u}=l;return u?{data:{user:null,session:null},error:u}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Nc}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:u})}catch(n){if(nt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,s,a,i,o;try{if("email"in r){const{email:l,options:d}=r;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Sc(this.storage,this.storageKey));const{error:m}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in r){const{phone:l,options:d}=r,{data:u,error:f}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new dp("You must provide either an email or phone number.")}catch(l){if(nt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(r){var n,s;try{let a,i;"options"in r&&(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo,i=(s=r.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:oa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,u=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(a){if(nt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(r){var n,s,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Sc(this.storage,this.storageKey)),await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(s=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=r?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:N7})}catch(i){if(nt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;if(s)throw s;if(!n)throw new mo;const{error:a}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(r){if(nt(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:s,type:a,options:i}=r,{error:o}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in r){const{phone:s,type:a,options:i}=r,{data:o,error:l}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new dp("You must provide either an email or phone number and a type")}catch(n){if(nt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await ol(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const s=r.expires_at?r.expires_at*1e3-Date.now()<T0:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s){if(this.userStorage){const o=await ol(this.userStorage,this.storageKey+"-user");o?.user?r.user=o.user:r.user=I0()}if(this.storage.isServer&&r.user){let o=this.suppressGetSessionWarning;r=new Proxy(r,{get:(d,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,u,f))})}return{data:{session:r},error:null}}const{data:a,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:go}):await this._useSession(async n=>{var s,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mo}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:go})})}catch(n){if(nt(n))return Z9(n)&&(await this._removeSession(),await co(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new mo;const o=a.session;let l=null,d=null;this.flowType==="pkce"&&r.email!=null&&([l,d]=await Sc(this.storage,this.storageKey));const{data:u,error:f}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:go});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(nt(s))return{data:{user:null},error:s};throw s}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new mo;const n=Date.now()/1e3;let s=n,a=!0,i=null;const{payload:o}=O0(r.access_token);if(o.exp&&(s=o.exp,a=s<=n),a){const{data:l,error:d}=await this._callRefreshToken(r.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:d}=await this._getUser(r.access_token);if(d)throw d;i={access_token:r.access_token,refresh_token:r.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(nt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var s;if(!r){const{data:o,error:l}=n;if(l)throw l;r=(s=o.session)!==null&&s!==void 0?s:void 0}if(!r?.refresh_token)throw new mo;const{data:a,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(nt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!ms())throw new up("No browser detected.");if(r.error||r.error_description||r.error_code)throw new up(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new W_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new up("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new W_("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(r.code);if(C)throw C;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:d,token_type:u}=r;if(!i||!l||!o||!u)throw new up("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(l);let v=f+m;d&&(v=parseInt(d));const g=v-f;g*1e3<=Lc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const b=v-m;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,f);const{data:x,error:y}=await this._getUser(i);if(y)throw y;const A={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:v,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:r.type},error:null}}catch(s){if(nt(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await ol(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return{error:i};const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,r);if(l&&!(Y9(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return r!=="others"&&(await this._removeSession(),await co(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=a7(),s={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(r){return await this._useSession(async n=>{var s,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",r,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",i),console.error(i)}})}async resetPasswordForEmail(r,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Sc(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(nt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var r;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,d,u,f;const{data:m,error:v}=i;if(v)throw v;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=r.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return ms()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:r.provider,url:s?.url},error:null}}catch(s){if(nt(s))return{data:{provider:r.provider,url:null},error:s};throw s}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var s;try{const{error:a,data:{session:i}}=n;if(a)throw a;const{options:o,provider:l,token:d,access_token:u,nonce:f}=r,m=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:d,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:oa}),{data:v,error:g}=m;return g?{data:{user:null,session:null},error:g}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Nc}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:g})}catch(a){if(nt(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var s,a;const{data:i,error:o}=n;if(o)throw o;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await c7(async a=>(a>0&&await l7(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:oa})),(a,i)=>{const o=200*Math.pow(2,a);return i&&P0(i)&&Date.now()+o-s<Lc})}catch(s){if(this._debug(n,"error",s),nt(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",s),ms()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:r,url:s},error:null}}async _recoverAndRefresh(){var r,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await ol(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ol(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await zc(this.userStorage,this.storageKey+"-user",o)),a.user=(r=o?.user)!==null&&r!==void 0?r:I0()}else if(a&&!a.user&&!a.user){const o=await ol(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await co(this.storage,this.storageKey+"-user"),await zc(this.storage,this.storageKey,a)):a.user=I0()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<T0;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${T0}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),P0(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(r){var n,s;if(!r)throw new mo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new bx;const{data:i,error:o}=await this._refreshAccessToken(r);if(o)throw o;if(!i.session)throw new mo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),nt(i)){const o={data:null,error:i};return P0(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(r,n,s=!0){const a=`#_notifyAllSubscribers(${r})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:r,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(r,n)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await zc(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=G_(a);await zc(this.storage,this.storageKey,i)}else{const a=G_(n);await zc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await co(this.storage,this.storageKey),await co(this.storage,this.storageKey+"-code-verifier"),await co(this.storage,this.storageKey+"-user"),this.userStorage&&await co(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&ms()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Lc);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-r)/Lc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Lc}ms, refresh threshold is ${AN} ticks`),a<=AN&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof F3)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ms()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Sc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${r}?${a.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;return i?{data:null,error:i}:await ot(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var s,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:d,error:u}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(r.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?F7(r.webauthn.credential_response):B7(r.webauthn.credential_response)})}:{code:r.code}),{data:l,error:d}=await ot(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:d})})}catch(n){if(nt(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return{data:null,error:i};const o=await ot(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:z7(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$7(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(nt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:s}=await this._challenge({factorId:r.factorId});return s?{data:null,error:s}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(r=n?.factors)!==null&&r!==void 0?r:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var n,s;const{data:{session:a},error:i}=r;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=O0(a.access_token);let l=null;o.aal&&(l=o.aal);let d=l;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(r,n={keys:[]}){let s=n.keys.find(l=>l.kid===r);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===r),s&&this.jwks_cached_at+K9>a)return s;const{data:i,error:o}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===r),!s)?null:s}async getClaims(r,n={}){try{let s=r;if(!s){const{data:g,error:b}=await this.getSession();if(b||!g.session)return{data:null,error:b};s=g.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:d}}=O0(s);n?.allowExpired||v7(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!u){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:i,header:a,signature:o},error:null}}const f=x7(a.alg),m=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,o,n7(`${l}.${d}`)))throw new RN("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}}}Ph.nextInstanceID=0;const Y7=Ph;class Z7 extends Y7{constructor(r){super(r)}}var X7=function(t,r,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(s.next(f))}catch(m){o(m)}}function d(f){try{u(s.throw(f))}catch(m){o(m)}}function u(f){f.done?i(f.value):a(f.value).then(l,d)}u((s=s.apply(t,r||[])).next())})};class Q7{constructor(r,n,s){var a,i,o;this.supabaseUrl=r,this.supabaseKey=n;const l=U9(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:O9,realtime:D9,auth:Object.assign(Object.assign({},I9),{storageKey:d}),global:P9},f=W9(s??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=$9(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new JH(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new _9(this.storageUrl.href,this.headers,this.fetch,s?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new $H(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,s)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return X7(this,void 0,void 0,function*(){var r,n;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:s,storage:a,userStorage:i,storageKey:o,flowType:l,lock:d,debug:u},f,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z7({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),f),storageKey:o,autoRefreshToken:r,persistSession:n,detectSessionInUrl:s,storage:a,userStorage:i,flowType:l,lock:d,debug:u,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new h9(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(r,n,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eV=(t,r,n)=>new Q7(t,r,n);function tV(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}tV()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rV="https://syhakcccldxfvcuczaol.supabase.co",nV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN5aGFrY2NjbGR4ZnZjdWN6YW9sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA1MDQ4NzIsImV4cCI6MjA3NjA4MDg3Mn0.6OrFNSpbZws2xRZkAWOjjaHoIP1pjPkP_oSupIkXrqQ",vt=eV(rV,nV,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});async function sV(){try{const{error:t}=await vt.from("organizations").select("count",{count:"exact",head:!0});return t?(console.error("Supabase connection test failed:",t),!1):(console.log(" Supabase connection successful!"),!0)}catch(t){return console.error(" Supabase connection error:",t),!1}}function eR(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function Ti(...t){return r=>{let n=!1;const s=t.map(a=>{const i=eR(a,r);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():eR(t[a],null)}}}}function st(...t){return j.useCallback(Ti(...t),t)}function _o(t){const r=aV(t),n=j.forwardRef((s,a)=>{const{children:i,...o}=s,l=j.Children.toArray(i),d=l.find(oV);if(d){const u=d.props.children,f=l.map(m=>m===d?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:m);return e.jsx(r,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,f):null})}return e.jsx(r,{...o,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}var q3=_o("Slot");function aV(t){const r=j.forwardRef((n,s)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=cV(a),l=lV(i,a.props);return a.type!==j.Fragment&&(l.ref=s?Ti(s,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var H3=Symbol("radix.slottable");function iV(t){const r=({children:n})=>e.jsx(e.Fragment,{children:n});return r.displayName=`${t}.Slottable`,r.__radixId=H3,r}function oV(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===H3}function lV(t,r){const n={...r};for(const s in r){const a=t[s],i=r[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const d=i(...l);return a(...l),d}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function cV(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function V3(t){var r,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=V3(t[r]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function yt(){for(var t,r,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(r=V3(t))&&(s&&(s+=" "),s+=r);return s}const tR=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,rR=yt,Dk=(t,r)=>n=>{var s;if(r?.variants==null)return rR(t,n?.class,n?.className);const{variants:a,defaultVariants:i}=r,o=Object.keys(a).map(u=>{const f=n?.[u],m=i?.[u];if(f===null)return null;const v=tR(f)||tR(m);return a[u][v]}),l=n&&Object.entries(n).reduce((u,f)=>{let[m,v]=f;return v===void 0||(u[m]=v),u},{}),d=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((u,f)=>{let{class:m,className:v,...g}=f;return Object.entries(g).every(b=>{let[x,y]=b;return Array.isArray(y)?y.includes({...i,...l}[x]):{...i,...l}[x]===y})?[...u,m,v]:u},[]);return rR(t,o,d,n?.class,n?.className)},Mk="-",dV=t=>{const r=hV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(Mk);return l[0]===""&&l.length!==1&&l.shift(),G3(l,r)||uV(o)},getConflictingClassGroupIds:(o,l)=>{const d=n[o]||[];return l&&s[o]?[...d,...s[o]]:d}}},G3=(t,r)=>{if(t.length===0)return r.classGroupId;const n=t[0],s=r.nextPart.get(n),a=s?G3(t.slice(1),s):void 0;if(a)return a;if(r.validators.length===0)return;const i=t.join(Mk);return r.validators.find(({validator:o})=>o(i))?.classGroupId},nR=/^\[(.+)\]$/,uV=t=>{if(nR.test(t)){const r=nR.exec(t)[1],n=r?.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},hV=t=>{const{theme:r,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const a in n)TN(n[a],s,a,r);return s},TN=(t,r,n,s)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?r:sR(r,a);i.classGroupId=n;return}if(typeof a=="function"){if(mV(a)){TN(a(s),r,n,s);return}r.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{TN(o,sR(r,i),n,s)})})},sR=(t,r)=>{let n=t;return r.split(Mk).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},mV=t=>t.isThemeGetter,fV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),r++,r>t&&(r=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},PN="!",ON=":",pV=ON.length,vV=t=>{const{prefix:r,experimentalParseClassName:n}=t;let s=a=>{const i=[];let o=0,l=0,d=0,u;for(let b=0;b<a.length;b++){let x=a[b];if(o===0&&l===0){if(x===ON){i.push(a.slice(d,b)),d=b+pV;continue}if(x==="/"){u=b;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const f=i.length===0?a:a.substring(d),m=xV(f),v=m!==f,g=u&&u>d?u-d:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:m,maybePostfixModifierPosition:g}};if(r){const a=r+ON,i=s;s=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=i=>n({className:i,parseClassName:a})}return s},xV=t=>t.endsWith(PN)?t.substring(0,t.length-1):t.startsWith(PN)?t.substring(1):t,gV=t=>{const r=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let i=[];return s.forEach(o=>{o[0]==="["||r[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},yV=t=>({cache:fV(t.cacheSize),parseClassName:vV(t),sortModifiers:gV(t),...dV(t)}),bV=/\s+/,jV=(t,r)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:i}=r,o=[],l=t.trim().split(bV);let d="";for(let u=l.length-1;u>=0;u-=1){const f=l[u],{isExternal:m,modifiers:v,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:x}=n(f);if(m){d=f+(d.length>0?" "+d:d);continue}let y=!!x,A=s(y?b.substring(0,x):b);if(!A){if(!y){d=f+(d.length>0?" "+d:d);continue}if(A=s(b),!A){d=f+(d.length>0?" "+d:d);continue}y=!1}const E=i(v).join(":"),C=g?E+PN:E,w=C+A;if(o.includes(w))continue;o.push(w);const k=a(A,y);for(let S=0;S<k.length;++S){const R=k[S];o.push(C+R)}d=f+(d.length>0?" "+d:d)}return d};function wV(){let t=0,r,n,s="";for(;t<arguments.length;)(r=arguments[t++])&&(n=K3(r))&&(s&&(s+=" "),s+=n);return s}const K3=t=>{if(typeof t=="string")return t;let r,n="";for(let s=0;s<t.length;s++)t[s]&&(r=K3(t[s]))&&(n&&(n+=" "),n+=r);return n};function NV(t,...r){let n,s,a,i=o;function o(d){const u=r.reduce((f,m)=>m(f),t());return n=yV(u),s=n.cache.get,a=n.cache.set,i=l,l(d)}function l(d){const u=s(d);if(u)return u;const f=jV(d,n);return a(d,f),f}return function(){return i(wV.apply(null,arguments))}}const Vr=t=>{const r=n=>n[t]||[];return r.isThemeGetter=!0,r},J3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Y3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,SV=/^\d+\/\d+$/,kV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,EV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_V=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ec=t=>SV.test(t),ht=t=>!!t&&!Number.isNaN(Number(t)),uo=t=>!!t&&Number.isInteger(Number(t)),M0=t=>t.endsWith("%")&&ht(t.slice(0,-1)),di=t=>kV.test(t),RV=()=>!0,TV=t=>CV.test(t)&&!AV.test(t),Z3=()=>!1,PV=t=>EV.test(t),OV=t=>_V.test(t),IV=t=>!Ge(t)&&!Ke(t),DV=t=>Bd(t,e5,Z3),Ge=t=>J3.test(t),ll=t=>Bd(t,t5,TV),L0=t=>Bd(t,FV,ht),aR=t=>Bd(t,X3,Z3),MV=t=>Bd(t,Q3,OV),hp=t=>Bd(t,r5,PV),Ke=t=>Y3.test(t),Vu=t=>Wd(t,t5),LV=t=>Wd(t,BV),iR=t=>Wd(t,X3),zV=t=>Wd(t,e5),$V=t=>Wd(t,Q3),mp=t=>Wd(t,r5,!0),Bd=(t,r,n)=>{const s=J3.exec(t);return s?s[1]?r(s[1]):n(s[2]):!1},Wd=(t,r,n=!1)=>{const s=Y3.exec(t);return s?s[1]?r(s[1]):n:!1},X3=t=>t==="position"||t==="percentage",Q3=t=>t==="image"||t==="url",e5=t=>t==="length"||t==="size"||t==="bg-size",t5=t=>t==="length",FV=t=>t==="number",BV=t=>t==="family-name",r5=t=>t==="shadow",WV=()=>{const t=Vr("color"),r=Vr("font"),n=Vr("text"),s=Vr("font-weight"),a=Vr("tracking"),i=Vr("leading"),o=Vr("breakpoint"),l=Vr("container"),d=Vr("spacing"),u=Vr("radius"),f=Vr("shadow"),m=Vr("inset-shadow"),v=Vr("text-shadow"),g=Vr("drop-shadow"),b=Vr("blur"),x=Vr("perspective"),y=Vr("aspect"),A=Vr("ease"),E=Vr("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...w(),Ke,Ge],S=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],T=()=>[Ke,Ge,d],O=()=>[Ec,"full","auto",...T()],U=()=>[uo,"none","subgrid",Ke,Ge],D=()=>["auto",{span:["full",uo,Ke,Ge]},uo,Ke,Ge],I=()=>[uo,"auto",Ke,Ge],B=()=>["auto","min","max","fr",Ke,Ge],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...T()],Q=()=>[Ec,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],H=()=>[t,Ke,Ge],X=()=>[...w(),iR,aR,{position:[Ke,Ge]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",zV,DV,{size:[Ke,Ge]}],q=()=>[M0,Vu,ll],ee=()=>["","none","full",u,Ke,Ge],oe=()=>["",ht,Vu,ll],ce=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[ht,M0,iR,aR],fe=()=>["","none",b,Ke,Ge],he=()=>["none",ht,Ke,Ge],re=()=>["none",ht,Ke,Ge],ge=()=>[ht,Ke,Ge],le=()=>[Ec,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[di],breakpoint:[di],color:[RV],container:[di],"drop-shadow":[di],ease:["in","out","in-out"],font:[IV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[di],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[di],shadow:[di],spacing:["px",ht],text:[di],"text-shadow":[di],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ec,Ge,Ke,y]}],container:["container"],columns:[{columns:[ht,Ge,Ke,l]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[uo,"auto",Ke,Ge]}],basis:[{basis:[Ec,"full","auto",l,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ht,Ec,"auto","initial","none",Ge]}],grow:[{grow:["",ht,Ke,Ge]}],shrink:[{shrink:["",ht,Ke,Ge]}],order:[{order:[uo,"first","last","none",Ke,Ge]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[l,"screen",...Q()]}],"min-w":[{"min-w":[l,"screen","none",...Q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",n,Vu,ll]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ke,L0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",M0,Ge]}],"font-family":[{font:[LV,Ge,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ke,Ge]}],"line-clamp":[{"line-clamp":[ht,"none",Ke,L0]}],leading:[{leading:[i,...T()]}],"list-image":[{"list-image":["none",Ke,Ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ke,Ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[ht,"from-font","auto",Ke,ll]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[ht,"auto",Ke,Ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke,Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke,Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},uo,Ke,Ge],radial:["",Ke,Ge],conic:[uo,Ke,Ge]},$V,MV]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ht,Ke,Ge]}],"outline-w":[{outline:["",ht,Vu,ll]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",f,mp,hp]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",m,mp,hp]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[ht,ll]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",v,mp,hp]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[ht,Ke,Ge]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Ke,Ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ke,Ge]}],filter:[{filter:["","none",Ke,Ge]}],blur:[{blur:fe()}],brightness:[{brightness:[ht,Ke,Ge]}],contrast:[{contrast:[ht,Ke,Ge]}],"drop-shadow":[{"drop-shadow":["","none",g,mp,hp]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",ht,Ke,Ge]}],"hue-rotate":[{"hue-rotate":[ht,Ke,Ge]}],invert:[{invert:["",ht,Ke,Ge]}],saturate:[{saturate:[ht,Ke,Ge]}],sepia:[{sepia:["",ht,Ke,Ge]}],"backdrop-filter":[{"backdrop-filter":["","none",Ke,Ge]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[ht,Ke,Ge]}],"backdrop-contrast":[{"backdrop-contrast":[ht,Ke,Ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ht,Ke,Ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ht,Ke,Ge]}],"backdrop-invert":[{"backdrop-invert":["",ht,Ke,Ge]}],"backdrop-opacity":[{"backdrop-opacity":[ht,Ke,Ge]}],"backdrop-saturate":[{"backdrop-saturate":[ht,Ke,Ge]}],"backdrop-sepia":[{"backdrop-sepia":["",ht,Ke,Ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ke,Ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ht,"initial",Ke,Ge]}],ease:[{ease:["linear","initial",A,Ke,Ge]}],delay:[{delay:[ht,Ke,Ge]}],animate:[{animate:["none",E,Ke,Ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ke,Ge]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:re()}],"scale-x":[{"scale-x":re()}],"scale-y":[{"scale-y":re()}],"scale-z":[{"scale-z":re()}],"scale-3d":["scale-3d"],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[Ke,Ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke,Ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke,Ge]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[ht,Vu,ll,L0]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},UV=NV(WV);function We(...t){return UV(yt(t))}const qV=Dk("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),L=j.forwardRef(({className:t,variant:r,size:n,asChild:s=!1,...a},i)=>{const o=s?q3:"button";return e.jsx(o,{"data-slot":"button",className:We(qV({variant:r,size:n,className:t})),ref:i,...a})});L.displayName="Button";function pe({className:t,type:r,...n}){return e.jsx("input",{type:r,"data-slot":"input",className:We("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function HV(t,r){const n=j.createContext(r),s=i=>{const{children:o,...l}=i,d=j.useMemo(()=>l,Object.values(l));return e.jsx(n.Provider,{value:d,children:o})};s.displayName=t+"Provider";function a(i){const o=j.useContext(n);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,a]}function rn(t,r=[]){let n=[];function s(i,o){const l=j.createContext(o),d=n.length;n=[...n,o];const u=m=>{const{scope:v,children:g,...b}=m,x=v?.[t]?.[d]||l,y=j.useMemo(()=>b,Object.values(b));return e.jsx(x.Provider,{value:y,children:g})};u.displayName=i+"Provider";function f(m,v){const g=v?.[t]?.[d]||l,b=j.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=n.map(o=>j.createContext(o));return function(l){const d=l?.[t]||i;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:d}}),[l,d])}};return a.scopeName=t,[s,VV(a,...r)]}function VV(...t){const r=t[0];if(t.length===1)return r;const n=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:d,scopeName:u})=>{const m=d(i)[`__scope${u}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}function Re(t,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return r?.(a)}}var kr=globalThis?.document?j.useLayoutEffect:()=>{},GV=l3[" useInsertionEffect ".trim().toString()]||kr;function Ns({prop:t,defaultProp:r,onChange:n=()=>{},caller:s}){const[a,i,o]=KV({defaultProp:r,onChange:n}),l=t!==void 0,d=l?t:a;{const f=j.useRef(t!==void 0);j.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,s])}const u=j.useCallback(f=>{if(l){const m=JV(f)?f(t):f;m!==t&&o.current?.(m)}else i(f)},[l,t,i,o]);return[d,u]}function KV({defaultProp:t,onChange:r}){const[n,s]=j.useState(t),a=j.useRef(n),i=j.useRef(r);return GV(()=>{i.current=r},[r]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,s,i]}function JV(t){return typeof t=="function"}function Rm(t){const r=j.useRef({value:t,previous:t});return j.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}function Tm(t){const[r,n]=j.useState(void 0);return kr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),r}function YV(t,r){return j.useReducer((n,s)=>r[n][s]??n,t)}var Fr=t=>{const{present:r,children:n}=t,s=ZV(r),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=st(s.ref,XV(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};Fr.displayName="Presence";function ZV(t){const[r,n]=j.useState(),s=j.useRef(null),a=j.useRef(t),i=j.useRef("none"),o=t?"mounted":"unmounted",[l,d]=YV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=fp(s.current);i.current=l==="mounted"?u:"none"},[l]),kr(()=>{const u=s.current,f=a.current;if(f!==t){const v=i.current,g=fp(u);t?d("MOUNT"):g==="none"||u?.display==="none"?d("UNMOUNT"):d(f&&v!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),kr(()=>{if(r){let u;const f=r.ownerDocument.defaultView??window,m=g=>{const x=fp(s.current).includes(CSS.escape(g.animationName));if(g.target===r&&x&&(d("ANIMATION_END"),!a.current)){const y=r.style.animationFillMode;r.style.animationFillMode="forwards",u=f.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=y)})}},v=g=>{g.target===r&&(i.current=fp(s.current))};return r.addEventListener("animationstart",v),r.addEventListener("animationcancel",m),r.addEventListener("animationend",m),()=>{f.clearTimeout(u),r.removeEventListener("animationstart",v),r.removeEventListener("animationcancel",m),r.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[r,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function fp(t){return t?.animationName||"none"}function XV(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var QV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=QV.reduce((t,r)=>{const n=_o(`Primitive.${r}`),s=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,d=o?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...l,ref:i})});return s.displayName=`Primitive.${r}`,{...t,[r]:s}},{});function n5(t,r){t&&Em.flushSync(()=>t.dispatchEvent(r))}var jx="Checkbox",[eG]=rn(jx),[tG,Lk]=eG(jx);function rG(t){const{__scopeCheckbox:r,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:d,required:u,value:f="on",internal_do_not_use_render:m}=t,[v,g]=Ns({prop:n,defaultProp:a??!1,onChange:d,caller:jx}),[b,x]=j.useState(null),[y,A]=j.useState(null),E=j.useRef(!1),C=b?!!o||!!b.closest("form"):!0,w={checked:v,disabled:i,setChecked:g,control:b,setControl:x,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:E,required:u,defaultChecked:wo(a)?!1:a,isFormControl:C,bubbleInput:y,setBubbleInput:A};return e.jsx(tG,{scope:r,...w,children:nG(m)?m(w):s})}var s5="CheckboxTrigger",a5=j.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:d,required:u,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:v,isFormControl:g,bubbleInput:b}=Lk(s5,t),x=st(a,f),y=j.useRef(d);return j.useEffect(()=>{const A=i?.form;if(A){const E=()=>m(y.current);return A.addEventListener("reset",E),()=>A.removeEventListener("reset",E)}},[i,m]),e.jsx(Fe.button,{type:"button",role:"checkbox","aria-checked":wo(d)?"mixed":d,"aria-required":u,"data-state":u5(d),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:x,onKeyDown:Re(r,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:Re(n,A=>{m(E=>wo(E)?!0:!E),b&&g&&(v.current=A.isPropagationStopped(),v.current||A.stopPropagation())})})});a5.displayName=s5;var i5=j.forwardRef((t,r)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:u,form:f,...m}=t;return e.jsx(rG,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:s,form:f,value:d,internal_do_not_use_render:({isFormControl:v})=>e.jsxs(e.Fragment,{children:[e.jsx(a5,{...m,ref:r,__scopeCheckbox:n}),v&&e.jsx(d5,{__scopeCheckbox:n})]})})});i5.displayName=jx;var o5="CheckboxIndicator",l5=j.forwardRef((t,r)=>{const{__scopeCheckbox:n,forceMount:s,...a}=t,i=Lk(o5,n);return e.jsx(Fr,{present:s||wo(i.checked)||i.checked===!0,children:e.jsx(Fe.span,{"data-state":u5(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...t.style}})})});l5.displayName=o5;var c5="CheckboxBubbleInput",d5=j.forwardRef(({__scopeCheckbox:t,...r},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:d,name:u,value:f,form:m,bubbleInput:v,setBubbleInput:g}=Lk(c5,t),b=st(n,g),x=Rm(i),y=Tm(s);j.useEffect(()=>{const E=v;if(!E)return;const C=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(C,"checked").set,S=!a.current;if(x!==i&&k){const R=new Event("click",{bubbles:S});E.indeterminate=wo(i),k.call(E,wo(i)?!1:i),E.dispatchEvent(R)}},[v,x,i,a]);const A=j.useRef(wo(i)?!1:i);return e.jsx(Fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??A.current,required:l,disabled:d,name:u,value:f,form:m,...r,tabIndex:-1,ref:b,style:{...r.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});d5.displayName=c5;function nG(t){return typeof t=="function"}function wo(t){return t==="indeterminate"}function u5(t){return wo(t)?"indeterminate":t?"checked":"unchecked"}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aG=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,s)=>s?s.toUpperCase():n.toLowerCase()),oR=t=>{const r=aG(t);return r.charAt(0).toUpperCase()+r.slice(1)},h5=(...t)=>t.filter((r,n,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=j.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},d)=>j.createElement("svg",{ref:d,...iG,width:r,height:r,stroke:t,strokeWidth:s?Number(n)*24/Number(r):n,className:h5("lucide",a),...l},[...o.map(([u,f])=>j.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,r)=>{const n=j.forwardRef(({className:s,...a},i)=>j.createElement(oG,{ref:i,iconNode:r,className:h5(`lucide-${sG(oR(t))}`,`lucide-${t}`,s),...a}));return n.displayName=oR(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ss=xe("activity",lG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ev=xe("arrow-down",cG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Va=xe("arrow-left",dG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Dn=xe("arrow-right",uG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],mG=xe("arrow-up-down",hG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],tv=xe("arrow-up",fG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vG=xe("award",pG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],m5=xe("bell",xG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],yG=xe("boxes",gG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],jG=xe("briefcase",bG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Gc=xe("building-2",wG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],f5=xe("building",NG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wn=xe("calendar",SG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zk=xe("chart-column",kG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xr=xe("check",CG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ga=xe("chevron-down",AG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_G=xe("chevron-left",EG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ka=xe("chevron-right",RG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],PG=xe("chevron-up",TG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],IG=xe("chevrons-up-down",OG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fr=xe("circle-alert",DG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jn=xe("circle-check-big",MG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cr=xe("circle-check",LG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wx=xe("circle-help",zG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],FG=xe("circle-pause",$G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],lR=xe("circle-play",BG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],UG=xe("circle-user",WG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Cr=xe("circle-x",qG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oh=xe("circle",HG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],GG=xe("clipboard-list",VG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],sr=xe("clock",KG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],No=xe("cloud",JG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],IN=xe("code-xml",YG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],XG=xe("code",ZG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],eK=xe("columns-3",QG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fa=xe("copy",tK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],nK=xe("cpu",rK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],cR=xe("credit-card",sK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Fa=xe("database",aK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],p5=xe("dollar-sign",iK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],xr=xe("download",oK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],rv=xe("ellipsis-vertical",lK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ma=xe("ellipsis",cK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],td=xe("external-link",dK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],v5=xe("eye-off",uK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ir=xe("eye",hK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Ih=xe("file-check",mK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],x5=xe("file-json",fK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Pi=xe("file-text",pK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ns=xe("funnel",vK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Ba=xe("git-branch",xK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],g5=xe("grid-3x3",gK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],y5=xe("hard-drive",yK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],jK=xe("history",bK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Dh=xe("info",wK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Mh=xe("key",NK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],kK=xe("keyboard",SK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],AK=xe("layout-dashboard",CK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],$k=xe("link-2",EK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],nv=xe("list-filter",_K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],TK=xe("list",RK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Lh=xe("loader-circle",PK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rd=xe("lock",OK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],DK=xe("log-in",IK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],LK=xe("log-out",MK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],yh=xe("mail",zK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],FK=xe("map-pin",$K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],WK=xe("map",BK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]],qK=xe("memory-stick",UK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],b5=xe("menu",HK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],j5=xe("monitor",VK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],KK=xe("moon",GK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]],YK=xe("move-horizontal",JK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],w5=xe("move-vertical",ZK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],So=xe("package",XK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],eJ=xe("pause",QK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rJ=xe("pen",tJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],sJ=xe("phone",nJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ts=xe("play",aJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],At=xe("plus",iJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],lJ=xe("power",oJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],va=xe("refresh-cw",cJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],uJ=xe("repeat",dJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Pm=xe("rotate-ccw",hJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],N5=xe("save",mJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],pJ=xe("scroll-text",fJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Lr=xe("search",vJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],dR=xe("server",xJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Fk=xe("settings-2",gJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],js=xe("settings",yJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],jJ=xe("share-2",bJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],S5=xe("shield-alert",wJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k5=xe("shield-check",NJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bt=xe("shield",SJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],DN=xe("shopping-cart",kJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],AJ=xe("smartphone",CJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Qt=xe("sparkles",EJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sv=xe("square-check-big",_J);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bs=xe("square-pen",RJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],PJ=xe("square-x",TJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],IJ=xe("sun",OJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],MJ=xe("tag",DJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ud=xe("target",LJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],$J=xe("test-tube",zJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],BJ=xe("timer",FJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Al=xe("trash-2",WJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],qd=xe("trending-down",UJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Sa=xe("trending-up",qJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],et=xe("triangle-alert",HJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Oi=xe("upload",VJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],KJ=xe("user-check",GJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],yi=xe("user-cog",JJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ko=xe("user-minus",YJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hn=xe("user-plus",ZJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Bk=xe("user-x",XJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pa=xe("user",QJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],zt=xe("users",eY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],uR=xe("wifi",tY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],nY=xe("workflow",rY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$t=xe("x",sY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Sr=xe("zap",aY);function Zt({className:t,...r}){return e.jsx(i5,{"data-slot":"checkbox",className:We("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(l5,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(Xr,{className:"size-3.5"})})})}function iY(){const t=$r(),[r,n]=j.useState(""),[s,a]=j.useState(""),[i,o]=j.useState(!1),[l,d]=j.useState(!1),[u,f]=j.useState(null),[m,v]=j.useState(0),g=[{type:"video",src:"https://assets.mixkit.co/videos/preview/mixkit-cybersecurity-lock-in-a-digital-environment-28162-large.mp4",alt:"Cybersecurity Lock"},{type:"video",src:"https://assets.mixkit.co/videos/preview/mixkit-digital-security-fingerprint-scan-1941-large.mp4",alt:"Biometric Authentication"},{type:"image",src:"https://images.unsplash.com/photo-1614064641938-3bbee52942c7?w=1600&auto=format&fit=crop&q=80",alt:"Data Security Network"},{type:"video",src:"https://assets.mixkit.co/videos/preview/mixkit-abstract-blue-network-of-lines-floating-23321-large.mp4",alt:"Network Security"},{type:"image",src:"https://images.unsplash.com/photo-1563986768609-322da13575f3?w=1600&auto=format&fit=crop&q=80",alt:"Authentication Systems"},{type:"video",src:"https://assets.mixkit.co/videos/preview/mixkit-digital-animation-of-futuristic-data-lines-flowing-26610-large.mp4",alt:"Data Flow Security"}];j.useEffect(()=>{const y=setInterval(()=>{v(A=>(A+1)%g.length)},5e3);return()=>clearInterval(y)},[g.length]),j.useEffect(()=>{vt.auth.getSession().then(({data:y})=>{y.session&&t("/")})},[t]);async function b(y,A){const{data:E}=await vt.from("users").select("id").eq("email",y).maybeSingle();let C=E?.id;if(!C){const{data:w}=await vt.from("users").insert({email:y,auth_user_id:A,employment_status:"ACTIVE",status:"active",mfa_enabled:!1}).select("id").single();C=w?.id}y.toLowerCase()==="admin@acme.com"&&C&&await vt.from("user_platform_roles").upsert({user_id:C,role:"administrator"},{onConflict:"user_id,role"})}async function x(y){y.preventDefault(),f(null),d(!0);try{const{data:A,error:E}=await vt.auth.signInWithPassword({email:r,password:s});if(E)throw E;A.session?.user&&await b(r,A.session.user.id),t("/")}catch(A){f(A?.message||"Authentication failed")}finally{d(!1)}}return e.jsxs("div",{style:{display:"flex",height:"100vh",width:"100vw",overflow:"hidden"},children:[e.jsxs("div",{style:{flex:"1 1 55%",position:"relative",overflow:"hidden",background:"#0f172a"},children:[g.map((y,A)=>e.jsx("div",{style:{position:"absolute",inset:0,width:"100%",height:"100%",opacity:m===A?1:0,transition:"opacity 1s ease-in-out",zIndex:m===A?1:0},children:y.type==="video"?e.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"},children:e.jsx("source",{src:y.src,type:"video/mp4"})}):e.jsx("img",{src:y.src,alt:y.alt,style:{width:"100%",height:"100%",objectFit:"cover"}})},A)),e.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(135deg, rgba(67,56,202,0.75) 0%, rgba(79,70,229,0.65) 50%, rgba(99,102,241,0.7) 100%)",zIndex:2}}),e.jsxs("div",{style:{position:"absolute",inset:0,zIndex:3,padding:"48px",display:"flex",flexDirection:"column",justifyContent:"space-between",color:"white"},children:[e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:56,fontWeight:800,lineHeight:1.1,marginBottom:24},children:"IAM Platform"}),e.jsx("p",{style:{fontSize:16,opacity:.95,maxWidth:560,lineHeight:1.6},children:"Empower your enterprise with centralized identity management, automated provisioning, and comprehensive governance  all in one secure platform."})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{fontSize:13,opacity:.75},children:[" ",new Date().getFullYear()," IAM Platform. All rights reserved."]}),e.jsx("div",{style:{display:"flex",gap:8},children:g.map((y,A)=>e.jsx("button",{onClick:()=>v(A),style:{width:m===A?24:8,height:8,borderRadius:4,border:"none",background:m===A?"rgba(255,255,255,0.9)":"rgba(255,255,255,0.3)",cursor:"pointer",transition:"all 0.3s"},"aria-label":`Go to slide ${A+1}`},A))})]})]})]}),e.jsx("div",{style:{flex:"1 1 45%",display:"flex",alignItems:"center",justifyContent:"center",background:"white"},children:e.jsxs("div",{style:{width:"100%",maxWidth:520,padding:"32px 48px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:24},children:[e.jsx("div",{style:{width:36,height:36,borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:700,background:"linear-gradient(135deg, #4f46e5 0%, #3730a3 100%)"},children:"ID"}),e.jsx("div",{style:{fontSize:20,fontWeight:700},children:"IAM Platform"})]}),e.jsx("h2",{style:{fontSize:28,fontWeight:700,marginBottom:8},children:"Welcome Back!"}),e.jsx("p",{style:{color:"#64748b",fontSize:14,marginBottom:24},children:"Sign in with your enterprise account to continue."}),e.jsxs("form",{onSubmit:x,style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",style:{display:"block",fontSize:14,fontWeight:600,marginBottom:8},children:"Email Address"}),e.jsx(pe,{id:"email",type:"email",placeholder:"you@company.com",required:!0,value:r,onChange:y=>n(y.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",style:{display:"block",fontSize:14,fontWeight:600,marginBottom:8},children:"Password"}),e.jsx(pe,{id:"password",type:"password",placeholder:"",required:!0,value:s,onChange:y=>a(y.target.value)})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:14},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(Zt,{checked:i,onCheckedChange:y=>o(!!y)}),e.jsx("span",{children:"Remember me"})]}),e.jsx("a",{href:"#",style:{color:"#4f46e5",textDecoration:"none"},children:"Forgot Password?"})]}),u&&e.jsx("div",{style:{color:"#ef4444",fontSize:14},children:u}),e.jsx(L,{type:"submit",disabled:l,className:"w-full",style:{height:48,borderRadius:12,fontWeight:700},children:l?"Signing in...":"Login"}),e.jsxs("div",{style:{fontSize:14,textAlign:"center",color:"#64748b"},children:["Don't have an account yet? ",e.jsx("a",{href:"/register",style:{color:"#4f46e5",fontWeight:600,textDecoration:"none"},children:"Sign Up"})]}),e.jsxs("div",{style:{fontSize:12,textAlign:"center",color:"#94a3b8"},children:["Tip: use ",e.jsx("code",{style:{fontFamily:"monospace",background:"#f1f5f9",padding:"2px 6px",borderRadius:4},children:"admin@acme.com"})," to auto-assign Administrator role."]})]})]})})]})}function oY(){const t=$r(),[r,n]=j.useState(""),[s,a]=j.useState(""),[i,o]=j.useState(!1),[l,d]=j.useState(null),[u,f]=j.useState(null);j.useEffect(()=>{vt.auth.getSession().then(({data:v})=>{v.session&&t("/")})},[t]);async function m(v){v.preventDefault(),d(null),f(null),o(!0);try{const g=`${window.location.origin}/auth`,{error:b}=await vt.auth.signUp({email:r,password:s,options:{emailRedirectTo:g}});if(b)throw b;f("Check your email to verify your address and complete registration.")}catch(g){d(g?.message||"Registration failed")}finally{o(!1)}}return e.jsx("div",{style:{display:"flex",height:"100vh",width:"100vw",overflow:"hidden"},children:e.jsx("div",{style:{flex:"1 1 100%",display:"flex",alignItems:"center",justifyContent:"center",background:"white"},children:e.jsxs("div",{style:{width:"100%",maxWidth:520,padding:"32px 48px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:24},children:[e.jsx("div",{style:{width:36,height:36,borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:700,background:"linear-gradient(135deg, #4f46e5 0%, #3730a3 100%)"},children:"ID"}),e.jsx("div",{style:{fontSize:20,fontWeight:700},children:"IAM Platform"})]}),e.jsx("h2",{style:{fontSize:28,fontWeight:700,marginBottom:8},children:"Create your account"}),e.jsx("p",{style:{color:"#64748b",fontSize:14,marginBottom:24},children:"Sign up to get started. Email verification is required."}),e.jsxs("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",style:{display:"block",fontSize:14,fontWeight:600,marginBottom:8},children:"Email Address"}),e.jsx(pe,{id:"email",type:"email",placeholder:"you@company.com",required:!0,value:r,onChange:v=>n(v.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",style:{display:"block",fontSize:14,fontWeight:600,marginBottom:8},children:"Password"}),e.jsx(pe,{id:"password",type:"password",placeholder:"",required:!0,value:s,onChange:v=>a(v.target.value)})]}),l&&e.jsx("div",{style:{color:"#ef4444",fontSize:14},children:l}),u&&e.jsx("div",{style:{color:"#16a34a",fontSize:14},children:u}),e.jsx(L,{type:"submit",disabled:i,className:"w-full",style:{height:48,borderRadius:12,fontWeight:700},children:i?"Creating account...":"Sign Up"}),e.jsxs("div",{style:{fontSize:14,textAlign:"center",color:"#64748b"},children:["Already have an account? ",e.jsx("a",{href:"/auth",style:{color:"#4f46e5",fontWeight:600,textDecoration:"none"},children:"Sign In"})]})]})]})})})}function un(t){const r=j.useRef(t);return j.useEffect(()=>{r.current=t}),j.useMemo(()=>(...n)=>r.current?.(...n),[])}var z0={exports:{}},$0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR;function lY(){if(hR)return $0;hR=1;var t=xx();function r(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:r,s=t.useState,a=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(m,v){var g=v(),b=s({inst:{value:g,getSnapshot:v}}),x=b[0].inst,y=b[1];return i(function(){x.value=g,x.getSnapshot=v,d(x)&&y({inst:x})},[m,g,v]),a(function(){return d(x)&&y({inst:x}),m(function(){d(x)&&y({inst:x})})},[m]),o(g),g}function d(m){var v=m.getSnapshot;m=m.value;try{var g=v();return!n(m,g)}catch{return!0}}function u(m,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return $0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,$0}var mR;function cY(){return mR||(mR=1,z0.exports=lY()),z0.exports}var dY=cY();function uY(){return dY.useSyncExternalStore(hY,()=>!0,()=>!1)}function hY(){return()=>{}}var Wk="Avatar",[mY]=rn(Wk),[fY,C5]=mY(Wk),A5=j.forwardRef((t,r)=>{const{__scopeAvatar:n,...s}=t,[a,i]=j.useState("idle");return e.jsx(fY,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(Fe.span,{...s,ref:r})})});A5.displayName=Wk;var E5="AvatarImage",pY=j.forwardRef((t,r)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=t,o=C5(E5,n),l=vY(s,i),d=un(u=>{a(u),o.onImageLoadingStatusChange(u)});return kr(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?e.jsx(Fe.img,{...i,ref:r,src:s}):null});pY.displayName=E5;var _5="AvatarFallback",R5=j.forwardRef((t,r)=>{const{__scopeAvatar:n,delayMs:s,...a}=t,i=C5(_5,n),[o,l]=j.useState(s===void 0);return j.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(d)}},[s]),o&&i.imageLoadingStatus!=="loaded"?e.jsx(Fe.span,{...a,ref:r}):null});R5.displayName=_5;function fR(t,r){return t?r?(t.src!==r&&(t.src=r),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function vY(t,{referrerPolicy:r,crossOrigin:n}){const s=uY(),a=j.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=j.useState(()=>fR(i,t));return kr(()=>{l(fR(i,t))},[i,t]),kr(()=>{const d=m=>()=>{l(m)};if(!i)return;const u=d("loaded"),f=d("error");return i.addEventListener("load",u),i.addEventListener("error",f),r&&(i.referrerPolicy=r),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,n,r]),o}var xY=A5,gY=R5;function Mn({className:t,...r}){return e.jsx(xY,{"data-slot":"avatar",className:We("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...r})}function Ln({className:t,...r}){return e.jsx(gY,{"data-slot":"avatar-fallback",className:We("bg-muted flex size-full items-center justify-center rounded-full",t),...r})}function Nx(t){const r=t+"CollectionProvider",[n,s]=rn(r),[a,i]=n(r,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:y,children:A}=x,E=$.useRef(null),C=$.useRef(new Map).current;return e.jsx(a,{scope:y,itemMap:C,collectionRef:E,children:A})};o.displayName=r;const l=t+"CollectionSlot",d=_o(l),u=$.forwardRef((x,y)=>{const{scope:A,children:E}=x,C=i(l,A),w=st(y,C.collectionRef);return e.jsx(d,{ref:w,children:E})});u.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",v=_o(f),g=$.forwardRef((x,y)=>{const{scope:A,children:E,...C}=x,w=$.useRef(null),k=st(y,w),S=i(f,A);return $.useEffect(()=>(S.itemMap.set(w,{ref:w,...C}),()=>void S.itemMap.delete(w))),e.jsx(v,{[m]:"",ref:k,children:E})});g.displayName=f;function b(x){const y=i(t+"CollectionConsumer",x);return $.useCallback(()=>{const E=y.collectionRef.current;if(!E)return[];const C=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(y.itemMap.values()).sort((S,R)=>C.indexOf(S.ref.current)-C.indexOf(R.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},b,s]}var yY=j.createContext(void 0);function $l(t){const r=j.useContext(yY);return t||r||"ltr"}function bY(t,r=globalThis?.document){const n=un(t);j.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[n,r])}var jY="DismissableLayer",MN="dismissableLayer.update",wY="dismissableLayer.pointerDownOutside",NY="dismissableLayer.focusOutside",pR,T5=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hd=j.forwardRef((t,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=t,u=j.useContext(T5),[f,m]=j.useState(null),v=f?.ownerDocument??globalThis?.document,[,g]=j.useState({}),b=st(r,R=>m(R)),x=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),A=x.indexOf(y),E=f?x.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,w=E>=A,k=CY(R=>{const T=R.target,O=[...u.branches].some(U=>U.contains(T));!w||O||(a?.(R),o?.(R),R.defaultPrevented||l?.())},v),S=AY(R=>{const T=R.target;[...u.branches].some(U=>U.contains(T))||(i?.(R),o?.(R),R.defaultPrevented||l?.())},v);return bY(R=>{E===u.layers.size-1&&(s?.(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},v),j.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pR=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),vR(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=pR)}},[f,v,n,u]),j.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),vR())},[f,u]),j.useEffect(()=>{const R=()=>g({});return document.addEventListener(MN,R),()=>document.removeEventListener(MN,R)},[]),e.jsx(Fe.div,{...d,ref:b,style:{pointerEvents:C?w?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,k.onPointerDownCapture)})});Hd.displayName=jY;var SY="DismissableLayerBranch",kY=j.forwardRef((t,r)=>{const n=j.useContext(T5),s=j.useRef(null),a=st(r,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),e.jsx(Fe.div,{...t,ref:a})});kY.displayName=SY;function CY(t,r=globalThis?.document){const n=un(t),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let d=function(){P5(wY,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",a.current),a.current=d,r.addEventListener("click",a.current,{once:!0})):d()}else r.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",a.current)}},[r,n]),{onPointerDownCapture:()=>s.current=!0}}function AY(t,r=globalThis?.document){const n=un(t),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&P5(NY,n,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",a),()=>r.removeEventListener("focusin",a)},[r,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function vR(){const t=new CustomEvent(MN);document.dispatchEvent(t)}function P5(t,r,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});r&&a.addEventListener(t,r,{once:!0}),s?n5(a,i):a.dispatchEvent(i)}var F0=0;function Sx(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??xR()),document.body.insertAdjacentElement("beforeend",t[1]??xR()),F0++,()=>{F0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),F0--}},[])}function xR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var B0="focusScope.autoFocusOnMount",W0="focusScope.autoFocusOnUnmount",gR={bubbles:!1,cancelable:!0},EY="FocusScope",Om=j.forwardRef((t,r)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[l,d]=j.useState(null),u=un(a),f=un(i),m=j.useRef(null),v=st(r,x=>d(x)),g=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(s){let x=function(C){if(g.paused||!l)return;const w=C.target;l.contains(w)?m.current=w:fo(m.current,{select:!0})},y=function(C){if(g.paused||!l)return;const w=C.relatedTarget;w!==null&&(l.contains(w)||fo(m.current,{select:!0}))},A=function(C){if(document.activeElement===document.body)for(const k of C)k.removedNodes.length>0&&fo(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const E=new MutationObserver(A);return l&&E.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),E.disconnect()}}},[s,l,g.paused]),j.useEffect(()=>{if(l){bR.add(g);const x=document.activeElement;if(!l.contains(x)){const A=new CustomEvent(B0,gR);l.addEventListener(B0,u),l.dispatchEvent(A),A.defaultPrevented||(_Y(IY(O5(l)),{select:!0}),document.activeElement===x&&fo(l))}return()=>{l.removeEventListener(B0,u),setTimeout(()=>{const A=new CustomEvent(W0,gR);l.addEventListener(W0,f),l.dispatchEvent(A),A.defaultPrevented||fo(x??document.body,{select:!0}),l.removeEventListener(W0,f),bR.remove(g)},0)}}},[l,u,f,g]);const b=j.useCallback(x=>{if(!n&&!s||g.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,A=document.activeElement;if(y&&A){const E=x.currentTarget,[C,w]=RY(E);C&&w?!x.shiftKey&&A===w?(x.preventDefault(),n&&fo(C,{select:!0})):x.shiftKey&&A===C&&(x.preventDefault(),n&&fo(w,{select:!0})):A===E&&x.preventDefault()}},[n,s,g.paused]);return e.jsx(Fe.div,{tabIndex:-1,...o,ref:v,onKeyDown:b})});Om.displayName=EY;function _Y(t,{select:r=!1}={}){const n=document.activeElement;for(const s of t)if(fo(s,{select:r}),document.activeElement!==n)return}function RY(t){const r=O5(t),n=yR(r,t),s=yR(r.reverse(),t);return[n,s]}function O5(t){const r=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function yR(t,r){for(const n of t)if(!TY(n,{upTo:r}))return n}function TY(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function PY(t){return t instanceof HTMLInputElement&&"select"in t}function fo(t,{select:r=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&PY(t)&&r&&t.select()}}var bR=OY();function OY(){let t=[];return{add(r){const n=t[0];r!==n&&n?.pause(),t=jR(t,r),t.unshift(r)},remove(r){t=jR(t,r),t[0]?.resume()}}}function jR(t,r){const n=[...t],s=n.indexOf(r);return s!==-1&&n.splice(s,1),n}function IY(t){return t.filter(r=>r.tagName!=="A")}var DY=l3[" useId ".trim().toString()]||(()=>{}),MY=0;function tn(t){const[r,n]=j.useState(DY());return kr(()=>{n(s=>s??String(MY++))},[t]),r?`radix-${r}`:""}const LY=["top","right","bottom","left"],Ro=Math.min,vs=Math.max,av=Math.round,pp=Math.floor,Wa=t=>({x:t,y:t}),zY={left:"right",right:"left",bottom:"top",top:"bottom"},$Y={start:"end",end:"start"};function LN(t,r,n){return vs(t,Ro(r,n))}function Ii(t,r){return typeof t=="function"?t(r):t}function Di(t){return t.split("-")[0]}function Vd(t){return t.split("-")[1]}function Uk(t){return t==="x"?"y":"x"}function qk(t){return t==="y"?"height":"width"}const FY=new Set(["top","bottom"]);function La(t){return FY.has(Di(t))?"y":"x"}function Hk(t){return Uk(La(t))}function BY(t,r,n){n===void 0&&(n=!1);const s=Vd(t),a=Hk(t),i=qk(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=iv(o)),[o,iv(o)]}function WY(t){const r=iv(t);return[zN(t),r,zN(r)]}function zN(t){return t.replace(/start|end/g,r=>$Y[r])}const wR=["left","right"],NR=["right","left"],UY=["top","bottom"],qY=["bottom","top"];function HY(t,r,n){switch(t){case"top":case"bottom":return n?r?NR:wR:r?wR:NR;case"left":case"right":return r?UY:qY;default:return[]}}function VY(t,r,n,s){const a=Vd(t);let i=HY(Di(t),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),r&&(i=i.concat(i.map(zN)))),i}function iv(t){return t.replace(/left|right|bottom|top/g,r=>zY[r])}function GY(t){return{top:0,right:0,bottom:0,left:0,...t}}function I5(t){return typeof t!="number"?GY(t):{top:t,right:t,bottom:t,left:t}}function ov(t){const{x:r,y:n,width:s,height:a}=t;return{width:s,height:a,top:n,left:r,right:r+s,bottom:n+a,x:r,y:n}}function SR(t,r,n){let{reference:s,floating:a}=t;const i=La(r),o=Hk(r),l=qk(o),d=Di(r),u=i==="y",f=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,v=s[l]/2-a[l]/2;let g;switch(d){case"top":g={x:f,y:s.y-a.height};break;case"bottom":g={x:f,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:m};break;case"left":g={x:s.x-a.width,y:m};break;default:g={x:s.x,y:s.y}}switch(Vd(r)){case"start":g[o]-=v*(n&&u?-1:1);break;case"end":g[o]+=v*(n&&u?-1:1);break}return g}const KY=async(t,r,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(r));let u=await o.getElementRects({reference:t,floating:r,strategy:a}),{x:f,y:m}=SR(u,s,d),v=s,g={},b=0;for(let x=0;x<l.length;x++){const{name:y,fn:A}=l[x],{x:E,y:C,data:w,reset:k}=await A({x:f,y:m,initialPlacement:s,placement:v,strategy:a,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:r}});f=E??f,m=C??m,g={...g,[y]:{...g[y],...w}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(v=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:t,floating:r,strategy:a}):k.rects),{x:f,y:m}=SR(u,v,d)),x=-1)}return{x:f,y:m,placement:v,strategy:a,middlewareData:g}};async function zh(t,r){var n;r===void 0&&(r={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:d}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:v=!1,padding:g=0}=Ii(r,t),b=I5(g),y=l[v?m==="floating"?"reference":"floating":m],A=ov(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:d})),E=m==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},k=ov(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:C,strategy:d}):E);return{top:(A.top-k.top+b.top)/w.y,bottom:(k.bottom-A.bottom+b.bottom)/w.y,left:(A.left-k.left+b.left)/w.x,right:(k.right-A.right+b.right)/w.x}}const JY=t=>({name:"arrow",options:t,async fn(r){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:d}=r,{element:u,padding:f=0}=Ii(t,r)||{};if(u==null)return{};const m=I5(f),v={x:n,y:s},g=Hk(a),b=qk(g),x=await o.getDimensions(u),y=g==="y",A=y?"top":"left",E=y?"bottom":"right",C=y?"clientHeight":"clientWidth",w=i.reference[b]+i.reference[g]-v[g]-i.floating[b],k=v[g]-i.reference[g],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let R=S?S[C]:0;(!R||!await(o.isElement==null?void 0:o.isElement(S)))&&(R=l.floating[C]||i.floating[b]);const T=w/2-k/2,O=R/2-x[b]/2-1,U=Ro(m[A],O),D=Ro(m[E],O),I=U,B=R-x[b]-D,M=R/2-x[b]/2+T,W=LN(I,M,B),V=!d.arrow&&Vd(a)!=null&&M!==W&&i.reference[b]/2-(M<I?U:D)-x[b]/2<0,Q=V?M<I?M-I:M-B:0;return{[g]:v[g]+Q,data:{[g]:W,centerOffset:M-W-Q,...V&&{alignmentOffset:Q}},reset:V}}}),YY=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:u}=r,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...y}=Ii(t,r);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const A=Di(a),E=La(l),C=Di(l)===l,w=await(d.isRTL==null?void 0:d.isRTL(u.floating)),k=v||(C||!x?[iv(l)]:WY(l)),S=b!=="none";!v&&S&&k.push(...VY(l,x,b,w));const R=[l,...k],T=await zh(r,y),O=[];let U=((s=i.flip)==null?void 0:s.overflows)||[];if(f&&O.push(T[A]),m){const M=BY(a,o,w);O.push(T[M[0]],T[M[1]])}if(U=[...U,{placement:a,overflows:O}],!O.every(M=>M<=0)){var D,I;const M=(((D=i.flip)==null?void 0:D.index)||0)+1,W=R[M];if(W&&(!(m==="alignment"?E!==La(W):!1)||U.every(H=>La(H.placement)===E?H.overflows[0]>0:!0)))return{data:{index:M,overflows:U},reset:{placement:W}};let V=(I=U.filter(Q=>Q.overflows[0]<=0).sort((Q,H)=>Q.overflows[1]-H.overflows[1])[0])==null?void 0:I.placement;if(!V)switch(g){case"bestFit":{var B;const Q=(B=U.filter(H=>{if(S){const X=La(H.placement);return X===E||X==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(X=>X>0).reduce((X,K)=>X+K,0)]).sort((H,X)=>H[1]-X[1])[0])==null?void 0:B[0];Q&&(V=Q);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function kR(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function CR(t){return LY.some(r=>t[r]>=0)}const ZY=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:n}=r,{strategy:s="referenceHidden",...a}=Ii(t,r);switch(s){case"referenceHidden":{const i=await zh(r,{...a,elementContext:"reference"}),o=kR(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CR(o)}}}case"escaped":{const i=await zh(r,{...a,altBoundary:!0}),o=kR(i,n.floating);return{data:{escapedOffsets:o,escaped:CR(o)}}}default:return{}}}}},D5=new Set(["left","top"]);async function XY(t,r){const{placement:n,platform:s,elements:a}=t,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Di(n),l=Vd(n),d=La(n)==="y",u=D5.has(o)?-1:1,f=i&&d?-1:1,m=Ii(r,t);let{mainAxis:v,crossAxis:g,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),d?{x:g*f,y:v*u}:{x:v*u,y:g*f}}const QY=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=r,d=await XY(r,t);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},eZ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:n,y:s,placement:a}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:A,y:E}=y;return{x:A,y:E}}},...d}=Ii(t,r),u={x:n,y:s},f=await zh(r,d),m=La(Di(a)),v=Uk(m);let g=u[v],b=u[m];if(i){const y=v==="y"?"top":"left",A=v==="y"?"bottom":"right",E=g+f[y],C=g-f[A];g=LN(E,g,C)}if(o){const y=m==="y"?"top":"left",A=m==="y"?"bottom":"right",E=b+f[y],C=b-f[A];b=LN(E,b,C)}const x=l.fn({...r,[v]:g,[m]:b});return{...x,data:{x:x.x-n,y:x.y-s,enabled:{[v]:i,[m]:o}}}}}},tZ=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=Ii(t,r),f={x:n,y:s},m=La(a),v=Uk(m);let g=f[v],b=f[m];const x=Ii(l,r),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const C=v==="y"?"height":"width",w=i.reference[v]-i.floating[C]+y.mainAxis,k=i.reference[v]+i.reference[C]-y.mainAxis;g<w?g=w:g>k&&(g=k)}if(u){var A,E;const C=v==="y"?"width":"height",w=D5.has(Di(a)),k=i.reference[m]-i.floating[C]+(w&&((A=o.offset)==null?void 0:A[m])||0)+(w?0:y.crossAxis),S=i.reference[m]+i.reference[C]+(w?0:((E=o.offset)==null?void 0:E[m])||0)-(w?y.crossAxis:0);b<k?b=k:b>S&&(b=S)}return{[v]:g,[m]:b}}}},rZ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var n,s;const{placement:a,rects:i,platform:o,elements:l}=r,{apply:d=()=>{},...u}=Ii(t,r),f=await zh(r,u),m=Di(a),v=Vd(a),g=La(a)==="y",{width:b,height:x}=i.floating;let y,A;m==="top"||m==="bottom"?(y=m,A=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(A=m,y=v==="end"?"top":"bottom");const E=x-f.top-f.bottom,C=b-f.left-f.right,w=Ro(x-f[y],E),k=Ro(b-f[A],C),S=!r.middlewareData.shift;let R=w,T=k;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&(T=C),(s=r.middlewareData.shift)!=null&&s.enabled.y&&(R=E),S&&!v){const U=vs(f.left,0),D=vs(f.right,0),I=vs(f.top,0),B=vs(f.bottom,0);g?T=b-2*(U!==0||D!==0?U+D:vs(f.left,f.right)):R=x-2*(I!==0||B!==0?I+B:vs(f.top,f.bottom))}await d({...r,availableWidth:T,availableHeight:R});const O=await o.getDimensions(l.floating);return b!==O.width||x!==O.height?{reset:{rects:!0}}:{}}}};function kx(){return typeof window<"u"}function Gd(t){return M5(t)?(t.nodeName||"").toLowerCase():"#document"}function ws(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function Xa(t){var r;return(r=(M5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function M5(t){return kx()?t instanceof Node||t instanceof ws(t).Node:!1}function xa(t){return kx()?t instanceof Element||t instanceof ws(t).Element:!1}function Ja(t){return kx()?t instanceof HTMLElement||t instanceof ws(t).HTMLElement:!1}function AR(t){return!kx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ws(t).ShadowRoot}const nZ=new Set(["inline","contents"]);function Im(t){const{overflow:r,overflowX:n,overflowY:s,display:a}=ga(t);return/auto|scroll|overlay|hidden|clip/.test(r+s+n)&&!nZ.has(a)}const sZ=new Set(["table","td","th"]);function aZ(t){return sZ.has(Gd(t))}const iZ=[":popover-open",":modal"];function Cx(t){return iZ.some(r=>{try{return t.matches(r)}catch{return!1}})}const oZ=["transform","translate","scale","rotate","perspective"],lZ=["transform","translate","scale","rotate","perspective","filter"],cZ=["paint","layout","strict","content"];function Vk(t){const r=Gk(),n=xa(t)?ga(t):t;return oZ.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||lZ.some(s=>(n.willChange||"").includes(s))||cZ.some(s=>(n.contain||"").includes(s))}function dZ(t){let r=To(t);for(;Ja(r)&&!nd(r);){if(Vk(r))return r;if(Cx(r))return null;r=To(r)}return null}function Gk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uZ=new Set(["html","body","#document"]);function nd(t){return uZ.has(Gd(t))}function ga(t){return ws(t).getComputedStyle(t)}function Ax(t){return xa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function To(t){if(Gd(t)==="html")return t;const r=t.assignedSlot||t.parentNode||AR(t)&&t.host||Xa(t);return AR(r)?r.host:r}function L5(t){const r=To(t);return nd(r)?t.ownerDocument?t.ownerDocument.body:t.body:Ja(r)&&Im(r)?r:L5(r)}function $h(t,r,n){var s;r===void 0&&(r=[]),n===void 0&&(n=!0);const a=L5(t),i=a===((s=t.ownerDocument)==null?void 0:s.body),o=ws(a);if(i){const l=$N(o);return r.concat(o,o.visualViewport||[],Im(a)?a:[],l&&n?$h(l):[])}return r.concat(a,$h(a,[],n))}function $N(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function z5(t){const r=ga(t);let n=parseFloat(r.width)||0,s=parseFloat(r.height)||0;const a=Ja(t),i=a?t.offsetWidth:n,o=a?t.offsetHeight:s,l=av(n)!==i||av(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function Kk(t){return xa(t)?t:t.contextElement}function Kc(t){const r=Kk(t);if(!Ja(r))return Wa(1);const n=r.getBoundingClientRect(),{width:s,height:a,$:i}=z5(r);let o=(i?av(n.width):n.width)/s,l=(i?av(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const hZ=Wa(0);function $5(t){const r=ws(t);return!Gk()||!r.visualViewport?hZ:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function mZ(t,r,n){return r===void 0&&(r=!1),!n||r&&n!==ws(t)?!1:r}function El(t,r,n,s){r===void 0&&(r=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),i=Kk(t);let o=Wa(1);r&&(s?xa(s)&&(o=Kc(s)):o=Kc(t));const l=mZ(i,n,s)?$5(i):Wa(0);let d=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,f=a.width/o.x,m=a.height/o.y;if(i){const v=ws(i),g=s&&xa(s)?ws(s):s;let b=v,x=$N(b);for(;x&&s&&g!==b;){const y=Kc(x),A=x.getBoundingClientRect(),E=ga(x),C=A.left+(x.clientLeft+parseFloat(E.paddingLeft))*y.x,w=A.top+(x.clientTop+parseFloat(E.paddingTop))*y.y;d*=y.x,u*=y.y,f*=y.x,m*=y.y,d+=C,u+=w,b=ws(x),x=$N(b)}}return ov({width:f,height:m,x:d,y:u})}function Ex(t,r){const n=Ax(t).scrollLeft;return r?r.left+n:El(Xa(t)).left+n}function F5(t,r){const n=t.getBoundingClientRect(),s=n.left+r.scrollLeft-Ex(t,n),a=n.top+r.scrollTop;return{x:s,y:a}}function fZ(t){let{elements:r,rect:n,offsetParent:s,strategy:a}=t;const i=a==="fixed",o=Xa(s),l=r?Cx(r.floating):!1;if(s===o||l&&i)return n;let d={scrollLeft:0,scrollTop:0},u=Wa(1);const f=Wa(0),m=Ja(s);if((m||!m&&!i)&&((Gd(s)!=="body"||Im(o))&&(d=Ax(s)),Ja(s))){const g=El(s);u=Kc(s),f.x=g.x+s.clientLeft,f.y=g.y+s.clientTop}const v=o&&!m&&!i?F5(o,d):Wa(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-d.scrollLeft*u.x+f.x+v.x,y:n.y*u.y-d.scrollTop*u.y+f.y+v.y}}function pZ(t){return Array.from(t.getClientRects())}function vZ(t){const r=Xa(t),n=Ax(t),s=t.ownerDocument.body,a=vs(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),i=vs(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Ex(t);const l=-n.scrollTop;return ga(s).direction==="rtl"&&(o+=vs(r.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}const ER=25;function xZ(t,r){const n=ws(t),s=Xa(t),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,d=0;if(a){i=a.width,o=a.height;const f=Gk();(!f||f&&r==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}const u=Ex(s);if(u<=0){const f=s.ownerDocument,m=f.body,v=getComputedStyle(m),g=f.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,b=Math.abs(s.clientWidth-m.clientWidth-g);b<=ER&&(i-=b)}else u<=ER&&(i+=u);return{width:i,height:o,x:l,y:d}}const gZ=new Set(["absolute","fixed"]);function yZ(t,r){const n=El(t,!0,r==="fixed"),s=n.top+t.clientTop,a=n.left+t.clientLeft,i=Ja(t)?Kc(t):Wa(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,d=a*i.x,u=s*i.y;return{width:o,height:l,x:d,y:u}}function _R(t,r,n){let s;if(r==="viewport")s=xZ(t,n);else if(r==="document")s=vZ(Xa(t));else if(xa(r))s=yZ(r,n);else{const a=$5(t);s={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return ov(s)}function B5(t,r){const n=To(t);return n===r||!xa(n)||nd(n)?!1:ga(n).position==="fixed"||B5(n,r)}function bZ(t,r){const n=r.get(t);if(n)return n;let s=$h(t,[],!1).filter(l=>xa(l)&&Gd(l)!=="body"),a=null;const i=ga(t).position==="fixed";let o=i?To(t):t;for(;xa(o)&&!nd(o);){const l=ga(o),d=Vk(o);!d&&l.position==="fixed"&&(a=null),(i?!d&&!a:!d&&l.position==="static"&&!!a&&gZ.has(a.position)||Im(o)&&!d&&B5(t,o))?s=s.filter(f=>f!==o):a=l,o=To(o)}return r.set(t,s),s}function jZ(t){let{element:r,boundary:n,rootBoundary:s,strategy:a}=t;const o=[...n==="clippingAncestors"?Cx(r)?[]:bZ(r,this._c):[].concat(n),s],l=o[0],d=o.reduce((u,f)=>{const m=_R(r,f,a);return u.top=vs(m.top,u.top),u.right=Ro(m.right,u.right),u.bottom=Ro(m.bottom,u.bottom),u.left=vs(m.left,u.left),u},_R(r,l,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function wZ(t){const{width:r,height:n}=z5(t);return{width:r,height:n}}function NZ(t,r,n){const s=Ja(r),a=Xa(r),i=n==="fixed",o=El(t,!0,i,r);let l={scrollLeft:0,scrollTop:0};const d=Wa(0);function u(){d.x=Ex(a)}if(s||!s&&!i)if((Gd(r)!=="body"||Im(a))&&(l=Ax(r)),s){const g=El(r,!0,i,r);d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}else a&&u();i&&!s&&a&&u();const f=a&&!s&&!i?F5(a,l):Wa(0),m=o.left+l.scrollLeft-d.x-f.x,v=o.top+l.scrollTop-d.y-f.y;return{x:m,y:v,width:o.width,height:o.height}}function U0(t){return ga(t).position==="static"}function RR(t,r){if(!Ja(t)||ga(t).position==="fixed")return null;if(r)return r(t);let n=t.offsetParent;return Xa(t)===n&&(n=n.ownerDocument.body),n}function W5(t,r){const n=ws(t);if(Cx(t))return n;if(!Ja(t)){let a=To(t);for(;a&&!nd(a);){if(xa(a)&&!U0(a))return a;a=To(a)}return n}let s=RR(t,r);for(;s&&aZ(s)&&U0(s);)s=RR(s,r);return s&&nd(s)&&U0(s)&&!Vk(s)?n:s||dZ(t)||n}const SZ=async function(t){const r=this.getOffsetParent||W5,n=this.getDimensions,s=await n(t.floating);return{reference:NZ(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function kZ(t){return ga(t).direction==="rtl"}const CZ={convertOffsetParentRelativeRectToViewportRelativeRect:fZ,getDocumentElement:Xa,getClippingRect:jZ,getOffsetParent:W5,getElementRects:SZ,getClientRects:pZ,getDimensions:wZ,getScale:Kc,isElement:xa,isRTL:kZ};function U5(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function AZ(t,r){let n=null,s;const a=Xa(t);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const u=t.getBoundingClientRect(),{left:f,top:m,width:v,height:g}=u;if(l||r(),!v||!g)return;const b=pp(m),x=pp(a.clientWidth-(f+v)),y=pp(a.clientHeight-(m+g)),A=pp(f),C={rootMargin:-b+"px "+-x+"px "+-y+"px "+-A+"px",threshold:vs(0,Ro(1,d))||1};let w=!0;function k(S){const R=S[0].intersectionRatio;if(R!==d){if(!w)return o();R?o(!1,R):s=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!U5(u,t.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(k,{...C,root:a.ownerDocument})}catch{n=new IntersectionObserver(k,C)}n.observe(t)}return o(!0),i}function EZ(t,r,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,u=Kk(t),f=a||i?[...u?$h(u):[],...$h(r)]:[];f.forEach(A=>{a&&A.addEventListener("scroll",n,{passive:!0}),i&&A.addEventListener("resize",n)});const m=u&&l?AZ(u,n):null;let v=-1,g=null;o&&(g=new ResizeObserver(A=>{let[E]=A;E&&E.target===u&&g&&(g.unobserve(r),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(r)})),n()}),u&&!d&&g.observe(u),g.observe(r));let b,x=d?El(t):null;d&&y();function y(){const A=El(t);x&&!U5(x,A)&&n(),x=A,b=requestAnimationFrame(y)}return n(),()=>{var A;f.forEach(E=>{a&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),m?.(),(A=g)==null||A.disconnect(),g=null,d&&cancelAnimationFrame(b)}}const _Z=QY,RZ=eZ,TZ=YY,PZ=rZ,OZ=ZY,TR=JY,IZ=tZ,DZ=(t,r,n)=>{const s=new Map,a={platform:CZ,...n},i={...a.platform,_c:s};return KY(t,r,{...a,platform:i})};var MZ=typeof document<"u",LZ=function(){},qp=MZ?j.useLayoutEffect:LZ;function lv(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let n,s,a;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==r.length)return!1;for(s=n;s--!==0;)if(!lv(t[s],r[s]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&t.$$typeof)&&!lv(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}function q5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function PR(t,r){const n=q5(t);return Math.round(r*n)/n}function q0(t){const r=j.useRef(t);return qp(()=>{r.current=t}),r}function zZ(t){t===void 0&&(t={});const{placement:r="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:u}=t,[f,m]=j.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[v,g]=j.useState(s);lv(v,s)||g(s);const[b,x]=j.useState(null),[y,A]=j.useState(null),E=j.useCallback(H=>{H!==S.current&&(S.current=H,x(H))},[]),C=j.useCallback(H=>{H!==R.current&&(R.current=H,A(H))},[]),w=i||b,k=o||y,S=j.useRef(null),R=j.useRef(null),T=j.useRef(f),O=d!=null,U=q0(d),D=q0(a),I=q0(u),B=j.useCallback(()=>{if(!S.current||!R.current)return;const H={placement:r,strategy:n,middleware:v};D.current&&(H.platform=D.current),DZ(S.current,R.current,H).then(X=>{const K={...X,isPositioned:I.current!==!1};M.current&&!lv(T.current,K)&&(T.current=K,Em.flushSync(()=>{m(K)}))})},[v,r,n,D,I]);qp(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[u]);const M=j.useRef(!1);qp(()=>(M.current=!0,()=>{M.current=!1}),[]),qp(()=>{if(w&&(S.current=w),k&&(R.current=k),w&&k){if(U.current)return U.current(w,k,B);B()}},[w,k,B,U,O]);const W=j.useMemo(()=>({reference:S,floating:R,setReference:E,setFloating:C}),[E,C]),V=j.useMemo(()=>({reference:w,floating:k}),[w,k]),Q=j.useMemo(()=>{const H={position:n,left:0,top:0};if(!V.floating)return H;const X=PR(V.floating,f.x),K=PR(V.floating,f.y);return l?{...H,transform:"translate("+X+"px, "+K+"px)",...q5(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:K}},[n,l,V.floating,f.x,f.y]);return j.useMemo(()=>({...f,update:B,refs:W,elements:V,floatingStyles:Q}),[f,B,W,V,Q])}const $Z=t=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:a}=typeof t=="function"?t(n):t;return s&&r(s)?s.current!=null?TR({element:s.current,padding:a}).fn(n):{}:s?TR({element:s,padding:a}).fn(n):{}}}},FZ=(t,r)=>({..._Z(t),options:[t,r]}),BZ=(t,r)=>({...RZ(t),options:[t,r]}),WZ=(t,r)=>({...IZ(t),options:[t,r]}),UZ=(t,r)=>({...TZ(t),options:[t,r]}),qZ=(t,r)=>({...PZ(t),options:[t,r]}),HZ=(t,r)=>({...OZ(t),options:[t,r]}),VZ=(t,r)=>({...$Z(t),options:[t,r]});var GZ="Arrow",H5=j.forwardRef((t,r)=>{const{children:n,width:s=10,height:a=5,...i}=t;return e.jsx(Fe.svg,{...i,ref:r,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});H5.displayName=GZ;var KZ=H5,Jk="Popper",[V5,zo]=rn(Jk),[JZ,G5]=V5(Jk),K5=t=>{const{__scopePopper:r,children:n}=t,[s,a]=j.useState(null);return e.jsx(JZ,{scope:r,anchor:s,onAnchorChange:a,children:n})};K5.displayName=Jk;var J5="PopperAnchor",Y5=j.forwardRef((t,r)=>{const{__scopePopper:n,virtualRef:s,...a}=t,i=G5(J5,n),o=j.useRef(null),l=st(r,o),d=j.useRef(null);return j.useEffect(()=>{const u=d.current;d.current=s?.current||o.current,u!==d.current&&i.onAnchorChange(d.current)}),s?null:e.jsx(Fe.div,{...a,ref:l})});Y5.displayName=J5;var Yk="PopperContent",[YZ,ZZ]=V5(Yk),Z5=j.forwardRef((t,r)=>{const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:g="optimized",onPlaced:b,...x}=t,y=G5(Yk,n),[A,E]=j.useState(null),C=st(r,de=>E(de)),[w,k]=j.useState(null),S=Tm(w),R=S?.width??0,T=S?.height??0,O=s+(i!=="center"?"-"+i:""),U=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(u)?u:[u],I=D.length>0,B={padding:U,boundary:D.filter(QZ),altBoundary:I},{refs:M,floatingStyles:W,placement:V,isPositioned:Q,middlewareData:H}=zZ({strategy:"fixed",placement:O,whileElementsMounted:(...de)=>EZ(...de,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[FZ({mainAxis:a+T,alignmentAxis:o}),d&&BZ({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?WZ():void 0,...B}),d&&UZ({...B}),qZ({...B,apply:({elements:de,rects:fe,availableWidth:he,availableHeight:re})=>{const{width:ge,height:le}=fe.reference,Ye=de.floating.style;Ye.setProperty("--radix-popper-available-width",`${he}px`),Ye.setProperty("--radix-popper-available-height",`${re}px`),Ye.setProperty("--radix-popper-anchor-width",`${ge}px`),Ye.setProperty("--radix-popper-anchor-height",`${le}px`)}}),w&&VZ({element:w,padding:l}),eX({arrowWidth:R,arrowHeight:T}),v&&HZ({strategy:"referenceHidden",...B})]}),[X,K]=eL(V),z=un(b);kr(()=>{Q&&z?.()},[Q,z]);const q=H.arrow?.x,ee=H.arrow?.y,oe=H.arrow?.centerOffset!==0,[ce,ye]=j.useState();return kr(()=>{A&&ye(window.getComputedStyle(A).zIndex)},[A]),e.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Q?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(YZ,{scope:n,placedSide:X,onArrowChange:k,arrowX:q,arrowY:ee,shouldHideArrow:oe,children:e.jsx(Fe.div,{"data-side":X,"data-align":K,...x,ref:C,style:{...x.style,animation:Q?void 0:"none"}})})})});Z5.displayName=Yk;var X5="PopperArrow",XZ={top:"bottom",right:"left",bottom:"top",left:"right"},Q5=j.forwardRef(function(r,n){const{__scopePopper:s,...a}=r,i=ZZ(X5,s),o=XZ[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(KZ,{...a,ref:n,style:{...a.style,display:"block"}})})});Q5.displayName=X5;function QZ(t){return t!==null}var eX=t=>({name:"transformOrigin",options:t,fn(r){const{placement:n,rects:s,middlewareData:a}=r,o=a.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[u,f]=eL(n),m={start:"0%",center:"50%",end:"100%"}[f],v=(a.arrow?.x??0)+l/2,g=(a.arrow?.y??0)+d/2;let b="",x="";return u==="bottom"?(b=o?m:`${v}px`,x=`${-d}px`):u==="top"?(b=o?m:`${v}px`,x=`${s.floating.height+d}px`):u==="right"?(b=`${-d}px`,x=o?m:`${g}px`):u==="left"&&(b=`${s.floating.width+d}px`,x=o?m:`${g}px`),{data:{x:b,y:x}}}});function eL(t){const[r,n="center"]=t.split("-");return[r,n]}var _x=K5,Dm=Y5,Rx=Z5,Tx=Q5,tX="Portal",Kd=j.forwardRef((t,r)=>{const{container:n,...s}=t,[a,i]=j.useState(!1);kr(()=>i(!0),[]);const o=n||a&&globalThis?.document?.body;return o?N3.createPortal(e.jsx(Fe.div,{...s,ref:r}),o):null});Kd.displayName=tX;var H0="rovingFocusGroup.onEntryFocus",rX={bubbles:!1,cancelable:!0},Mm="RovingFocusGroup",[FN,tL,nX]=Nx(Mm),[sX,Jd]=rn(Mm,[nX]),[aX,iX]=sX(Mm),rL=j.forwardRef((t,r)=>e.jsx(FN.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(FN.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(oX,{...t,ref:r})})}));rL.displayName=Mm;var oX=j.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...m}=t,v=j.useRef(null),g=st(r,v),b=$l(i),[x,y]=Ns({prop:o,defaultProp:l??null,onChange:d,caller:Mm}),[A,E]=j.useState(!1),C=un(u),w=tL(n),k=j.useRef(!1),[S,R]=j.useState(0);return j.useEffect(()=>{const T=v.current;if(T)return T.addEventListener(H0,C),()=>T.removeEventListener(H0,C)},[C]),e.jsx(aX,{scope:n,orientation:s,dir:b,loop:a,currentTabStopId:x,onItemFocus:j.useCallback(T=>y(T),[y]),onItemShiftTab:j.useCallback(()=>E(!0),[]),onFocusableItemAdd:j.useCallback(()=>R(T=>T+1),[]),onFocusableItemRemove:j.useCallback(()=>R(T=>T-1),[]),children:e.jsx(Fe.div,{tabIndex:A||S===0?-1:0,"data-orientation":s,...m,ref:g,style:{outline:"none",...t.style},onMouseDown:Re(t.onMouseDown,()=>{k.current=!0}),onFocus:Re(t.onFocus,T=>{const O=!k.current;if(T.target===T.currentTarget&&O&&!A){const U=new CustomEvent(H0,rX);if(T.currentTarget.dispatchEvent(U),!U.defaultPrevented){const D=w().filter(V=>V.focusable),I=D.find(V=>V.active),B=D.find(V=>V.id===x),W=[I,B,...D].filter(Boolean).map(V=>V.ref.current);aL(W,f)}}k.current=!1}),onBlur:Re(t.onBlur,()=>E(!1))})})}),nL="RovingFocusGroupItem",sL=j.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=t,d=tn(),u=i||d,f=iX(nL,n),m=f.currentTabStopId===u,v=tL(n),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:x}=f;return j.useEffect(()=>{if(s)return g(),()=>b()},[s,g,b]),e.jsx(FN.ItemSlot,{scope:n,id:u,focusable:s,active:a,children:e.jsx(Fe.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:r,onMouseDown:Re(t.onMouseDown,y=>{s?f.onItemFocus(u):y.preventDefault()}),onFocus:Re(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:Re(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const A=dX(y,f.orientation,f.dir);if(A!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let C=v().filter(w=>w.focusable).map(w=>w.ref.current);if(A==="last")C.reverse();else if(A==="prev"||A==="next"){A==="prev"&&C.reverse();const w=C.indexOf(y.currentTarget);C=f.loop?uX(C,w+1):C.slice(w+1)}setTimeout(()=>aL(C))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:x!=null}):o})})});sL.displayName=nL;var lX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cX(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dX(t,r,n){const s=cX(t.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return lX[s]}function aL(t,r=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:r}),document.activeElement!==n))return}function uX(t,r){return t.map((n,s)=>t[(r+s)%t.length])}var Zk=rL,Xk=sL,hX=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},_c=new WeakMap,vp=new WeakMap,xp={},V0=0,iL=function(t){return t&&(t.host||iL(t.parentNode))},mX=function(t,r){return r.map(function(n){if(t.contains(n))return n;var s=iL(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fX=function(t,r,n,s){var a=mX(r,Array.isArray(t)?t:[t]);xp[n]||(xp[n]=new WeakMap);var i=xp[n],o=[],l=new Set,d=new Set(a),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};a.forEach(u);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(v){if(l.has(v))f(v);else try{var g=v.getAttribute(s),b=g!==null&&g!=="false",x=(_c.get(v)||0)+1,y=(i.get(v)||0)+1;_c.set(v,x),i.set(v,y),o.push(v),x===1&&b&&vp.set(v,!0),y===1&&v.setAttribute(n,"true"),b||v.setAttribute(s,"true")}catch(A){console.error("aria-hidden: cannot operate on ",v,A)}})};return f(r),l.clear(),V0++,function(){o.forEach(function(m){var v=_c.get(m)-1,g=i.get(m)-1;_c.set(m,v),i.set(m,g),v||(vp.has(m)||m.removeAttribute(s),vp.delete(m)),g||m.removeAttribute(n)}),V0--,V0||(_c=new WeakMap,_c=new WeakMap,vp=new WeakMap,xp={})}},Px=function(t,r,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),a=hX(t);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),fX(s,a,n,"aria-hidden")):function(){return null}},Ia=function(){return Ia=Object.assign||function(r){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Ia.apply(this,arguments)};function oL(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function pX(t,r,n){if(n||arguments.length===2)for(var s=0,a=r.length,i;s<a;s++)(i||!(s in r))&&(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return t.concat(i||Array.prototype.slice.call(r))}var Hp="right-scroll-bar-position",Vp="width-before-scroll-bar",vX="with-scroll-bars-hidden",xX="--removed-body-scroll-bar-size";function G0(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function gX(t,r){var n=j.useState(function(){return{value:t,callback:r,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=r,n.facade}var yX=typeof window<"u"?j.useLayoutEffect:j.useEffect,OR=new WeakMap;function bX(t,r){var n=gX(null,function(s){return t.forEach(function(a){return G0(a,s)})});return yX(function(){var s=OR.get(n);if(s){var a=new Set(s),i=new Set(t),o=n.current;a.forEach(function(l){i.has(l)||G0(l,null)}),i.forEach(function(l){a.has(l)||G0(l,o)})}OR.set(n,t)},[t]),n}function jX(t){return t}function wX(t,r){r===void 0&&(r=jX);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=r(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var d=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return a}function NX(t){t===void 0&&(t={});var r=wX(null);return r.options=Ia({async:!0,ssr:!1},t),r}var lL=function(t){var r=t.sideCar,n=oL(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return j.createElement(s,Ia({},n))};lL.isSideCarExport=!0;function SX(t,r){return t.useMedium(r),lL}var cL=NX(),K0=function(){},Ox=j.forwardRef(function(t,r){var n=j.useRef(null),s=j.useState({onScrollCapture:K0,onWheelCapture:K0,onTouchMoveCapture:K0}),a=s[0],i=s[1],o=t.forwardProps,l=t.children,d=t.className,u=t.removeScrollBar,f=t.enabled,m=t.shards,v=t.sideCar,g=t.noRelative,b=t.noIsolation,x=t.inert,y=t.allowPinchZoom,A=t.as,E=A===void 0?"div":A,C=t.gapMode,w=oL(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=v,S=bX([n,r]),R=Ia(Ia({},w),a);return j.createElement(j.Fragment,null,f&&j.createElement(k,{sideCar:cL,removeScrollBar:u,shards:m,noRelative:g,noIsolation:b,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:C}),o?j.cloneElement(j.Children.only(l),Ia(Ia({},R),{ref:S})):j.createElement(E,Ia({},R,{className:d,ref:S}),l))});Ox.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ox.classNames={fullWidth:Vp,zeroRight:Hp};var kX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function CX(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=kX();return r&&t.setAttribute("nonce",r),t}function AX(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function EX(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var _X=function(){var t=0,r=null;return{add:function(n){t==0&&(r=CX())&&(AX(r,n),EX(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},RX=function(){var t=_X();return function(r,n){j.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&n])}},dL=function(){var t=RX(),r=function(n){var s=n.styles,a=n.dynamic;return t(s,a),null};return r},TX={left:0,top:0,right:0,gap:0},J0=function(t){return parseInt(t||"",10)||0},PX=function(t){var r=window.getComputedStyle(document.body),n=r[t==="padding"?"paddingLeft":"marginLeft"],s=r[t==="padding"?"paddingTop":"marginTop"],a=r[t==="padding"?"paddingRight":"marginRight"];return[J0(n),J0(s),J0(a)]},OX=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return TX;var r=PX(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-n+r[2]-r[0])}},IX=dL(),Jc="data-scroll-locked",DX=function(t,r,n,s){var a=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vX,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Jc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hp,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Vp,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Hp," .").concat(Hp,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Vp," .").concat(Vp,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Jc,`] {
    `).concat(xX,": ").concat(l,`px;
  }
`)},IR=function(){var t=parseInt(document.body.getAttribute(Jc)||"0",10);return isFinite(t)?t:0},MX=function(){j.useEffect(function(){return document.body.setAttribute(Jc,(IR()+1).toString()),function(){var t=IR()-1;t<=0?document.body.removeAttribute(Jc):document.body.setAttribute(Jc,t.toString())}},[])},LX=function(t){var r=t.noRelative,n=t.noImportant,s=t.gapMode,a=s===void 0?"margin":s;MX();var i=j.useMemo(function(){return OX(a)},[a]);return j.createElement(IX,{styles:DX(i,!r,a,n?"":"!important")})},BN=!1;if(typeof window<"u")try{var gp=Object.defineProperty({},"passive",{get:function(){return BN=!0,!0}});window.addEventListener("test",gp,gp),window.removeEventListener("test",gp,gp)}catch{BN=!1}var Rc=BN?{passive:!1}:!1,zX=function(t){return t.tagName==="TEXTAREA"},uL=function(t,r){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!zX(t)&&n[r]==="visible")},$X=function(t){return uL(t,"overflowY")},FX=function(t){return uL(t,"overflowX")},DR=function(t,r){var n=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=hL(t,s);if(a){var i=mL(t,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},BX=function(t){var r=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[r,n,s]},WX=function(t){var r=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[r,n,s]},hL=function(t,r){return t==="v"?$X(r):FX(r)},mL=function(t,r){return t==="v"?BX(r):WX(r)},UX=function(t,r){return t==="h"&&r==="rtl"?-1:1},qX=function(t,r,n,s,a){var i=UX(t,window.getComputedStyle(r).direction),o=i*s,l=n.target,d=r.contains(l),u=!1,f=o>0,m=0,v=0;do{if(!l)break;var g=mL(t,l),b=g[0],x=g[1],y=g[2],A=x-y-i*b;(b||A)&&hL(t,l)&&(m+=A,v+=b);var E=l.parentNode;l=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&l!==document.body||d&&(r.contains(l)||r===l));return(f&&Math.abs(m)<1||!f&&Math.abs(v)<1)&&(u=!0),u},yp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},MR=function(t){return[t.deltaX,t.deltaY]},LR=function(t){return t&&"current"in t?t.current:t},HX=function(t,r){return t[0]===r[0]&&t[1]===r[1]},VX=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},GX=0,Tc=[];function KX(t){var r=j.useRef([]),n=j.useRef([0,0]),s=j.useRef(),a=j.useState(GX++)[0],i=j.useState(dL)[0],o=j.useRef(t);j.useEffect(function(){o.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var x=pX([t.lockRef.current],(t.shards||[]).map(LR),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=j.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var A=yp(x),E=n.current,C="deltaX"in x?x.deltaX:E[0]-A[0],w="deltaY"in x?x.deltaY:E[1]-A[1],k,S=x.target,R=Math.abs(C)>Math.abs(w)?"h":"v";if("touches"in x&&R==="h"&&S.type==="range")return!1;var T=DR(R,S);if(!T)return!0;if(T?k=R:(k=R==="v"?"h":"v",T=DR(R,S)),!T)return!1;if(!s.current&&"changedTouches"in x&&(C||w)&&(s.current=k),!k)return!0;var O=s.current||k;return qX(O,y,x,O==="h"?C:w)},[]),d=j.useCallback(function(x){var y=x;if(!(!Tc.length||Tc[Tc.length-1]!==i)){var A="deltaY"in y?MR(y):yp(y),E=r.current.filter(function(k){return k.name===y.type&&(k.target===y.target||y.target===k.shadowParent)&&HX(k.delta,A)})[0];if(E&&E.should){y.cancelable&&y.preventDefault();return}if(!E){var C=(o.current.shards||[]).map(LR).filter(Boolean).filter(function(k){return k.contains(y.target)}),w=C.length>0?l(y,C[0]):!o.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),u=j.useCallback(function(x,y,A,E){var C={name:x,delta:y,target:A,should:E,shadowParent:JX(A)};r.current.push(C),setTimeout(function(){r.current=r.current.filter(function(w){return w!==C})},1)},[]),f=j.useCallback(function(x){n.current=yp(x),s.current=void 0},[]),m=j.useCallback(function(x){u(x.type,MR(x),x.target,l(x,t.lockRef.current))},[]),v=j.useCallback(function(x){u(x.type,yp(x),x.target,l(x,t.lockRef.current))},[]);j.useEffect(function(){return Tc.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",d,Rc),document.addEventListener("touchmove",d,Rc),document.addEventListener("touchstart",f,Rc),function(){Tc=Tc.filter(function(x){return x!==i}),document.removeEventListener("wheel",d,Rc),document.removeEventListener("touchmove",d,Rc),document.removeEventListener("touchstart",f,Rc)}},[]);var g=t.removeScrollBar,b=t.inert;return j.createElement(j.Fragment,null,b?j.createElement(i,{styles:VX(a)}):null,g?j.createElement(LX,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function JX(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const YX=SX(cL,KX);var Lm=j.forwardRef(function(t,r){return j.createElement(Ox,Ia({},t,{ref:r,sideCar:YX}))});Lm.classNames=Ox.classNames;var WN=["Enter"," "],ZX=["ArrowDown","PageUp","Home"],fL=["ArrowUp","PageDown","End"],XX=[...ZX,...fL],QX={ltr:[...WN,"ArrowRight"],rtl:[...WN,"ArrowLeft"]},eQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zm="Menu",[Fh,tQ,rQ]=Nx(zm),[Fl,pL]=rn(zm,[rQ,zo,Jd]),Ix=zo(),vL=Jd(),[nQ,Bl]=Fl(zm),[sQ,$m]=Fl(zm),xL=t=>{const{__scopeMenu:r,open:n=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=t,l=Ix(r),[d,u]=j.useState(null),f=j.useRef(!1),m=un(i),v=$l(a);return j.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),e.jsx(_x,{...l,children:e.jsx(nQ,{scope:r,open:n,onOpenChange:m,content:d,onContentChange:u,children:e.jsx(sQ,{scope:r,onClose:j.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:v,modal:o,children:s})})})};xL.displayName=zm;var aQ="MenuAnchor",Qk=j.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t,a=Ix(n);return e.jsx(Dm,{...a,...s,ref:r})});Qk.displayName=aQ;var eC="MenuPortal",[iQ,gL]=Fl(eC,{forceMount:void 0}),yL=t=>{const{__scopeMenu:r,forceMount:n,children:s,container:a}=t,i=Bl(eC,r);return e.jsx(iQ,{scope:r,forceMount:n,children:e.jsx(Fr,{present:n||i.open,children:e.jsx(Kd,{asChild:!0,container:a,children:s})})})};yL.displayName=eC;var Bs="MenuContent",[oQ,tC]=Fl(Bs),bL=j.forwardRef((t,r)=>{const n=gL(Bs,t.__scopeMenu),{forceMount:s=n.forceMount,...a}=t,i=Bl(Bs,t.__scopeMenu),o=$m(Bs,t.__scopeMenu);return e.jsx(Fh.Provider,{scope:t.__scopeMenu,children:e.jsx(Fr,{present:s||i.open,children:e.jsx(Fh.Slot,{scope:t.__scopeMenu,children:o.modal?e.jsx(lQ,{...a,ref:r}):e.jsx(cQ,{...a,ref:r})})})})}),lQ=j.forwardRef((t,r)=>{const n=Bl(Bs,t.__scopeMenu),s=j.useRef(null),a=st(r,s);return j.useEffect(()=>{const i=s.current;if(i)return Px(i)},[]),e.jsx(rC,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Re(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),cQ=j.forwardRef((t,r)=>{const n=Bl(Bs,t.__scopeMenu);return e.jsx(rC,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),dQ=_o("MenuContent.ScrollLock"),rC=j.forwardRef((t,r)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:v,onDismiss:g,disableOutsideScroll:b,...x}=t,y=Bl(Bs,n),A=$m(Bs,n),E=Ix(n),C=vL(n),w=tQ(n),[k,S]=j.useState(null),R=j.useRef(null),T=st(r,R,y.onContentChange),O=j.useRef(0),U=j.useRef(""),D=j.useRef(0),I=j.useRef(null),B=j.useRef("right"),M=j.useRef(0),W=b?Lm:j.Fragment,V=b?{as:dQ,allowPinchZoom:!0}:void 0,Q=X=>{const K=U.current+X,z=w().filter(de=>!de.disabled),q=document.activeElement,ee=z.find(de=>de.ref.current===q)?.textValue,oe=z.map(de=>de.textValue),ce=wQ(oe,K,ee),ye=z.find(de=>de.textValue===ce)?.ref.current;(function de(fe){U.current=fe,window.clearTimeout(O.current),fe!==""&&(O.current=window.setTimeout(()=>de(""),1e3))})(K),ye&&setTimeout(()=>ye.focus())};j.useEffect(()=>()=>window.clearTimeout(O.current),[]),Sx();const H=j.useCallback(X=>B.current===I.current?.side&&SQ(X,I.current?.area),[]);return e.jsx(oQ,{scope:n,searchRef:U,onItemEnter:j.useCallback(X=>{H(X)&&X.preventDefault()},[H]),onItemLeave:j.useCallback(X=>{H(X)||(R.current?.focus(),S(null))},[H]),onTriggerLeave:j.useCallback(X=>{H(X)&&X.preventDefault()},[H]),pointerGraceTimerRef:D,onPointerGraceIntentChange:j.useCallback(X=>{I.current=X},[]),children:e.jsx(W,{...V,children:e.jsx(Om,{asChild:!0,trapped:a,onMountAutoFocus:Re(i,X=>{X.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:e.jsx(Hd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:v,onDismiss:g,children:e.jsx(Zk,{asChild:!0,...C,dir:A.dir,orientation:"vertical",loop:s,currentTabStopId:k,onCurrentTabStopIdChange:S,onEntryFocus:Re(d,X=>{A.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Rx,{role:"menu","aria-orientation":"vertical","data-state":ML(y.open),"data-radix-menu-content":"",dir:A.dir,...E,...x,ref:T,style:{outline:"none",...x.style},onKeyDown:Re(x.onKeyDown,X=>{const z=X.target.closest("[data-radix-menu-content]")===X.currentTarget,q=X.ctrlKey||X.altKey||X.metaKey,ee=X.key.length===1;z&&(X.key==="Tab"&&X.preventDefault(),!q&&ee&&Q(X.key));const oe=R.current;if(X.target!==oe||!XX.includes(X.key))return;X.preventDefault();const ye=w().filter(de=>!de.disabled).map(de=>de.ref.current);fL.includes(X.key)&&ye.reverse(),bQ(ye)}),onBlur:Re(t.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(O.current),U.current="")}),onPointerMove:Re(t.onPointerMove,Bh(X=>{const K=X.target,z=M.current!==X.clientX;if(X.currentTarget.contains(K)&&z){const q=X.clientX>M.current?"right":"left";B.current=q,M.current=X.clientX}}))})})})})})})});bL.displayName=Bs;var uQ="MenuGroup",nC=j.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t;return e.jsx(Fe.div,{role:"group",...s,ref:r})});nC.displayName=uQ;var hQ="MenuLabel",jL=j.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t;return e.jsx(Fe.div,{...s,ref:r})});jL.displayName=hQ;var cv="MenuItem",zR="menu.itemSelect",Dx=j.forwardRef((t,r)=>{const{disabled:n=!1,onSelect:s,...a}=t,i=j.useRef(null),o=$m(cv,t.__scopeMenu),l=tC(cv,t.__scopeMenu),d=st(r,i),u=j.useRef(!1),f=()=>{const m=i.current;if(!n&&m){const v=new CustomEvent(zR,{bubbles:!0,cancelable:!0});m.addEventListener(zR,g=>s?.(g),{once:!0}),n5(m,v),v.defaultPrevented?u.current=!1:o.onClose()}};return e.jsx(wL,{...a,ref:d,disabled:n,onClick:Re(t.onClick,f),onPointerDown:m=>{t.onPointerDown?.(m),u.current=!0},onPointerUp:Re(t.onPointerUp,m=>{u.current||m.currentTarget?.click()}),onKeyDown:Re(t.onKeyDown,m=>{const v=l.searchRef.current!=="";n||v&&m.key===" "||WN.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Dx.displayName=cv;var wL=j.forwardRef((t,r)=>{const{__scopeMenu:n,disabled:s=!1,textValue:a,...i}=t,o=tC(cv,n),l=vL(n),d=j.useRef(null),u=st(r,d),[f,m]=j.useState(!1),[v,g]=j.useState("");return j.useEffect(()=>{const b=d.current;b&&g((b.textContent??"").trim())},[i.children]),e.jsx(Fh.ItemSlot,{scope:n,disabled:s,textValue:a??v,children:e.jsx(Xk,{asChild:!0,...l,focusable:!s,children:e.jsx(Fe.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:Re(t.onPointerMove,Bh(b=>{s?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Re(t.onPointerLeave,Bh(b=>o.onItemLeave(b))),onFocus:Re(t.onFocus,()=>m(!0)),onBlur:Re(t.onBlur,()=>m(!1))})})})}),mQ="MenuCheckboxItem",NL=j.forwardRef((t,r)=>{const{checked:n=!1,onCheckedChange:s,...a}=t;return e.jsx(EL,{scope:t.__scopeMenu,checked:n,children:e.jsx(Dx,{role:"menuitemcheckbox","aria-checked":dv(n)?"mixed":n,...a,ref:r,"data-state":aC(n),onSelect:Re(a.onSelect,()=>s?.(dv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});NL.displayName=mQ;var SL="MenuRadioGroup",[fQ,pQ]=Fl(SL,{value:void 0,onValueChange:()=>{}}),kL=j.forwardRef((t,r)=>{const{value:n,onValueChange:s,...a}=t,i=un(s);return e.jsx(fQ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:e.jsx(nC,{...a,ref:r})})});kL.displayName=SL;var CL="MenuRadioItem",AL=j.forwardRef((t,r)=>{const{value:n,...s}=t,a=pQ(CL,t.__scopeMenu),i=n===a.value;return e.jsx(EL,{scope:t.__scopeMenu,checked:i,children:e.jsx(Dx,{role:"menuitemradio","aria-checked":i,...s,ref:r,"data-state":aC(i),onSelect:Re(s.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});AL.displayName=CL;var sC="MenuItemIndicator",[EL,vQ]=Fl(sC,{checked:!1}),_L=j.forwardRef((t,r)=>{const{__scopeMenu:n,forceMount:s,...a}=t,i=vQ(sC,n);return e.jsx(Fr,{present:s||dv(i.checked)||i.checked===!0,children:e.jsx(Fe.span,{...a,ref:r,"data-state":aC(i.checked)})})});_L.displayName=sC;var xQ="MenuSeparator",RL=j.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t;return e.jsx(Fe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:r})});RL.displayName=xQ;var gQ="MenuArrow",TL=j.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t,a=Ix(n);return e.jsx(Tx,{...a,...s,ref:r})});TL.displayName=gQ;var yQ="MenuSub",[ANe,PL]=Fl(yQ),uh="MenuSubTrigger",OL=j.forwardRef((t,r)=>{const n=Bl(uh,t.__scopeMenu),s=$m(uh,t.__scopeMenu),a=PL(uh,t.__scopeMenu),i=tC(uh,t.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,u={__scopeMenu:t.__scopeMenu},f=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>f,[f]),j.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),d(null)}},[l,d]),e.jsx(Qk,{asChild:!0,...u,children:e.jsx(wL,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":ML(n.open),...t,ref:Ti(r,a.onTriggerChange),onClick:m=>{t.onClick?.(m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Re(t.onPointerMove,Bh(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Re(t.onPointerLeave,Bh(m=>{f();const v=n.content?.getBoundingClientRect();if(v){const g=n.content?.dataset.side,b=g==="right",x=b?-5:5,y=v[b?"left":"right"],A=v[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+x,y:m.clientY},{x:y,y:v.top},{x:A,y:v.top},{x:A,y:v.bottom},{x:y,y:v.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Re(t.onKeyDown,m=>{const v=i.searchRef.current!=="";t.disabled||v&&m.key===" "||QX[s.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});OL.displayName=uh;var IL="MenuSubContent",DL=j.forwardRef((t,r)=>{const n=gL(Bs,t.__scopeMenu),{forceMount:s=n.forceMount,...a}=t,i=Bl(Bs,t.__scopeMenu),o=$m(Bs,t.__scopeMenu),l=PL(IL,t.__scopeMenu),d=j.useRef(null),u=st(r,d);return e.jsx(Fh.Provider,{scope:t.__scopeMenu,children:e.jsx(Fr,{present:s||i.open,children:e.jsx(Fh.Slot,{scope:t.__scopeMenu,children:e.jsx(rC,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&d.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Re(t.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Re(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Re(t.onKeyDown,f=>{const m=f.currentTarget.contains(f.target),v=eQ[o.dir].includes(f.key);m&&v&&(i.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});DL.displayName=IL;function ML(t){return t?"open":"closed"}function dv(t){return t==="indeterminate"}function aC(t){return dv(t)?"indeterminate":t?"checked":"unchecked"}function bQ(t){const r=document.activeElement;for(const n of t)if(n===r||(n.focus(),document.activeElement!==r))return}function jQ(t,r){return t.map((n,s)=>t[(r+s)%t.length])}function wQ(t,r,n){const a=r.length>1&&Array.from(r).every(u=>u===r[0])?r[0]:r,i=n?t.indexOf(n):-1;let o=jQ(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const d=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function NQ(t,r){const{x:n,y:s}=t;let a=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],d=r[o],u=l.x,f=l.y,m=d.x,v=d.y;f>s!=v>s&&n<(m-u)*(s-f)/(v-f)+u&&(a=!a)}return a}function SQ(t,r){if(!r)return!1;const n={x:t.clientX,y:t.clientY};return NQ(n,r)}function Bh(t){return r=>r.pointerType==="mouse"?t(r):void 0}var kQ=xL,CQ=Qk,AQ=yL,EQ=bL,_Q=nC,RQ=jL,TQ=Dx,PQ=NL,OQ=kL,IQ=AL,DQ=_L,MQ=RL,LQ=TL,zQ=OL,$Q=DL,Mx="DropdownMenu",[FQ]=rn(Mx,[pL]),qn=pL(),[BQ,LL]=FQ(Mx),zL=t=>{const{__scopeDropdownMenu:r,children:n,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,d=qn(r),u=j.useRef(null),[f,m]=Ns({prop:a,defaultProp:i??!1,onChange:o,caller:Mx});return e.jsx(BQ,{scope:r,triggerId:tn(),triggerRef:u,contentId:tn(),open:f,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(v=>!v),[m]),modal:l,children:e.jsx(kQ,{...d,open:f,onOpenChange:m,dir:s,modal:l,children:n})})};zL.displayName=Mx;var $L="DropdownMenuTrigger",FL=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...a}=t,i=LL($L,n),o=qn(n);return e.jsx(CQ,{asChild:!0,...o,children:e.jsx(Fe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Ti(r,i.triggerRef),onPointerDown:Re(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Re(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});FL.displayName=$L;var WQ="DropdownMenuPortal",BL=t=>{const{__scopeDropdownMenu:r,...n}=t,s=qn(r);return e.jsx(AQ,{...s,...n})};BL.displayName=WQ;var WL="DropdownMenuContent",UL=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=LL(WL,n),i=qn(n),o=j.useRef(!1);return e.jsx(EQ,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:r,onCloseAutoFocus:Re(t.onCloseAutoFocus,l=>{o.current||a.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Re(t.onInteractOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,f=d.button===2||u;(!a.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UL.displayName=WL;var UQ="DropdownMenuGroup",qQ=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=qn(n);return e.jsx(_Q,{...a,...s,ref:r})});qQ.displayName=UQ;var HQ="DropdownMenuLabel",qL=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=qn(n);return e.jsx(RQ,{...a,...s,ref:r})});qL.displayName=HQ;var VQ="DropdownMenuItem",HL=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=qn(n);return e.jsx(TQ,{...a,...s,ref:r})});HL.displayName=VQ;var GQ="DropdownMenuCheckboxItem",KQ=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=qn(n);return e.jsx(PQ,{...a,...s,ref:r})});KQ.displayName=GQ;var JQ="DropdownMenuRadioGroup",YQ=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=qn(n);return e.jsx(OQ,{...a,...s,ref:r})});YQ.displayName=JQ;var ZQ="DropdownMenuRadioItem",XQ=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=qn(n);return e.jsx(IQ,{...a,...s,ref:r})});XQ.displayName=ZQ;var QQ="DropdownMenuItemIndicator",eee=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=qn(n);return e.jsx(DQ,{...a,...s,ref:r})});eee.displayName=QQ;var tee="DropdownMenuSeparator",VL=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=qn(n);return e.jsx(MQ,{...a,...s,ref:r})});VL.displayName=tee;var ree="DropdownMenuArrow",nee=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=qn(n);return e.jsx(LQ,{...a,...s,ref:r})});nee.displayName=ree;var see="DropdownMenuSubTrigger",aee=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=qn(n);return e.jsx(zQ,{...a,...s,ref:r})});aee.displayName=see;var iee="DropdownMenuSubContent",oee=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=qn(n);return e.jsx($Q,{...a,...s,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oee.displayName=iee;var lee=zL,cee=FL,dee=BL,uee=UL,hee=qL,mee=HL,fee=VL;function ya({...t}){return e.jsx(lee,{"data-slot":"dropdown-menu",...t})}function ba({...t}){return e.jsx(cee,{"data-slot":"dropdown-menu-trigger",...t})}function ja({className:t,sideOffset:r=4,...n}){return e.jsx(dee,{children:e.jsx(uee,{"data-slot":"dropdown-menu-content",sideOffset:r,className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function Ct({className:t,inset:r,variant:n="default",...s}){return e.jsx(mee,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":n,className:We("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function iC({className:t,inset:r,...n}){return e.jsx(hee,{"data-slot":"dropdown-menu-label","data-inset":r,className:We("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function Mi({className:t,...r}){return e.jsx(fee,{"data-slot":"dropdown-menu-separator",className:We("bg-border -mx-1 my-1 h-px",t),...r})}const pee={"end-user":["view:dashboard","view:my-requests","create:request"],approver:["view:dashboard","view:my-requests","create:request","view:approvals","approve:requests","view:identities","view:reports"],administrator:["view:dashboard","view:my-requests","create:request","view:approvals","approve:requests","view:all-requests","view:identities","manage:identities","view:roles","manage:roles","view:reviews","manage:reviews","view:policies","manage:policies","view:lifecycle","manage:lifecycle","view:risk","manage:risk","view:reports","view:integrations","manage:integrations","view:settings","manage:settings"]},GL=j.createContext(void 0);function vee({children:t}){const[r,n]=j.useState({id:"user-1",name:"Sarah Chen",email:"sarah.chen@company.com",role:"administrator",department:"IT Operations"}),s=i=>{n(o=>({...o,role:i}))},a=i=>pee[r.role].includes(i);return e.jsx(GL.Provider,{value:{user:r,setUserRole:s,hasPermission:a},children:t})}function Wl(){const t=j.useContext(GL);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t}function $R(t){return{"end-user":"End User",approver:"Approver",administrator:"Administrator"}[t]}function xee(t){return{"end-user":"Can view and request access for themselves",approver:"Can approve requests and view team information",administrator:"Full access to manage the entire platform"}[t]}const KL=j.createContext(void 0);function gee({children:t}){const[r,n]=j.useState(null),[s,a]=j.useState(null),[i,o]=j.useState([]),[l,d]=j.useState(null),[u,f]=j.useState(!0);j.useEffect(()=>{let y=!0;vt.auth.getSession().then(async({data:E})=>{y&&(n(E.session),E.session?.user&&await m(E.session.user.id),f(!1))});const{data:A}=vt.auth.onAuthStateChange((E,C)=>{n(C)});return()=>{y=!1,A.subscription.unsubscribe()}},[]);async function m(y){const[{data:A},{data:E}]=await Promise.all([vt.from("profiles").select("*").eq("id",y).maybeSingle(),vt.from("user_orgs").select("org_id, role").eq("user_id",y).eq("is_active",!0)]);a(A||null),o(E||[]);const C=localStorage.getItem("activeOrgId"),w=C&&(E||[]).some(k=>k.org_id===C)?C:E&&E[0]?.org_id||null;d(w)}async function v(y){d(y),localStorage.setItem("activeOrgId",y)}async function g(){await vt.auth.signOut({scope:"global"})}const b=!!r?.user?.email_confirmed_at,x=j.useMemo(()=>({session:r,profile:s,memberships:i,activeOrgId:l,isEmailVerified:b,loading:u,setActiveOrg:v,signOutEverywhere:g}),[r,s,i,l,b,u]);return e.jsx(KL.Provider,{value:x,children:t})}function yee(){const t=j.useContext(KL);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const bee=Dk("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function J({className:t,variant:r,asChild:n=!1,...s}){const a=n?q3:"span";return e.jsx(a,{"data-slot":"badge",className:We(bee({variant:r}),t),...s})}function jee(){const{user:t,setUserRole:r}=Wl(),n=["end-user","approver","administrator"];return e.jsxs(ya,{children:[e.jsx(ba,{asChild:!0,children:e.jsxs(L,{variant:"outline",size:"sm",style:{height:"36px",borderRadius:"8px",backgroundColor:"var(--surface)",border:"1px solid var(--border)",fontSize:"13px",fontWeight:"500",color:"var(--text)",display:"flex",alignItems:"center",gap:"8px",padding:"0 12px"},children:[e.jsx(UG,{className:"w-4 h-4",strokeWidth:2}),e.jsx("span",{children:$R(t.role)}),e.jsx(Ga,{className:"w-3.5 h-3.5",strokeWidth:2,style:{opacity:.5}})]})}),e.jsxs(ja,{align:"end",style:{width:"280px",backgroundColor:"var(--popover)",border:"1px solid var(--border)",borderRadius:"10px",padding:"8px",boxShadow:"var(--shadow-lg)"},children:[e.jsx(iC,{style:{fontSize:"11px",color:"var(--muted-foreground)",textTransform:"uppercase",fontWeight:"600",letterSpacing:"0.05em",padding:"8px 12px 4px"},children:"Switch Role (Demo)"}),e.jsx(Mi,{style:{backgroundColor:"var(--border)",margin:"8px 0"}}),n.map(s=>e.jsxs(Ct,{onClick:()=>r(s),style:{padding:"10px 12px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"4px",backgroundColor:t.role===s?"var(--accent)":"transparent"},children:[e.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,marginTop:"2px"},children:t.role===s&&e.jsx(Xr,{className:"w-4 h-4",style:{color:"var(--primary)"},strokeWidth:2.5})}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text)",marginBottom:"2px",display:"flex",alignItems:"center",gap:"8px"},children:[$R(s),t.role===s&&e.jsx(J,{style:{backgroundColor:"rgb(238 242 255)",color:"var(--primary)",border:"1px solid rgb(224 231 255)",fontSize:"10px",fontWeight:"600",padding:"2px 6px",borderRadius:"4px"},children:"Active"})]}),e.jsx("div",{style:{fontSize:"12px",color:"var(--muted-foreground)",lineHeight:"1.4"},children:xee(s)})]})]},s))]})]})}function wee(t){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const Nee=t=>{switch(t){case"success":return Cee;case"info":return Eee;case"warning":return Aee;case"error":return _ee;default:return null}},See=Array(12).fill(0),kee=({visible:t,className:r})=>$.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":t},$.createElement("div",{className:"sonner-spinner"},See.map((n,s)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Cee=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Aee=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Eee=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_ee=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ree=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Tee=()=>{const[t,r]=$.useState(document.hidden);return $.useEffect(()=>{const n=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let UN=1;class Pee{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const n=this.subscribers.indexOf(r);this.subscribers.splice(n,1)}),this.publish=r=>{this.subscribers.forEach(n=>n(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var n;const{message:s,...a}=r,i=typeof r?.id=="number"||((n=r.id)==null?void 0:n.length)>0?r.id:UN++,o=this.toasts.find(d=>d.id===i),l=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...r,id:i,title:s}),{...d,...r,id:i,dismissible:l,title:s}):d):this.addToast({title:s,...a,dismissible:l,id:i}),i},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:r,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),r),this.message=(r,n)=>this.create({...n,message:r}),this.error=(r,n)=>this.create({...n,message:r,type:"error"}),this.success=(r,n)=>this.create({...n,type:"success",message:r}),this.info=(r,n)=>this.create({...n,type:"info",message:r}),this.warning=(r,n)=>this.create({...n,type:"warning",message:r}),this.loading=(r,n)=>this.create({...n,type:"loading",message:r}),this.promise=(r,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:r,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(r instanceof Function?r():r);let i=s!==void 0,o;const l=a.then(async u=>{if(o=["resolve",u],$.isValidElement(u))i=!1,this.create({id:s,type:"default",message:u});else if(Iee(u)&&!u.ok){i=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,b=typeof m=="object"&&!$.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:v,...b})}else if(u instanceof Error){i=!1;const m=typeof n.error=="function"?await n.error(u):n.error,v=typeof n.description=="function"?await n.description(u):n.description,b=typeof m=="object"&&!$.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:v,...b})}else if(n.success!==void 0){i=!1;const m=typeof n.success=="function"?await n.success(u):n.success,v=typeof n.description=="function"?await n.description(u):n.description,b=typeof m=="object"&&!$.isValidElement(m)?m:{message:m};this.create({id:s,type:"success",description:v,...b})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;const f=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,g=typeof f=="object"&&!$.isValidElement(f)?f:{message:f};this.create({id:s,type:"error",description:m,...g})}}).finally(()=>{i&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((u,f)=>l.then(()=>o[0]==="reject"?f(o[1]):u(o[1])).catch(f));return typeof s!="string"&&typeof s!="number"?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(r,n)=>{const s=n?.id||UN++;return this.create({jsx:r(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const es=new Pee,Oee=(t,r)=>{const n=r?.id||UN++;return es.addToast({title:t,...r,id:n}),n},Iee=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Dee=Oee,Mee=()=>es.toasts,Lee=()=>es.getActiveToasts(),Ae=Object.assign(Dee,{success:es.success,info:es.info,warning:es.warning,error:es.error,custom:es.custom,message:es.message,promise:es.promise,dismiss:es.dismiss,loading:es.loading},{getHistory:Mee,getToasts:Lee});wee("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function bp(t){return t.label!==void 0}const zee=3,$ee="24px",Fee="16px",FR=4e3,Bee=356,Wee=14,Uee=45,qee=200;function Pa(...t){return t.filter(Boolean).join(" ")}function Hee(t){const[r,n]=t.split("-"),s=[];return r&&s.push(r),n&&s.push(n),s}const Vee=t=>{var r,n,s,a,i,o,l,d,u;const{invert:f,toast:m,unstyled:v,interacting:g,setHeights:b,visibleToasts:x,heights:y,index:A,toasts:E,expanded:C,removeToast:w,defaultRichColors:k,closeButton:S,style:R,cancelButtonStyle:T,actionButtonStyle:O,className:U="",descriptionClassName:D="",duration:I,position:B,gap:M,expandByDefault:W,classNames:V,icons:Q,closeButtonAriaLabel:H="Close toast"}=t,[X,K]=$.useState(null),[z,q]=$.useState(null),[ee,oe]=$.useState(!1),[ce,ye]=$.useState(!1),[de,fe]=$.useState(!1),[he,re]=$.useState(!1),[ge,le]=$.useState(!1),[Ye,_e]=$.useState(0),[Et,kt]=$.useState(0),jt=$.useRef(m.duration||I||FR),Br=$.useRef(null),er=$.useRef(null),gr=A===0,yr=A+1<=x,It=m.type,br=m.dismissible!==!1,Zs=m.className||"",Cs=m.descriptionClassName||"",Xs=$.useMemo(()=>y.findIndex(Qe=>Qe.toastId===m.id)||0,[y,m.id]),ti=$.useMemo(()=>{var Qe;return(Qe=m.closeButton)!=null?Qe:S},[m.closeButton,S]),Hn=$.useMemo(()=>m.duration||I||FR,[m.duration,I]),zn=$.useRef(0),Wr=$.useRef(0),Vn=$.useRef(0),qt=$.useRef(null),[ae,ft]=B.split("-"),lt=$.useMemo(()=>y.reduce((Qe,xt,Bt)=>Bt>=Xs?Qe:Qe+xt.height,0),[y,Xs]),Ur=Tee(),As=m.invert||f,Es=It==="loading";Wr.current=$.useMemo(()=>Xs*M+lt,[Xs,lt]),$.useEffect(()=>{jt.current=Hn},[Hn]),$.useEffect(()=>{oe(!0)},[]),$.useEffect(()=>{const Qe=er.current;if(Qe){const xt=Qe.getBoundingClientRect().height;return kt(xt),b(Bt=>[{toastId:m.id,height:xt,position:m.position},...Bt]),()=>b(Bt=>Bt.filter(Wt=>Wt.toastId!==m.id))}},[b,m.id]),$.useLayoutEffect(()=>{if(!ee)return;const Qe=er.current,xt=Qe.style.height;Qe.style.height="auto";const Bt=Qe.getBoundingClientRect().height;Qe.style.height=xt,kt(Bt),b(Wt=>Wt.find(Dt=>Dt.toastId===m.id)?Wt.map(Dt=>Dt.toastId===m.id?{...Dt,height:Bt}:Dt):[{toastId:m.id,height:Bt,position:m.position},...Wt])},[ee,m.title,m.description,b,m.id,m.jsx,m.action,m.cancel]);const Ze=$.useCallback(()=>{ye(!0),_e(Wr.current),b(Qe=>Qe.filter(xt=>xt.toastId!==m.id)),setTimeout(()=>{w(m)},qee)},[m,w,b,Wr]);$.useEffect(()=>{if(m.promise&&It==="loading"||m.duration===1/0||m.type==="loading")return;let Qe;return C||g||Ur?(()=>{if(Vn.current<zn.current){const Wt=new Date().getTime()-zn.current;jt.current=jt.current-Wt}Vn.current=new Date().getTime()})():(()=>{jt.current!==1/0&&(zn.current=new Date().getTime(),Qe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Ze()},jt.current))})(),()=>clearTimeout(Qe)},[C,g,m,It,Ur,Ze]),$.useEffect(()=>{m.delete&&(Ze(),m.onDismiss==null||m.onDismiss.call(m,m))},[Ze,m.delete]);function wt(){var Qe;if(Q?.loading){var xt;return $.createElement("div",{className:Pa(V?.loader,m==null||(xt=m.classNames)==null?void 0:xt.loader,"sonner-loader"),"data-visible":It==="loading"},Q.loading)}return $.createElement(kee,{className:Pa(V?.loader,m==null||(Qe=m.classNames)==null?void 0:Qe.loader),visible:It==="loading"})}const Nt=m.icon||Q?.[It]||Nee(It);var ct,Ht;return $.createElement("li",{tabIndex:0,ref:er,className:Pa(U,Zs,V?.toast,m==null||(r=m.classNames)==null?void 0:r.toast,V?.default,V?.[It],m==null||(n=m.classNames)==null?void 0:n[It]),"data-sonner-toast":"","data-rich-colors":(ct=m.richColors)!=null?ct:k,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":ee,"data-promise":!!m.promise,"data-swiped":ge,"data-removed":ce,"data-visible":yr,"data-y-position":ae,"data-x-position":ft,"data-index":A,"data-front":gr,"data-swiping":de,"data-dismissible":br,"data-type":It,"data-invert":As,"data-swipe-out":he,"data-swipe-direction":z,"data-expanded":!!(C||W&&ee),"data-testid":m.testId,style:{"--index":A,"--toasts-before":A,"--z-index":E.length-A,"--offset":`${ce?Ye:Wr.current}px`,"--initial-height":W?"auto":`${Et}px`,...R,...m.style},onDragEnd:()=>{fe(!1),K(null),qt.current=null},onPointerDown:Qe=>{Qe.button!==2&&(Es||!br||(Br.current=new Date,_e(Wr.current),Qe.target.setPointerCapture(Qe.pointerId),Qe.target.tagName!=="BUTTON"&&(fe(!0),qt.current={x:Qe.clientX,y:Qe.clientY})))},onPointerUp:()=>{var Qe,xt,Bt;if(he||!br)return;qt.current=null;const Wt=Number(((Qe=er.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Cn=Number(((xt=er.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dt=new Date().getTime()-((Bt=Br.current)==null?void 0:Bt.getTime()),Mt=X==="x"?Wt:Cn,as=Math.abs(Mt)/Dt;if(Math.abs(Mt)>=Uee||as>.11){_e(Wr.current),m.onDismiss==null||m.onDismiss.call(m,m),q(X==="x"?Wt>0?"right":"left":Cn>0?"down":"up"),Ze(),re(!0);return}else{var Ar,is;(Ar=er.current)==null||Ar.style.setProperty("--swipe-amount-x","0px"),(is=er.current)==null||is.style.setProperty("--swipe-amount-y","0px")}le(!1),fe(!1),K(null)},onPointerMove:Qe=>{var xt,Bt,Wt;if(!qt.current||!br||((xt=window.getSelection())==null?void 0:xt.toString().length)>0)return;const Dt=Qe.clientY-qt.current.y,Mt=Qe.clientX-qt.current.x;var as;const Ar=(as=t.swipeDirections)!=null?as:Hee(B);!X&&(Math.abs(Mt)>1||Math.abs(Dt)>1)&&K(Math.abs(Mt)>Math.abs(Dt)?"x":"y");let is={x:0,y:0};const Ui=_s=>1/(1.5+Math.abs(_s)/20);if(X==="y"){if(Ar.includes("top")||Ar.includes("bottom"))if(Ar.includes("top")&&Dt<0||Ar.includes("bottom")&&Dt>0)is.y=Dt;else{const _s=Dt*Ui(Dt);is.y=Math.abs(_s)<Math.abs(Dt)?_s:Dt}}else if(X==="x"&&(Ar.includes("left")||Ar.includes("right")))if(Ar.includes("left")&&Mt<0||Ar.includes("right")&&Mt>0)is.x=Mt;else{const _s=Mt*Ui(Mt);is.x=Math.abs(_s)<Math.abs(Mt)?_s:Mt}(Math.abs(is.x)>0||Math.abs(is.y)>0)&&le(!0),(Bt=er.current)==null||Bt.style.setProperty("--swipe-amount-x",`${is.x}px`),(Wt=er.current)==null||Wt.style.setProperty("--swipe-amount-y",`${is.y}px`)}},ti&&!m.jsx&&It!=="loading"?$.createElement("button",{"aria-label":H,"data-disabled":Es,"data-close-button":!0,onClick:Es||!br?()=>{}:()=>{Ze(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Pa(V?.closeButton,m==null||(s=m.classNames)==null?void 0:s.closeButton)},(Ht=Q?.close)!=null?Ht:Ree):null,(It||m.icon||m.promise)&&m.icon!==null&&(Q?.[It]!==null||m.icon)?$.createElement("div",{"data-icon":"",className:Pa(V?.icon,m==null||(a=m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||wt():null,m.type!=="loading"?Nt:null):null,$.createElement("div",{"data-content":"",className:Pa(V?.content,m==null||(i=m.classNames)==null?void 0:i.content)},$.createElement("div",{"data-title":"",className:Pa(V?.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?$.createElement("div",{"data-description":"",className:Pa(D,Cs,V?.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),$.isValidElement(m.cancel)?m.cancel:m.cancel&&bp(m.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:Qe=>{bp(m.cancel)&&br&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Qe),Ze())},className:Pa(V?.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,$.isValidElement(m.action)?m.action:m.action&&bp(m.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:Qe=>{bp(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Qe),!Qe.defaultPrevented&&Ze())},className:Pa(V?.actionButton,m==null||(u=m.classNames)==null?void 0:u.actionButton)},m.action.label):null)};function BR(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Gee(t,r){const n={};return[t,r].forEach((s,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",l=i?Fee:$ee;function d(u){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):d(l)}),n}const Kee=$.forwardRef(function(r,n){const{id:s,invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:d,className:u,offset:f,mobileOffset:m,theme:v="light",richColors:g,duration:b,style:x,visibleToasts:y=zee,toastOptions:A,dir:E=BR(),gap:C=Wee,icons:w,containerAriaLabel:k="Notifications"}=r,[S,R]=$.useState([]),T=$.useMemo(()=>s?S.filter(ee=>ee.toasterId===s):S.filter(ee=>!ee.toasterId),[S,s]),O=$.useMemo(()=>Array.from(new Set([i].concat(T.filter(ee=>ee.position).map(ee=>ee.position)))),[T,i]),[U,D]=$.useState([]),[I,B]=$.useState(!1),[M,W]=$.useState(!1),[V,Q]=$.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=$.useRef(null),X=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=$.useRef(null),z=$.useRef(!1),q=$.useCallback(ee=>{R(oe=>{var ce;return(ce=oe.find(ye=>ye.id===ee.id))!=null&&ce.delete||es.dismiss(ee.id),oe.filter(({id:ye})=>ye!==ee.id)})},[]);return $.useEffect(()=>es.subscribe(ee=>{if(ee.dismiss){requestAnimationFrame(()=>{R(oe=>oe.map(ce=>ce.id===ee.id?{...ce,delete:!0}:ce))});return}setTimeout(()=>{N3.flushSync(()=>{R(oe=>{const ce=oe.findIndex(ye=>ye.id===ee.id);return ce!==-1?[...oe.slice(0,ce),{...oe[ce],...ee},...oe.slice(ce+1)]:[ee,...oe]})})})}),[S]),$.useEffect(()=>{if(v!=="system"){Q(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;const ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:oe})=>{Q(oe?"dark":"light")})}catch{ee.addListener(({matches:ce})=>{try{Q(ce?"dark":"light")}catch(ye){console.error(ye)}})}},[v]),$.useEffect(()=>{S.length<=1&&B(!1)},[S]),$.useEffect(()=>{const ee=oe=>{var ce;if(o.every(fe=>oe[fe]||oe.code===fe)){var de;B(!0),(de=H.current)==null||de.focus()}oe.code==="Escape"&&(document.activeElement===H.current||(ce=H.current)!=null&&ce.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[o]),$.useEffect(()=>{if(H.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,z.current=!1)}},[H.current]),$.createElement("section",{ref:n,"aria-label":`${k} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((ee,oe)=>{var ce;const[ye,de]=ee.split("-");return T.length?$.createElement("ol",{key:ee,dir:E==="auto"?BR():E,tabIndex:-1,ref:H,className:u,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":ye,"data-x-position":de,style:{"--front-toast-height":`${((ce=U[0])==null?void 0:ce.height)||0}px`,"--width":`${Bee}px`,"--gap":`${C}px`,...x,...Gee(f,m)},onBlur:fe=>{z.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(z.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||z.current||(z.current=!0,K.current=fe.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{M||B(!1)},onDragEnd:()=>B(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},T.filter(fe=>!fe.position&&oe===0||fe.position===ee).map((fe,he)=>{var re,ge;return $.createElement(Vee,{key:fe.id,icons:w,index:he,toast:fe,defaultRichColors:g,duration:(re=A?.duration)!=null?re:b,className:A?.className,descriptionClassName:A?.descriptionClassName,invert:a,visibleToasts:y,closeButton:(ge=A?.closeButton)!=null?ge:d,interacting:M,position:ee,style:A?.style,unstyled:A?.unstyled,classNames:A?.classNames,cancelButtonStyle:A?.cancelButtonStyle,actionButtonStyle:A?.actionButtonStyle,closeButtonAriaLabel:A?.closeButtonAriaLabel,removeToast:q,toasts:T.filter(le=>le.position==fe.position),heights:U.filter(le=>le.position==fe.position),setHeights:D,expandByDefault:l,gap:C,expanded:I,swipeDirections:r.swipeDirections})})):null}))}),Jee=[{name:"Home",path:"/",icon:AK,permission:"view:dashboard"},{name:"Requests",path:"/requests",icon:Pi,permission:"view:my-requests"},{name:"Approvals",path:"/approvals",icon:sv,permission:"view:approvals"},{name:"Identities",path:"/identities",icon:zt,permission:"view:identities"},{name:"Access",path:"/access/roles",icon:bt,permission:"view:roles"},{name:"Reviews",path:"/reviews",icon:Ih,permission:"view:reviews"},{name:"JML",path:"/jml",icon:Ss,permission:"view:jml"},{name:"ISR Demo",path:"/isr-demo",icon:Fa,permission:"view:jml"},{name:"Policies",path:"/policies",icon:pJ,permission:"view:policies"},{name:"Lifecycle",path:"/lifecycle",icon:uJ,permission:"view:lifecycle"},{name:"Risk",path:"/risk",icon:et,permission:"view:risk"},{name:"Reports",path:"/reports",icon:zk,permission:"view:reports"},{name:"Integrations",path:"/integrations",icon:yG,permission:"view:integrations"},{name:"Settings",path:"/settings",icon:js,permission:"view:settings"}];function Yee({children:t}){const r=ks(),[n,s]=j.useState(!1),[a,i]=j.useState(!1),{user:o,hasPermission:l}=Wl(),{session:d,profile:u}=yee(),f=$.useMemo(()=>u?.full_name||d?.user?.user_metadata?.full_name||d?.user?.email||o.name,[u,d,o.name]),m=$.useMemo(()=>u?.email||d?.user?.email||o.department||"",[u,d,o.department]);$.useEffect(()=>{a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[a]);const v=b=>b==="/"?r.pathname==="/":r.pathname.startsWith(b),g=Jee.filter(b=>b.permission?l(b.permission):!0);return e.jsxs("div",{className:"flex h-screen overflow-hidden",style:{backgroundColor:"var(--bg)"},children:[e.jsxs("aside",{className:"hidden lg:flex flex-col w-[264px] border-r",style:{backgroundColor:"var(--sidebar)",borderColor:"var(--border)"},children:[e.jsx("div",{className:"h-18 flex items-center px-6 border-b",style:{borderColor:"var(--border)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shadow-md transition-all duration-200 hover:scale-105",style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)",boxShadow:"0 4px 12px rgba(79, 70, 229, 0.3)"},children:e.jsx(bt,{className:"w-6 h-6 text-white",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold tracking-tight block",style:{fontSize:"var(--text-lg)",color:"var(--text)",lineHeight:"1.2"},children:"IAM Platform"}),e.jsx("span",{className:"text-xs font-medium",style:{color:"var(--muted-foreground)",letterSpacing:"0.05em"},children:"Identity Governance"})]})]})}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:g.map(b=>{const x=b.icon,y=v(b.path);return e.jsxs(Eo,{to:b.path,className:"group flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ease-out relative",style:{backgroundColor:y?"var(--primary)":"transparent",color:y?"var(--primary-foreground)":"var(--muted-foreground)",fontWeight:y?"var(--font-weight-semibold)":"var(--font-weight-medium)",fontSize:"var(--text-body)",boxShadow:y?"var(--shadow-md)":"none",border:y?"1px solid var(--primary)":"1px solid transparent"},onMouseEnter:A=>{y||(A.currentTarget.style.backgroundColor="var(--accent)",A.currentTarget.style.color="var(--accent-foreground)",A.currentTarget.style.transform="translateX(2px)",A.currentTarget.style.boxShadow="var(--shadow-sm)")},onMouseLeave:A=>{y||(A.currentTarget.style.backgroundColor="transparent",A.currentTarget.style.color="var(--muted-foreground)",A.currentTarget.style.transform="translateX(0)",A.currentTarget.style.boxShadow="none")},children:[e.jsx(x,{className:"w-[20px] h-[20px] flex-shrink-0 transition-all duration-200",strokeWidth:y?2.5:2}),e.jsx("span",{className:"truncate",children:b.name}),y&&e.jsx("div",{className:"absolute right-2 w-1.5 h-1.5 rounded-full bg-white opacity-80"})]},b.path)})}),e.jsx("div",{className:"p-4 border-t",style:{borderColor:"var(--border)"},children:e.jsxs(ya,{children:[e.jsx(ba,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer transition-colors duration-150",style:{backgroundColor:"var(--accent)"},onMouseEnter:b=>{b.currentTarget.style.backgroundColor="var(--surface)"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="var(--accent)"},children:[e.jsx(Mn,{className:"w-9 h-9 ring-2 ring-border",children:e.jsx(Ln,{style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)",color:"white",fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)"},children:f.split(" ").map(b=>b[0]).join("").slice(0,2).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"truncate",style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:f}),e.jsx("div",{className:"truncate",style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:m})]}),e.jsx(Ga,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}})]})}),e.jsxs(ja,{align:"end",side:"top",style:{width:"240px",backgroundColor:"var(--popover)",border:"1px solid var(--border)",borderRadius:"10px",padding:"8px",boxShadow:"var(--shadow-lg)",marginBottom:"8px"},children:[e.jsx(iC,{style:{fontSize:"11px",color:"var(--muted-foreground)",textTransform:"uppercase",fontWeight:"600",letterSpacing:"0.05em",padding:"8px 12px 4px"},children:"Account"}),e.jsx(Mi,{style:{backgroundColor:"var(--border)",margin:"8px 0"}}),e.jsxs(Ct,{onClick:()=>{Ae.info("Profile view coming soon!",{description:"User profile management will be available in a future update."})},style:{padding:"10px 12px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",marginBottom:"4px",backgroundColor:"transparent"},children:[e.jsx(pa,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:"View Profile"})]}),e.jsxs(Ct,{onClick:()=>{Ae.info("Settings opened!",{description:"Redirecting to account settings..."})},style:{padding:"10px 12px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",marginBottom:"4px",backgroundColor:"transparent"},children:[e.jsx(js,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:"Account Settings"})]}),e.jsx(Mi,{style:{backgroundColor:"var(--border)",margin:"8px 0"}}),e.jsxs(Ct,{onClick:async()=>{await vt.auth.signOut(),window.location.href="/auth"},style:{padding:"10px 12px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",backgroundColor:"transparent"},children:[e.jsx(LK,{className:"w-4 h-4",style:{color:"var(--destructive)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--destructive)"},children:"Sign Out"})]})]})]})})]}),n&&e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>s(!1)}),e.jsxs("aside",{className:"absolute left-0 top-0 bottom-0 w-[280px] flex flex-col",style:{backgroundColor:"var(--bg)",boxShadow:"var(--shadow-md)"},children:[e.jsxs("div",{className:"h-16 flex items-center justify-between px-6 border-b",style:{borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--primary)"},children:e.jsx(bt,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-semibold",style:{fontSize:"var(--text-h2)",color:"var(--text)"},children:"IAM Platform"})]}),e.jsx(L,{variant:"ghost",size:"icon",onClick:()=>s(!1),children:e.jsx($t,{className:"w-5 h-5"})})]}),e.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:g.map(b=>{const x=b.icon,y=v(b.path);return e.jsxs(Eo,{to:b.path,onClick:()=>s(!1),className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors",style:{backgroundColor:y?"var(--primary)":"transparent",color:y?"white":"var(--text)"},children:[e.jsx(x,{className:"w-5 h-5"}),e.jsx("span",{children:b.name})]},b.path)})})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"h-16 border-b flex items-center justify-between px-4 lg:px-8",style:{backgroundColor:"var(--bg)",borderColor:"var(--border)",boxShadow:"var(--shadow-xs)"},children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx(L,{variant:"ghost",size:"icon",className:"lg:hidden -ml-2",onClick:()=>s(!0),children:e.jsx(b5,{className:"w-5 h-5"})}),e.jsxs("div",{className:"hidden md:flex items-center gap-2 flex-1 max-w-lg relative",children:[e.jsx(Lr,{className:"w-4 h-4 absolute left-3.5 pointer-events-none",style:{color:"var(--muted-foreground)"}}),e.jsx(pe,{placeholder:"Search users, roles, apps...",className:"pl-10 pr-16 w-full h-10 rounded-lg border-0 shadow-sm transition-all duration-150 focus-visible:shadow-md",style:{backgroundColor:"var(--input-background)",fontSize:"var(--text-sm)"}}),e.jsx("kbd",{className:"absolute right-3 pointer-events-none px-1.5 py-0.5 rounded border text-[10px] font-semibold",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)",color:"var(--muted-foreground)"},children:"K"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"hidden lg:block mr-1",children:e.jsx(jee,{})}),e.jsx(L,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-lg transition-all duration-150 hover:scale-105",onClick:()=>i(!a),children:a?e.jsx(IJ,{className:"w-[18px] h-[18px]"}):e.jsx(KK,{className:"w-[18px] h-[18px]"})}),e.jsxs(L,{variant:"ghost",size:"icon",className:"relative h-9 w-9 rounded-lg transition-all duration-150 hover:scale-105",children:[e.jsx(m5,{className:"w-[18px] h-[18px]"}),e.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 flex items-center justify-center rounded-full text-[10px] font-semibold shadow-sm",style:{backgroundColor:"var(--danger)",color:"white"},children:"3"})]}),e.jsx(L,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9",children:e.jsx(Mn,{className:"w-7 h-7",children:e.jsx(Ln,{style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)",color:"white",fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-semibold)"},children:f.split(" ").map(b=>b[0]).join("").slice(0,2).toUpperCase()})})})]})]}),e.jsx("main",{className:"flex-1 overflow-auto",style:{backgroundColor:"var(--bg)"},children:t})]})]})}function Zee(){const t=ks(),[r,n]=$.useState(!0),[s,a]=$.useState(!1);return $.useEffect(()=>{let i=!0;vt.auth.getSession().then(({data:l})=>{i&&(a(!!l.session),n(!1))});const{data:o}=vt.auth.onAuthStateChange((l,d)=>{a(!!d)});return()=>{i=!1,o.subscription.unsubscribe()}},[]),r?e.jsx("div",{className:"min-h-screen flex items-center justify-center text-sm text-muted-foreground",children:"Loading"}):s?e.jsx(Yee,{children:e.jsx(Xq,{})}):e.jsx(xN,{to:"/auth",state:{from:t},replace:!0})}class WR extends j.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){return this.state.hasError?this.props.fallback||e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h2",{style:{fontSize:"var(--text-lg)",color:"var(--danger)",marginBottom:"8px"},children:"Something went wrong"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:this.state.error?.message||"An unexpected error occurred"}),e.jsx("button",{onClick:()=>this.setState({hasError:!1}),style:{marginTop:"16px",padding:"8px 16px",background:"var(--primary)",color:"white",borderRadius:"var(--radius-md)",border:"none",cursor:"pointer"},children:"Try again"})]}):this.props.children}}function se({className:t,...r}){return e.jsx("div",{"data-slot":"card",className:We("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...r})}function Ne({className:t,...r}){return e.jsx("div",{"data-slot":"card-header",className:We("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function Se({className:t,...r}){return e.jsx("h4",{"data-slot":"card-title",className:We("leading-none",t),...r})}function Be({className:t,...r}){return e.jsx("p",{"data-slot":"card-description",className:We("text-muted-foreground",t),...r})}function je({className:t,...r}){return e.jsx("div",{"data-slot":"card-content",className:We("px-6 [&:last-child]:pb-6",t),...r})}var Y0,UR;function ss(){if(UR)return Y0;UR=1;var t=Array.isArray;return Y0=t,Y0}var Z0,qR;function JL(){if(qR)return Z0;qR=1;var t=typeof ap=="object"&&ap&&ap.Object===Object&&ap;return Z0=t,Z0}var X0,HR;function Qa(){if(HR)return X0;HR=1;var t=JL(),r=typeof self=="object"&&self&&self.Object===Object&&self,n=t||r||Function("return this")();return X0=n,X0}var Q0,VR;function Fm(){if(VR)return Q0;VR=1;var t=Qa(),r=t.Symbol;return Q0=r,Q0}var eb,GR;function Xee(){if(GR)return eb;GR=1;var t=Fm(),r=Object.prototype,n=r.hasOwnProperty,s=r.toString,a=t?t.toStringTag:void 0;function i(o){var l=n.call(o,a),d=o[a];try{o[a]=void 0;var u=!0}catch{}var f=s.call(o);return u&&(l?o[a]=d:delete o[a]),f}return eb=i,eb}var tb,KR;function Qee(){if(KR)return tb;KR=1;var t=Object.prototype,r=t.toString;function n(s){return r.call(s)}return tb=n,tb}var rb,JR;function Fi(){if(JR)return rb;JR=1;var t=Fm(),r=Xee(),n=Qee(),s="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:s:i&&i in Object(l)?r(l):n(l)}return rb=o,rb}var nb,YR;function Bi(){if(YR)return nb;YR=1;function t(r){return r!=null&&typeof r=="object"}return nb=t,nb}var sb,ZR;function Yd(){if(ZR)return sb;ZR=1;var t=Fi(),r=Bi(),n="[object Symbol]";function s(a){return typeof a=="symbol"||r(a)&&t(a)==n}return sb=s,sb}var ab,XR;function oC(){if(XR)return ab;XR=1;var t=ss(),r=Yd(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||r(i)?!0:s.test(i)||!n.test(i)||o!=null&&i in Object(o)}return ab=a,ab}var ib,QR;function $o(){if(QR)return ib;QR=1;function t(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}return ib=t,ib}var ob,eT;function lC(){if(eT)return ob;eT=1;var t=Fi(),r=$o(),n="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!r(l))return!1;var d=t(l);return d==s||d==a||d==n||d==i}return ob=o,ob}var lb,tT;function ete(){if(tT)return lb;tT=1;var t=Qa(),r=t["__core-js_shared__"];return lb=r,lb}var cb,rT;function tte(){if(rT)return cb;rT=1;var t=ete(),r=(function(){var s=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function n(s){return!!r&&r in s}return cb=n,cb}var db,nT;function YL(){if(nT)return db;nT=1;var t=Function.prototype,r=t.toString;function n(s){if(s!=null){try{return r.call(s)}catch{}try{return s+""}catch{}}return""}return db=n,db}var ub,sT;function rte(){if(sT)return ub;sT=1;var t=lC(),r=tte(),n=$o(),s=YL(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,d=o.toString,u=l.hasOwnProperty,f=RegExp("^"+d.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!n(v)||r(v))return!1;var g=t(v)?f:i;return g.test(s(v))}return ub=m,ub}var hb,aT;function nte(){if(aT)return hb;aT=1;function t(r,n){return r?.[n]}return hb=t,hb}var mb,iT;function Ul(){if(iT)return mb;iT=1;var t=rte(),r=nte();function n(s,a){var i=r(s,a);return t(i)?i:void 0}return mb=n,mb}var fb,oT;function Lx(){if(oT)return fb;oT=1;var t=Ul(),r=t(Object,"create");return fb=r,fb}var pb,lT;function ste(){if(lT)return pb;lT=1;var t=Lx();function r(){this.__data__=t?t(null):{},this.size=0}return pb=r,pb}var vb,cT;function ate(){if(cT)return vb;cT=1;function t(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}return vb=t,vb}var xb,dT;function ite(){if(dT)return xb;dT=1;var t=Lx(),r="__lodash_hash_undefined__",n=Object.prototype,s=n.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===r?void 0:l}return s.call(o,i)?o[i]:void 0}return xb=a,xb}var gb,uT;function ote(){if(uT)return gb;uT=1;var t=Lx(),r=Object.prototype,n=r.hasOwnProperty;function s(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return gb=s,gb}var yb,hT;function lte(){if(hT)return yb;hT=1;var t=Lx(),r="__lodash_hash_undefined__";function n(s,a){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=t&&a===void 0?r:a,this}return yb=n,yb}var bb,mT;function cte(){if(mT)return bb;mT=1;var t=ste(),r=ate(),n=ite(),s=ote(),a=lte();function i(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,bb=i,bb}var jb,fT;function dte(){if(fT)return jb;fT=1;function t(){this.__data__=[],this.size=0}return jb=t,jb}var wb,pT;function cC(){if(pT)return wb;pT=1;function t(r,n){return r===n||r!==r&&n!==n}return wb=t,wb}var Nb,vT;function zx(){if(vT)return Nb;vT=1;var t=cC();function r(n,s){for(var a=n.length;a--;)if(t(n[a][0],s))return a;return-1}return Nb=r,Nb}var Sb,xT;function ute(){if(xT)return Sb;xT=1;var t=zx(),r=Array.prototype,n=r.splice;function s(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():n.call(i,o,1),--this.size,!0}return Sb=s,Sb}var kb,gT;function hte(){if(gT)return kb;gT=1;var t=zx();function r(n){var s=this.__data__,a=t(s,n);return a<0?void 0:s[a][1]}return kb=r,kb}var Cb,yT;function mte(){if(yT)return Cb;yT=1;var t=zx();function r(n){return t(this.__data__,n)>-1}return Cb=r,Cb}var Ab,bT;function fte(){if(bT)return Ab;bT=1;var t=zx();function r(n,s){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,s])):a[i][1]=s,this}return Ab=r,Ab}var Eb,jT;function $x(){if(jT)return Eb;jT=1;var t=dte(),r=ute(),n=hte(),s=mte(),a=fte();function i(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,Eb=i,Eb}var _b,wT;function dC(){if(wT)return _b;wT=1;var t=Ul(),r=Qa(),n=t(r,"Map");return _b=n,_b}var Rb,NT;function pte(){if(NT)return Rb;NT=1;var t=cte(),r=$x(),n=dC();function s(){this.size=0,this.__data__={hash:new t,map:new(n||r),string:new t}}return Rb=s,Rb}var Tb,ST;function vte(){if(ST)return Tb;ST=1;function t(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}return Tb=t,Tb}var Pb,kT;function Fx(){if(kT)return Pb;kT=1;var t=vte();function r(n,s){var a=n.__data__;return t(s)?a[typeof s=="string"?"string":"hash"]:a.map}return Pb=r,Pb}var Ob,CT;function xte(){if(CT)return Ob;CT=1;var t=Fx();function r(n){var s=t(this,n).delete(n);return this.size-=s?1:0,s}return Ob=r,Ob}var Ib,AT;function gte(){if(AT)return Ib;AT=1;var t=Fx();function r(n){return t(this,n).get(n)}return Ib=r,Ib}var Db,ET;function yte(){if(ET)return Db;ET=1;var t=Fx();function r(n){return t(this,n).has(n)}return Db=r,Db}var Mb,_T;function bte(){if(_T)return Mb;_T=1;var t=Fx();function r(n,s){var a=t(this,n),i=a.size;return a.set(n,s),this.size+=a.size==i?0:1,this}return Mb=r,Mb}var Lb,RT;function uC(){if(RT)return Lb;RT=1;var t=pte(),r=xte(),n=gte(),s=yte(),a=bte();function i(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,Lb=i,Lb}var zb,TT;function ZL(){if(TT)return zb;TT=1;var t=uC(),r="Expected a function";function n(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new TypeError(r);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],d=i.cache;if(d.has(l))return d.get(l);var u=s.apply(this,o);return i.cache=d.set(l,u)||d,u};return i.cache=new(n.Cache||t),i}return n.Cache=t,zb=n,zb}var $b,PT;function jte(){if(PT)return $b;PT=1;var t=ZL(),r=500;function n(s){var a=t(s,function(o){return i.size===r&&i.clear(),o}),i=a.cache;return a}return $b=n,$b}var Fb,OT;function wte(){if(OT)return Fb;OT=1;var t=jte(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,s=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(r,function(o,l,d,u){i.push(d?u.replace(n,"$1"):l||o)}),i});return Fb=s,Fb}var Bb,IT;function hC(){if(IT)return Bb;IT=1;function t(r,n){for(var s=-1,a=r==null?0:r.length,i=Array(a);++s<a;)i[s]=n(r[s],s,r);return i}return Bb=t,Bb}var Wb,DT;function Nte(){if(DT)return Wb;DT=1;var t=Fm(),r=hC(),n=ss(),s=Yd(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return r(l,o)+"";if(s(l))return i?i.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}return Wb=o,Wb}var Ub,MT;function XL(){if(MT)return Ub;MT=1;var t=Nte();function r(n){return n==null?"":t(n)}return Ub=r,Ub}var qb,LT;function QL(){if(LT)return qb;LT=1;var t=ss(),r=oC(),n=wte(),s=XL();function a(i,o){return t(i)?i:r(i,o)?[i]:n(s(i))}return qb=a,qb}var Hb,zT;function Bx(){if(zT)return Hb;zT=1;var t=Yd();function r(n){if(typeof n=="string"||t(n))return n;var s=n+"";return s=="0"&&1/n==-1/0?"-0":s}return Hb=r,Hb}var Vb,$T;function mC(){if($T)return Vb;$T=1;var t=QL(),r=Bx();function n(s,a){a=t(a,s);for(var i=0,o=a.length;s!=null&&i<o;)s=s[r(a[i++])];return i&&i==o?s:void 0}return Vb=n,Vb}var Gb,FT;function ez(){if(FT)return Gb;FT=1;var t=mC();function r(n,s,a){var i=n==null?void 0:t(n,s);return i===void 0?a:i}return Gb=r,Gb}var Ste=ez();const Ws=Ft(Ste);var Kb,BT;function kte(){if(BT)return Kb;BT=1;function t(r){return r==null}return Kb=t,Kb}var Cte=kte();const mt=Ft(Cte);var Jb,WT;function Ate(){if(WT)return Jb;WT=1;var t=Fi(),r=ss(),n=Bi(),s="[object String]";function a(i){return typeof i=="string"||!r(i)&&n(i)&&t(i)==s}return Jb=a,Jb}var Ete=Ate();const _l=Ft(Ete);var _te=lC();const dt=Ft(_te);var Rte=$o();const Zd=Ft(Rte);var Yb={exports:{}},Pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function Tte(){if(UT)return Pt;UT=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case t:switch(y=y.type,y){case n:case a:case s:case u:case f:return y;default:switch(y=y&&y.$$typeof,y){case l:case o:case d:case v:case m:case i:return y;default:return A}}case r:return A}}}return Pt.ContextConsumer=o,Pt.ContextProvider=i,Pt.Element=t,Pt.ForwardRef=d,Pt.Fragment=n,Pt.Lazy=v,Pt.Memo=m,Pt.Portal=r,Pt.Profiler=a,Pt.StrictMode=s,Pt.Suspense=u,Pt.SuspenseList=f,Pt.isAsyncMode=function(){return!1},Pt.isConcurrentMode=function(){return!1},Pt.isContextConsumer=function(y){return x(y)===o},Pt.isContextProvider=function(y){return x(y)===i},Pt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Pt.isForwardRef=function(y){return x(y)===d},Pt.isFragment=function(y){return x(y)===n},Pt.isLazy=function(y){return x(y)===v},Pt.isMemo=function(y){return x(y)===m},Pt.isPortal=function(y){return x(y)===r},Pt.isProfiler=function(y){return x(y)===a},Pt.isStrictMode=function(y){return x(y)===s},Pt.isSuspense=function(y){return x(y)===u},Pt.isSuspenseList=function(y){return x(y)===f},Pt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===a||y===s||y===u||y===f||y===g||typeof y=="object"&&y!==null&&(y.$$typeof===v||y.$$typeof===m||y.$$typeof===i||y.$$typeof===o||y.$$typeof===d||y.$$typeof===b||y.getModuleId!==void 0)},Pt.typeOf=x,Pt}var qT;function Pte(){return qT||(qT=1,Yb.exports=Tte()),Yb.exports}var Ote=Pte(),Zb,HT;function tz(){if(HT)return Zb;HT=1;var t=Fi(),r=Bi(),n="[object Number]";function s(a){return typeof a=="number"||r(a)&&t(a)==n}return Zb=s,Zb}var Xb,VT;function Ite(){if(VT)return Xb;VT=1;var t=tz();function r(n){return t(n)&&n!=+n}return Xb=r,Xb}var Dte=Ite();const Xd=Ft(Dte);var Mte=tz();const Lte=Ft(Mte);var ma=function(r){return r===0?0:r>0?1:-1},yl=function(r){return _l(r)&&r.indexOf("%")===r.length-1},Oe=function(r){return Lte(r)&&!Xd(r)},zte=function(r){return mt(r)},en=function(r){return Oe(r)||_l(r)},$te=0,Qd=function(r){var n=++$te;return"".concat(r||"").concat(n)},Rl=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(r)&&!_l(r))return s;var i;if(yl(r)){var o=r.indexOf("%");i=n*parseFloat(r.slice(0,o))/100}else i=+r;return Xd(i)&&(i=s),a&&i>n&&(i=n),i},yo=function(r){if(!r)return null;var n=Object.keys(r);return n&&n.length?r[n[0]]:null},Fte=function(r){if(!Array.isArray(r))return!1;for(var n=r.length,s={},a=0;a<n;a++)if(!s[r[a]])s[r[a]]=!0;else return!0;return!1},bn=function(r,n){return Oe(r)&&Oe(n)?function(s){return r+s*(n-r)}:function(){return n}};function uv(t,r,n){return!t||!t.length?null:t.find(function(s){return s&&(typeof r=="function"?r(s):Ws(s,r))===n})}var Bte=function(r,n){return Oe(r)&&Oe(n)?r-n:_l(r)&&_l(n)?r.localeCompare(n):r instanceof Date&&n instanceof Date?r.getTime()-n.getTime():String(r).localeCompare(String(n))};function Yc(t,r){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(r,n)||t[n]!==r[n]))return!1;for(var s in r)if({}.hasOwnProperty.call(r,s)&&!{}.hasOwnProperty.call(t,s))return!1;return!0}function qN(t){"@babel/helpers - typeof";return qN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qN(t)}var Wte=["viewBox","children"],Ute=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GT=["points","pathLength"],Qb={svg:Wte,polygon:GT,polyline:GT},fC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hv=function(r,n){if(!r||typeof r=="function"||typeof r=="boolean")return null;var s=r;if(j.isValidElement(r)&&(s=r.props),!Zd(s))return null;var a={};return Object.keys(s).forEach(function(i){fC.includes(i)&&(a[i]=n||function(o){return s[i](s,o)})}),a},qte=function(r,n,s){return function(a){return r(n,s,a),null}},mv=function(r,n,s){if(!Zd(r)||qN(r)!=="object")return null;var a=null;return Object.keys(r).forEach(function(i){var o=r[i];fC.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=qte(o,n,s))}),a},Hte=["children"],Vte=["children"];function KT(t,r){if(t==null)return{};var n=Gte(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Gte(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function HN(t){"@babel/helpers - typeof";return HN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},HN(t)}var JT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bi=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},YT=null,ej=null,pC=function t(r){if(r===YT&&Array.isArray(ej))return ej;var n=[];return j.Children.forEach(r,function(s){mt(s)||(Ote.isFragment(s)?n=n.concat(t(s.props.children)):n.push(s))}),ej=n,YT=r,n};function Us(t,r){var n=[],s=[];return Array.isArray(r)?s=r.map(function(a){return bi(a)}):s=[bi(r)],pC(t).forEach(function(a){var i=Ws(a,"type.displayName")||Ws(a,"type.name");s.indexOf(i)!==-1&&n.push(a)}),n}function ps(t,r){var n=Us(t,r);return n&&n[0]}var ZT=function(r){if(!r||!r.props)return!1;var n=r.props,s=n.width,a=n.height;return!(!Oe(s)||s<=0||!Oe(a)||a<=0)},Kte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Jte=function(r){return r&&r.type&&_l(r.type)&&Kte.indexOf(r.type)>=0},rz=function(r){return r&&HN(r)==="object"&&"clipDot"in r},Yte=function(r,n,s,a){var i,o=(i=Qb?.[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!dt(r)&&(a&&o.includes(n)||Ute.includes(n))||s&&fC.includes(n)},ut=function(r,n,s){if(!r||typeof r=="function"||typeof r=="boolean")return null;var a=r;if(j.isValidElement(r)&&(a=r.props),!Zd(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Yte((l=a)===null||l===void 0?void 0:l[o],o,n,s)&&(i[o]=a[o])}),i},VN=function t(r,n){if(r===n)return!0;var s=j.Children.count(r);if(s!==j.Children.count(n))return!1;if(s===0)return!0;if(s===1)return XT(Array.isArray(r)?r[0]:r,Array.isArray(n)?n[0]:n);for(var a=0;a<s;a++){var i=r[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!XT(i,o))return!1}return!0},XT=function(r,n){if(mt(r)&&mt(n))return!0;if(!mt(r)&&!mt(n)){var s=r.props||{},a=s.children,i=KT(s,Hte),o=n.props||{},l=o.children,d=KT(o,Vte);return a&&l?Yc(i,d)&&VN(a,l):!a&&!l?Yc(i,d):!1}return!1},QT=function(r,n){var s=[],a={};return pC(r).forEach(function(i,o){if(Jte(i))s.push(i);else if(i){var l=bi(i.type),d=n[l]||{},u=d.handler,f=d.once;if(u&&(!f||!a[l])){var m=u(i,l,o);s.push(m),a[l]=!0}}}),s},Zte=function(r){var n=r&&r.type;return n&&JT[n]?JT[n]:null},Xte=function(r,n){return pC(n).indexOf(r)},Qte=["children","width","height","viewBox","className","style","title","desc"];function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},GN.apply(this,arguments)}function ere(t,r){if(t==null)return{};var n=tre(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function tre(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function KN(t){var r=t.children,n=t.width,s=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,d=t.desc,u=ere(t,Qte),f=a||{width:n,height:s,x:0,y:0},m=yt("recharts-surface",i);return $.createElement("svg",GN({},ut(u,!0,"svg"),{className:m,width:n,height:s,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),$.createElement("title",null,l),$.createElement("desc",null,d),r)}var rre=["children","className"];function JN(){return JN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},JN.apply(this,arguments)}function nre(t,r){if(t==null)return{};var n=sre(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function sre(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var Xt=$.forwardRef(function(t,r){var n=t.children,s=t.className,a=nre(t,rre),i=yt("recharts-layer",s);return $.createElement("g",JN({className:i},ut(a,!0),{ref:r}),n)}),ji=function(r,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]},tj,eP;function are(){if(eP)return tj;eP=1;function t(r,n,s){var a=-1,i=r.length;n<0&&(n=-n>i?0:i+n),s=s>i?i:s,s<0&&(s+=i),i=n>s?0:s-n>>>0,n>>>=0;for(var o=Array(i);++a<i;)o[a]=r[a+n];return o}return tj=t,tj}var rj,tP;function ire(){if(tP)return rj;tP=1;var t=are();function r(n,s,a){var i=n.length;return a=a===void 0?i:a,!s&&a>=i?n:t(n,s,a)}return rj=r,rj}var nj,rP;function nz(){if(rP)return nj;rP=1;var t="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=r+n+s,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function d(u){return l.test(u)}return nj=d,nj}var sj,nP;function ore(){if(nP)return sj;nP=1;function t(r){return r.split("")}return sj=t,sj}var aj,sP;function lre(){if(sP)return aj;sP=1;var t="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=r+n+s,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+d+")",f="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",b=u+"?",x="["+i+"]?",y="(?:"+g+"(?:"+[f,m,v].join("|")+")"+x+b+")*",A=x+b+y,E="(?:"+[f+l+"?",l,m,v,o].join("|")+")",C=RegExp(d+"(?="+d+")|"+E+A,"g");function w(k){return k.match(C)||[]}return aj=w,aj}var ij,aP;function cre(){if(aP)return ij;aP=1;var t=ore(),r=nz(),n=lre();function s(a){return r(a)?n(a):t(a)}return ij=s,ij}var oj,iP;function dre(){if(iP)return oj;iP=1;var t=ire(),r=nz(),n=cre(),s=XL();function a(i){return function(o){o=s(o);var l=r(o)?n(o):void 0,d=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return d[i]()+u}}return oj=a,oj}var lj,oP;function ure(){if(oP)return lj;oP=1;var t=dre(),r=t("toUpperCase");return lj=r,lj}var hre=ure();const Wx=Ft(hre);function Yt(t){return function(){return t}}const sz=Math.cos,fv=Math.sin,ka=Math.sqrt,pv=Math.PI,Ux=2*pv,YN=Math.PI,ZN=2*YN,fl=1e-6,mre=ZN-fl;function az(t){this._+=t[0];for(let r=1,n=t.length;r<n;++r)this._+=arguments[r]+t[r]}function fre(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return az;const n=10**r;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}class pre{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?az:fre(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,s,a){this._append`Q${+r},${+n},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(r,n,s,a,i,o){this._append`C${+r},${+n},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(r,n,s,a,i){if(r=+r,n=+n,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=s-r,u=a-n,f=o-r,m=l-n,v=f*f+m*m;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(v>fl)if(!(Math.abs(m*d-u*f)>fl)||!i)this._append`L${this._x1=r},${this._y1=n}`;else{let g=s-o,b=a-l,x=d*d+u*u,y=g*g+b*b,A=Math.sqrt(x),E=Math.sqrt(v),C=i*Math.tan((YN-Math.acos((x+v-y)/(2*A*E)))/2),w=C/E,k=C/A;Math.abs(w-1)>fl&&this._append`L${r+w*f},${n+w*m}`,this._append`A${i},${i},0,0,${+(m*g>f*b)},${this._x1=r+k*d},${this._y1=n+k*u}`}}arc(r,n,s,a,i,o){if(r=+r,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),d=s*Math.sin(a),u=r+l,f=n+d,m=1^o,v=o?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>fl||Math.abs(this._y1-f)>fl)&&this._append`L${u},${f}`,s&&(v<0&&(v=v%ZN+ZN),v>mre?this._append`A${s},${s},0,1,${m},${r-l},${n-d}A${s},${s},0,1,${m},${this._x1=u},${this._y1=f}`:v>fl&&this._append`A${s},${s},0,${+(v>=YN)},${m},${this._x1=r+s*Math.cos(i)},${this._y1=n+s*Math.sin(i)}`)}rect(r,n,s,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function vC(t){let r=3;return t.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);r=s}return t},()=>new pre(r)}function xC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iz(t){this._context=t}iz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function qx(t){return new iz(t)}function oz(t){return t[0]}function lz(t){return t[1]}function cz(t,r){var n=Yt(!0),s=null,a=qx,i=null,o=vC(l);t=typeof t=="function"?t:t===void 0?oz:Yt(t),r=typeof r=="function"?r:r===void 0?lz:Yt(r);function l(d){var u,f=(d=xC(d)).length,m,v=!1,g;for(s==null&&(i=a(g=o())),u=0;u<=f;++u)!(u<f&&n(m=d[u],u,d))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+t(m,u,d),+r(m,u,d));if(g)return i=null,g+""||null}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:Yt(+d),l):t},l.y=function(d){return arguments.length?(r=typeof d=="function"?d:Yt(+d),l):r},l.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Yt(!!d),l):n},l.curve=function(d){return arguments.length?(a=d,s!=null&&(i=a(s)),l):a},l.context=function(d){return arguments.length?(d==null?s=i=null:i=a(s=d),l):s},l}function jp(t,r,n){var s=null,a=Yt(!0),i=null,o=qx,l=null,d=vC(u);t=typeof t=="function"?t:t===void 0?oz:Yt(+t),r=typeof r=="function"?r:Yt(r===void 0?0:+r),n=typeof n=="function"?n:n===void 0?lz:Yt(+n);function u(m){var v,g,b,x=(m=xC(m)).length,y,A=!1,E,C=new Array(x),w=new Array(x);for(i==null&&(l=o(E=d())),v=0;v<=x;++v){if(!(v<x&&a(y=m[v],v,m))===A)if(A=!A)g=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=v-1;b>=g;--b)l.point(C[b],w[b]);l.lineEnd(),l.areaEnd()}A&&(C[v]=+t(y,v,m),w[v]=+r(y,v,m),l.point(s?+s(y,v,m):C[v],n?+n(y,v,m):w[v]))}if(E)return l=null,E+""||null}function f(){return cz().defined(a).curve(o).context(i)}return u.x=function(m){return arguments.length?(t=typeof m=="function"?m:Yt(+m),s=null,u):t},u.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Yt(+m),u):t},u.x1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:Yt(+m),u):s},u.y=function(m){return arguments.length?(r=typeof m=="function"?m:Yt(+m),n=null,u):r},u.y0=function(m){return arguments.length?(r=typeof m=="function"?m:Yt(+m),u):r},u.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Yt(+m),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(r)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(s).y(r)},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Yt(!!m),u):a},u.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),u):o},u.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),u):i},u}class dz{constructor(r,n){this._context=r,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,n){switch(r=+r,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,n,r,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,r,this._y0,r,n);break}}this._x0=r,this._y0=n}}function vre(t){return new dz(t,!0)}function xre(t){return new dz(t,!1)}const gC={draw(t,r){const n=ka(r/pv);t.moveTo(n,0),t.arc(0,0,n,0,Ux)}},gre={draw(t,r){const n=ka(r/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},uz=ka(1/3),yre=uz*2,bre={draw(t,r){const n=ka(r/yre),s=n*uz;t.moveTo(0,-n),t.lineTo(s,0),t.lineTo(0,n),t.lineTo(-s,0),t.closePath()}},jre={draw(t,r){const n=ka(r),s=-n/2;t.rect(s,s,n,n)}},wre=.8908130915292852,hz=fv(pv/10)/fv(7*pv/10),Nre=fv(Ux/10)*hz,Sre=-sz(Ux/10)*hz,kre={draw(t,r){const n=ka(r*wre),s=Nre*n,a=Sre*n;t.moveTo(0,-n),t.lineTo(s,a);for(let i=1;i<5;++i){const o=Ux*i/5,l=sz(o),d=fv(o);t.lineTo(d*n,-l*n),t.lineTo(l*s-d*a,d*s+l*a)}t.closePath()}},cj=ka(3),Cre={draw(t,r){const n=-ka(r/(cj*3));t.moveTo(0,n*2),t.lineTo(-cj*n,-n),t.lineTo(cj*n,-n),t.closePath()}},Ms=-.5,Ls=ka(3)/2,XN=1/ka(12),Are=(XN/2+1)*3,Ere={draw(t,r){const n=ka(r/Are),s=n/2,a=n*XN,i=s,o=n*XN+n,l=-i,d=o;t.moveTo(s,a),t.lineTo(i,o),t.lineTo(l,d),t.lineTo(Ms*s-Ls*a,Ls*s+Ms*a),t.lineTo(Ms*i-Ls*o,Ls*i+Ms*o),t.lineTo(Ms*l-Ls*d,Ls*l+Ms*d),t.lineTo(Ms*s+Ls*a,Ms*a-Ls*s),t.lineTo(Ms*i+Ls*o,Ms*o-Ls*i),t.lineTo(Ms*l+Ls*d,Ms*d-Ls*l),t.closePath()}};function _re(t,r){let n=null,s=vC(a);t=typeof t=="function"?t:Yt(t||gC),r=typeof r=="function"?r:Yt(r===void 0?64:+r);function a(){let i;if(n||(n=i=s()),t.apply(this,arguments).draw(n,+r.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Yt(i),a):t},a.size=function(i){return arguments.length?(r=typeof i=="function"?i:Yt(+i),a):r},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function vv(){}function xv(t,r,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+n)/6)}function mz(t){this._context=t}mz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xv(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function Rre(t){return new mz(t)}function fz(t){this._context=t}fz.prototype={areaStart:vv,areaEnd:vv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:xv(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function Tre(t){return new fz(t)}function pz(t){this._context=t}pz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:xv(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function Pre(t){return new pz(t)}function vz(t){this._context=t}vz.prototype={areaStart:vv,areaEnd:vv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function Ore(t){return new vz(t)}function lP(t){return t<0?-1:1}function cP(t,r,n){var s=t._x1-t._x0,a=r-t._x1,i=(t._y1-t._y0)/(s||a<0&&-0),o=(n-t._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(lP(i)+lP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function dP(t,r){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-r)/2:r}function dj(t,r,n){var s=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-s)/3;t._context.bezierCurveTo(s+l,a+l*r,i-l,o-l*n,i,o)}function gv(t){this._context=t}gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dj(this,this._t0,dP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var n=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,dj(this,dP(this,n=cP(this,t,r)),n);break;default:dj(this,this._t0,n=cP(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=n}}};function xz(t){this._context=new gz(t)}(xz.prototype=Object.create(gv.prototype)).point=function(t,r){gv.prototype.point.call(this,r,t)};function gz(t){this._context=t}gz.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,n,s,a,i){this._context.bezierCurveTo(r,t,s,n,i,a)}};function Ire(t){return new gv(t)}function Dre(t){return new xz(t)}function yz(t){this._context=t}yz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),n===2)this._context.lineTo(t[1],r[1]);else for(var s=uP(t),a=uP(r),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],t[o],r[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function uP(t){var r,n=t.length-1,s,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],r=1;r<n-1;++r)a[r]=1,i[r]=4,o[r]=4*t[r]+2*t[r+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],r=1;r<n;++r)s=a[r]/i[r-1],i[r]-=s,o[r]-=s*o[r-1];for(a[n-1]=o[n-1]/i[n-1],r=n-2;r>=0;--r)a[r]=(o[r]-a[r+1])/i[r];for(i[n-1]=(t[n]+a[n-1])/2,r=0;r<n-1;++r)i[r]=2*t[r+1]-a[r+1];return[a,i]}function Mre(t){return new yz(t)}function Hx(t,r){this._context=t,this._t=r}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,r)}break}}this._x=t,this._y=r}};function Lre(t){return new Hx(t,.5)}function zre(t){return new Hx(t,0)}function $re(t){return new Hx(t,1)}function sd(t,r){if((o=t.length)>1)for(var n=1,s,a,i=t[r[0]],o,l=i.length;n<o;++n)for(a=i,i=t[r[n]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function QN(t){for(var r=t.length,n=new Array(r);--r>=0;)n[r]=r;return n}function Fre(t,r){return t[r]}function Bre(t){const r=[];return r.key=t,r}function Wre(){var t=Yt([]),r=QN,n=sd,s=Fre;function a(i){var o=Array.from(t.apply(this,arguments),Bre),l,d=o.length,u=-1,f;for(const m of i)for(l=0,++u;l<d;++l)(o[l][u]=[0,+s(m,o[l].key,u,i)]).data=m;for(l=0,f=xC(r(o));l<d;++l)o[f[l]].index=l;return n(o,f),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Yt(Array.from(i)),a):t},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Yt(+i),a):s},a.order=function(i){return arguments.length?(r=i==null?QN:typeof i=="function"?i:Yt(Array.from(i)),a):r},a.offset=function(i){return arguments.length?(n=i??sd,a):n},a}function Ure(t,r){if((s=t.length)>0){for(var n,s,a=0,i=t[0].length,o;a<i;++a){for(o=n=0;n<s;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<s;++n)t[n][a][1]/=o}sd(t,r)}}function qre(t,r){if((a=t.length)>0){for(var n=0,s=t[r[0]],a,i=s.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=t[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}sd(t,r)}}function Hre(t,r){if(!(!((o=t.length)>0)||!((i=(a=t[r[0]]).length)>0))){for(var n=0,s=1,a,i,o;s<i;++s){for(var l=0,d=0,u=0;l<o;++l){for(var f=t[r[l]],m=f[s][1]||0,v=f[s-1][1]||0,g=(m-v)/2,b=0;b<l;++b){var x=t[r[b]],y=x[s][1]||0,A=x[s-1][1]||0;g+=y-A}d+=m,u+=g*m}a[s-1][1]+=a[s-1][0]=n,d&&(n-=u/d)}a[s-1][1]+=a[s-1][0]=n,sd(t,r)}}function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wh(t)}var Vre=["type","size","sizeType"];function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},eS.apply(this,arguments)}function hP(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function mP(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?hP(Object(n),!0).forEach(function(s){Gre(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Gre(t,r,n){return r=Kre(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Kre(t){var r=Jre(t,"string");return Wh(r)=="symbol"?r:r+""}function Jre(t,r){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Wh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Yre(t,r){if(t==null)return{};var n=Zre(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Zre(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var bz={symbolCircle:gC,symbolCross:gre,symbolDiamond:bre,symbolSquare:jre,symbolStar:kre,symbolTriangle:Cre,symbolWye:Ere},Xre=Math.PI/180,Qre=function(r){var n="symbol".concat(Wx(r));return bz[n]||gC},ene=function(r,n,s){if(n==="area")return r;switch(s){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var a=18*Xre;return 1.25*r*r*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},tne=function(r,n){bz["symbol".concat(Wx(r))]=n},yC=function(r){var n=r.type,s=n===void 0?"circle":n,a=r.size,i=a===void 0?64:a,o=r.sizeType,l=o===void 0?"area":o,d=Yre(r,Vre),u=mP(mP({},d),{},{type:s,size:i,sizeType:l}),f=function(){var y=Qre(s),A=_re().type(y).size(ene(i,l,s));return A()},m=u.className,v=u.cx,g=u.cy,b=ut(u,!0);return v===+v&&g===+g&&i===+i?$.createElement("path",eS({},b,{className:yt("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(g,")"),d:f()})):null};yC.registerSymbol=tne;function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ad(t)}function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},tS.apply(this,arguments)}function fP(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function rne(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?fP(Object(n),!0).forEach(function(s){Uh(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function nne(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function sne(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,wz(s.key),s)}}function ane(t,r,n){return r&&sne(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ine(t,r,n){return r=yv(r),one(t,jz()?Reflect.construct(r,n||[],yv(t).constructor):r.apply(t,n))}function one(t,r){if(r&&(ad(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lne(t)}function lne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jz=function(){return!!t})()}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(t)}function cne(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&rS(t,r)}function rS(t,r){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},rS(t,r)}function Uh(t,r,n){return r=wz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function wz(t){var r=dne(t,"string");return ad(r)=="symbol"?r:r+""}function dne(t,r){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(ad(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zs=32,bC=(function(t){function r(){return nne(this,r),ine(this,r,arguments)}return cne(r,t),ane(r,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=zs/2,o=zs/6,l=zs/3,d=s.inactive?a:s.color;if(s.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:zs,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(zs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return $.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(zs/8,"h").concat(zs,"v").concat(zs*3/4,"h").concat(-zs,"z"),className:"recharts-legend-icon"});if($.isValidElement(s.legendIcon)){var u=rne({},s);return delete u.legendIcon,$.cloneElement(s.legendIcon,u)}return $.createElement(yC,{fill:d,cx:i,cy:i,size:zs,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,d=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:zs,height:zs},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,b){var x=g.formatter||d,y=yt(Uh(Uh({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",g.inactive));if(g.type==="none")return null;var A=dt(g.value)?null:g.value;ji(!dt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=g.inactive?u:g.color;return $.createElement("li",tS({className:y,style:m,key:"legend-item-".concat(b)},mv(s.props,g,b)),$.createElement(KN,{width:o,height:o,viewBox:f,style:v},s.renderIcon(g)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},x?x(A,g,b):A))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(j.PureComponent);Uh(bC,"displayName","Legend");Uh(bC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var uj,pP;function une(){if(pP)return uj;pP=1;var t=$x();function r(){this.__data__=new t,this.size=0}return uj=r,uj}var hj,vP;function hne(){if(vP)return hj;vP=1;function t(r){var n=this.__data__,s=n.delete(r);return this.size=n.size,s}return hj=t,hj}var mj,xP;function mne(){if(xP)return mj;xP=1;function t(r){return this.__data__.get(r)}return mj=t,mj}var fj,gP;function fne(){if(gP)return fj;gP=1;function t(r){return this.__data__.has(r)}return fj=t,fj}var pj,yP;function pne(){if(yP)return pj;yP=1;var t=$x(),r=dC(),n=uC(),s=200;function a(i,o){var l=this.__data__;if(l instanceof t){var d=l.__data__;if(!r||d.length<s-1)return d.push([i,o]),this.size=++l.size,this;l=this.__data__=new n(d)}return l.set(i,o),this.size=l.size,this}return pj=a,pj}var vj,bP;function Nz(){if(bP)return vj;bP=1;var t=$x(),r=une(),n=hne(),s=mne(),a=fne(),i=pne();function o(l){var d=this.__data__=new t(l);this.size=d.size}return o.prototype.clear=r,o.prototype.delete=n,o.prototype.get=s,o.prototype.has=a,o.prototype.set=i,vj=o,vj}var xj,jP;function vne(){if(jP)return xj;jP=1;var t="__lodash_hash_undefined__";function r(n){return this.__data__.set(n,t),this}return xj=r,xj}var gj,wP;function xne(){if(wP)return gj;wP=1;function t(r){return this.__data__.has(r)}return gj=t,gj}var yj,NP;function Sz(){if(NP)return yj;NP=1;var t=uC(),r=vne(),n=xne();function s(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return s.prototype.add=s.prototype.push=r,s.prototype.has=n,yj=s,yj}var bj,SP;function kz(){if(SP)return bj;SP=1;function t(r,n){for(var s=-1,a=r==null?0:r.length;++s<a;)if(n(r[s],s,r))return!0;return!1}return bj=t,bj}var jj,kP;function Cz(){if(kP)return jj;kP=1;function t(r,n){return r.has(n)}return jj=t,jj}var wj,CP;function Az(){if(CP)return wj;CP=1;var t=Sz(),r=kz(),n=Cz(),s=1,a=2;function i(o,l,d,u,f,m){var v=d&s,g=o.length,b=l.length;if(g!=b&&!(v&&b>g))return!1;var x=m.get(o),y=m.get(l);if(x&&y)return x==l&&y==o;var A=-1,E=!0,C=d&a?new t:void 0;for(m.set(o,l),m.set(l,o);++A<g;){var w=o[A],k=l[A];if(u)var S=v?u(k,w,A,l,o,m):u(w,k,A,o,l,m);if(S!==void 0){if(S)continue;E=!1;break}if(C){if(!r(l,function(R,T){if(!n(C,T)&&(w===R||f(w,R,d,u,m)))return C.push(T)})){E=!1;break}}else if(!(w===k||f(w,k,d,u,m))){E=!1;break}}return m.delete(o),m.delete(l),E}return wj=i,wj}var Nj,AP;function gne(){if(AP)return Nj;AP=1;var t=Qa(),r=t.Uint8Array;return Nj=r,Nj}var Sj,EP;function yne(){if(EP)return Sj;EP=1;function t(r){var n=-1,s=Array(r.size);return r.forEach(function(a,i){s[++n]=[i,a]}),s}return Sj=t,Sj}var kj,_P;function jC(){if(_P)return kj;_P=1;function t(r){var n=-1,s=Array(r.size);return r.forEach(function(a){s[++n]=a}),s}return kj=t,kj}var Cj,RP;function bne(){if(RP)return Cj;RP=1;var t=Fm(),r=gne(),n=cC(),s=Az(),a=yne(),i=jC(),o=1,l=2,d="[object Boolean]",u="[object Date]",f="[object Error]",m="[object Map]",v="[object Number]",g="[object RegExp]",b="[object Set]",x="[object String]",y="[object Symbol]",A="[object ArrayBuffer]",E="[object DataView]",C=t?t.prototype:void 0,w=C?C.valueOf:void 0;function k(S,R,T,O,U,D,I){switch(T){case E:if(S.byteLength!=R.byteLength||S.byteOffset!=R.byteOffset)return!1;S=S.buffer,R=R.buffer;case A:return!(S.byteLength!=R.byteLength||!D(new r(S),new r(R)));case d:case u:case v:return n(+S,+R);case f:return S.name==R.name&&S.message==R.message;case g:case x:return S==R+"";case m:var B=a;case b:var M=O&o;if(B||(B=i),S.size!=R.size&&!M)return!1;var W=I.get(S);if(W)return W==R;O|=l,I.set(S,R);var V=s(B(S),B(R),O,U,D,I);return I.delete(S),V;case y:if(w)return w.call(S)==w.call(R)}return!1}return Cj=k,Cj}var Aj,TP;function Ez(){if(TP)return Aj;TP=1;function t(r,n){for(var s=-1,a=n.length,i=r.length;++s<a;)r[i+s]=n[s];return r}return Aj=t,Aj}var Ej,PP;function jne(){if(PP)return Ej;PP=1;var t=Ez(),r=ss();function n(s,a,i){var o=a(s);return r(s)?o:t(o,i(s))}return Ej=n,Ej}var _j,OP;function wne(){if(OP)return _j;OP=1;function t(r,n){for(var s=-1,a=r==null?0:r.length,i=0,o=[];++s<a;){var l=r[s];n(l,s,r)&&(o[i++]=l)}return o}return _j=t,_j}var Rj,IP;function Nne(){if(IP)return Rj;IP=1;function t(){return[]}return Rj=t,Rj}var Tj,DP;function Sne(){if(DP)return Tj;DP=1;var t=wne(),r=Nne(),n=Object.prototype,s=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return s.call(o,l)}))}:r;return Tj=i,Tj}var Pj,MP;function kne(){if(MP)return Pj;MP=1;function t(r,n){for(var s=-1,a=Array(r);++s<r;)a[s]=n(s);return a}return Pj=t,Pj}var Oj,LP;function Cne(){if(LP)return Oj;LP=1;var t=Fi(),r=Bi(),n="[object Arguments]";function s(a){return r(a)&&t(a)==n}return Oj=s,Oj}var Ij,zP;function wC(){if(zP)return Ij;zP=1;var t=Cne(),r=Bi(),n=Object.prototype,s=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return r(o)&&s.call(o,"callee")&&!a.call(o,"callee")};return Ij=i,Ij}var hh={exports:{}},Dj,$P;function Ane(){if($P)return Dj;$P=1;function t(){return!1}return Dj=t,Dj}hh.exports;var FP;function _z(){return FP||(FP=1,(function(t,r){var n=Qa(),s=Ane(),a=r&&!r.nodeType&&r,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?n.Buffer:void 0,d=l?l.isBuffer:void 0,u=d||s;t.exports=u})(hh,hh.exports)),hh.exports}var Mj,BP;function NC(){if(BP)return Mj;BP=1;var t=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(s,a){var i=typeof s;return a=a??t,!!a&&(i=="number"||i!="symbol"&&r.test(s))&&s>-1&&s%1==0&&s<a}return Mj=n,Mj}var Lj,WP;function SC(){if(WP)return Lj;WP=1;var t=9007199254740991;function r(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Lj=r,Lj}var zj,UP;function Ene(){if(UP)return zj;UP=1;var t=Fi(),r=SC(),n=Bi(),s="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",d="[object Function]",u="[object Map]",f="[object Number]",m="[object Object]",v="[object RegExp]",g="[object Set]",b="[object String]",x="[object WeakMap]",y="[object ArrayBuffer]",A="[object DataView]",E="[object Float32Array]",C="[object Float64Array]",w="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",R="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",U="[object Uint32Array]",D={};D[E]=D[C]=D[w]=D[k]=D[S]=D[R]=D[T]=D[O]=D[U]=!0,D[s]=D[a]=D[y]=D[i]=D[A]=D[o]=D[l]=D[d]=D[u]=D[f]=D[m]=D[v]=D[g]=D[b]=D[x]=!1;function I(B){return n(B)&&r(B.length)&&!!D[t(B)]}return zj=I,zj}var $j,qP;function Rz(){if(qP)return $j;qP=1;function t(r){return function(n){return r(n)}}return $j=t,$j}var mh={exports:{}};mh.exports;var HP;function _ne(){return HP||(HP=1,(function(t,r){var n=JL(),s=r&&!r.nodeType&&r,a=s&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===s,o=i&&n.process,l=(function(){try{var d=a&&a.require&&a.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(mh,mh.exports)),mh.exports}var Fj,VP;function Tz(){if(VP)return Fj;VP=1;var t=Ene(),r=Rz(),n=_ne(),s=n&&n.isTypedArray,a=s?r(s):t;return Fj=a,Fj}var Bj,GP;function Rne(){if(GP)return Bj;GP=1;var t=kne(),r=wC(),n=ss(),s=_z(),a=NC(),i=Tz(),o=Object.prototype,l=o.hasOwnProperty;function d(u,f){var m=n(u),v=!m&&r(u),g=!m&&!v&&s(u),b=!m&&!v&&!g&&i(u),x=m||v||g||b,y=x?t(u.length,String):[],A=y.length;for(var E in u)(f||l.call(u,E))&&!(x&&(E=="length"||g&&(E=="offset"||E=="parent")||b&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||a(E,A)))&&y.push(E);return y}return Bj=d,Bj}var Wj,KP;function Tne(){if(KP)return Wj;KP=1;var t=Object.prototype;function r(n){var s=n&&n.constructor,a=typeof s=="function"&&s.prototype||t;return n===a}return Wj=r,Wj}var Uj,JP;function Pz(){if(JP)return Uj;JP=1;function t(r,n){return function(s){return r(n(s))}}return Uj=t,Uj}var qj,YP;function Pne(){if(YP)return qj;YP=1;var t=Pz(),r=t(Object.keys,Object);return qj=r,qj}var Hj,ZP;function One(){if(ZP)return Hj;ZP=1;var t=Tne(),r=Pne(),n=Object.prototype,s=n.hasOwnProperty;function a(i){if(!t(i))return r(i);var o=[];for(var l in Object(i))s.call(i,l)&&l!="constructor"&&o.push(l);return o}return Hj=a,Hj}var Vj,XP;function Bm(){if(XP)return Vj;XP=1;var t=lC(),r=SC();function n(s){return s!=null&&r(s.length)&&!t(s)}return Vj=n,Vj}var Gj,QP;function Vx(){if(QP)return Gj;QP=1;var t=Rne(),r=One(),n=Bm();function s(a){return n(a)?t(a):r(a)}return Gj=s,Gj}var Kj,eO;function Ine(){if(eO)return Kj;eO=1;var t=jne(),r=Sne(),n=Vx();function s(a){return t(a,n,r)}return Kj=s,Kj}var Jj,tO;function Dne(){if(tO)return Jj;tO=1;var t=Ine(),r=1,n=Object.prototype,s=n.hasOwnProperty;function a(i,o,l,d,u,f){var m=l&r,v=t(i),g=v.length,b=t(o),x=b.length;if(g!=x&&!m)return!1;for(var y=g;y--;){var A=v[y];if(!(m?A in o:s.call(o,A)))return!1}var E=f.get(i),C=f.get(o);if(E&&C)return E==o&&C==i;var w=!0;f.set(i,o),f.set(o,i);for(var k=m;++y<g;){A=v[y];var S=i[A],R=o[A];if(d)var T=m?d(R,S,A,o,i,f):d(S,R,A,i,o,f);if(!(T===void 0?S===R||u(S,R,l,d,f):T)){w=!1;break}k||(k=A=="constructor")}if(w&&!k){var O=i.constructor,U=o.constructor;O!=U&&"constructor"in i&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof U=="function"&&U instanceof U)&&(w=!1)}return f.delete(i),f.delete(o),w}return Jj=a,Jj}var Yj,rO;function Mne(){if(rO)return Yj;rO=1;var t=Ul(),r=Qa(),n=t(r,"DataView");return Yj=n,Yj}var Zj,nO;function Lne(){if(nO)return Zj;nO=1;var t=Ul(),r=Qa(),n=t(r,"Promise");return Zj=n,Zj}var Xj,sO;function Oz(){if(sO)return Xj;sO=1;var t=Ul(),r=Qa(),n=t(r,"Set");return Xj=n,Xj}var Qj,aO;function zne(){if(aO)return Qj;aO=1;var t=Ul(),r=Qa(),n=t(r,"WeakMap");return Qj=n,Qj}var ew,iO;function $ne(){if(iO)return ew;iO=1;var t=Mne(),r=dC(),n=Lne(),s=Oz(),a=zne(),i=Fi(),o=YL(),l="[object Map]",d="[object Object]",u="[object Promise]",f="[object Set]",m="[object WeakMap]",v="[object DataView]",g=o(t),b=o(r),x=o(n),y=o(s),A=o(a),E=i;return(t&&E(new t(new ArrayBuffer(1)))!=v||r&&E(new r)!=l||n&&E(n.resolve())!=u||s&&E(new s)!=f||a&&E(new a)!=m)&&(E=function(C){var w=i(C),k=w==d?C.constructor:void 0,S=k?o(k):"";if(S)switch(S){case g:return v;case b:return l;case x:return u;case y:return f;case A:return m}return w}),ew=E,ew}var tw,oO;function Fne(){if(oO)return tw;oO=1;var t=Nz(),r=Az(),n=bne(),s=Dne(),a=$ne(),i=ss(),o=_z(),l=Tz(),d=1,u="[object Arguments]",f="[object Array]",m="[object Object]",v=Object.prototype,g=v.hasOwnProperty;function b(x,y,A,E,C,w){var k=i(x),S=i(y),R=k?f:a(x),T=S?f:a(y);R=R==u?m:R,T=T==u?m:T;var O=R==m,U=T==m,D=R==T;if(D&&o(x)){if(!o(y))return!1;k=!0,O=!1}if(D&&!O)return w||(w=new t),k||l(x)?r(x,y,A,E,C,w):n(x,y,R,A,E,C,w);if(!(A&d)){var I=O&&g.call(x,"__wrapped__"),B=U&&g.call(y,"__wrapped__");if(I||B){var M=I?x.value():x,W=B?y.value():y;return w||(w=new t),C(M,W,A,E,w)}}return D?(w||(w=new t),s(x,y,A,E,C,w)):!1}return tw=b,tw}var rw,lO;function kC(){if(lO)return rw;lO=1;var t=Fne(),r=Bi();function n(s,a,i,o,l){return s===a?!0:s==null||a==null||!r(s)&&!r(a)?s!==s&&a!==a:t(s,a,i,o,n,l)}return rw=n,rw}var nw,cO;function Bne(){if(cO)return nw;cO=1;var t=Nz(),r=kC(),n=1,s=2;function a(i,o,l,d){var u=l.length,f=u,m=!d;if(i==null)return!f;for(i=Object(i);u--;){var v=l[u];if(m&&v[2]?v[1]!==i[v[0]]:!(v[0]in i))return!1}for(;++u<f;){v=l[u];var g=v[0],b=i[g],x=v[1];if(m&&v[2]){if(b===void 0&&!(g in i))return!1}else{var y=new t;if(d)var A=d(b,x,g,i,o,y);if(!(A===void 0?r(x,b,n|s,d,y):A))return!1}}return!0}return nw=a,nw}var sw,dO;function Iz(){if(dO)return sw;dO=1;var t=$o();function r(n){return n===n&&!t(n)}return sw=r,sw}var aw,uO;function Wne(){if(uO)return aw;uO=1;var t=Iz(),r=Vx();function n(s){for(var a=r(s),i=a.length;i--;){var o=a[i],l=s[o];a[i]=[o,l,t(l)]}return a}return aw=n,aw}var iw,hO;function Dz(){if(hO)return iw;hO=1;function t(r,n){return function(s){return s==null?!1:s[r]===n&&(n!==void 0||r in Object(s))}}return iw=t,iw}var ow,mO;function Une(){if(mO)return ow;mO=1;var t=Bne(),r=Wne(),n=Dz();function s(a){var i=r(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return ow=s,ow}var lw,fO;function qne(){if(fO)return lw;fO=1;function t(r,n){return r!=null&&n in Object(r)}return lw=t,lw}var cw,pO;function Hne(){if(pO)return cw;pO=1;var t=QL(),r=wC(),n=ss(),s=NC(),a=SC(),i=Bx();function o(l,d,u){d=t(d,l);for(var f=-1,m=d.length,v=!1;++f<m;){var g=i(d[f]);if(!(v=l!=null&&u(l,g)))break;l=l[g]}return v||++f!=m?v:(m=l==null?0:l.length,!!m&&a(m)&&s(g,m)&&(n(l)||r(l)))}return cw=o,cw}var dw,vO;function Vne(){if(vO)return dw;vO=1;var t=qne(),r=Hne();function n(s,a){return s!=null&&r(s,a,t)}return dw=n,dw}var uw,xO;function Gne(){if(xO)return uw;xO=1;var t=kC(),r=ez(),n=Vne(),s=oC(),a=Iz(),i=Dz(),o=Bx(),l=1,d=2;function u(f,m){return s(f)&&a(m)?i(o(f),m):function(v){var g=r(v,f);return g===void 0&&g===m?n(v,f):t(m,g,l|d)}}return uw=u,uw}var hw,gO;function eu(){if(gO)return hw;gO=1;function t(r){return r}return hw=t,hw}var mw,yO;function Kne(){if(yO)return mw;yO=1;function t(r){return function(n){return n?.[r]}}return mw=t,mw}var fw,bO;function Jne(){if(bO)return fw;bO=1;var t=mC();function r(n){return function(s){return t(s,n)}}return fw=r,fw}var pw,jO;function Yne(){if(jO)return pw;jO=1;var t=Kne(),r=Jne(),n=oC(),s=Bx();function a(i){return n(i)?t(s(i)):r(i)}return pw=a,pw}var vw,wO;function Fo(){if(wO)return vw;wO=1;var t=Une(),r=Gne(),n=eu(),s=ss(),a=Yne();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?s(o)?r(o[0],o[1]):t(o):a(o)}return vw=i,vw}var xw,NO;function Mz(){if(NO)return xw;NO=1;function t(r,n,s,a){for(var i=r.length,o=s+(a?1:-1);a?o--:++o<i;)if(n(r[o],o,r))return o;return-1}return xw=t,xw}var gw,SO;function Zne(){if(SO)return gw;SO=1;function t(r){return r!==r}return gw=t,gw}var yw,kO;function Xne(){if(kO)return yw;kO=1;function t(r,n,s){for(var a=s-1,i=r.length;++a<i;)if(r[a]===n)return a;return-1}return yw=t,yw}var bw,CO;function Qne(){if(CO)return bw;CO=1;var t=Mz(),r=Zne(),n=Xne();function s(a,i,o){return i===i?n(a,i,o):t(a,r,o)}return bw=s,bw}var jw,AO;function ese(){if(AO)return jw;AO=1;var t=Qne();function r(n,s){var a=n==null?0:n.length;return!!a&&t(n,s,0)>-1}return jw=r,jw}var ww,EO;function tse(){if(EO)return ww;EO=1;function t(r,n,s){for(var a=-1,i=r==null?0:r.length;++a<i;)if(s(n,r[a]))return!0;return!1}return ww=t,ww}var Nw,_O;function rse(){if(_O)return Nw;_O=1;function t(){}return Nw=t,Nw}var Sw,RO;function nse(){if(RO)return Sw;RO=1;var t=Oz(),r=rse(),n=jC(),s=1/0,a=t&&1/n(new t([,-0]))[1]==s?function(i){return new t(i)}:r;return Sw=a,Sw}var kw,TO;function sse(){if(TO)return kw;TO=1;var t=Sz(),r=ese(),n=tse(),s=Cz(),a=nse(),i=jC(),o=200;function l(d,u,f){var m=-1,v=r,g=d.length,b=!0,x=[],y=x;if(f)b=!1,v=n;else if(g>=o){var A=u?null:a(d);if(A)return i(A);b=!1,v=s,y=new t}else y=u?[]:x;e:for(;++m<g;){var E=d[m],C=u?u(E):E;if(E=f||E!==0?E:0,b&&C===C){for(var w=y.length;w--;)if(y[w]===C)continue e;u&&y.push(C),x.push(E)}else v(y,C,f)||(y!==x&&y.push(C),x.push(E))}return x}return kw=l,kw}var Cw,PO;function ase(){if(PO)return Cw;PO=1;var t=Fo(),r=sse();function n(s,a){return s&&s.length?r(s,t(a,2)):[]}return Cw=n,Cw}var ise=ase();const OO=Ft(ise);function Lz(t,r,n){return r===!0?OO(t,n):dt(r)?OO(t,r):t}function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},id(t)}var ose=["ref"];function IO(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function ui(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?IO(Object(n),!0).forEach(function(s){Gx(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function lse(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function DO(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,$z(s.key),s)}}function cse(t,r,n){return r&&DO(t.prototype,r),n&&DO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dse(t,r,n){return r=bv(r),use(t,zz()?Reflect.construct(r,n||[],bv(t).constructor):r.apply(t,n))}function use(t,r){if(r&&(id(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hse(t)}function hse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zz=function(){return!!t})()}function bv(t){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bv(t)}function mse(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&nS(t,r)}function nS(t,r){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},nS(t,r)}function Gx(t,r,n){return r=$z(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function $z(t){var r=fse(t,"string");return id(r)=="symbol"?r:r+""}function fse(t,r){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(id(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pse(t,r){if(t==null)return{};var n=vse(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function vse(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function xse(t){return t.value}function gse(t,r){if($.isValidElement(t))return $.cloneElement(t,r);if(typeof t=="function")return $.createElement(t,r);r.ref;var n=pse(r,ose);return $.createElement(bC,n)}var MO=1,Co=(function(t){function r(){var n;lse(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=dse(this,r,[].concat(a)),Gx(n,"lastBoundingBox",{width:-1,height:-1}),n}return mse(r,t),cse(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>MO||Math.abs(a.height-this.lastBoundingBox.height)>MO)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ui({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,d=a.margin,u=a.chartWidth,f=a.chartHeight,m,v;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();m={left:((u||0)-g.width)/2}}else m=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();v={top:((f||0)-b.height)/2}}else v=l==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return ui(ui({},m),v)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,d=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,m=ui(ui({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(d)),d);return $.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(g){s.wrapperNode=g}},gse(i,ui(ui({},this.props),{},{payload:Lz(f,u,xse)})))}}],[{key:"getWithHeight",value:function(s,a){var i=ui(ui({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Oe(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])})(j.PureComponent);Gx(Co,"displayName","Legend");Gx(Co,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Aw,LO;function yse(){if(LO)return Aw;LO=1;var t=Fm(),r=wC(),n=ss(),s=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||r(i)||!!(s&&i&&i[s])}return Aw=a,Aw}var Ew,zO;function Fz(){if(zO)return Ew;zO=1;var t=Ez(),r=yse();function n(s,a,i,o,l){var d=-1,u=s.length;for(i||(i=r),l||(l=[]);++d<u;){var f=s[d];a>0&&i(f)?a>1?n(f,a-1,i,o,l):t(l,f):o||(l[l.length]=f)}return l}return Ew=n,Ew}var _w,$O;function bse(){if($O)return _w;$O=1;function t(r){return function(n,s,a){for(var i=-1,o=Object(n),l=a(n),d=l.length;d--;){var u=l[r?d:++i];if(s(o[u],u,o)===!1)break}return n}}return _w=t,_w}var Rw,FO;function jse(){if(FO)return Rw;FO=1;var t=bse(),r=t();return Rw=r,Rw}var Tw,BO;function Bz(){if(BO)return Tw;BO=1;var t=jse(),r=Vx();function n(s,a){return s&&t(s,a,r)}return Tw=n,Tw}var Pw,WO;function wse(){if(WO)return Pw;WO=1;var t=Bm();function r(n,s){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var o=a.length,l=s?o:-1,d=Object(a);(s?l--:++l<o)&&i(d[l],l,d)!==!1;);return a}}return Pw=r,Pw}var Ow,UO;function CC(){if(UO)return Ow;UO=1;var t=Bz(),r=wse(),n=r(t);return Ow=n,Ow}var Iw,qO;function Wz(){if(qO)return Iw;qO=1;var t=CC(),r=Bm();function n(s,a){var i=-1,o=r(s)?Array(s.length):[];return t(s,function(l,d,u){o[++i]=a(l,d,u)}),o}return Iw=n,Iw}var Dw,HO;function Nse(){if(HO)return Dw;HO=1;function t(r,n){var s=r.length;for(r.sort(n);s--;)r[s]=r[s].value;return r}return Dw=t,Dw}var Mw,VO;function Sse(){if(VO)return Mw;VO=1;var t=Yd();function r(n,s){if(n!==s){var a=n!==void 0,i=n===null,o=n===n,l=t(n),d=s!==void 0,u=s===null,f=s===s,m=t(s);if(!u&&!m&&!l&&n>s||l&&d&&f&&!u&&!m||i&&d&&f||!a&&f||!o)return 1;if(!i&&!l&&!m&&n<s||m&&a&&o&&!i&&!l||u&&a&&o||!d&&o||!f)return-1}return 0}return Mw=r,Mw}var Lw,GO;function kse(){if(GO)return Lw;GO=1;var t=Sse();function r(n,s,a){for(var i=-1,o=n.criteria,l=s.criteria,d=o.length,u=a.length;++i<d;){var f=t(o[i],l[i]);if(f){if(i>=u)return f;var m=a[i];return f*(m=="desc"?-1:1)}}return n.index-s.index}return Lw=r,Lw}var zw,KO;function Cse(){if(KO)return zw;KO=1;var t=hC(),r=mC(),n=Fo(),s=Wz(),a=Nse(),i=Rz(),o=kse(),l=eu(),d=ss();function u(f,m,v){m.length?m=t(m,function(x){return d(x)?function(y){return r(y,x.length===1?x[0]:x)}:x}):m=[l];var g=-1;m=t(m,i(n));var b=s(f,function(x,y,A){var E=t(m,function(C){return C(x)});return{criteria:E,index:++g,value:x}});return a(b,function(x,y){return o(x,y,v)})}return zw=u,zw}var $w,JO;function Ase(){if(JO)return $w;JO=1;function t(r,n,s){switch(s.length){case 0:return r.call(n);case 1:return r.call(n,s[0]);case 2:return r.call(n,s[0],s[1]);case 3:return r.call(n,s[0],s[1],s[2])}return r.apply(n,s)}return $w=t,$w}var Fw,YO;function Ese(){if(YO)return Fw;YO=1;var t=Ase(),r=Math.max;function n(s,a,i){return a=r(a===void 0?s.length-1:a,0),function(){for(var o=arguments,l=-1,d=r(o.length-a,0),u=Array(d);++l<d;)u[l]=o[a+l];l=-1;for(var f=Array(a+1);++l<a;)f[l]=o[l];return f[a]=i(u),t(s,this,f)}}return Fw=n,Fw}var Bw,ZO;function _se(){if(ZO)return Bw;ZO=1;function t(r){return function(){return r}}return Bw=t,Bw}var Ww,XO;function Uz(){if(XO)return Ww;XO=1;var t=Ul(),r=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Ww=r,Ww}var Uw,QO;function Rse(){if(QO)return Uw;QO=1;var t=_se(),r=Uz(),n=eu(),s=r?function(a,i){return r(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return Uw=s,Uw}var qw,e4;function Tse(){if(e4)return qw;e4=1;var t=800,r=16,n=Date.now;function s(a){var i=0,o=0;return function(){var l=n(),d=r-(l-o);if(o=l,d>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return qw=s,qw}var Hw,t4;function Pse(){if(t4)return Hw;t4=1;var t=Rse(),r=Tse(),n=r(t);return Hw=n,Hw}var Vw,r4;function Ose(){if(r4)return Vw;r4=1;var t=eu(),r=Ese(),n=Pse();function s(a,i){return n(r(a,i,t),a+"")}return Vw=s,Vw}var Gw,n4;function Kx(){if(n4)return Gw;n4=1;var t=cC(),r=Bm(),n=NC(),s=$o();function a(i,o,l){if(!s(l))return!1;var d=typeof o;return(d=="number"?r(l)&&n(o,l.length):d=="string"&&o in l)?t(l[o],i):!1}return Gw=a,Gw}var Kw,s4;function Ise(){if(s4)return Kw;s4=1;var t=Fz(),r=Cse(),n=Ose(),s=Kx(),a=n(function(i,o){if(i==null)return[];var l=o.length;return l>1&&s(i,o[0],o[1])?o=[]:l>2&&s(o[0],o[1],o[2])&&(o=[o[0]]),r(i,t(o,1),[])});return Kw=a,Kw}var Dse=Ise();const AC=Ft(Dse);function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qh(t)}function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},sS.apply(this,arguments)}function Mse(t,r){return Fse(t)||$se(t,r)||zse(t,r)||Lse()}function Lse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zse(t,r){if(t){if(typeof t=="string")return a4(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a4(t,r)}}function a4(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function $se(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);d=!0);}catch(f){u=!0,a=f}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Fse(t){if(Array.isArray(t))return t}function i4(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Jw(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?i4(Object(n),!0).forEach(function(s){Bse(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Bse(t,r,n){return r=Wse(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Wse(t){var r=Use(t,"string");return qh(r)=="symbol"?r:r+""}function Use(t,r){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(qh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function qse(t){return Array.isArray(t)&&en(t[0])&&en(t[1])?t.join(" ~ "):t}var Hse=function(r){var n=r.separator,s=n===void 0?" : ":n,a=r.contentStyle,i=a===void 0?{}:a,o=r.itemStyle,l=o===void 0?{}:o,d=r.labelStyle,u=d===void 0?{}:d,f=r.payload,m=r.formatter,v=r.itemSorter,g=r.wrapperClassName,b=r.labelClassName,x=r.label,y=r.labelFormatter,A=r.accessibilityLayer,E=A===void 0?!1:A,C=function(){if(f&&f.length){var I={padding:0,margin:0},B=(v?AC(f,v):f).map(function(M,W){if(M.type==="none")return null;var V=Jw({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),Q=M.formatter||m||qse,H=M.value,X=M.name,K=H,z=X;if(Q&&K!=null&&z!=null){var q=Q(H,X,M,W,f);if(Array.isArray(q)){var ee=Mse(q,2);K=ee[0],z=ee[1]}else K=q}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:V},en(z)?$.createElement("span",{className:"recharts-tooltip-item-name"},z):null,en(z)?$.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,$.createElement("span",{className:"recharts-tooltip-item-value"},K),$.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:I},B)}return null},w=Jw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),k=Jw({margin:0},u),S=!mt(x),R=S?x:"",T=yt("recharts-default-tooltip",g),O=yt("recharts-tooltip-label",b);S&&y&&f!==void 0&&f!==null&&(R=y(x,f));var U=E?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",sS({className:T,style:w},U),$.createElement("p",{className:O,style:k},$.isValidElement(R)?R:"".concat(R)),C())};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hh(t)}function wp(t,r,n){return r=Vse(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Vse(t){var r=Gse(t,"string");return Hh(r)=="symbol"?r:r+""}function Gse(t,r){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Hh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Gu="recharts-tooltip-wrapper",Kse={visibility:"hidden"};function Jse(t){var r=t.coordinate,n=t.translateX,s=t.translateY;return yt(Gu,wp(wp(wp(wp({},"".concat(Gu,"-right"),Oe(n)&&r&&Oe(r.x)&&n>=r.x),"".concat(Gu,"-left"),Oe(n)&&r&&Oe(r.x)&&n<r.x),"".concat(Gu,"-bottom"),Oe(s)&&r&&Oe(r.y)&&s>=r.y),"".concat(Gu,"-top"),Oe(s)&&r&&Oe(r.y)&&s<r.y))}function o4(t){var r=t.allowEscapeViewBox,n=t.coordinate,s=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,d=t.viewBox,u=t.viewBoxDimension;if(i&&Oe(i[s]))return i[s];var f=n[s]-l-a,m=n[s]+a;if(r[s])return o[s]?f:m;if(o[s]){var v=f,g=d[s];return v<g?Math.max(m,d[s]):Math.max(f,d[s])}var b=m+l,x=d[s]+u;return b>x?Math.max(f,d[s]):Math.max(m,d[s])}function Yse(t){var r=t.translateX,n=t.translateY,s=t.useTranslate3d;return{transform:s?"translate3d(".concat(r,"px, ").concat(n,"px, 0)"):"translate(".concat(r,"px, ").concat(n,"px)")}}function Zse(t){var r=t.allowEscapeViewBox,n=t.coordinate,s=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,d=t.viewBox,u,f,m;return o.height>0&&o.width>0&&n?(f=o4({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),m=o4({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),u=Yse({translateX:f,translateY:m,useTranslate3d:l})):u=Kse,{cssProperties:u,cssClasses:Jse({translateX:f,translateY:m,coordinate:n})}}function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},od(t)}function l4(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function c4(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?l4(Object(n),!0).forEach(function(s){iS(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Xse(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Qse(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Hz(s.key),s)}}function eae(t,r,n){return r&&Qse(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tae(t,r,n){return r=jv(r),rae(t,qz()?Reflect.construct(r,n||[],jv(t).constructor):r.apply(t,n))}function rae(t,r){if(r&&(od(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nae(t)}function nae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(t)}function sae(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&aS(t,r)}function aS(t,r){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},aS(t,r)}function iS(t,r,n){return r=Hz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Hz(t){var r=aae(t,"string");return od(r)=="symbol"?r:r+""}function aae(t,r){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(od(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var d4=1,iae=(function(t){function r(){var n;Xse(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=tae(this,r,[].concat(a)),iS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),iS(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,d,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&l!==void 0?l:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return sae(r,t),eae(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>d4||Math.abs(s.height-this.state.lastBoundingBox.height)>d4)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,d=a.animationEasing,u=a.children,f=a.coordinate,m=a.hasPayload,v=a.isAnimationActive,g=a.offset,b=a.position,x=a.reverseDirection,y=a.useTranslate3d,A=a.viewBox,E=a.wrapperStyle,C=Zse({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:g,position:b,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:A}),w=C.cssClasses,k=C.cssProperties,S=c4(c4({transition:v&&i?"transform ".concat(l,"ms ").concat(d):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},E);return $.createElement("div",{tabIndex:-1,className:w,style:S,ref:function(T){s.wrapperNode=T}},u)}}])})(j.PureComponent),oae=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ql={isSsr:oae()};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ld(t)}function u4(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function h4(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?u4(Object(n),!0).forEach(function(s){EC(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function lae(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function cae(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Gz(s.key),s)}}function dae(t,r,n){return r&&cae(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uae(t,r,n){return r=wv(r),hae(t,Vz()?Reflect.construct(r,n||[],wv(t).constructor):r.apply(t,n))}function hae(t,r){if(r&&(ld(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mae(t)}function mae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vz=function(){return!!t})()}function wv(t){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wv(t)}function fae(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&oS(t,r)}function oS(t,r){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},oS(t,r)}function EC(t,r,n){return r=Gz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Gz(t){var r=pae(t,"string");return ld(r)=="symbol"?r:r+""}function pae(t,r){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(ld(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vae(t){return t.dataKey}function xae(t,r){return $.isValidElement(t)?$.cloneElement(t,r):typeof t=="function"?$.createElement(t,r):$.createElement(Hse,r)}var Pn=(function(t){function r(){return lae(this,r),uae(this,r,arguments)}return fae(r,t),dae(r,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,d=a.animationEasing,u=a.content,f=a.coordinate,m=a.filterNull,v=a.isAnimationActive,g=a.offset,b=a.payload,x=a.payloadUniqBy,y=a.position,A=a.reverseDirection,E=a.useTranslate3d,C=a.viewBox,w=a.wrapperStyle,k=b??[];m&&k.length&&(k=Lz(b.filter(function(R){return R.value!=null&&(R.hide!==!0||s.props.includeHidden)}),x,vae));var S=k.length>0;return $.createElement(iae,{allowEscapeViewBox:o,animationDuration:l,animationEasing:d,isAnimationActive:v,active:i,coordinate:f,hasPayload:S,offset:g,position:y,reverseDirection:A,useTranslate3d:E,viewBox:C,wrapperStyle:w},xae(u,h4(h4({},this.props),{},{payload:k})))}}])})(j.PureComponent);EC(Pn,"displayName","Tooltip");EC(Pn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ql.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Yw,m4;function gae(){if(m4)return Yw;m4=1;var t=Qa(),r=function(){return t.Date.now()};return Yw=r,Yw}var Zw,f4;function yae(){if(f4)return Zw;f4=1;var t=/\s/;function r(n){for(var s=n.length;s--&&t.test(n.charAt(s)););return s}return Zw=r,Zw}var Xw,p4;function bae(){if(p4)return Xw;p4=1;var t=yae(),r=/^\s+/;function n(s){return s&&s.slice(0,t(s)+1).replace(r,"")}return Xw=n,Xw}var Qw,v4;function Kz(){if(v4)return Qw;v4=1;var t=bae(),r=$o(),n=Yd(),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function d(u){if(typeof u=="number")return u;if(n(u))return s;if(r(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=r(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var m=i.test(u);return m||o.test(u)?l(u.slice(2),m?2:8):a.test(u)?s:+u}return Qw=d,Qw}var e1,x4;function jae(){if(x4)return e1;x4=1;var t=$o(),r=gae(),n=Kz(),s="Expected a function",a=Math.max,i=Math.min;function o(l,d,u){var f,m,v,g,b,x,y=0,A=!1,E=!1,C=!0;if(typeof l!="function")throw new TypeError(s);d=n(d)||0,t(u)&&(A=!!u.leading,E="maxWait"in u,v=E?a(n(u.maxWait)||0,d):v,C="trailing"in u?!!u.trailing:C);function w(B){var M=f,W=m;return f=m=void 0,y=B,g=l.apply(W,M),g}function k(B){return y=B,b=setTimeout(T,d),A?w(B):g}function S(B){var M=B-x,W=B-y,V=d-M;return E?i(V,v-W):V}function R(B){var M=B-x,W=B-y;return x===void 0||M>=d||M<0||E&&W>=v}function T(){var B=r();if(R(B))return O(B);b=setTimeout(T,S(B))}function O(B){return b=void 0,C&&f?w(B):(f=m=void 0,g)}function U(){b!==void 0&&clearTimeout(b),y=0,f=x=m=b=void 0}function D(){return b===void 0?g:O(r())}function I(){var B=r(),M=R(B);if(f=arguments,m=this,x=B,M){if(b===void 0)return k(x);if(E)return clearTimeout(b),b=setTimeout(T,d),w(x)}return b===void 0&&(b=setTimeout(T,d)),g}return I.cancel=U,I.flush=D,I}return e1=o,e1}var t1,g4;function wae(){if(g4)return t1;g4=1;var t=jae(),r=$o(),n="Expected a function";function s(a,i,o){var l=!0,d=!0;if(typeof a!="function")throw new TypeError(n);return r(o)&&(l="leading"in o?!!o.leading:l,d="trailing"in o?!!o.trailing:d),t(a,i,{leading:l,maxWait:i,trailing:d})}return t1=s,t1}var Nae=wae();const Jz=Ft(Nae);function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vh(t)}function y4(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Np(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?y4(Object(n),!0).forEach(function(s){Sae(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Sae(t,r,n){return r=kae(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function kae(t){var r=Cae(t,"string");return Vh(r)=="symbol"?r:r+""}function Cae(t,r){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Vh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Aae(t,r){return Tae(t)||Rae(t,r)||_ae(t,r)||Eae()}function Eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ae(t,r){if(t){if(typeof t=="string")return b4(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b4(t,r)}}function b4(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Rae(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);d=!0);}catch(f){u=!0,a=f}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Tae(t){if(Array.isArray(t))return t}var Po=j.forwardRef(function(t,r){var n=t.aspect,s=t.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=t.width,o=i===void 0?"100%":i,l=t.height,d=l===void 0?"100%":l,u=t.minWidth,f=u===void 0?0:u,m=t.minHeight,v=t.maxHeight,g=t.children,b=t.debounce,x=b===void 0?0:b,y=t.id,A=t.className,E=t.onResize,C=t.style,w=C===void 0?{}:C,k=j.useRef(null),S=j.useRef();S.current=E,j.useImperativeHandle(r,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var R=j.useState({containerWidth:a.width,containerHeight:a.height}),T=Aae(R,2),O=T[0],U=T[1],D=j.useCallback(function(B,M){U(function(W){var V=Math.round(B),Q=Math.round(M);return W.containerWidth===V&&W.containerHeight===Q?W:{containerWidth:V,containerHeight:Q}})},[]);j.useEffect(function(){var B=function(X){var K,z=X[0].contentRect,q=z.width,ee=z.height;D(q,ee),(K=S.current)===null||K===void 0||K.call(S,q,ee)};x>0&&(B=Jz(B,x,{trailing:!0,leading:!1}));var M=new ResizeObserver(B),W=k.current.getBoundingClientRect(),V=W.width,Q=W.height;return D(V,Q),M.observe(k.current),function(){M.disconnect()}},[D,x]);var I=j.useMemo(function(){var B=O.containerWidth,M=O.containerHeight;if(B<0||M<0)return null;ji(yl(o)||yl(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),ji(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=yl(o)?B:o,V=yl(d)?M:d;n&&n>0&&(W?V=W/n:V&&(W=V*n),v&&V>v&&(V=v)),ji(W>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,V,o,d,f,m,n);var Q=!Array.isArray(g)&&bi(g.type).endsWith("Chart");return $.Children.map(g,function(H){return $.isValidElement(H)?j.cloneElement(H,Np({width:W,height:V},Q?{style:Np({height:"100%",width:"100%",maxHeight:V,maxWidth:W},H.props.style)}:{})):H})},[n,g,d,v,m,f,O,o]);return $.createElement("div",{id:y?"".concat(y):void 0,className:yt("recharts-responsive-container",A),style:Np(Np({},w),{},{width:o,height:d,minWidth:f,minHeight:m,maxHeight:v}),ref:k},I)}),Yz=function(r){return null};Yz.displayName="Cell";function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gh(t)}function j4(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function lS(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?j4(Object(n),!0).forEach(function(s){Pae(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Pae(t,r,n){return r=Oae(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Oae(t){var r=Iae(t,"string");return Gh(r)=="symbol"?r:r+""}function Iae(t,r){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Gh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Pc={widthCache:{},cacheCount:0},Dae=2e3,Mae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},w4="recharts_measurement_span";function Lae(t){var r=lS({},t);return Object.keys(r).forEach(function(n){r[n]||delete r[n]}),r}var bh=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||ql.isSsr)return{width:0,height:0};var s=Lae(n),a=JSON.stringify({text:r,copyStyle:s});if(Pc.widthCache[a])return Pc.widthCache[a];try{var i=document.getElementById(w4);i||(i=document.createElement("span"),i.setAttribute("id",w4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=lS(lS({},Mae),s);Object.assign(i.style,o),i.textContent="".concat(r);var l=i.getBoundingClientRect(),d={width:l.width,height:l.height};return Pc.widthCache[a]=d,++Pc.cacheCount>Dae&&(Pc.cacheCount=0,Pc.widthCache={}),d}catch{return{width:0,height:0}}},zae=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kh(t)}function Nv(t,r){return Wae(t)||Bae(t,r)||Fae(t,r)||$ae()}function $ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fae(t,r){if(t){if(typeof t=="string")return N4(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N4(t,r)}}function N4(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Bae(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);d=!0);}catch(f){u=!0,a=f}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Wae(t){if(Array.isArray(t))return t}function Uae(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function S4(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Hae(s.key),s)}}function qae(t,r,n){return r&&S4(t.prototype,r),n&&S4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hae(t){var r=Vae(t,"string");return Kh(r)=="symbol"?r:r+""}function Vae(t,r){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Kh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var k4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,C4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Kae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jae=Object.keys(Zz),Wc="NaN";function Yae(t,r){return t*Zz[r]}var Sp=(function(){function t(r,n){Uae(this,t),this.num=r,this.unit=n,this.num=r,this.unit=n,Number.isNaN(r)&&(this.unit=""),n!==""&&!Gae.test(n)&&(this.num=NaN,this.unit=""),Jae.includes(n)&&(this.num=Yae(r,n),this.unit="px")}return qae(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,a=(s=Kae.exec(n))!==null&&s!==void 0?s:[],i=Nv(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function Xz(t){if(t.includes(Wc))return Wc;for(var r=t;r.includes("*")||r.includes("/");){var n,s=(n=k4.exec(r))!==null&&n!==void 0?n:[],a=Nv(s,4),i=a[1],o=a[2],l=a[3],d=Sp.parse(i??""),u=Sp.parse(l??""),f=o==="*"?d.multiply(u):d.divide(u);if(f.isNaN())return Wc;r=r.replace(k4,f.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var m,v=(m=C4.exec(r))!==null&&m!==void 0?m:[],g=Nv(v,4),b=g[1],x=g[2],y=g[3],A=Sp.parse(b??""),E=Sp.parse(y??""),C=x==="+"?A.add(E):A.subtract(E);if(C.isNaN())return Wc;r=r.replace(C4,C.toString())}return r}var A4=/\(([^()]*)\)/;function Zae(t){for(var r=t;r.includes("(");){var n=A4.exec(r),s=Nv(n,2),a=s[1];r=r.replace(A4,Xz(a))}return r}function Xae(t){var r=t.replace(/\s+/g,"");return r=Zae(r),r=Xz(r),r}function Qae(t){try{return Xae(t)}catch{return Wc}}function r1(t){var r=Qae(t.slice(5,-1));return r===Wc?"":r}var eie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tie=["dx","dy","angle","className","breakAll"];function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},cS.apply(this,arguments)}function E4(t,r){if(t==null)return{};var n=rie(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function rie(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function _4(t,r){return iie(t)||aie(t,r)||sie(t,r)||nie()}function nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sie(t,r){if(t){if(typeof t=="string")return R4(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R4(t,r)}}function R4(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function aie(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);d=!0);}catch(f){u=!0,a=f}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iie(t){if(Array.isArray(t))return t}var Qz=/[ \f\n\r\t\v\u2028\u2029]+/,e$=function(r){var n=r.children,s=r.breakAll,a=r.style;try{var i=[];mt(n)||(s?i=n.toString().split(""):i=n.toString().split(Qz));var o=i.map(function(d){return{word:d,width:bh(d,a).width}}),l=s?0:bh("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},oie=function(r,n,s,a,i){var o=r.maxLines,l=r.children,d=r.style,u=r.breakAll,f=Oe(o),m=l,v=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(V,Q){var H=Q.word,X=Q.width,K=V[V.length-1];if(K&&(a==null||i||K.width+X+s<Number(a)))K.words.push(H),K.width+=X+s;else{var z={words:[H],width:X};V.push(z)}return V},[])},g=v(n),b=function(W){return W.reduce(function(V,Q){return V.width>Q.width?V:Q})};if(!f)return g;for(var x="",y=function(W){var V=m.slice(0,W),Q=e$({breakAll:u,style:d,children:V+x}).wordsWithComputedWidth,H=v(Q),X=H.length>o||b(H).width>Number(a);return[X,H]},A=0,E=m.length-1,C=0,w;A<=E&&C<=m.length-1;){var k=Math.floor((A+E)/2),S=k-1,R=y(S),T=_4(R,2),O=T[0],U=T[1],D=y(k),I=_4(D,1),B=I[0];if(!O&&!B&&(A=k+1),O&&B&&(E=k-1),!O&&B){w=U;break}C++}return w||g},T4=function(r){var n=mt(r)?[]:r.toString().split(Qz);return[{words:n}]},lie=function(r){var n=r.width,s=r.scaleToFit,a=r.children,i=r.style,o=r.breakAll,l=r.maxLines;if((n||s)&&!ql.isSsr){var d,u,f=e$({breakAll:o,children:a,style:i});if(f){var m=f.wordsWithComputedWidth,v=f.spaceWidth;d=m,u=v}else return T4(a);return oie({breakAll:o,children:a,maxLines:l,style:i},d,u,n,s)}return T4(a)},P4="#808080",Sv=function(r){var n=r.x,s=n===void 0?0:n,a=r.y,i=a===void 0?0:a,o=r.lineHeight,l=o===void 0?"1em":o,d=r.capHeight,u=d===void 0?"0.71em":d,f=r.scaleToFit,m=f===void 0?!1:f,v=r.textAnchor,g=v===void 0?"start":v,b=r.verticalAnchor,x=b===void 0?"end":b,y=r.fill,A=y===void 0?P4:y,E=E4(r,eie),C=j.useMemo(function(){return lie({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:m,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,m,E.style,E.width]),w=E.dx,k=E.dy,S=E.angle,R=E.className,T=E.breakAll,O=E4(E,tie);if(!en(s)||!en(i))return null;var U=s+(Oe(w)?w:0),D=i+(Oe(k)?k:0),I;switch(x){case"start":I=r1("calc(".concat(u,")"));break;case"middle":I=r1("calc(".concat((C.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=r1("calc(".concat(C.length-1," * -").concat(l,")"));break}var B=[];if(m){var M=C[0].width,W=E.width;B.push("scale(".concat((Oe(W)?W/M:1)/M,")"))}return S&&B.push("rotate(".concat(S,", ").concat(U,", ").concat(D,")")),B.length&&(O.transform=B.join(" ")),$.createElement("text",cS({},ut(O,!0),{x:U,y:D,className:yt("recharts-text",R),textAnchor:g,fill:A.includes("url")?P4:A}),C.map(function(V,Q){var H=V.words.join(T?"":" ");return $.createElement("tspan",{x:U,dy:Q===0?I:l,key:"".concat(H,"-").concat(Q)},H)}))};function Ao(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function cie(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function _C(t){let r,n,s;t.length!==2?(r=Ao,n=(l,d)=>Ao(t(l),d),s=(l,d)=>t(l)-d):(r=t===Ao||t===cie?t:die,n=t,s=t);function a(l,d,u=0,f=l.length){if(u<f){if(r(d,d)!==0)return f;do{const m=u+f>>>1;n(l[m],d)<0?u=m+1:f=m}while(u<f)}return u}function i(l,d,u=0,f=l.length){if(u<f){if(r(d,d)!==0)return f;do{const m=u+f>>>1;n(l[m],d)<=0?u=m+1:f=m}while(u<f)}return u}function o(l,d,u=0,f=l.length){const m=a(l,d,u,f-1);return m>u&&s(l[m-1],d)>-s(l[m],d)?m-1:m}return{left:a,center:o,right:i}}function die(){return 0}function t$(t){return t===null?NaN:+t}function*uie(t,r){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const hie=_C(Ao),Wm=hie.right;_C(t$).center;class O4 extends Map{constructor(r,n=pie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[s,a]of r)this.set(s,a)}get(r){return super.get(I4(this,r))}has(r){return super.has(I4(this,r))}set(r,n){return super.set(mie(this,r),n)}delete(r){return super.delete(fie(this,r))}}function I4({_intern:t,_key:r},n){const s=r(n);return t.has(s)?t.get(s):n}function mie({_intern:t,_key:r},n){const s=r(n);return t.has(s)?t.get(s):(t.set(s,n),n)}function fie({_intern:t,_key:r},n){const s=r(n);return t.has(s)&&(n=t.get(s),t.delete(s)),n}function pie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function vie(t=Ao){if(t===Ao)return r$;if(typeof t!="function")throw new TypeError("compare is not a function");return(r,n)=>{const s=t(r,n);return s||s===0?s:(t(n,n)===0)-(t(r,r)===0)}}function r$(t,r){return(t==null||!(t>=t))-(r==null||!(r>=r))||(t<r?-1:t>r?1:0)}const xie=Math.sqrt(50),gie=Math.sqrt(10),yie=Math.sqrt(2);function kv(t,r,n){const s=(r-t)/Math.max(0,n),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=xie?10:i>=gie?5:i>=yie?2:1;let l,d,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(t*u),d=Math.round(r*u),l/u<t&&++l,d/u>r&&--d,u=-u):(u=Math.pow(10,a)*o,l=Math.round(t/u),d=Math.round(r/u),l*u<t&&++l,d*u>r&&--d),d<l&&.5<=n&&n<2?kv(t,r,n*2):[l,d,u]}function dS(t,r,n){if(r=+r,t=+t,n=+n,!(n>0))return[];if(t===r)return[t];const s=r<t,[a,i,o]=s?kv(r,t,n):kv(t,r,n);if(!(i>=a))return[];const l=i-a+1,d=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)d[u]=(i-u)/-o;else for(let u=0;u<l;++u)d[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)d[u]=(a+u)/-o;else for(let u=0;u<l;++u)d[u]=(a+u)*o;return d}function uS(t,r,n){return r=+r,t=+t,n=+n,kv(t,r,n)[2]}function hS(t,r,n){r=+r,t=+t,n=+n;const s=r<t,a=s?uS(r,t,n):uS(t,r,n);return(s?-1:1)*(a<0?1/-a:a)}function D4(t,r){let n;for(const s of t)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function M4(t,r){let n;for(const s of t)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function n$(t,r,n=0,s=1/0,a){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(t.length-1,s)),!(n<=r&&r<=s))return t;for(a=a===void 0?r$:vie(a);s>n;){if(s-n>600){const d=s-n+1,u=r-n+1,f=Math.log(d),m=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*m*(d-m)/d)*(u-d/2<0?-1:1),g=Math.max(n,Math.floor(r-u*m/d+v)),b=Math.min(s,Math.floor(r+(d-u)*m/d+v));n$(t,r,g,b,a)}const i=t[r];let o=n,l=s;for(Ku(t,n,r),a(t[s],i)>0&&Ku(t,n,s);o<l;){for(Ku(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[n],i)===0?Ku(t,n,l):(++l,Ku(t,l,s)),l<=r&&(n=l+1),r<=l&&(s=l-1)}return t}function Ku(t,r,n){const s=t[r];t[r]=t[n],t[n]=s}function bie(t,r,n){if(t=Float64Array.from(uie(t)),!(!(s=t.length)||isNaN(r=+r))){if(r<=0||s<2)return M4(t);if(r>=1)return D4(t);var s,a=(s-1)*r,i=Math.floor(a),o=D4(n$(t,i).subarray(0,i+1)),l=M4(t.subarray(i+1));return o+(l-o)*(a-i)}}function jie(t,r,n=t$){if(!(!(s=t.length)||isNaN(r=+r))){if(r<=0||s<2)return+n(t[0],0,t);if(r>=1)return+n(t[s-1],s-1,t);var s,a=(s-1)*r,i=Math.floor(a),o=+n(t[i],i,t),l=+n(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function wie(t,r,n){t=+t,r=+r,n=(a=arguments.length)<2?(r=t,t=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((r-t)/n))|0,i=new Array(a);++s<a;)i[s]=t+s*n;return i}function Js(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function Wi(t,r){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const mS=Symbol("implicit");function RC(){var t=new O4,r=[],n=[],s=mS;function a(i){let o=t.get(i);if(o===void 0){if(s!==mS)return s;t.set(i,o=r.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return r.slice();r=[],t=new O4;for(const o of i)t.has(o)||t.set(o,r.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return RC(r,n).unknown(s)},Js.apply(a,arguments),a}function Jh(){var t=RC().unknown(void 0),r=t.domain,n=t.range,s=0,a=1,i,o,l=!1,d=0,u=0,f=.5;delete t.unknown;function m(){var v=r().length,g=a<s,b=g?a:s,x=g?s:a;i=(x-b)/Math.max(1,v-d+u*2),l&&(i=Math.floor(i)),b+=(x-b-i*(v-d))*f,o=i*(1-d),l&&(b=Math.round(b),o=Math.round(o));var y=wie(v).map(function(A){return b+i*A});return n(g?y.reverse():y)}return t.domain=function(v){return arguments.length?(r(v),m()):r()},t.range=function(v){return arguments.length?([s,a]=v,s=+s,a=+a,m()):[s,a]},t.rangeRound=function(v){return[s,a]=v,s=+s,a=+a,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(v){return arguments.length?(l=!!v,m()):l},t.padding=function(v){return arguments.length?(d=Math.min(1,u=+v),m()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},t.paddingOuter=function(v){return arguments.length?(u=+v,m()):u},t.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),m()):f},t.copy=function(){return Jh(r(),[s,a]).round(l).paddingInner(d).paddingOuter(u).align(f)},Js.apply(m(),arguments)}function s$(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return s$(r())},t}function jh(){return s$(Jh.apply(null,arguments).paddingInner(1))}function TC(t,r,n){t.prototype=r.prototype=n,n.constructor=t}function a$(t,r){var n=Object.create(t.prototype);for(var s in r)n[s]=r[s];return n}function Um(){}var Yh=.7,Cv=1/Yh,Zc="\\s*([+-]?\\d+)\\s*",Zh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nie=/^#([0-9a-f]{3,8})$/,Sie=new RegExp(`^rgb\\(${Zc},${Zc},${Zc}\\)$`),kie=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),Cie=new RegExp(`^rgba\\(${Zc},${Zc},${Zc},${Zh}\\)$`),Aie=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${Zh}\\)$`),Eie=new RegExp(`^hsl\\(${Zh},${Ua},${Ua}\\)$`),_ie=new RegExp(`^hsla\\(${Zh},${Ua},${Ua},${Zh}\\)$`),L4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TC(Um,Xh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:z4,formatHex:z4,formatHex8:Rie,formatHsl:Tie,formatRgb:$4,toString:$4});function z4(){return this.rgb().formatHex()}function Rie(){return this.rgb().formatHex8()}function Tie(){return i$(this).formatHsl()}function $4(){return this.rgb().formatRgb()}function Xh(t){var r,n;return t=(t+"").trim().toLowerCase(),(r=Nie.exec(t))?(n=r[1].length,r=parseInt(r[1],16),n===6?F4(r):n===3?new rs(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?kp(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?kp(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Sie.exec(t))?new rs(r[1],r[2],r[3],1):(r=kie.exec(t))?new rs(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Cie.exec(t))?kp(r[1],r[2],r[3],r[4]):(r=Aie.exec(t))?kp(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Eie.exec(t))?U4(r[1],r[2]/100,r[3]/100,1):(r=_ie.exec(t))?U4(r[1],r[2]/100,r[3]/100,r[4]):L4.hasOwnProperty(t)?F4(L4[t]):t==="transparent"?new rs(NaN,NaN,NaN,0):null}function F4(t){return new rs(t>>16&255,t>>8&255,t&255,1)}function kp(t,r,n,s){return s<=0&&(t=r=n=NaN),new rs(t,r,n,s)}function Pie(t){return t instanceof Um||(t=Xh(t)),t?(t=t.rgb(),new rs(t.r,t.g,t.b,t.opacity)):new rs}function fS(t,r,n,s){return arguments.length===1?Pie(t):new rs(t,r,n,s??1)}function rs(t,r,n,s){this.r=+t,this.g=+r,this.b=+n,this.opacity=+s}TC(rs,fS,a$(Um,{brighter(t){return t=t==null?Cv:Math.pow(Cv,t),new rs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yh:Math.pow(Yh,t),new rs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rs(Sl(this.r),Sl(this.g),Sl(this.b),Av(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:B4,formatHex:B4,formatHex8:Oie,formatRgb:W4,toString:W4}));function B4(){return`#${bl(this.r)}${bl(this.g)}${bl(this.b)}`}function Oie(){return`#${bl(this.r)}${bl(this.g)}${bl(this.b)}${bl((isNaN(this.opacity)?1:this.opacity)*255)}`}function W4(){const t=Av(this.opacity);return`${t===1?"rgb(":"rgba("}${Sl(this.r)}, ${Sl(this.g)}, ${Sl(this.b)}${t===1?")":`, ${t})`}`}function Av(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Sl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bl(t){return t=Sl(t),(t<16?"0":"")+t.toString(16)}function U4(t,r,n,s){return s<=0?t=r=n=NaN:n<=0||n>=1?t=r=NaN:r<=0&&(t=NaN),new ha(t,r,n,s)}function i$(t){if(t instanceof ha)return new ha(t.h,t.s,t.l,t.opacity);if(t instanceof Um||(t=Xh(t)),!t)return new ha;if(t instanceof ha)return t;t=t.rgb();var r=t.r/255,n=t.g/255,s=t.b/255,a=Math.min(r,n,s),i=Math.max(r,n,s),o=NaN,l=i-a,d=(i+a)/2;return l?(r===i?o=(n-s)/l+(n<s)*6:n===i?o=(s-r)/l+2:o=(r-n)/l+4,l/=d<.5?i+a:2-i-a,o*=60):l=d>0&&d<1?0:o,new ha(o,l,d,t.opacity)}function Iie(t,r,n,s){return arguments.length===1?i$(t):new ha(t,r,n,s??1)}function ha(t,r,n,s){this.h=+t,this.s=+r,this.l=+n,this.opacity=+s}TC(ha,Iie,a$(Um,{brighter(t){return t=t==null?Cv:Math.pow(Cv,t),new ha(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yh:Math.pow(Yh,t),new ha(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*r,a=2*n-s;return new rs(n1(t>=240?t-240:t+120,a,s),n1(t,a,s),n1(t<120?t+240:t-120,a,s),this.opacity)},clamp(){return new ha(q4(this.h),Cp(this.s),Cp(this.l),Av(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Av(this.opacity);return`${t===1?"hsl(":"hsla("}${q4(this.h)}, ${Cp(this.s)*100}%, ${Cp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function q4(t){return t=(t||0)%360,t<0?t+360:t}function Cp(t){return Math.max(0,Math.min(1,t||0))}function n1(t,r,n){return(t<60?r+(n-r)*t/60:t<180?n:t<240?r+(n-r)*(240-t)/60:r)*255}const PC=t=>()=>t;function Die(t,r){return function(n){return t+n*r}}function Mie(t,r,n){return t=Math.pow(t,n),r=Math.pow(r,n)-t,n=1/n,function(s){return Math.pow(t+s*r,n)}}function Lie(t){return(t=+t)==1?o$:function(r,n){return n-r?Mie(r,n,t):PC(isNaN(r)?n:r)}}function o$(t,r){var n=r-t;return n?Die(t,n):PC(isNaN(t)?r:t)}const H4=(function t(r){var n=Lie(r);function s(a,i){var o=n((a=fS(a)).r,(i=fS(i)).r),l=n(a.g,i.g),d=n(a.b,i.b),u=o$(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=d(f),a.opacity=u(f),a+""}}return s.gamma=t,s})(1);function zie(t,r){r||(r=[]);var n=t?Math.min(r.length,t.length):0,s=r.slice(),a;return function(i){for(a=0;a<n;++a)s[a]=t[a]*(1-i)+r[a]*i;return s}}function $ie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fie(t,r){var n=r?r.length:0,s=t?Math.min(n,t.length):0,a=new Array(s),i=new Array(n),o;for(o=0;o<s;++o)a[o]=tu(t[o],r[o]);for(;o<n;++o)i[o]=r[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function Bie(t,r){var n=new Date;return t=+t,r=+r,function(s){return n.setTime(t*(1-s)+r*s),n}}function Ev(t,r){return t=+t,r=+r,function(n){return t*(1-n)+r*n}}function Wie(t,r){var n={},s={},a;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in t?n[a]=tu(t[a],r[a]):s[a]=r[a];return function(i){for(a in n)s[a]=n[a](i);return s}}var pS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s1=new RegExp(pS.source,"g");function Uie(t){return function(){return t}}function qie(t){return function(r){return t(r)+""}}function Hie(t,r){var n=pS.lastIndex=s1.lastIndex=0,s,a,i,o=-1,l=[],d=[];for(t=t+"",r=r+"";(s=pS.exec(t))&&(a=s1.exec(r));)(i=a.index)>n&&(i=r.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,d.push({i:o,x:Ev(s,a)})),n=s1.lastIndex;return n<r.length&&(i=r.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?qie(d[0].x):Uie(r):(r=d.length,function(u){for(var f=0,m;f<r;++f)l[(m=d[f]).i]=m.x(u);return l.join("")})}function tu(t,r){var n=typeof r,s;return r==null||n==="boolean"?PC(r):(n==="number"?Ev:n==="string"?(s=Xh(r))?(r=s,H4):Hie:r instanceof Xh?H4:r instanceof Date?Bie:$ie(r)?zie:Array.isArray(r)?Fie:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Wie:Ev)(t,r)}function OC(t,r){return t=+t,r=+r,function(n){return Math.round(t*(1-n)+r*n)}}function Vie(t,r){r===void 0&&(r=t,t=tu);for(var n=0,s=r.length-1,a=r[0],i=new Array(s<0?0:s);n<s;)i[n]=t(a,a=r[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function Gie(t){return function(){return t}}function _v(t){return+t}var V4=[0,1];function Bn(t){return t}function vS(t,r){return(r-=t=+t)?function(n){return(n-t)/r}:Gie(isNaN(r)?NaN:.5)}function Kie(t,r){var n;return t>r&&(n=t,t=r,r=n),function(s){return Math.max(t,Math.min(r,s))}}function Jie(t,r,n){var s=t[0],a=t[1],i=r[0],o=r[1];return a<s?(s=vS(a,s),i=n(o,i)):(s=vS(s,a),i=n(i,o)),function(l){return i(s(l))}}function Yie(t,r,n){var s=Math.min(t.length,r.length)-1,a=new Array(s),i=new Array(s),o=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++o<s;)a[o]=vS(t[o],t[o+1]),i[o]=n(r[o],r[o+1]);return function(l){var d=Wm(t,l,1,s)-1;return i[d](a[d](l))}}function qm(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jx(){var t=V4,r=V4,n=tu,s,a,i,o=Bn,l,d,u;function f(){var v=Math.min(t.length,r.length);return o!==Bn&&(o=Kie(t[0],t[v-1])),l=v>2?Yie:Jie,d=u=null,m}function m(v){return v==null||isNaN(v=+v)?i:(d||(d=l(t.map(s),r,n)))(s(o(v)))}return m.invert=function(v){return o(a((u||(u=l(r,t.map(s),Ev)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,_v),f()):t.slice()},m.range=function(v){return arguments.length?(r=Array.from(v),f()):r.slice()},m.rangeRound=function(v){return r=Array.from(v),n=OC,f()},m.clamp=function(v){return arguments.length?(o=v?!0:Bn,f()):o!==Bn},m.interpolate=function(v){return arguments.length?(n=v,f()):n},m.unknown=function(v){return arguments.length?(i=v,m):i},function(v,g){return s=v,a=g,f()}}function IC(){return Jx()(Bn,Bn)}function Zie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rv(t,r){if((n=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var n,s=t.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+t.slice(n+1)]}function cd(t){return t=Rv(Math.abs(t)),t?t[1]:NaN}function Xie(t,r){return function(n,s){for(var a=n.length,i=[],o=0,l=t[0],d=0;a>0&&l>0&&(d+l+1>s&&(l=Math.max(1,s-d)),i.push(n.substring(a-=l,a+l)),!((d+=l+1)>s));)l=t[o=(o+1)%t.length];return i.reverse().join(r)}}function Qie(t){return function(r){return r.replace(/[0-9]/g,function(n){return t[+n]})}}var eoe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qh(t){if(!(r=eoe.exec(t)))throw new Error("invalid format: "+t);var r;return new DC({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Qh.prototype=DC.prototype;function DC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}DC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function toe(t){e:for(var r=t.length,n=1,s=-1,a;n<r;++n)switch(t[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+t[n])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(a+1):t}var l$;function roe(t,r){var n=Rv(t,r);if(!n)return t+"";var s=n[0],a=n[1],i=a-(l$=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+Rv(t,Math.max(0,r+i-1))[0]}function G4(t,r){var n=Rv(t,r);if(!n)return t+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const K4={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Zie,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>G4(t*100,r),r:G4,s:roe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function J4(t){return t}var Y4=Array.prototype.map,Z4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function noe(t){var r=t.grouping===void 0||t.thousands===void 0?J4:Xie(Y4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?J4:Qie(Y4.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function u(m){m=Qh(m);var v=m.fill,g=m.align,b=m.sign,x=m.symbol,y=m.zero,A=m.width,E=m.comma,C=m.precision,w=m.trim,k=m.type;k==="n"?(E=!0,k="g"):K4[k]||(C===void 0&&(C=12),w=!0,k="g"),(y||v==="0"&&g==="=")&&(y=!0,v="0",g="=");var S=x==="$"?n:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",R=x==="$"?s:/[%p]/.test(k)?o:"",T=K4[k],O=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function U(D){var I=S,B=R,M,W,V;if(k==="c")B=T(D)+B,D="";else{D=+D;var Q=D<0||1/D<0;if(D=isNaN(D)?d:T(Math.abs(D),C),w&&(D=toe(D)),Q&&+D==0&&b!=="+"&&(Q=!1),I=(Q?b==="("?b:l:b==="-"||b==="("?"":b)+I,B=(k==="s"?Z4[8+l$/3]:"")+B+(Q&&b==="("?")":""),O){for(M=-1,W=D.length;++M<W;)if(V=D.charCodeAt(M),48>V||V>57){B=(V===46?a+D.slice(M+1):D.slice(M))+B,D=D.slice(0,M);break}}}E&&!y&&(D=r(D,1/0));var H=I.length+D.length+B.length,X=H<A?new Array(A-H+1).join(v):"";switch(E&&y&&(D=r(X+D,X.length?A-B.length:1/0),X=""),g){case"<":D=I+D+B+X;break;case"=":D=I+X+D+B;break;case"^":D=X.slice(0,H=X.length>>1)+I+D+B+X.slice(H);break;default:D=X+I+D+B;break}return i(D)}return U.toString=function(){return m+""},U}function f(m,v){var g=u((m=Qh(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(cd(v)/3)))*3,x=Math.pow(10,-b),y=Z4[8+b/3];return function(A){return g(x*A)+y}}return{format:u,formatPrefix:f}}var Ap,MC,c$;soe({thousands:",",grouping:[3],currency:["$",""]});function soe(t){return Ap=noe(t),MC=Ap.format,c$=Ap.formatPrefix,Ap}function aoe(t){return Math.max(0,-cd(Math.abs(t)))}function ioe(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cd(r)/3)))*3-cd(Math.abs(t)))}function ooe(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,cd(r)-cd(t))+1}function d$(t,r,n,s){var a=hS(t,r,n),i;switch(s=Qh(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(r));return s.precision==null&&!isNaN(i=ioe(a,o))&&(s.precision=i),c$(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=ooe(a,Math.max(Math.abs(t),Math.abs(r))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=aoe(a))&&(s.precision=i-(s.type==="%")*2);break}}return MC(s)}function Bo(t){var r=t.domain;return t.ticks=function(n){var s=r();return dS(s[0],s[s.length-1],n??10)},t.tickFormat=function(n,s){var a=r();return d$(a[0],a[a.length-1],n??10,s)},t.nice=function(n){n==null&&(n=10);var s=r(),a=0,i=s.length-1,o=s[a],l=s[i],d,u,f=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);f-- >0;){if(u=uS(o,l,n),u===d)return s[a]=o,s[i]=l,r(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;d=u}return t},t}function Tv(){var t=IC();return t.copy=function(){return qm(t,Tv())},Js.apply(t,arguments),Bo(t)}function u$(t){var r;function n(s){return s==null||isNaN(s=+s)?r:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(t=Array.from(s,_v),n):t.slice()},n.unknown=function(s){return arguments.length?(r=s,n):r},n.copy=function(){return u$(t).unknown(r)},t=arguments.length?Array.from(t,_v):[0,1],Bo(n)}function h$(t,r){t=t.slice();var n=0,s=t.length-1,a=t[n],i=t[s],o;return i<a&&(o=n,n=s,s=o,o=a,a=i,i=o),t[n]=r.floor(a),t[s]=r.ceil(i),t}function X4(t){return Math.log(t)}function Q4(t){return Math.exp(t)}function loe(t){return-Math.log(-t)}function coe(t){return-Math.exp(-t)}function doe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function uoe(t){return t===10?doe:t===Math.E?Math.exp:r=>Math.pow(t,r)}function hoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),r=>Math.log(r)/t)}function eI(t){return(r,n)=>-t(-r,n)}function LC(t){const r=t(X4,Q4),n=r.domain;let s=10,a,i;function o(){return a=hoe(s),i=uoe(s),n()[0]<0?(a=eI(a),i=eI(i),t(loe,coe)):t(X4,Q4),r}return r.base=function(l){return arguments.length?(s=+l,o()):s},r.domain=function(l){return arguments.length?(n(l),o()):n()},r.ticks=l=>{const d=n();let u=d[0],f=d[d.length-1];const m=f<u;m&&([u,f]=[f,u]);let v=a(u),g=a(f),b,x;const y=l==null?10:+l;let A=[];if(!(s%1)&&g-v<y){if(v=Math.floor(v),g=Math.ceil(g),u>0){for(;v<=g;++v)for(b=1;b<s;++b)if(x=v<0?b/i(-v):b*i(v),!(x<u)){if(x>f)break;A.push(x)}}else for(;v<=g;++v)for(b=s-1;b>=1;--b)if(x=v>0?b/i(-v):b*i(v),!(x<u)){if(x>f)break;A.push(x)}A.length*2<y&&(A=dS(u,f,y))}else A=dS(v,g,Math.min(g-v,y)).map(i);return m?A.reverse():A},r.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=s===10?"s":","),typeof d!="function"&&(!(s%1)&&(d=Qh(d)).precision==null&&(d.trim=!0),d=MC(d)),l===1/0)return d;const u=Math.max(1,s*l/r.ticks().length);return f=>{let m=f/i(Math.round(a(f)));return m*s<s-.5&&(m*=s),m<=u?d(f):""}},r.nice=()=>n(h$(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),r}function m$(){const t=LC(Jx()).domain([1,10]);return t.copy=()=>qm(t,m$()).base(t.base()),Js.apply(t,arguments),t}function tI(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function rI(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function zC(t){var r=1,n=t(tI(r),rI(r));return n.constant=function(s){return arguments.length?t(tI(r=+s),rI(r)):r},Bo(n)}function f$(){var t=zC(Jx());return t.copy=function(){return qm(t,f$()).constant(t.constant())},Js.apply(t,arguments)}function nI(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function moe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function foe(t){return t<0?-t*t:t*t}function $C(t){var r=t(Bn,Bn),n=1;function s(){return n===1?t(Bn,Bn):n===.5?t(moe,foe):t(nI(n),nI(1/n))}return r.exponent=function(a){return arguments.length?(n=+a,s()):n},Bo(r)}function FC(){var t=$C(Jx());return t.copy=function(){return qm(t,FC()).exponent(t.exponent())},Js.apply(t,arguments),t}function poe(){return FC.apply(null,arguments).exponent(.5)}function sI(t){return Math.sign(t)*t*t}function voe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function p$(){var t=IC(),r=[0,1],n=!1,s;function a(i){var o=voe(t(i));return isNaN(o)?s:n?Math.round(o):o}return a.invert=function(i){return t.invert(sI(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((r=Array.from(i,_v)).map(sI)),a):r.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return p$(t.domain(),r).round(n).clamp(t.clamp()).unknown(s)},Js.apply(a,arguments),Bo(a)}function v$(){var t=[],r=[],n=[],s;function a(){var o=0,l=Math.max(1,r.length);for(n=new Array(l-1);++o<l;)n[o-1]=jie(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:r[Wm(n,o)]}return i.invertExtent=function(o){var l=r.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ao),a()},i.range=function(o){return arguments.length?(r=Array.from(o),a()):r.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return n.slice()},i.copy=function(){return v$().domain(t).range(r).unknown(s)},Js.apply(i,arguments)}function x$(){var t=0,r=1,n=1,s=[.5],a=[0,1],i;function o(d){return d!=null&&d<=d?a[Wm(s,d,0,n)]:i}function l(){var d=-1;for(s=new Array(n);++d<n;)s[d]=((d+1)*r-(d-n)*t)/(n+1);return o}return o.domain=function(d){return arguments.length?([t,r]=d,t=+t,r=+r,l()):[t,r]},o.range=function(d){return arguments.length?(n=(a=Array.from(d)).length-1,l()):a.slice()},o.invertExtent=function(d){var u=a.indexOf(d);return u<0?[NaN,NaN]:u<1?[t,s[0]]:u>=n?[s[n-1],r]:[s[u-1],s[u]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return s.slice()},o.copy=function(){return x$().domain([t,r]).range(a).unknown(i)},Js.apply(Bo(o),arguments)}function g$(){var t=[.5],r=[0,1],n,s=1;function a(i){return i!=null&&i<=i?r[Wm(t,i,0,s)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),s=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(i){return arguments.length?(r=Array.from(i),s=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(i){var o=r.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return g$().domain(t).range(r).unknown(n)},Js.apply(a,arguments)}const a1=new Date,i1=new Date;function nn(t,r,n,s){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),r(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const d=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let u;do d.push(u=new Date(+i)),r(i,l),t(i);while(u<i&&i<o);return d},a.filter=i=>nn(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;r(o,-1),!i(o););else for(;--l>=0;)for(;r(o,1),!i(o););}),n&&(a.count=(i,o)=>(a1.setTime(+i),i1.setTime(+o),t(a1),t(i1),Math.floor(n(a1,i1))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Pv=nn(()=>{},(t,r)=>{t.setTime(+t+r)},(t,r)=>r-t);Pv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nn(r=>{r.setTime(Math.floor(r/t)*t)},(r,n)=>{r.setTime(+r+n*t)},(r,n)=>(n-r)/t):Pv);Pv.range;const fi=1e3,Fs=fi*60,pi=Fs*60,Li=pi*24,BC=Li*7,aI=Li*30,o1=Li*365,jl=nn(t=>{t.setTime(t-t.getMilliseconds())},(t,r)=>{t.setTime(+t+r*fi)},(t,r)=>(r-t)/fi,t=>t.getUTCSeconds());jl.range;const WC=nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi)},(t,r)=>{t.setTime(+t+r*Fs)},(t,r)=>(r-t)/Fs,t=>t.getMinutes());WC.range;const UC=nn(t=>{t.setUTCSeconds(0,0)},(t,r)=>{t.setTime(+t+r*Fs)},(t,r)=>(r-t)/Fs,t=>t.getUTCMinutes());UC.range;const qC=nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi-t.getMinutes()*Fs)},(t,r)=>{t.setTime(+t+r*pi)},(t,r)=>(r-t)/pi,t=>t.getHours());qC.range;const HC=nn(t=>{t.setUTCMinutes(0,0,0)},(t,r)=>{t.setTime(+t+r*pi)},(t,r)=>(r-t)/pi,t=>t.getUTCHours());HC.range;const Hm=nn(t=>t.setHours(0,0,0,0),(t,r)=>t.setDate(t.getDate()+r),(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Fs)/Li,t=>t.getDate()-1);Hm.range;const Yx=nn(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Li,t=>t.getUTCDate()-1);Yx.range;const y$=nn(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Li,t=>Math.floor(t/Li));y$.range;function Hl(t){return nn(r=>{r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},(r,n)=>{r.setDate(r.getDate()+n*7)},(r,n)=>(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*Fs)/BC)}const Zx=Hl(0),Ov=Hl(1),xoe=Hl(2),goe=Hl(3),dd=Hl(4),yoe=Hl(5),boe=Hl(6);Zx.range;Ov.range;xoe.range;goe.range;dd.range;yoe.range;boe.range;function Vl(t){return nn(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCDate(r.getUTCDate()+n*7)},(r,n)=>(n-r)/BC)}const Xx=Vl(0),Iv=Vl(1),joe=Vl(2),woe=Vl(3),ud=Vl(4),Noe=Vl(5),Soe=Vl(6);Xx.range;Iv.range;joe.range;woe.range;ud.range;Noe.range;Soe.range;const VC=nn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,r)=>{t.setMonth(t.getMonth()+r)},(t,r)=>r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12,t=>t.getMonth());VC.range;const GC=nn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCMonth(t.getUTCMonth()+r)},(t,r)=>r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());GC.range;const zi=nn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r)},(t,r)=>r.getFullYear()-t.getFullYear(),t=>t.getFullYear());zi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nn(r=>{r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,n)=>{r.setFullYear(r.getFullYear()+n*t)});zi.range;const $i=nn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r)},(t,r)=>r.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$i.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nn(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCFullYear(r.getUTCFullYear()+n*t)});$i.range;function b$(t,r,n,s,a,i){const o=[[jl,1,fi],[jl,5,5*fi],[jl,15,15*fi],[jl,30,30*fi],[i,1,Fs],[i,5,5*Fs],[i,15,15*Fs],[i,30,30*Fs],[a,1,pi],[a,3,3*pi],[a,6,6*pi],[a,12,12*pi],[s,1,Li],[s,2,2*Li],[n,1,BC],[r,1,aI],[r,3,3*aI],[t,1,o1]];function l(u,f,m){const v=f<u;v&&([u,f]=[f,u]);const g=m&&typeof m.range=="function"?m:d(u,f,m),b=g?g.range(u,+f+1):[];return v?b.reverse():b}function d(u,f,m){const v=Math.abs(f-u)/m,g=_C(([,,y])=>y).right(o,v);if(g===o.length)return t.every(hS(u/o1,f/o1,m));if(g===0)return Pv.every(Math.max(hS(u,f,m),1));const[b,x]=o[v/o[g-1][2]<o[g][2]/v?g-1:g];return b.every(x)}return[l,d]}const[koe,Coe]=b$($i,GC,Xx,y$,HC,UC),[Aoe,Eoe]=b$(zi,VC,Zx,Hm,qC,WC);function l1(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function c1(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ju(t,r,n){return{y:t,m:r,d:n,H:0,M:0,S:0,L:0}}function _oe(t){var r=t.dateTime,n=t.date,s=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,d=t.shortMonths,u=Yu(a),f=Zu(a),m=Yu(i),v=Zu(i),g=Yu(o),b=Zu(o),x=Yu(l),y=Zu(l),A=Yu(d),E=Zu(d),C={a:Q,A:H,b:X,B:K,c:null,d:uI,e:uI,f:Xoe,g:lle,G:dle,H:Joe,I:Yoe,j:Zoe,L:j$,m:Qoe,M:ele,p:z,q,Q:fI,s:pI,S:tle,u:rle,U:nle,V:sle,w:ale,W:ile,x:null,X:null,y:ole,Y:cle,Z:ule,"%":mI},w={a:ee,A:oe,b:ce,B:ye,c:null,d:hI,e:hI,f:ple,g:kle,G:Ale,H:hle,I:mle,j:fle,L:N$,m:vle,M:xle,p:de,q:fe,Q:fI,s:pI,S:gle,u:yle,U:ble,V:jle,w:wle,W:Nle,x:null,X:null,y:Sle,Y:Cle,Z:Ele,"%":mI},k={a:U,A:D,b:I,B,c:M,d:cI,e:cI,f:Hoe,g:lI,G:oI,H:dI,I:dI,j:Boe,L:qoe,m:Foe,M:Woe,p:O,q:$oe,Q:Goe,s:Koe,S:Uoe,u:Ioe,U:Doe,V:Moe,w:Ooe,W:Loe,x:W,X:V,y:lI,Y:oI,Z:zoe,"%":Voe};C.x=S(n,C),C.X=S(s,C),C.c=S(r,C),w.x=S(n,w),w.X=S(s,w),w.c=S(r,w);function S(he,re){return function(ge){var le=[],Ye=-1,_e=0,Et=he.length,kt,jt,Br;for(ge instanceof Date||(ge=new Date(+ge));++Ye<Et;)he.charCodeAt(Ye)===37&&(le.push(he.slice(_e,Ye)),(jt=iI[kt=he.charAt(++Ye)])!=null?kt=he.charAt(++Ye):jt=kt==="e"?" ":"0",(Br=re[kt])&&(kt=Br(ge,jt)),le.push(kt),_e=Ye+1);return le.push(he.slice(_e,Ye)),le.join("")}}function R(he,re){return function(ge){var le=Ju(1900,void 0,1),Ye=T(le,he,ge+="",0),_e,Et;if(Ye!=ge.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(re&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(_e=c1(Ju(le.y,0,1)),Et=_e.getUTCDay(),_e=Et>4||Et===0?Iv.ceil(_e):Iv(_e),_e=Yx.offset(_e,(le.V-1)*7),le.y=_e.getUTCFullYear(),le.m=_e.getUTCMonth(),le.d=_e.getUTCDate()+(le.w+6)%7):(_e=l1(Ju(le.y,0,1)),Et=_e.getDay(),_e=Et>4||Et===0?Ov.ceil(_e):Ov(_e),_e=Hm.offset(_e,(le.V-1)*7),le.y=_e.getFullYear(),le.m=_e.getMonth(),le.d=_e.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Et="Z"in le?c1(Ju(le.y,0,1)).getUTCDay():l1(Ju(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Et+5)%7:le.w+le.U*7-(Et+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,c1(le)):l1(le)}}function T(he,re,ge,le){for(var Ye=0,_e=re.length,Et=ge.length,kt,jt;Ye<_e;){if(le>=Et)return-1;if(kt=re.charCodeAt(Ye++),kt===37){if(kt=re.charAt(Ye++),jt=k[kt in iI?re.charAt(Ye++):kt],!jt||(le=jt(he,ge,le))<0)return-1}else if(kt!=ge.charCodeAt(le++))return-1}return le}function O(he,re,ge){var le=u.exec(re.slice(ge));return le?(he.p=f.get(le[0].toLowerCase()),ge+le[0].length):-1}function U(he,re,ge){var le=g.exec(re.slice(ge));return le?(he.w=b.get(le[0].toLowerCase()),ge+le[0].length):-1}function D(he,re,ge){var le=m.exec(re.slice(ge));return le?(he.w=v.get(le[0].toLowerCase()),ge+le[0].length):-1}function I(he,re,ge){var le=A.exec(re.slice(ge));return le?(he.m=E.get(le[0].toLowerCase()),ge+le[0].length):-1}function B(he,re,ge){var le=x.exec(re.slice(ge));return le?(he.m=y.get(le[0].toLowerCase()),ge+le[0].length):-1}function M(he,re,ge){return T(he,r,re,ge)}function W(he,re,ge){return T(he,n,re,ge)}function V(he,re,ge){return T(he,s,re,ge)}function Q(he){return o[he.getDay()]}function H(he){return i[he.getDay()]}function X(he){return d[he.getMonth()]}function K(he){return l[he.getMonth()]}function z(he){return a[+(he.getHours()>=12)]}function q(he){return 1+~~(he.getMonth()/3)}function ee(he){return o[he.getUTCDay()]}function oe(he){return i[he.getUTCDay()]}function ce(he){return d[he.getUTCMonth()]}function ye(he){return l[he.getUTCMonth()]}function de(he){return a[+(he.getUTCHours()>=12)]}function fe(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var re=S(he+="",C);return re.toString=function(){return he},re},parse:function(he){var re=R(he+="",!1);return re.toString=function(){return he},re},utcFormat:function(he){var re=S(he+="",w);return re.toString=function(){return he},re},utcParse:function(he){var re=R(he+="",!0);return re.toString=function(){return he},re}}}var iI={"-":"",_:" ",0:"0"},fn=/^\s*\d+/,Roe=/^%/,Toe=/[\\^$*+?|[\]().{}]/g;function Tt(t,r,n){var s=t<0?"-":"",a=(s?-t:t)+"",i=a.length;return s+(i<n?new Array(n-i+1).join(r)+a:a)}function Poe(t){return t.replace(Toe,"\\$&")}function Yu(t){return new RegExp("^(?:"+t.map(Poe).join("|")+")","i")}function Zu(t){return new Map(t.map((r,n)=>[r.toLowerCase(),n]))}function Ooe(t,r,n){var s=fn.exec(r.slice(n,n+1));return s?(t.w=+s[0],n+s[0].length):-1}function Ioe(t,r,n){var s=fn.exec(r.slice(n,n+1));return s?(t.u=+s[0],n+s[0].length):-1}function Doe(t,r,n){var s=fn.exec(r.slice(n,n+2));return s?(t.U=+s[0],n+s[0].length):-1}function Moe(t,r,n){var s=fn.exec(r.slice(n,n+2));return s?(t.V=+s[0],n+s[0].length):-1}function Loe(t,r,n){var s=fn.exec(r.slice(n,n+2));return s?(t.W=+s[0],n+s[0].length):-1}function oI(t,r,n){var s=fn.exec(r.slice(n,n+4));return s?(t.y=+s[0],n+s[0].length):-1}function lI(t,r,n){var s=fn.exec(r.slice(n,n+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function zoe(t,r,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(n,n+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function $oe(t,r,n){var s=fn.exec(r.slice(n,n+1));return s?(t.q=s[0]*3-3,n+s[0].length):-1}function Foe(t,r,n){var s=fn.exec(r.slice(n,n+2));return s?(t.m=s[0]-1,n+s[0].length):-1}function cI(t,r,n){var s=fn.exec(r.slice(n,n+2));return s?(t.d=+s[0],n+s[0].length):-1}function Boe(t,r,n){var s=fn.exec(r.slice(n,n+3));return s?(t.m=0,t.d=+s[0],n+s[0].length):-1}function dI(t,r,n){var s=fn.exec(r.slice(n,n+2));return s?(t.H=+s[0],n+s[0].length):-1}function Woe(t,r,n){var s=fn.exec(r.slice(n,n+2));return s?(t.M=+s[0],n+s[0].length):-1}function Uoe(t,r,n){var s=fn.exec(r.slice(n,n+2));return s?(t.S=+s[0],n+s[0].length):-1}function qoe(t,r,n){var s=fn.exec(r.slice(n,n+3));return s?(t.L=+s[0],n+s[0].length):-1}function Hoe(t,r,n){var s=fn.exec(r.slice(n,n+6));return s?(t.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function Voe(t,r,n){var s=Roe.exec(r.slice(n,n+1));return s?n+s[0].length:-1}function Goe(t,r,n){var s=fn.exec(r.slice(n));return s?(t.Q=+s[0],n+s[0].length):-1}function Koe(t,r,n){var s=fn.exec(r.slice(n));return s?(t.s=+s[0],n+s[0].length):-1}function uI(t,r){return Tt(t.getDate(),r,2)}function Joe(t,r){return Tt(t.getHours(),r,2)}function Yoe(t,r){return Tt(t.getHours()%12||12,r,2)}function Zoe(t,r){return Tt(1+Hm.count(zi(t),t),r,3)}function j$(t,r){return Tt(t.getMilliseconds(),r,3)}function Xoe(t,r){return j$(t,r)+"000"}function Qoe(t,r){return Tt(t.getMonth()+1,r,2)}function ele(t,r){return Tt(t.getMinutes(),r,2)}function tle(t,r){return Tt(t.getSeconds(),r,2)}function rle(t){var r=t.getDay();return r===0?7:r}function nle(t,r){return Tt(Zx.count(zi(t)-1,t),r,2)}function w$(t){var r=t.getDay();return r>=4||r===0?dd(t):dd.ceil(t)}function sle(t,r){return t=w$(t),Tt(dd.count(zi(t),t)+(zi(t).getDay()===4),r,2)}function ale(t){return t.getDay()}function ile(t,r){return Tt(Ov.count(zi(t)-1,t),r,2)}function ole(t,r){return Tt(t.getFullYear()%100,r,2)}function lle(t,r){return t=w$(t),Tt(t.getFullYear()%100,r,2)}function cle(t,r){return Tt(t.getFullYear()%1e4,r,4)}function dle(t,r){var n=t.getDay();return t=n>=4||n===0?dd(t):dd.ceil(t),Tt(t.getFullYear()%1e4,r,4)}function ule(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Tt(r/60|0,"0",2)+Tt(r%60,"0",2)}function hI(t,r){return Tt(t.getUTCDate(),r,2)}function hle(t,r){return Tt(t.getUTCHours(),r,2)}function mle(t,r){return Tt(t.getUTCHours()%12||12,r,2)}function fle(t,r){return Tt(1+Yx.count($i(t),t),r,3)}function N$(t,r){return Tt(t.getUTCMilliseconds(),r,3)}function ple(t,r){return N$(t,r)+"000"}function vle(t,r){return Tt(t.getUTCMonth()+1,r,2)}function xle(t,r){return Tt(t.getUTCMinutes(),r,2)}function gle(t,r){return Tt(t.getUTCSeconds(),r,2)}function yle(t){var r=t.getUTCDay();return r===0?7:r}function ble(t,r){return Tt(Xx.count($i(t)-1,t),r,2)}function S$(t){var r=t.getUTCDay();return r>=4||r===0?ud(t):ud.ceil(t)}function jle(t,r){return t=S$(t),Tt(ud.count($i(t),t)+($i(t).getUTCDay()===4),r,2)}function wle(t){return t.getUTCDay()}function Nle(t,r){return Tt(Iv.count($i(t)-1,t),r,2)}function Sle(t,r){return Tt(t.getUTCFullYear()%100,r,2)}function kle(t,r){return t=S$(t),Tt(t.getUTCFullYear()%100,r,2)}function Cle(t,r){return Tt(t.getUTCFullYear()%1e4,r,4)}function Ale(t,r){var n=t.getUTCDay();return t=n>=4||n===0?ud(t):ud.ceil(t),Tt(t.getUTCFullYear()%1e4,r,4)}function Ele(){return"+0000"}function mI(){return"%"}function fI(t){return+t}function pI(t){return Math.floor(+t/1e3)}var Oc,k$,C$;_le({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _le(t){return Oc=_oe(t),k$=Oc.format,Oc.parse,C$=Oc.utcFormat,Oc.utcParse,Oc}function Rle(t){return new Date(t)}function Tle(t){return t instanceof Date?+t:+new Date(+t)}function KC(t,r,n,s,a,i,o,l,d,u){var f=IC(),m=f.invert,v=f.domain,g=u(".%L"),b=u(":%S"),x=u("%I:%M"),y=u("%I %p"),A=u("%a %d"),E=u("%b %d"),C=u("%B"),w=u("%Y");function k(S){return(d(S)<S?g:l(S)<S?b:o(S)<S?x:i(S)<S?y:s(S)<S?a(S)<S?A:E:n(S)<S?C:w)(S)}return f.invert=function(S){return new Date(m(S))},f.domain=function(S){return arguments.length?v(Array.from(S,Tle)):v().map(Rle)},f.ticks=function(S){var R=v();return t(R[0],R[R.length-1],S??10)},f.tickFormat=function(S,R){return R==null?k:u(R)},f.nice=function(S){var R=v();return(!S||typeof S.range!="function")&&(S=r(R[0],R[R.length-1],S??10)),S?v(h$(R,S)):f},f.copy=function(){return qm(f,KC(t,r,n,s,a,i,o,l,d,u))},f}function Ple(){return Js.apply(KC(Aoe,Eoe,zi,VC,Zx,Hm,qC,WC,jl,k$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ole(){return Js.apply(KC(koe,Coe,$i,GC,Xx,Yx,HC,UC,jl,C$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qx(){var t=0,r=1,n,s,a,i,o=Bn,l=!1,d;function u(m){return m==null||isNaN(m=+m)?d:o(a===0?.5:(m=(i(m)-n)*a,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([t,r]=m,n=i(t=+t),s=i(r=+r),a=n===s?0:1/(s-n),u):[t,r]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(o=m,u):o};function f(m){return function(v){var g,b;return arguments.length?([g,b]=v,o=m(g,b),u):[o(0),o(1)]}}return u.range=f(tu),u.rangeRound=f(OC),u.unknown=function(m){return arguments.length?(d=m,u):d},function(m){return i=m,n=m(t),s=m(r),a=n===s?0:1/(s-n),u}}function Wo(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function A$(){var t=Bo(Qx()(Bn));return t.copy=function(){return Wo(t,A$())},Wi.apply(t,arguments)}function E$(){var t=LC(Qx()).domain([1,10]);return t.copy=function(){return Wo(t,E$()).base(t.base())},Wi.apply(t,arguments)}function _$(){var t=zC(Qx());return t.copy=function(){return Wo(t,_$()).constant(t.constant())},Wi.apply(t,arguments)}function JC(){var t=$C(Qx());return t.copy=function(){return Wo(t,JC()).exponent(t.exponent())},Wi.apply(t,arguments)}function Ile(){return JC.apply(null,arguments).exponent(.5)}function R$(){var t=[],r=Bn;function n(s){if(s!=null&&!isNaN(s=+s))return r((Wm(t,s,1)-1)/(t.length-1))}return n.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ao),n},n.interpolator=function(s){return arguments.length?(r=s,n):r},n.range=function(){return t.map((s,a)=>r(a/(t.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(a,i)=>bie(t,i/s))},n.copy=function(){return R$(r).domain(t)},Wi.apply(n,arguments)}function eg(){var t=0,r=.5,n=1,s=1,a,i,o,l,d,u=Bn,f,m=!1,v;function g(x){return isNaN(x=+x)?v:(x=.5+((x=+f(x))-i)*(s*x<s*i?l:d),u(m?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([t,r,n]=x,a=f(t=+t),i=f(r=+r),o=f(n=+n),l=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),s=i<a?-1:1,g):[t,r,n]},g.clamp=function(x){return arguments.length?(m=!!x,g):m},g.interpolator=function(x){return arguments.length?(u=x,g):u};function b(x){return function(y){var A,E,C;return arguments.length?([A,E,C]=y,u=Vie(x,[A,E,C]),g):[u(0),u(.5),u(1)]}}return g.range=b(tu),g.rangeRound=b(OC),g.unknown=function(x){return arguments.length?(v=x,g):v},function(x){return f=x,a=x(t),i=x(r),o=x(n),l=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),s=i<a?-1:1,g}}function T$(){var t=Bo(eg()(Bn));return t.copy=function(){return Wo(t,T$())},Wi.apply(t,arguments)}function P$(){var t=LC(eg()).domain([.1,1,10]);return t.copy=function(){return Wo(t,P$()).base(t.base())},Wi.apply(t,arguments)}function O$(){var t=zC(eg());return t.copy=function(){return Wo(t,O$()).constant(t.constant())},Wi.apply(t,arguments)}function YC(){var t=$C(eg());return t.copy=function(){return Wo(t,YC()).exponent(t.exponent())},Wi.apply(t,arguments)}function Dle(){return YC.apply(null,arguments).exponent(.5)}const vI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jh,scaleDiverging:T$,scaleDivergingLog:P$,scaleDivergingPow:YC,scaleDivergingSqrt:Dle,scaleDivergingSymlog:O$,scaleIdentity:u$,scaleImplicit:mS,scaleLinear:Tv,scaleLog:m$,scaleOrdinal:RC,scalePoint:jh,scalePow:FC,scaleQuantile:v$,scaleQuantize:x$,scaleRadial:p$,scaleSequential:A$,scaleSequentialLog:E$,scaleSequentialPow:JC,scaleSequentialQuantile:R$,scaleSequentialSqrt:Ile,scaleSequentialSymlog:_$,scaleSqrt:poe,scaleSymlog:f$,scaleThreshold:g$,scaleTime:Ple,scaleUtc:Ole,tickFormat:d$},Symbol.toStringTag,{value:"Module"}));var d1,xI;function I$(){if(xI)return d1;xI=1;var t=Yd();function r(n,s,a){for(var i=-1,o=n.length;++i<o;){var l=n[i],d=s(l);if(d!=null&&(u===void 0?d===d&&!t(d):a(d,u)))var u=d,f=l}return f}return d1=r,d1}var u1,gI;function Mle(){if(gI)return u1;gI=1;function t(r,n){return r>n}return u1=t,u1}var h1,yI;function Lle(){if(yI)return h1;yI=1;var t=I$(),r=Mle(),n=eu();function s(a){return a&&a.length?t(a,n,r):void 0}return h1=s,h1}var zle=Lle();const bo=Ft(zle);var m1,bI;function $le(){if(bI)return m1;bI=1;function t(r,n){return r<n}return m1=t,m1}var f1,jI;function Fle(){if(jI)return f1;jI=1;var t=I$(),r=$le(),n=eu();function s(a){return a&&a.length?t(a,n,r):void 0}return f1=s,f1}var Ble=Fle();const tg=Ft(Ble);var p1,wI;function Wle(){if(wI)return p1;wI=1;var t=hC(),r=Fo(),n=Wz(),s=ss();function a(i,o){var l=s(i)?t:n;return l(i,r(o,3))}return p1=a,p1}var v1,NI;function Ule(){if(NI)return v1;NI=1;var t=Fz(),r=Wle();function n(s,a){return t(r(s,a),1)}return v1=n,v1}var qle=Ule();const Hle=Ft(qle);var x1,SI;function Vle(){if(SI)return x1;SI=1;var t=kC();function r(n,s){return t(n,s)}return x1=r,x1}var Gle=Vle();const hd=Ft(Gle);var ru=1e9,Kle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XC,or=!0,Hs="[DecimalError] ",kl=Hs+"Invalid argument: ",ZC=Hs+"Exponent out of range: ",nu=Math.floor,pl=Math.pow,Jle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xs,dn=1e7,nr=7,D$=9007199254740991,Dv=nu(D$/nr),He={};He.absoluteValue=He.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};He.comparedTo=He.cmp=function(t){var r,n,s,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(s=i.d.length,a=t.d.length,r=0,n=s<a?s:a;r<n;++r)if(i.d[r]!==t.d[r])return i.d[r]>t.d[r]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};He.decimalPlaces=He.dp=function(){var t=this,r=t.d.length-1,n=(r-t.e)*nr;if(r=t.d[r],r)for(;r%10==0;r/=10)n--;return n<0?0:n};He.dividedBy=He.div=function(t){return wi(this,new this.constructor(t))};He.dividedToIntegerBy=He.idiv=function(t){var r=this,n=r.constructor;return Vt(wi(r,new n(t),0,1),n.precision)};He.equals=He.eq=function(t){return!this.cmp(t)};He.exponent=function(){return zr(this)};He.greaterThan=He.gt=function(t){return this.cmp(t)>0};He.greaterThanOrEqualTo=He.gte=function(t){return this.cmp(t)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(t){return this.cmp(t)<0};He.lessThanOrEqualTo=He.lte=function(t){return this.cmp(t)<1};He.logarithm=He.log=function(t){var r,n=this,s=n.constructor,a=s.precision,i=a+5;if(t===void 0)t=new s(10);else if(t=new s(t),t.s<1||t.eq(xs))throw Error(Hs+"NaN");if(n.s<1)throw Error(Hs+(n.s?"NaN":"-Infinity"));return n.eq(xs)?new s(0):(or=!1,r=wi(em(n,i),em(t,i),i),or=!0,Vt(r,a))};He.minus=He.sub=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?z$(r,t):M$(r,(t.s=-t.s,t))};He.modulo=He.mod=function(t){var r,n=this,s=n.constructor,a=s.precision;if(t=new s(t),!t.s)throw Error(Hs+"NaN");return n.s?(or=!1,r=wi(n,t,0,1).times(t),or=!0,n.minus(r)):Vt(new s(n),a)};He.naturalExponential=He.exp=function(){return L$(this)};He.naturalLogarithm=He.ln=function(){return em(this)};He.negated=He.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};He.plus=He.add=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?M$(r,t):z$(r,(t.s=-t.s,t))};He.precision=He.sd=function(t){var r,n,s,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kl+t);if(r=zr(a)+1,s=a.d.length-1,n=s*nr+1,s=a.d[s],s){for(;s%10==0;s/=10)n--;for(s=a.d[0];s>=10;s/=10)n++}return t&&r>n?r:n};He.squareRoot=He.sqrt=function(){var t,r,n,s,a,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Hs+"NaN")}for(t=zr(l),or=!1,a=Math.sqrt(+l),a==0||a==1/0?(r=za(l.d),(r.length+t)%2==0&&(r+="0"),a=Math.sqrt(r),t=nu((t+1)/2)-(t<0||t%2),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),s=new d(r)):s=new d(a.toString()),n=d.precision,a=o=n+3;;)if(i=s,s=i.plus(wi(l,i,o+2)).times(.5),za(i.d).slice(0,o)===(r=za(s.d)).slice(0,o)){if(r=r.slice(o-3,o+1),a==o&&r=="4999"){if(Vt(i,n+1,0),i.times(i).eq(l)){s=i;break}}else if(r!="9999")break;o+=4}return or=!0,Vt(s,n)};He.times=He.mul=function(t){var r,n,s,a,i,o,l,d,u,f=this,m=f.constructor,v=f.d,g=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,n=f.e+t.e,d=v.length,u=g.length,d<u&&(i=v,v=g,g=i,o=d,d=u,u=o),i=[],o=d+u,s=o;s--;)i.push(0);for(s=u;--s>=0;){for(r=0,a=d+s;a>s;)l=i[a]+g[s]*v[a-s-1]+r,i[a--]=l%dn|0,r=l/dn|0;i[a]=(i[a]+r)%dn|0}for(;!i[--o];)i.pop();return r?++n:i.shift(),t.d=i,t.e=n,or?Vt(t,m.precision):t};He.toDecimalPlaces=He.todp=function(t,r){var n=this,s=n.constructor;return n=new s(n),t===void 0?n:(Ya(t,0,ru),r===void 0?r=s.rounding:Ya(r,0,8),Vt(n,t+zr(n)+1,r))};He.toExponential=function(t,r){var n,s=this,a=s.constructor;return t===void 0?n=Tl(s,!0):(Ya(t,0,ru),r===void 0?r=a.rounding:Ya(r,0,8),s=Vt(new a(s),t+1,r),n=Tl(s,!0,t+1)),n};He.toFixed=function(t,r){var n,s,a=this,i=a.constructor;return t===void 0?Tl(a):(Ya(t,0,ru),r===void 0?r=i.rounding:Ya(r,0,8),s=Vt(new i(a),t+zr(a)+1,r),n=Tl(s.abs(),!1,t+zr(s)+1),a.isneg()&&!a.isZero()?"-"+n:n)};He.toInteger=He.toint=function(){var t=this,r=t.constructor;return Vt(new r(t),zr(t)+1,r.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(t){var r,n,s,a,i,o,l=this,d=l.constructor,u=12,f=+(t=new d(t));if(!t.s)return new d(xs);if(l=new d(l),!l.s){if(t.s<1)throw Error(Hs+"Infinity");return l}if(l.eq(xs))return l;if(s=d.precision,t.eq(xs))return Vt(l,s);if(r=t.e,n=t.d.length-1,o=r>=n,i=l.s,o){if((n=f<0?-f:f)<=D$){for(a=new d(xs),r=Math.ceil(s/nr+4),or=!1;n%2&&(a=a.times(l),CI(a.d,r)),n=nu(n/2),n!==0;)l=l.times(l),CI(l.d,r);return or=!0,t.s<0?new d(xs).div(a):Vt(a,s)}}else if(i<0)throw Error(Hs+"NaN");return i=i<0&&t.d[Math.max(r,n)]&1?-1:1,l.s=1,or=!1,a=t.times(em(l,s+u)),or=!0,a=L$(a),a.s=i,a};He.toPrecision=function(t,r){var n,s,a=this,i=a.constructor;return t===void 0?(n=zr(a),s=Tl(a,n<=i.toExpNeg||n>=i.toExpPos)):(Ya(t,1,ru),r===void 0?r=i.rounding:Ya(r,0,8),a=Vt(new i(a),t,r),n=zr(a),s=Tl(a,t<=n||n<=i.toExpNeg,t)),s};He.toSignificantDigits=He.tosd=function(t,r){var n=this,s=n.constructor;return t===void 0?(t=s.precision,r=s.rounding):(Ya(t,1,ru),r===void 0?r=s.rounding:Ya(r,0,8)),Vt(new s(n),t,r)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,r=zr(t),n=t.constructor;return Tl(t,r<=n.toExpNeg||r>=n.toExpPos)};function M$(t,r){var n,s,a,i,o,l,d,u,f=t.constructor,m=f.precision;if(!t.s||!r.s)return r.s||(r=new f(t)),or?Vt(r,m):r;if(d=t.d,u=r.d,o=t.e,a=r.e,d=d.slice(),i=o-a,i){for(i<0?(s=d,i=-i,l=u.length):(s=u,a=o,l=d.length),o=Math.ceil(m/nr),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=d.length,i=u.length,l-i<0&&(i=l,s=u,u=d,d=s),n=0;i;)n=(d[--i]=d[i]+u[i]+n)/dn|0,d[i]%=dn;for(n&&(d.unshift(n),++a),l=d.length;d[--l]==0;)d.pop();return r.d=d,r.e=a,or?Vt(r,m):r}function Ya(t,r,n){if(t!==~~t||t<r||t>n)throw Error(kl+t)}function za(t){var r,n,s,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,r=1;r<a;r++)s=t[r]+"",n=nr-s.length,n&&(i+=xo(n)),i+=s;o=t[r],s=o+"",n=nr-s.length,n&&(i+=xo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var wi=(function(){function t(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%dn|0,o=i/dn|0;return o&&s.unshift(o),s}function r(s,a,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(s[l]!=a[l]){d=s[l]>a[l]?1:-1;break}return d}function n(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*dn+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,d,u,f,m,v,g,b,x,y,A,E,C,w,k,S,R,T,O=s.constructor,U=s.s==a.s?1:-1,D=s.d,I=a.d;if(!s.s)return new O(s);if(!a.s)throw Error(Hs+"Division by zero");for(d=s.e-a.e,R=I.length,k=D.length,g=new O(U),b=g.d=[],u=0;I[u]==(D[u]||0);)++u;if(I[u]>(D[u]||0)&&--d,i==null?E=i=O.precision:o?E=i+(zr(s)-zr(a))+1:E=i,E<0)return new O(0);if(E=E/nr+2|0,u=0,R==1)for(f=0,I=I[0],E++;(u<k||f)&&E--;u++)C=f*dn+(D[u]||0),b[u]=C/I|0,f=C%I|0;else{for(f=dn/(I[0]+1)|0,f>1&&(I=t(I,f),D=t(D,f),R=I.length,k=D.length),w=R,x=D.slice(0,R),y=x.length;y<R;)x[y++]=0;T=I.slice(),T.unshift(0),S=I[0],I[1]>=dn/2&&++S;do f=0,l=r(I,x,R,y),l<0?(A=x[0],R!=y&&(A=A*dn+(x[1]||0)),f=A/S|0,f>1?(f>=dn&&(f=dn-1),m=t(I,f),v=m.length,y=x.length,l=r(m,x,v,y),l==1&&(f--,n(m,R<v?T:I,v))):(f==0&&(l=f=1),m=I.slice()),v=m.length,v<y&&m.unshift(0),n(x,m,y),l==-1&&(y=x.length,l=r(I,x,R,y),l<1&&(f++,n(x,R<y?T:I,y))),y=x.length):l===0&&(f++,x=[0]),b[u++]=f,l&&x[0]?x[y++]=D[w]||0:(x=[D[w]],y=1);while((w++<k||x[0]!==void 0)&&E--)}return b[0]||b.shift(),g.e=d,Vt(g,o?i+zr(g)+1:i)}})();function L$(t,r){var n,s,a,i,o,l,d=0,u=0,f=t.constructor,m=f.precision;if(zr(t)>16)throw Error(ZC+zr(t));if(!t.s)return new f(xs);for(or=!1,l=m,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(s=Math.log(pl(2,u))/Math.LN10*2+5|0,l+=s,n=a=i=new f(xs),f.precision=l;;){if(a=Vt(a.times(t),l),n=n.times(++d),o=i.plus(wi(a,n,l)),za(o.d).slice(0,l)===za(i.d).slice(0,l)){for(;u--;)i=Vt(i.times(i),l);return f.precision=m,r==null?(or=!0,Vt(i,m)):i}i=o}}function zr(t){for(var r=t.e*nr,n=t.d[0];n>=10;n/=10)r++;return r}function g1(t,r,n){if(r>t.LN10.sd())throw or=!0,n&&(t.precision=n),Error(Hs+"LN10 precision limit exceeded");return Vt(new t(t.LN10),r)}function xo(t){for(var r="";t--;)r+="0";return r}function em(t,r){var n,s,a,i,o,l,d,u,f,m=1,v=10,g=t,b=g.d,x=g.constructor,y=x.precision;if(g.s<1)throw Error(Hs+(g.s?"NaN":"-Infinity"));if(g.eq(xs))return new x(0);if(r==null?(or=!1,u=y):u=r,g.eq(10))return r==null&&(or=!0),g1(x,u);if(u+=v,x.precision=u,n=za(b),s=n.charAt(0),i=zr(g),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)g=g.times(t),n=za(g.d),s=n.charAt(0),m++;i=zr(g),s>1?(g=new x("0."+n),i++):g=new x(s+"."+n.slice(1))}else return d=g1(x,u+2,y).times(i+""),g=em(new x(s+"."+n.slice(1)),u-v).plus(d),x.precision=y,r==null?(or=!0,Vt(g,y)):g;for(l=o=g=wi(g.minus(xs),g.plus(xs),u),f=Vt(g.times(g),u),a=3;;){if(o=Vt(o.times(f),u),d=l.plus(wi(o,new x(a),u)),za(d.d).slice(0,u)===za(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(g1(x,u+2,y).times(i+""))),l=wi(l,new x(m),u),x.precision=y,r==null?(or=!0,Vt(l,y)):l;l=d,a+=2}}function kI(t,r){var n,s,a;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(s=r.search(/e/i))>0?(n<0&&(n=s),n+=+r.slice(s+1),r=r.substring(0,s)):n<0&&(n=r.length),s=0;r.charCodeAt(s)===48;)++s;for(a=r.length;r.charCodeAt(a-1)===48;)--a;if(r=r.slice(s,a),r){if(a-=s,n=n-s-1,t.e=nu(n/nr),t.d=[],s=(n+1)%nr,n<0&&(s+=nr),s<a){for(s&&t.d.push(+r.slice(0,s)),a-=nr;s<a;)t.d.push(+r.slice(s,s+=nr));r=r.slice(s),s=nr-r.length}else s-=a;for(;s--;)r+="0";if(t.d.push(+r),or&&(t.e>Dv||t.e<-Dv))throw Error(ZC+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,r,n){var s,a,i,o,l,d,u,f,m=t.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(s=r-o,s<0)s+=nr,a=r,u=m[f=0];else{if(f=Math.ceil((s+1)/nr),i=m.length,f>=i)return t;for(u=i=m[f],o=1;i>=10;i/=10)o++;s%=nr,a=s-nr+o}if(n!==void 0&&(i=pl(10,o-a-1),l=u/i%10|0,d=r<0||m[f+1]!==void 0||u%i,d=n<4?(l||d)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||d||n==6&&(s>0?a>0?u/pl(10,o-a):0:m[f-1])%10&1||n==(t.s<0?8:7))),r<1||!m[0])return d?(i=zr(t),m.length=1,r=r-i-1,m[0]=pl(10,(nr-r%nr)%nr),t.e=nu(-r/nr)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(s==0?(m.length=f,i=1,f--):(m.length=f+1,i=pl(10,nr-s),m[f]=a>0?(u/pl(10,o-a)%pl(10,a)|0)*i:0),d)for(;;)if(f==0){(m[0]+=i)==dn&&(m[0]=1,++t.e);break}else{if(m[f]+=i,m[f]!=dn)break;m[f--]=0,i=1}for(s=m.length;m[--s]===0;)m.pop();if(or&&(t.e>Dv||t.e<-Dv))throw Error(ZC+zr(t));return t}function z$(t,r){var n,s,a,i,o,l,d,u,f,m,v=t.constructor,g=v.precision;if(!t.s||!r.s)return r.s?r.s=-r.s:r=new v(t),or?Vt(r,g):r;if(d=t.d,m=r.d,s=r.e,u=t.e,d=d.slice(),o=u-s,o){for(f=o<0,f?(n=d,o=-o,l=m.length):(n=m,s=u,l=d.length),a=Math.max(Math.ceil(g/nr),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=d.length,l=m.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(d[a]!=m[a]){f=d[a]<m[a];break}o=0}for(f&&(n=d,d=m,m=n,r.s=-r.s),l=d.length,a=m.length-l;a>0;--a)d[l++]=0;for(a=m.length;a>o;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=dn-1;--d[i],d[a]+=dn}d[a]-=m[a]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--s;return d[0]?(r.d=d,r.e=s,or?Vt(r,g):r):new v(0)}function Tl(t,r,n){var s,a=zr(t),i=za(t.d),o=i.length;return r?(n&&(s=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+xo(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+xo(-a-1)+i,n&&(s=n-o)>0&&(i+=xo(s))):a>=o?(i+=xo(a+1-o),n&&(s=n-a-1)>0&&(i=i+"."+xo(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),n&&(s=n-o)>0&&(a+1===o&&(i+="."),i+=xo(s))),t.s<0?"-"+i:i}function CI(t,r){if(t.length>r)return t.length=r,!0}function $$(t){var r,n,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(kl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return kI(o,i.toString())}else if(typeof i!="string")throw Error(kl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Jle.test(i))kI(o,i);else throw Error(kl+i)}if(a.prototype=He,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$$,a.config=a.set=Yle,t===void 0&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<s.length;)t.hasOwnProperty(n=s[r++])||(t[n]=this[n]);return a.config(t),a}function Yle(t){if(!t||typeof t!="object")throw Error(Hs+"Object expected");var r,n,s,a=["precision",1,ru,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<a.length;r+=3)if((s=t[n=a[r]])!==void 0)if(nu(s)===s&&s>=a[r+1]&&s<=a[r+2])this[n]=s;else throw Error(kl+n+": "+s);if((s=t[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(kl+n+": "+s);return this}var XC=$$(Kle);xs=new XC(1);const Ut=XC;function Zle(t){return tce(t)||ece(t)||Qle(t)||Xle()}function Xle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qle(t,r){if(t){if(typeof t=="string")return xS(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xS(t,r)}}function ece(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function tce(t){if(Array.isArray(t))return xS(t)}function xS(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}var rce=function(r){return r},F$={},B$=function(r){return r===F$},AI=function(r){return function n(){return arguments.length===0||arguments.length===1&&B$(arguments.length<=0?void 0:arguments[0])?n:r.apply(void 0,arguments)}},nce=function t(r,n){return r===1?n:AI(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==F$}).length;return o>=r?n.apply(void 0,a):t(r-o,AI(function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];var f=a.map(function(m){return B$(m)?d.shift():m});return n.apply(void 0,Zle(f).concat(d))}))})},rg=function(r){return nce(r.length,r)},gS=function(r,n){for(var s=[],a=r;a<n;++a)s[a-r]=a;return s},sce=rg(function(t,r){return Array.isArray(r)?r.map(t):Object.keys(r).map(function(n){return r[n]}).map(t)}),ace=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];if(!n.length)return rce;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,d){return d(l)},i.apply(void 0,arguments))}},yS=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},W$=function(r){var n=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,d){return l===n[d]})||(n=i,s=r.apply(void 0,i)),s}};function ice(t){var r;return t===0?r=1:r=Math.floor(new Ut(t).abs().log(10).toNumber())+1,r}function oce(t,r,n){for(var s=new Ut(t),a=0,i=[];s.lt(r)&&a<1e5;)i.push(s.toNumber()),s=s.add(n),a++;return i}var lce=rg(function(t,r,n){var s=+t,a=+r;return s+n*(a-s)}),cce=rg(function(t,r,n){var s=r-+t;return s=s||1/0,(n-t)/s}),dce=rg(function(t,r,n){var s=r-+t;return s=s||1/0,Math.max(0,Math.min(1,(n-t)/s))});const ng={rangeStep:oce,getDigitCount:ice,interpolateNumber:lce,uninterpolateNumber:cce,uninterpolateTruncation:dce};function bS(t){return mce(t)||hce(t)||U$(t)||uce()}function uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mce(t){if(Array.isArray(t))return jS(t)}function tm(t,r){return vce(t)||pce(t,r)||U$(t,r)||fce()}function fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U$(t,r){if(t){if(typeof t=="string")return jS(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(t,r)}}function jS(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function pce(t,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],s=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(r&&n.length===r));s=!0);}catch(d){a=!0,i=d}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function vce(t){if(Array.isArray(t))return t}function q$(t){var r=tm(t,2),n=r[0],s=r[1],a=n,i=s;return n>s&&(a=s,i=n),[a,i]}function H$(t,r,n){if(t.lte(0))return new Ut(0);var s=ng.getDigitCount(t.toNumber()),a=new Ut(10).pow(s),i=t.div(a),o=s!==1?.05:.1,l=new Ut(Math.ceil(i.div(o).toNumber())).add(n).mul(o),d=l.mul(a);return r?d:new Ut(Math.ceil(d))}function xce(t,r,n){var s=1,a=new Ut(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(s=new Ut(10).pow(ng.getDigitCount(t)-1),a=new Ut(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Ut(Math.floor(t)))}else t===0?a=new Ut(Math.floor((r-1)/2)):n||(a=new Ut(Math.floor(t)));var o=Math.floor((r-1)/2),l=ace(sce(function(d){return a.add(new Ut(d-o).mul(s)).toNumber()}),gS);return l(0,r)}function V$(t,r,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var i=H$(new Ut(r).sub(t).div(n-1),s,a),o;t<=0&&r>=0?o=new Ut(0):(o=new Ut(t).add(r).div(2),o=o.sub(new Ut(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),d=Math.ceil(new Ut(r).sub(o).div(i).toNumber()),u=l+d+1;return u>n?V$(t,r,n,s,a+1):(u<n&&(d=r>0?d+(n-u):d,l=r>0?l:l+(n-u)),{step:i,tickMin:o.sub(new Ut(l).mul(i)),tickMax:o.add(new Ut(d).mul(i))})}function gce(t){var r=tm(t,2),n=r[0],s=r[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=q$([n,s]),d=tm(l,2),u=d[0],f=d[1];if(u===-1/0||f===1/0){var m=f===1/0?[u].concat(bS(gS(0,a-1).map(function(){return 1/0}))):[].concat(bS(gS(0,a-1).map(function(){return-1/0})),[f]);return n>s?yS(m):m}if(u===f)return xce(u,a,i);var v=V$(u,f,o,i),g=v.step,b=v.tickMin,x=v.tickMax,y=ng.rangeStep(b,x.add(new Ut(.1).mul(g)),g);return n>s?yS(y):y}function yce(t,r){var n=tm(t,2),s=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=q$([s,a]),l=tm(o,2),d=l[0],u=l[1];if(d===-1/0||u===1/0)return[s,a];if(d===u)return[d];var f=Math.max(r,2),m=H$(new Ut(u).sub(d).div(f-1),i,0),v=[].concat(bS(ng.rangeStep(new Ut(d),new Ut(u).sub(new Ut(.99).mul(m)),m)),[u]);return s>a?yS(v):v}var bce=W$(gce),jce=W$(yce),wce="Invariant failed";function Pl(t,r){throw new Error(wce)}var Nce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},md(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Mv.apply(this,arguments)}function Sce(t,r){return Ece(t)||Ace(t,r)||Cce(t,r)||kce()}function kce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cce(t,r){if(t){if(typeof t=="string")return EI(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EI(t,r)}}function EI(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Ace(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);d=!0);}catch(f){u=!0,a=f}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ece(t){if(Array.isArray(t))return t}function _ce(t,r){if(t==null)return{};var n=Rce(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Rce(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Tce(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Pce(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,J$(s.key),s)}}function Oce(t,r,n){return r&&Pce(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ice(t,r,n){return r=Lv(r),Dce(t,G$()?Reflect.construct(r,n||[],Lv(t).constructor):r.apply(t,n))}function Dce(t,r){if(r&&(md(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mce(t)}function Mce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lv(t)}function Lce(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&wS(t,r)}function wS(t,r){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},wS(t,r)}function K$(t,r,n){return r=J$(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function J$(t){var r=zce(t,"string");return md(r)=="symbol"?r:r+""}function zce(t,r){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(md(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vm=(function(t){function r(){return Tce(this,r),Ice(this,r,arguments)}return Lce(r,t),Oce(r,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,d=s.data,u=s.dataPointFormatter,f=s.xAxis,m=s.yAxis,v=_ce(s,Nce),g=ut(v,!1);this.props.direction==="x"&&f.type!=="number"&&Pl();var b=d.map(function(x){var y=u(x,l),A=y.x,E=y.y,C=y.value,w=y.errorVal;if(!w)return null;var k=[],S,R;if(Array.isArray(w)){var T=Sce(w,2);S=T[0],R=T[1]}else S=R=w;if(i==="vertical"){var O=f.scale,U=E+a,D=U+o,I=U-o,B=O(C-S),M=O(C+R);k.push({x1:M,y1:D,x2:M,y2:I}),k.push({x1:B,y1:U,x2:M,y2:U}),k.push({x1:B,y1:D,x2:B,y2:I})}else if(i==="horizontal"){var W=m.scale,V=A+a,Q=V-o,H=V+o,X=W(C-S),K=W(C+R);k.push({x1:Q,y1:K,x2:H,y2:K}),k.push({x1:V,y1:X,x2:V,y2:K}),k.push({x1:Q,y1:X,x2:H,y2:X})}return $.createElement(Xt,Mv({className:"recharts-errorBar",key:"bar-".concat(k.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},g),k.map(function(z){return $.createElement("line",Mv({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return $.createElement(Xt,{className:"recharts-errorBars"},b)}}])})($.Component);K$(Vm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});K$(Vm,"displayName","ErrorBar");function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rm(t)}function _I(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function cl(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?_I(Object(n),!0).forEach(function(s){$ce(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function $ce(t,r,n){return r=Fce(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Fce(t){var r=Bce(t,"string");return rm(r)=="symbol"?r:r+""}function Bce(t,r){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(rm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Y$=function(r){var n=r.children,s=r.formattedGraphicalItems,a=r.legendWidth,i=r.legendContent,o=ps(n,Co);if(!o)return null;var l=Co.defaultProps,d=l!==void 0?cl(cl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(s||[]).reduce(function(f,m){var v=m.item,g=m.props,b=g.sectors||g.data||[];return f.concat(b.map(function(x){return{type:o.props.iconType||v.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(s||[]).map(function(f){var m=f.item,v=m.type.defaultProps,g=v!==void 0?cl(cl({},v),m.props):{},b=g.dataKey,x=g.name,y=g.legendType,A=g.hide;return{inactive:A,dataKey:b,type:d.iconType||y||"square",color:QC(m),value:x||b,payload:g}}),cl(cl(cl({},d),Co.getWithHeight(o,a)),{},{payload:u,item:o})};function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nm(t)}function RI(t){return Hce(t)||qce(t)||Uce(t)||Wce()}function Wce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uce(t,r){if(t){if(typeof t=="string")return NS(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NS(t,r)}}function qce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hce(t){if(Array.isArray(t))return NS(t)}function NS(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function TI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function vr(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?TI(Object(n),!0).forEach(function(s){Xc(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Xc(t,r,n){return r=Vce(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Vce(t){var r=Gce(t,"string");return nm(r)=="symbol"?r:r+""}function Gce(t,r){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(nm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Un(t,r,n){return mt(t)||mt(r)?n:en(r)?Ws(t,r,n):dt(r)?r(t):n}function wh(t,r,n,s){var a=Hle(t,function(l){return Un(l,r)});if(n==="number"){var i=a.filter(function(l){return Oe(l)||parseFloat(l)});return i.length?[tg(i),bo(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!mt(l)}):a;return o.map(function(l){return en(l)||l instanceof Date?l:""})}var Kce=function(r){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,m=a[u].coordinate,v=u>=l-1?a[0].coordinate:a[u+1].coordinate,g=void 0;if(ma(m-f)!==ma(v-m)){var b=[];if(ma(v-m)===ma(d[1]-d[0])){g=v;var x=m+d[1]-d[0];b[0]=Math.min(x,(x+f)/2),b[1]=Math.max(x,(x+f)/2)}else{g=f;var y=v+d[1]-d[0];b[0]=Math.min(m,(y+m)/2),b[1]=Math.max(m,(y+m)/2)}var A=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(r>A[0]&&r<=A[1]||r>=b[0]&&r<=b[1]){o=a[u].index;break}}else{var E=Math.min(f,v),C=Math.max(f,v);if(r>(E+m)/2&&r<=(C+m)/2){o=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&r<=(s[w].coordinate+s[w+1].coordinate)/2||w>0&&w<l-1&&r>(s[w].coordinate+s[w-1].coordinate)/2&&r<=(s[w].coordinate+s[w+1].coordinate)/2||w===l-1&&r>(s[w].coordinate+s[w-1].coordinate)/2){o=s[w].index;break}return o},QC=function(r){var n,s=r,a=s.type.displayName,i=(n=r.type)!==null&&n!==void 0&&n.defaultProps?vr(vr({},r.type.defaultProps),r.props):r.props,o=i.stroke,l=i.fill,d;switch(a){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:l;break;default:d=l;break}return d},Jce=function(r){var n=r.barSize,s=r.totalSize,a=r.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),d=0,u=l.length;d<u;d++)for(var f=i[l[d]].stackGroups,m=Object.keys(f),v=0,g=m.length;v<g;v++){var b=f[m[v]],x=b.items,y=b.cateAxisId,A=x.filter(function(R){return bi(R.type).indexOf("Bar")>=0});if(A&&A.length){var E=A[0].type.defaultProps,C=E!==void 0?vr(vr({},E),A[0].props):A[0].props,w=C.barSize,k=C[y];o[k]||(o[k]=[]);var S=mt(w)?n:w;o[k].push({item:A[0],stackList:A.slice(1),barSize:mt(S)?void 0:Rl(S,s,0)})}}return o},Yce=function(r){var n=r.barGap,s=r.barCategoryGap,a=r.bandSize,i=r.sizeList,o=i===void 0?[]:i,l=r.maxBarSize,d=o.length;if(d<1)return null;var u=Rl(n,a,0,!0),f,m=[];if(o[0].barSize===+o[0].barSize){var v=!1,g=a/d,b=o.reduce(function(w,k){return w+k.barSize||0},0);b+=(d-1)*u,b>=a&&(b-=(d-1)*u,u=0),b>=a&&g>0&&(v=!0,g*=.9,b=d*g);var x=(a-b)/2>>0,y={offset:x-u,size:0};f=o.reduce(function(w,k){var S={item:k.item,position:{offset:y.offset+y.size+u,size:v?g:k.barSize}},R=[].concat(RI(w),[S]);return y=R[R.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(T){R.push({item:T,position:y})}),R},m)}else{var A=Rl(s,a,0,!0);a-2*A-(d-1)*u<=0&&(u=0);var E=(a-2*A-(d-1)*u)/d;E>1&&(E>>=0);var C=l===+l?Math.min(E,l):E;f=o.reduce(function(w,k,S){var R=[].concat(RI(w),[{item:k.item,position:{offset:A+(E+u)*S+(E-C)/2,size:C}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(T){R.push({item:T,position:R[R.length-1].position})}),R},m)}return f},Zce=function(r,n,s,a){var i=s.children,o=s.width,l=s.margin,d=o-(l.left||0)-(l.right||0),u=Y$({children:i,legendWidth:d});if(u){var f=a||{},m=f.width,v=f.height,g=u.align,b=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&b==="middle")&&g!=="center"&&Oe(r[g]))return vr(vr({},r),{},Xc({},g,r[g]+(m||0)));if((x==="horizontal"||x==="vertical"&&g==="center")&&b!=="middle"&&Oe(r[b]))return vr(vr({},r),{},Xc({},b,r[b]+(v||0)))}return r},Xce=function(r,n,s){return mt(n)?!0:r==="horizontal"?n==="yAxis":r==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},Z$=function(r,n,s,a,i){var o=n.props.children,l=Us(o,Vm).filter(function(u){return Xce(a,i,u.props.direction)});if(l&&l.length){var d=l.map(function(u){return u.props.dataKey});return r.reduce(function(u,f){var m=Un(f,s);if(mt(m))return u;var v=Array.isArray(m)?[tg(m),bo(m)]:[m,m],g=d.reduce(function(b,x){var y=Un(f,x,0),A=v[0]-Math.abs(Array.isArray(y)?y[0]:y),E=v[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(A,b[0]),Math.max(E,b[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},Qce=function(r,n,s,a,i){var o=n.map(function(l){return Z$(r,l,s,i,a)}).filter(function(l){return!mt(l)});return o&&o.length?o.reduce(function(l,d){return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]):null},X$=function(r,n,s,a,i){var o=n.map(function(d){var u=d.props.dataKey;return s==="number"&&u&&Z$(r,d,u,a)||wh(r,u,s,i)});if(s==="number")return o.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(d,u){for(var f=0,m=u.length;f<m;f++)l[u[f]]||(l[u[f]]=!0,d.push(u[f]));return d},[])},Q$=function(r,n){return r==="horizontal"&&n==="xAxis"||r==="vertical"&&n==="yAxis"||r==="centric"&&n==="angleAxis"||r==="radial"&&n==="radiusAxis"},e6=function(r,n,s,a){if(a)return r.map(function(d){return d.coordinate});var i,o,l=r.map(function(d){return d.coordinate===n&&(i=!0),d.coordinate===s&&(o=!0),d.coordinate});return i||l.push(n),o||l.push(s),l},vi=function(r,n,s){if(!r)return null;var a=r.scale,i=r.duplicateDomain,o=r.type,l=r.range,d=r.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||s)&&o==="category"&&a.bandwidth?a.bandwidth()/d:0;if(u=r.axisType==="angleAxis"&&l?.length>=2?ma(l[0]-l[1])*2*u:u,n&&(r.ticks||r.niceTicks)){var f=(r.ticks||r.niceTicks).map(function(m){var v=i?i.indexOf(m):m;return{coordinate:a(v)+u,value:m,offset:u}});return f.filter(function(m){return!Xd(m.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(m,v){return{coordinate:a(m)+u,value:m,index:v,offset:u}}):a.ticks&&!s?a.ticks(r.tickCount).map(function(m){return{coordinate:a(m)+u,value:m,offset:u}}):a.domain().map(function(m,v){return{coordinate:a(m)+u,value:i?i[m]:m,index:v,offset:u}})},y1=new WeakMap,Ep=function(r,n){if(typeof n!="function")return r;y1.has(r)||y1.set(r,new WeakMap);var s=y1.get(r);if(s.has(n))return s.get(n);var a=function(){r.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,a),a},ede=function(r,n,s){var a=r.scale,i=r.type,o=r.layout,l=r.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Jh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Tv(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:jh(),realScaleType:"point"}:i==="category"?{scale:Jh(),realScaleType:"band"}:{scale:Tv(),realScaleType:"linear"};if(_l(a)){var d="scale".concat(Wx(a));return{scale:(vI[d]||jh)(),realScaleType:vI[d]?d:"point"}}return dt(a)?{scale:a}:{scale:jh(),realScaleType:"point"}},PI=1e-4,tde=function(r){var n=r.domain();if(!(!n||n.length<=2)){var s=n.length,a=r.range(),i=Math.min(a[0],a[1])-PI,o=Math.max(a[0],a[1])+PI,l=r(n[0]),d=r(n[s-1]);(l<i||l>o||d<i||d>o)&&r.domain([n[0],n[s-1]])}},rde=function(r,n){if(!r)return null;for(var s=0,a=r.length;s<a;s++)if(r[s].item===n)return r[s].position;return null},nde=function(r,n){if(!n||n.length!==2||!Oe(n[0])||!Oe(n[1]))return r;var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[r[0],r[1]];return(!Oe(r[0])||r[0]<s)&&(i[0]=s),(!Oe(r[1])||r[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},sde=function(r){var n=r.length;if(!(n<=0))for(var s=0,a=r[0].length;s<a;++s)for(var i=0,o=0,l=0;l<n;++l){var d=Xd(r[l][s][1])?r[l][s][0]:r[l][s][1];d>=0?(r[l][s][0]=i,r[l][s][1]=i+d,i=r[l][s][1]):(r[l][s][0]=o,r[l][s][1]=o+d,o=r[l][s][1])}},ade=function(r){var n=r.length;if(!(n<=0))for(var s=0,a=r[0].length;s<a;++s)for(var i=0,o=0;o<n;++o){var l=Xd(r[o][s][1])?r[o][s][0]:r[o][s][1];l>=0?(r[o][s][0]=i,r[o][s][1]=i+l,i=r[o][s][1]):(r[o][s][0]=0,r[o][s][1]=0)}},ide={sign:sde,expand:Ure,none:sd,silhouette:qre,wiggle:Hre,positive:ade},ode=function(r,n,s){var a=n.map(function(l){return l.props.dataKey}),i=ide[s],o=Wre().keys(a).value(function(l,d){return+Un(l,d,0)}).order(QN).offset(i);return o(r)},lde=function(r,n,s,a,i,o){if(!r)return null;var l=o?n.reverse():n,d={},u=l.reduce(function(m,v){var g,b=(g=v.type)!==null&&g!==void 0&&g.defaultProps?vr(vr({},v.type.defaultProps),v.props):v.props,x=b.stackId,y=b.hide;if(y)return m;var A=b[s],E=m[A]||{hasStack:!1,stackGroups:{}};if(en(x)){var C=E.stackGroups[x]||{numericAxisId:s,cateAxisId:a,items:[]};C.items.push(v),E.hasStack=!0,E.stackGroups[x]=C}else E.stackGroups[Qd("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[v]};return vr(vr({},m),{},Xc({},A,E))},d),f={};return Object.keys(u).reduce(function(m,v){var g=u[v];if(g.hasStack){var b={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(x,y){var A=g.stackGroups[y];return vr(vr({},x),{},Xc({},y,{numericAxisId:s,cateAxisId:a,items:A.items,stackedData:ode(r,A.items,i)}))},b)}return vr(vr({},m),{},Xc({},v,g))},f)},cde=function(r,n){var s=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,d=s||n.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=r.domain();if(!u.length)return null;var f=bce(u,i,l);return r.domain([tg(f),bo(f)]),{niceTicks:f}}if(i&&a==="number"){var m=r.domain(),v=jce(m,i,l);return{niceTicks:v}}return null};function zv(t){var r=t.axis,n=t.ticks,s=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!mt(a[r.dataKey])){var l=uv(n,"value",a[r.dataKey]);if(l)return l.coordinate+s/2}return n[i]?n[i].coordinate+s/2:null}var d=Un(a,mt(o)?r.dataKey:o);return mt(d)?null:r.scale(d)}var OI=function(r){var n=r.axis,s=r.ticks,a=r.offset,i=r.bandSize,o=r.entry,l=r.index;if(n.type==="category")return s[l]?s[l].coordinate+a:null;var d=Un(o,n.dataKey,n.domain[l]);return mt(d)?null:n.scale(d)-i/2+a},dde=function(r){var n=r.numericAxis,s=n.scale.domain();if(n.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},ude=function(r,n){var s,a=(s=r.type)!==null&&s!==void 0&&s.defaultProps?vr(vr({},r.type.defaultProps),r.props):r.props,i=a.stackId;if(en(i)){var o=n[i];if(o){var l=o.items.indexOf(r);return l>=0?o.stackedData[l]:null}}return null},hde=function(r){return r.reduce(function(n,s){return[tg(s.concat([n[0]]).filter(Oe)),bo(s.concat([n[1]]).filter(Oe))]},[1/0,-1/0])},t6=function(r,n,s){return Object.keys(r).reduce(function(a,i){var o=r[i],l=o.stackedData,d=l.reduce(function(u,f){var m=hde(f.slice(n,s+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},II=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SS=function(r,n,s){if(dt(r))return r(n,s);if(!Array.isArray(r))return n;var a=[];if(Oe(r[0]))a[0]=s?r[0]:Math.min(r[0],n[0]);else if(II.test(r[0])){var i=+II.exec(r[0])[1];a[0]=n[0]-i}else dt(r[0])?a[0]=r[0](n[0]):a[0]=n[0];if(Oe(r[1]))a[1]=s?r[1]:Math.max(r[1],n[1]);else if(DI.test(r[1])){var o=+DI.exec(r[1])[1];a[1]=n[1]+o}else dt(r[1])?a[1]=r[1](n[1]):a[1]=n[1];return a},$v=function(r,n,s){if(r&&r.scale&&r.scale.bandwidth){var a=r.scale.bandwidth();if(!s||a>0)return a}if(r&&n&&n.length>=2){for(var i=AC(n,function(m){return m.coordinate}),o=1/0,l=1,d=i.length;l<d;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},MI=function(r,n,s){return!r||!r.length||hd(r,Ws(s,"type.defaultProps.domain"))?n:r},r6=function(r,n){var s=r.type.defaultProps?vr(vr({},r.type.defaultProps),r.props):r.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,d=s.tooltipType,u=s.chartType,f=s.hide;return vr(vr({},ut(r,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:QC(r),value:Un(n,a),type:d,payload:n,chartType:u,hide:f})};function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sm(t)}function LI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function zI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?LI(Object(n),!0).forEach(function(s){mde(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function mde(t,r,n){return r=fde(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function fde(t){var r=pde(t,"string");return sm(r)=="symbol"?r:r+""}function pde(t,r){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(sm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Fv=Math.PI/180,vde=function(r){return r*180/Math.PI},wn=function(r,n,s,a){return{x:r+Math.cos(-Fv*a)*s,y:n+Math.sin(-Fv*a)*s}},xde=function(r,n){var s=r.x,a=r.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},gde=function(r,n){var s=r.x,a=r.y,i=n.cx,o=n.cy,l=xde({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var d=(s-i)/l,u=Math.acos(d);return a>o&&(u=2*Math.PI-u),{radius:l,angle:vde(u),angleInRadian:u}},yde=function(r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:s-o*360}},bde=function(r,n){var s=n.startAngle,a=n.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return r+l*360},$I=function(r,n){var s=r.x,a=r.y,i=gde({x:s,y:a},n),o=i.radius,l=i.angle,d=n.innerRadius,u=n.outerRadius;if(o<d||o>u)return!1;if(o===0)return!0;var f=yde(n),m=f.startAngle,v=f.endAngle,g=l,b;if(m<=v){for(;g>v;)g-=360;for(;g<m;)g+=360;b=g>=m&&g<=v}else{for(;g>m;)g-=360;for(;g<v;)g+=360;b=g>=v&&g<=m}return b?zI(zI({},n),{},{radius:o,angle:bde(g,n)}):null};function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},am(t)}var jde=["offset"];function wde(t){return Cde(t)||kde(t)||Sde(t)||Nde()}function Nde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sde(t,r){if(t){if(typeof t=="string")return kS(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(t,r)}}function kde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cde(t){if(Array.isArray(t))return kS(t)}function kS(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Ade(t,r){if(t==null)return{};var n=Ede(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Ede(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function FI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Kr(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?FI(Object(n),!0).forEach(function(s){_de(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function _de(t,r,n){return r=Rde(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Rde(t){var r=Tde(t,"string");return am(r)=="symbol"?r:r+""}function Tde(t,r){if(am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(am(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function im(){return im=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},im.apply(this,arguments)}var Pde=function(r){var n=r.value,s=r.formatter,a=mt(r.children)?n:r.children;return dt(s)?s(a):a},Ode=function(r,n){var s=ma(n-r),a=Math.min(Math.abs(n-r),360);return s*a},Ide=function(r,n,s){var a=r.position,i=r.viewBox,o=r.offset,l=r.className,d=i,u=d.cx,f=d.cy,m=d.innerRadius,v=d.outerRadius,g=d.startAngle,b=d.endAngle,x=d.clockWise,y=(m+v)/2,A=Ode(g,b),E=A>=0?1:-1,C,w;a==="insideStart"?(C=g+E*o,w=x):a==="insideEnd"?(C=b-E*o,w=!x):a==="end"&&(C=b+E*o,w=x),w=A<=0?w:!w;var k=wn(u,f,y,C),S=wn(u,f,y,C+(w?1:-1)*359),R="M".concat(k.x,",").concat(k.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(w?0:1,`,
    `).concat(S.x,",").concat(S.y),T=mt(r.id)?Qd("recharts-radial-line-"):r.id;return $.createElement("text",im({},s,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",l)}),$.createElement("defs",null,$.createElement("path",{id:T,d:R})),$.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Dde=function(r){var n=r.viewBox,s=r.offset,a=r.position,i=n,o=i.cx,l=i.cy,d=i.innerRadius,u=i.outerRadius,f=i.startAngle,m=i.endAngle,v=(f+m)/2;if(a==="outside"){var g=wn(o,l,u+s,v),b=g.x,x=g.y;return{x:b,y:x,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(d+u)/2,A=wn(o,l,y,v),E=A.x,C=A.y;return{x:E,y:C,textAnchor:"middle",verticalAnchor:"middle"}},Mde=function(r){var n=r.viewBox,s=r.parentViewBox,a=r.offset,i=r.position,o=n,l=o.x,d=o.y,u=o.width,f=o.height,m=f>=0?1:-1,v=m*a,g=m>0?"end":"start",b=m>0?"start":"end",x=u>=0?1:-1,y=x*a,A=x>0?"end":"start",E=x>0?"start":"end";if(i==="top"){var C={x:l+u/2,y:d-m*a,textAnchor:"middle",verticalAnchor:g};return Kr(Kr({},C),s?{height:Math.max(d-s.y,0),width:u}:{})}if(i==="bottom"){var w={x:l+u/2,y:d+f+v,textAnchor:"middle",verticalAnchor:b};return Kr(Kr({},w),s?{height:Math.max(s.y+s.height-(d+f),0),width:u}:{})}if(i==="left"){var k={x:l-y,y:d+f/2,textAnchor:A,verticalAnchor:"middle"};return Kr(Kr({},k),s?{width:Math.max(k.x-s.x,0),height:f}:{})}if(i==="right"){var S={x:l+u+y,y:d+f/2,textAnchor:E,verticalAnchor:"middle"};return Kr(Kr({},S),s?{width:Math.max(s.x+s.width-S.x,0),height:f}:{})}var R=s?{width:u,height:f}:{};return i==="insideLeft"?Kr({x:l+y,y:d+f/2,textAnchor:E,verticalAnchor:"middle"},R):i==="insideRight"?Kr({x:l+u-y,y:d+f/2,textAnchor:A,verticalAnchor:"middle"},R):i==="insideTop"?Kr({x:l+u/2,y:d+v,textAnchor:"middle",verticalAnchor:b},R):i==="insideBottom"?Kr({x:l+u/2,y:d+f-v,textAnchor:"middle",verticalAnchor:g},R):i==="insideTopLeft"?Kr({x:l+y,y:d+v,textAnchor:E,verticalAnchor:b},R):i==="insideTopRight"?Kr({x:l+u-y,y:d+v,textAnchor:A,verticalAnchor:b},R):i==="insideBottomLeft"?Kr({x:l+y,y:d+f-v,textAnchor:E,verticalAnchor:g},R):i==="insideBottomRight"?Kr({x:l+u-y,y:d+f-v,textAnchor:A,verticalAnchor:g},R):Zd(i)&&(Oe(i.x)||yl(i.x))&&(Oe(i.y)||yl(i.y))?Kr({x:l+Rl(i.x,u),y:d+Rl(i.y,f),textAnchor:"end",verticalAnchor:"end"},R):Kr({x:l+u/2,y:d+f/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Lde=function(r){return"cx"in r&&Oe(r.cx)};function On(t){var r=t.offset,n=r===void 0?5:r,s=Ade(t,jde),a=Kr({offset:n},s),i=a.viewBox,o=a.position,l=a.value,d=a.children,u=a.content,f=a.className,m=f===void 0?"":f,v=a.textBreakAll;if(!i||mt(l)&&mt(d)&&!j.isValidElement(u)&&!dt(u))return null;if(j.isValidElement(u))return j.cloneElement(u,a);var g;if(dt(u)){if(g=j.createElement(u,a),j.isValidElement(g))return g}else g=Pde(a);var b=Lde(i),x=ut(a,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Ide(a,g,x);var y=b?Dde(a):Mde(a);return $.createElement(Sv,im({className:yt("recharts-label",m)},x,y,{breakAll:v}),g)}On.displayName="Label";var n6=function(r){var n=r.cx,s=r.cy,a=r.angle,i=r.startAngle,o=r.endAngle,l=r.r,d=r.radius,u=r.innerRadius,f=r.outerRadius,m=r.x,v=r.y,g=r.top,b=r.left,x=r.width,y=r.height,A=r.clockWise,E=r.labelViewBox;if(E)return E;if(Oe(x)&&Oe(y)){if(Oe(m)&&Oe(v))return{x:m,y:v,width:x,height:y};if(Oe(g)&&Oe(b))return{x:g,y:b,width:x,height:y}}return Oe(m)&&Oe(v)?{x:m,y:v,width:0,height:0}:Oe(n)&&Oe(s)?{cx:n,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:f||d||l||0,clockWise:A}:r.viewBox?r.viewBox:{}},zde=function(r,n){return r?r===!0?$.createElement(On,{key:"label-implicit",viewBox:n}):en(r)?$.createElement(On,{key:"label-implicit",viewBox:n,value:r}):j.isValidElement(r)?r.type===On?j.cloneElement(r,{key:"label-implicit",viewBox:n}):$.createElement(On,{key:"label-implicit",content:r,viewBox:n}):dt(r)?$.createElement(On,{key:"label-implicit",content:r,viewBox:n}):Zd(r)?$.createElement(On,im({viewBox:n},r,{key:"label-implicit"})):null:null},$de=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&s&&!r.label)return null;var a=r.children,i=n6(r),o=Us(a,On).map(function(d,u){return j.cloneElement(d,{viewBox:n||i,key:"label-".concat(u)})});if(!s)return o;var l=zde(r.label,n||i);return[l].concat(wde(o))};On.parseViewBox=n6;On.renderCallByParent=$de;var b1,BI;function Fde(){if(BI)return b1;BI=1;function t(r){var n=r==null?0:r.length;return n?r[n-1]:void 0}return b1=t,b1}var Bde=Fde();const Wde=Ft(Bde);function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},om(t)}var Ude=["valueAccessor"],qde=["data","dataKey","clockWise","id","textBreakAll"];function Hde(t){return Jde(t)||Kde(t)||Gde(t)||Vde()}function Vde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gde(t,r){if(t){if(typeof t=="string")return CS(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CS(t,r)}}function Kde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jde(t){if(Array.isArray(t))return CS(t)}function CS(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Bv.apply(this,arguments)}function WI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function UI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?WI(Object(n),!0).forEach(function(s){Yde(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Yde(t,r,n){return r=Zde(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Zde(t){var r=Xde(t,"string");return om(r)=="symbol"?r:r+""}function Xde(t,r){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(om(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function qI(t,r){if(t==null)return{};var n=Qde(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Qde(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var eue=function(r){return Array.isArray(r.value)?Wde(r.value):r.value};function Ni(t){var r=t.valueAccessor,n=r===void 0?eue:r,s=qI(t,Ude),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,d=s.textBreakAll,u=qI(s,qde);return!a||!a.length?null:$.createElement(Xt,{className:"recharts-label-list"},a.map(function(f,m){var v=mt(i)?n(f,m):Un(f&&f.payload,i),g=mt(l)?{}:{id:"".concat(l,"-").concat(m)};return $.createElement(On,Bv({},ut(f,!0),u,g,{parentViewBox:f.parentViewBox,value:v,textBreakAll:d,viewBox:On.parseViewBox(mt(o)?f:UI(UI({},f),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Ni.displayName="LabelList";function tue(t,r){return t?t===!0?$.createElement(Ni,{key:"labelList-implicit",data:r}):$.isValidElement(t)||dt(t)?$.createElement(Ni,{key:"labelList-implicit",data:r,content:t}):Zd(t)?$.createElement(Ni,Bv({data:r},t,{key:"labelList-implicit"})):null:null}function rue(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,a=Us(s,Ni).map(function(o,l){return j.cloneElement(o,{data:r,key:"labelList-".concat(l)})});if(!n)return a;var i=tue(t.label,r);return[i].concat(Hde(a))}Ni.renderCallByParent=rue;function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lm(t)}function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},AS.apply(this,arguments)}function HI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function VI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?HI(Object(n),!0).forEach(function(s){nue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function nue(t,r,n){return r=sue(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function sue(t){var r=aue(t,"string");return lm(r)=="symbol"?r:r+""}function aue(t,r){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(lm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var iue=function(r,n){var s=ma(n-r),a=Math.min(Math.abs(n-r),359.999);return s*a},_p=function(r){var n=r.cx,s=r.cy,a=r.radius,i=r.angle,o=r.sign,l=r.isExternal,d=r.cornerRadius,u=r.cornerIsExternal,f=d*(l?1:-1)+a,m=Math.asin(d/f)/Fv,v=u?i:i+o*m,g=wn(n,s,f,v),b=wn(n,s,a,v),x=u?i-o*m:i,y=wn(n,s,f*Math.cos(m*Fv),x);return{center:g,circleTangency:b,lineTangency:y,theta:m}},s6=function(r){var n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,o=r.startAngle,l=r.endAngle,d=iue(o,l),u=o+d,f=wn(n,s,i,o),m=wn(n,s,i,u),v="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var g=wn(n,s,a,o),b=wn(n,s,a,u);v+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else v+="L ".concat(n,",").concat(s," Z");return v},oue=function(r){var n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,m=ma(f-u),v=_p({cx:n,cy:s,radius:i,angle:u,sign:m,cornerRadius:o,cornerIsExternal:d}),g=v.circleTangency,b=v.lineTangency,x=v.theta,y=_p({cx:n,cy:s,radius:i,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:d}),A=y.circleTangency,E=y.lineTangency,C=y.theta,w=d?Math.abs(u-f):Math.abs(u-f)-x-C;if(w<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):s6({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f});var k="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(a>0){var S=_p({cx:n,cy:s,radius:a,angle:u,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),R=S.circleTangency,T=S.lineTangency,O=S.theta,U=_p({cx:n,cy:s,radius:a,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),D=U.circleTangency,I=U.lineTangency,B=U.theta,M=d?Math.abs(u-f):Math.abs(u-f)-O-B;if(M<0&&o===0)return"".concat(k,"L").concat(n,",").concat(s,"Z");k+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(m>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,"Z")}else k+="L".concat(n,",").concat(s,"Z");return k},lue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},a6=function(r){var n=VI(VI({},lue),r),s=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,d=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,m=n.endAngle,v=n.className;if(o<i||f===m)return null;var g=yt("recharts-sector",v),b=o-i,x=Rl(l,b,0,!0),y;return x>0&&Math.abs(f-m)<360?y=oue({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,b/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:f,endAngle:m}):y=s6({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:f,endAngle:m}),$.createElement("path",AS({},ut(n,!0),{className:g,d:y,role:"img"}))};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cm(t)}function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ES.apply(this,arguments)}function GI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function KI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?GI(Object(n),!0).forEach(function(s){cue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function cue(t,r,n){return r=due(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function due(t){var r=uue(t,"string");return cm(r)=="symbol"?r:r+""}function uue(t,r){if(cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(cm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var JI={curveBasisClosed:Tre,curveBasisOpen:Pre,curveBasis:Rre,curveBumpX:vre,curveBumpY:xre,curveLinearClosed:Ore,curveLinear:qx,curveMonotoneX:Ire,curveMonotoneY:Dre,curveNatural:Mre,curveStep:Lre,curveStepAfter:$re,curveStepBefore:zre},Rp=function(r){return r.x===+r.x&&r.y===+r.y},Xu=function(r){return r.x},Qu=function(r){return r.y},hue=function(r,n){if(dt(r))return r;var s="curve".concat(Wx(r));return(s==="curveMonotone"||s==="curveBump")&&n?JI["".concat(s).concat(n==="vertical"?"Y":"X")]:JI[s]||qx},mue=function(r){var n=r.type,s=n===void 0?"linear":n,a=r.points,i=a===void 0?[]:a,o=r.baseLine,l=r.layout,d=r.connectNulls,u=d===void 0?!1:d,f=hue(s,l),m=u?i.filter(function(x){return Rp(x)}):i,v;if(Array.isArray(o)){var g=u?o.filter(function(x){return Rp(x)}):o,b=m.map(function(x,y){return KI(KI({},x),{},{base:g[y]})});return l==="vertical"?v=jp().y(Qu).x1(Xu).x0(function(x){return x.base.x}):v=jp().x(Xu).y1(Qu).y0(function(x){return x.base.y}),v.defined(Rp).curve(f),v(b)}return l==="vertical"&&Oe(o)?v=jp().y(Qu).x1(Xu).x0(o):Oe(o)?v=jp().x(Xu).y1(Qu).y0(o):v=cz().x(Xu).y(Qu),v.defined(Rp).curve(f),v(m)},Qc=function(r){var n=r.className,s=r.points,a=r.path,i=r.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?mue(r):a;return j.createElement("path",ES({},ut(r,!1),hv(r),{className:yt("recharts-curve",n),d:o,ref:i}))},j1={exports:{}},w1,YI;function fue(){if(YI)return w1;YI=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return w1=t,w1}var N1,ZI;function pue(){if(ZI)return N1;ZI=1;var t=fue();function r(){}function n(){}return n.resetWarningCache=r,N1=function(){function s(o,l,d,u,f,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}s.isRequired=s;function a(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:r};return i.PropTypes=i,i},N1}var XI;function vue(){return XI||(XI=1,j1.exports=pue()()),j1.exports}var xue=vue();const Ot=Ft(xue);var gue=Object.getOwnPropertyNames,yue=Object.getOwnPropertySymbols,bue=Object.prototype.hasOwnProperty;function QI(t,r){return function(s,a,i){return t(s,a,i)&&r(s,a,i)}}function Tp(t){return function(n,s,a){if(!n||!s||typeof n!="object"||typeof s!="object")return t(n,s,a);var i=a.cache,o=i.get(n),l=i.get(s);if(o&&l)return o===s&&l===n;i.set(n,s),i.set(s,n);var d=t(n,s,a);return i.delete(n),i.delete(s),d}}function jue(t){return t?.[Symbol.toStringTag]}function eD(t){return gue(t).concat(yue(t))}var wue=Object.hasOwn||(function(t,r){return bue.call(t,r)});function Gl(t,r){return t===r||!t&&!r&&t!==t&&r!==r}var Nue="__v",Sue="__o",kue="_owner",tD=Object.getOwnPropertyDescriptor,rD=Object.keys;function Cue(t,r,n){var s=t.length;if(r.length!==s)return!1;for(;s-- >0;)if(!n.equals(t[s],r[s],s,s,t,r,n))return!1;return!0}function Aue(t,r){return Gl(t.getTime(),r.getTime())}function Eue(t,r){return t.name===r.name&&t.message===r.message&&t.cause===r.cause&&t.stack===r.stack}function _ue(t,r){return t===r}function nD(t,r,n){var s=t.size;if(s!==r.size)return!1;if(!s)return!0;for(var a=new Array(s),i=t.entries(),o,l,d=0;(o=i.next())&&!o.done;){for(var u=r.entries(),f=!1,m=0;(l=u.next())&&!l.done;){if(a[m]){m++;continue}var v=o.value,g=l.value;if(n.equals(v[0],g[0],d,m,t,r,n)&&n.equals(v[1],g[1],v[0],g[0],t,r,n)){f=a[m]=!0;break}m++}if(!f)return!1;d++}return!0}var Rue=Gl;function Tue(t,r,n){var s=rD(t),a=s.length;if(rD(r).length!==a)return!1;for(;a-- >0;)if(!i6(t,r,n,s[a]))return!1;return!0}function eh(t,r,n){var s=eD(t),a=s.length;if(eD(r).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!i6(t,r,n,i)||(o=tD(t,i),l=tD(r,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Pue(t,r){return Gl(t.valueOf(),r.valueOf())}function Oue(t,r){return t.source===r.source&&t.flags===r.flags}function sD(t,r,n){var s=t.size;if(s!==r.size)return!1;if(!s)return!0;for(var a=new Array(s),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var d=r.values(),u=!1,f=0;(l=d.next())&&!l.done;){if(!a[f]&&n.equals(o.value,l.value,o.value,l.value,t,r,n)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function Iue(t,r){var n=t.length;if(r.length!==n)return!1;for(;n-- >0;)if(t[n]!==r[n])return!1;return!0}function Due(t,r){return t.hostname===r.hostname&&t.pathname===r.pathname&&t.protocol===r.protocol&&t.port===r.port&&t.hash===r.hash&&t.username===r.username&&t.password===r.password}function i6(t,r,n,s){return(s===kue||s===Sue||s===Nue)&&(t.$$typeof||r.$$typeof)?!0:wue(r,s)&&n.equals(t[s],r[s],s,s,t,r,n)}var Mue="[object Arguments]",Lue="[object Boolean]",zue="[object Date]",$ue="[object Error]",Fue="[object Map]",Bue="[object Number]",Wue="[object Object]",Uue="[object RegExp]",que="[object Set]",Hue="[object String]",Vue="[object URL]",Gue=Array.isArray,aD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,iD=Object.assign,Kue=Object.prototype.toString.call.bind(Object.prototype.toString);function Jue(t){var r=t.areArraysEqual,n=t.areDatesEqual,s=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,m=t.areTypedArraysEqual,v=t.areUrlsEqual,g=t.unknownTagComparators;return function(x,y,A){if(x===y)return!0;if(x==null||y==null)return!1;var E=typeof x;if(E!==typeof y)return!1;if(E!=="object")return E==="number"?o(x,y,A):E==="function"?a(x,y,A):!1;var C=x.constructor;if(C!==y.constructor)return!1;if(C===Object)return l(x,y,A);if(Gue(x))return r(x,y,A);if(aD!=null&&aD(x))return m(x,y,A);if(C===Date)return n(x,y,A);if(C===RegExp)return u(x,y,A);if(C===Map)return i(x,y,A);if(C===Set)return f(x,y,A);var w=Kue(x);if(w===zue)return n(x,y,A);if(w===Uue)return u(x,y,A);if(w===Fue)return i(x,y,A);if(w===que)return f(x,y,A);if(w===Wue)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,A);if(w===Vue)return v(x,y,A);if(w===$ue)return s(x,y,A);if(w===Mue)return l(x,y,A);if(w===Lue||w===Bue||w===Hue)return d(x,y,A);if(g){var k=g[w];if(!k){var S=jue(x);S&&(k=g[S])}if(k)return k(x,y,A)}return!1}}function Yue(t){var r=t.circular,n=t.createCustomConfig,s=t.strict,a={areArraysEqual:s?eh:Cue,areDatesEqual:Aue,areErrorsEqual:Eue,areFunctionsEqual:_ue,areMapsEqual:s?QI(nD,eh):nD,areNumbersEqual:Rue,areObjectsEqual:s?eh:Tue,arePrimitiveWrappersEqual:Pue,areRegExpsEqual:Oue,areSetsEqual:s?QI(sD,eh):sD,areTypedArraysEqual:s?eh:Iue,areUrlsEqual:Due,unknownTagComparators:void 0};if(n&&(a=iD({},a,n(a))),r){var i=Tp(a.areArraysEqual),o=Tp(a.areMapsEqual),l=Tp(a.areObjectsEqual),d=Tp(a.areSetsEqual);a=iD({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:d})}return a}function Zue(t){return function(r,n,s,a,i,o,l){return t(r,n,l)}}function Xue(t){var r=t.circular,n=t.comparator,s=t.createState,a=t.equals,i=t.strict;if(s)return function(d,u){var f=s(),m=f.cache,v=m===void 0?r?new WeakMap:void 0:m,g=f.meta;return n(d,u,{cache:v,equals:a,meta:g,strict:i})};if(r)return function(d,u){return n(d,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(d,u){return n(d,u,o)}}var Que=Uo();Uo({strict:!0});Uo({circular:!0});Uo({circular:!0,strict:!0});Uo({createInternalComparator:function(){return Gl}});Uo({strict:!0,createInternalComparator:function(){return Gl}});Uo({circular:!0,createInternalComparator:function(){return Gl}});Uo({circular:!0,createInternalComparator:function(){return Gl},strict:!0});function Uo(t){t===void 0&&(t={});var r=t.circular,n=r===void 0?!1:r,s=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=Yue(t),d=Jue(l),u=s?s(d):Zue(d);return Xue({circular:n,comparator:d,createState:a,equals:u,strict:o})}function ehe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function oD(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function a(i){n<0&&(n=i),i-n>r?(t(i),n=-1):ehe(a)};requestAnimationFrame(s)}function _S(t){"@babel/helpers - typeof";return _S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_S(t)}function the(t){return ahe(t)||she(t)||nhe(t)||rhe()}function rhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nhe(t,r){if(t){if(typeof t=="string")return lD(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lD(t,r)}}function lD(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function she(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ahe(t){if(Array.isArray(t))return t}function ihe(){var t={},r=function(){return null},n=!1,s=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=the(o),d=l[0],u=l.slice(1);if(typeof d=="number"){oD(a.bind(null,u),d);return}a(d),oD(a.bind(null,u));return}_S(i)==="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,s(i)},subscribe:function(i){return r=i,function(){r=function(){return null}}}}}function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dm(t)}function cD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function dD(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?cD(Object(n),!0).forEach(function(s){o6(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function o6(t,r,n){return r=ohe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ohe(t){var r=lhe(t,"string");return dm(r)==="symbol"?r:String(r)}function lhe(t,r){if(dm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(dm(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var che=function(r,n){return[Object.keys(r),Object.keys(n)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},dhe=function(r){return r},uhe=function(r){return r.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Nh=function(r,n){return Object.keys(n).reduce(function(s,a){return dD(dD({},s),{},o6({},a,r(a,n[a])))},{})},uD=function(r,n,s){return r.map(function(a){return"".concat(uhe(a)," ").concat(n,"ms ").concat(s)}).join(",")};function hhe(t,r){return phe(t)||fhe(t,r)||l6(t,r)||mhe()}function mhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fhe(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);d=!0);}catch(f){u=!0,a=f}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function phe(t){if(Array.isArray(t))return t}function vhe(t){return yhe(t)||ghe(t)||l6(t)||xhe()}function xhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l6(t,r){if(t){if(typeof t=="string")return RS(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RS(t,r)}}function ghe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yhe(t){if(Array.isArray(t))return RS(t)}function RS(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}var Wv=1e-4,c6=function(r,n){return[0,3*r,3*n-6*r,3*r-3*n+1]},d6=function(r,n){return r.map(function(s,a){return s*Math.pow(n,a)}).reduce(function(s,a){return s+a})},hD=function(r,n){return function(s){var a=c6(r,n);return d6(a,s)}},bhe=function(r,n){return function(s){var a=c6(r,n),i=[].concat(vhe(a.map(function(o,l){return o*l}).slice(1)),[0]);return d6(i,s)}},mD=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var u=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=hhe(u,4);a=f[0],i=f[1],o=f[2],l=f[3]}}}var m=hD(a,o),v=hD(i,l),g=bhe(a,o),b=function(A){return A>1?1:A<0?0:A},x=function(A){for(var E=A>1?1:A,C=E,w=0;w<8;++w){var k=m(C)-E,S=g(C);if(Math.abs(k-E)<Wv||S<Wv)return v(C);C=b(C-k/S)}return v(C)};return x.isStepper=!1,x},jhe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.stiff,s=n===void 0?100:n,a=r.damping,i=a===void 0?8:a,o=r.dt,l=o===void 0?17:o,d=function(f,m,v){var g=-(f-m)*s,b=v*i,x=v+(g-b)*l/1e3,y=v*l/1e3+f;return Math.abs(y-m)<Wv&&Math.abs(x)<Wv?[m,0]:[y,x]};return d.isStepper=!0,d.dt=l,d},whe=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mD(a);case"spring":return jhe();default:if(a.split("(")[0]==="cubic-bezier")return mD(a)}return typeof a=="function"?a:null};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},um(t)}function fD(t){return khe(t)||She(t)||u6(t)||Nhe()}function Nhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function She(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function khe(t){if(Array.isArray(t))return PS(t)}function pD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function gn(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?pD(Object(n),!0).forEach(function(s){TS(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function TS(t,r,n){return r=Che(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Che(t){var r=Ahe(t,"string");return um(r)==="symbol"?r:String(r)}function Ahe(t,r){if(um(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(um(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ehe(t,r){return The(t)||Rhe(t,r)||u6(t,r)||_he()}function _he(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u6(t,r){if(t){if(typeof t=="string")return PS(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PS(t,r)}}function PS(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Rhe(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);d=!0);}catch(f){u=!0,a=f}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function The(t){if(Array.isArray(t))return t}var Uv=function(r,n,s){return r+(n-r)*s},OS=function(r){var n=r.from,s=r.to;return n!==s},Phe=function t(r,n,s){var a=Nh(function(i,o){if(OS(o)){var l=r(o.from,o.to,o.velocity),d=Ehe(l,2),u=d[0],f=d[1];return gn(gn({},o),{},{from:u,velocity:f})}return o},n);return s<1?Nh(function(i,o){return OS(o)?gn(gn({},o),{},{velocity:Uv(o.velocity,a[i].velocity,s),from:Uv(o.from,a[i].from,s)}):o},n):t(r,a,s-1)};const Ohe=(function(t,r,n,s,a){var i=che(t,r),o=i.reduce(function(y,A){return gn(gn({},y),{},TS({},A,[t[A],r[A]]))},{}),l=i.reduce(function(y,A){return gn(gn({},y),{},TS({},A,{from:t[A],velocity:0,to:r[A]}))},{}),d=-1,u,f,m=function(){return null},v=function(){return Nh(function(A,E){return E.from},l)},g=function(){return!Object.values(l).filter(OS).length},b=function(A){u||(u=A);var E=A-u,C=E/n.dt;l=Phe(n,l,C),a(gn(gn(gn({},t),r),v())),u=A,g()||(d=requestAnimationFrame(m))},x=function(A){f||(f=A);var E=(A-f)/s,C=Nh(function(k,S){return Uv.apply(void 0,fD(S).concat([n(E)]))},o);if(a(gn(gn(gn({},t),r),C)),E<1)d=requestAnimationFrame(m);else{var w=Nh(function(k,S){return Uv.apply(void 0,fD(S).concat([n(1)]))},o);a(gn(gn(gn({},t),r),w))}};return m=n.isStepper?b:x,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fd(t)}var Ihe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Dhe(t,r){if(t==null)return{};var n=Mhe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Mhe(t,r){if(t==null)return{};var n={},s=Object.keys(t),a,i;for(i=0;i<s.length;i++)a=s[i],!(r.indexOf(a)>=0)&&(n[a]=t[a]);return n}function S1(t){return Fhe(t)||$he(t)||zhe(t)||Lhe()}function Lhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zhe(t,r){if(t){if(typeof t=="string")return IS(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IS(t,r)}}function $he(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fhe(t){if(Array.isArray(t))return IS(t)}function IS(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function vD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function ia(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?vD(Object(n),!0).forEach(function(s){fh(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function fh(t,r,n){return r=h6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Bhe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Whe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,h6(s.key),s)}}function Uhe(t,r,n){return r&&Whe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h6(t){var r=qhe(t,"string");return fd(r)==="symbol"?r:String(r)}function qhe(t,r){if(fd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(fd(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Hhe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&DS(t,r)}function DS(t,r){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},DS(t,r)}function Vhe(t){var r=Ghe();return function(){var s=qv(t),a;if(r){var i=qv(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return MS(this,a)}}function MS(t,r){if(r&&(fd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LS(t)}function LS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ghe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}var Za=(function(t){Hhe(n,t);var r=Vhe(n);function n(s,a){var i;Bhe(this,n),i=r.call(this,s,a);var o=i.props,l=o.isActive,d=o.attributeName,u=o.from,f=o.to,m=o.steps,v=o.children,g=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(LS(i)),i.changeStyle=i.changeStyle.bind(LS(i)),!l||g<=0)return i.state={style:{}},typeof v=="function"&&(i.state={style:f}),MS(i);if(m&&m.length)i.state={style:m[0].style};else if(u){if(typeof v=="function")return i.state={style:u},MS(i);i.state={style:d?fh({},d,u):u}}else i.state={style:{}};return i}return Uhe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,d=i.attributeName,u=i.shouldReAnimate,f=i.to,m=i.from,v=this.state.style;if(l){if(!o){var g={style:d?fh({},d,f):f};this.state&&v&&(d&&v[d]!==f||!d&&v!==f)&&this.setState(g);return}if(!(Que(a.to,f)&&a.canBegin&&a.isActive)){var b=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=b||u?m:a.to;if(this.state&&v){var y={style:d?fh({},d,x):x};(d&&v[d]!==x||!d&&v!==x)&&this.setState(y)}this.runAnimation(ia(ia({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,d=a.duration,u=a.easing,f=a.begin,m=a.onAnimationEnd,v=a.onAnimationStart,g=Ohe(o,l,whe(u),d,this.changeStyle),b=function(){i.stopJSAnimation=g()};this.manager.start([v,f,b,d,m])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,d=a.onAnimationStart,u=o[0],f=u.style,m=u.duration,v=m===void 0?0:m,g=function(x,y,A){if(A===0)return x;var E=y.duration,C=y.easing,w=C===void 0?"ease":C,k=y.style,S=y.properties,R=y.onAnimationEnd,T=A>0?o[A-1]:y,O=S||Object.keys(k);if(typeof w=="function"||w==="spring")return[].concat(S1(x),[i.runJSAnimation.bind(i,{from:T.style,to:k,duration:E,easing:w}),E]);var U=uD(O,E,w),D=ia(ia(ia({},T.style),k),{},{transition:U});return[].concat(S1(x),[D,E,R]).filter(dhe)};return this.manager.start([d].concat(S1(o.reduce(g,[f,Math.max(v,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=ihe());var i=a.begin,o=a.duration,l=a.attributeName,d=a.to,u=a.easing,f=a.onAnimationStart,m=a.onAnimationEnd,v=a.steps,g=a.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(a);return}if(v.length>1){this.runStepAnimation(a);return}var x=l?fh({},l,d):d,y=uD(Object.keys(x),o,u);b.start([f,i,ia(ia({},x),{},{transition:y}),o,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=Dhe(a,Ihe),u=j.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var m=function(g){var b=g.props,x=b.style,y=x===void 0?{}:x,A=b.className,E=j.cloneElement(g,ia(ia({},d),{},{style:ia(ia({},y),f),className:A}));return E};return u===1?m(j.Children.only(i)):$.createElement("div",null,j.Children.map(i,function(v){return m(v)}))}}]),n})(j.PureComponent);Za.displayName="Animate";Za.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Za.propTypes={from:Ot.oneOfType([Ot.object,Ot.string]),to:Ot.oneOfType([Ot.object,Ot.string]),attributeName:Ot.string,duration:Ot.number,begin:Ot.number,easing:Ot.oneOfType([Ot.string,Ot.func]),steps:Ot.arrayOf(Ot.shape({duration:Ot.number.isRequired,style:Ot.object.isRequired,easing:Ot.oneOfType([Ot.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ot.func]),properties:Ot.arrayOf("string"),onAnimationEnd:Ot.func})),children:Ot.oneOfType([Ot.node,Ot.func]),isActive:Ot.bool,canBegin:Ot.bool,onAnimationEnd:Ot.func,shouldReAnimate:Ot.bool,onAnimationStart:Ot.func,onAnimationReStart:Ot.func};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hm(t)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Hv.apply(this,arguments)}function Khe(t,r){return Xhe(t)||Zhe(t,r)||Yhe(t,r)||Jhe()}function Jhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yhe(t,r){if(t){if(typeof t=="string")return xD(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xD(t,r)}}function xD(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Zhe(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);d=!0);}catch(f){u=!0,a=f}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Xhe(t){if(Array.isArray(t))return t}function gD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function yD(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?gD(Object(n),!0).forEach(function(s){Qhe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Qhe(t,r,n){return r=eme(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function eme(t){var r=tme(t,"string");return hm(r)=="symbol"?r:r+""}function tme(t,r){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(hm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var bD=function(r,n,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,d=s>=0?1:-1,u=a>=0&&s>=0||a<0&&s<0?1:0,f;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],v=0,g=4;v<g;v++)m[v]=i[v]>o?o:i[v];f="M".concat(r,",").concat(n+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(r+d*m[0],",").concat(n)),f+="L ".concat(r+s-d*m[1],",").concat(n),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(r+s,",").concat(n+l*m[1])),f+="L ".concat(r+s,",").concat(n+a-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(r+s-d*m[2],",").concat(n+a)),f+="L ".concat(r+d*m[3],",").concat(n+a),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(r,",").concat(n+a-l*m[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);f="M ".concat(r,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(r+d*b,",").concat(n,`
            L `).concat(r+s-d*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(r+s,",").concat(n+l*b,`
            L `).concat(r+s,",").concat(n+a-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(r+s-d*b,",").concat(n+a,`
            L `).concat(r+d*b,",").concat(n+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(r,",").concat(n+a-l*b," Z")}else f="M ".concat(r,",").concat(n," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return f},rme=function(r,n){if(!r||!n)return!1;var s=r.x,a=r.y,i=n.x,o=n.y,l=n.width,d=n.height;if(Math.abs(l)>0&&Math.abs(d)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),m=Math.min(o,o+d),v=Math.max(o,o+d);return s>=u&&s<=f&&a>=m&&a<=v}return!1},nme={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},e2=function(r){var n=yD(yD({},nme),r),s=j.useRef(),a=j.useState(-1),i=Khe(a,2),o=i[0],l=i[1];j.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var w=s.current.getTotalLength();w&&l(w)}catch{}},[]);var d=n.x,u=n.y,f=n.width,m=n.height,v=n.radius,g=n.className,b=n.animationEasing,x=n.animationDuration,y=n.animationBegin,A=n.isAnimationActive,E=n.isUpdateAnimationActive;if(d!==+d||u!==+u||f!==+f||m!==+m||f===0||m===0)return null;var C=yt("recharts-rectangle",g);return E?$.createElement(Za,{canBegin:o>0,from:{width:f,height:m,x:d,y:u},to:{width:f,height:m,x:d,y:u},duration:x,animationEasing:b,isActive:E},function(w){var k=w.width,S=w.height,R=w.x,T=w.y;return $.createElement(Za,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:A,easing:b},$.createElement("path",Hv({},ut(n,!0),{className:C,d:bD(R,T,k,S,v),ref:s})))}):$.createElement("path",Hv({},ut(n,!0),{className:C,d:bD(d,u,f,m,v)}))};function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},zS.apply(this,arguments)}var sg=function(r){var n=r.cx,s=r.cy,a=r.r,i=r.className,o=yt("recharts-dot",i);return n===+n&&s===+s&&a===+a?j.createElement("circle",zS({},ut(r,!1),hv(r),{className:o,cx:n,cy:s,r:a})):null};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mm(t)}var sme=["x","y","top","left","width","height","className"];function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},$S.apply(this,arguments)}function jD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function ame(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?jD(Object(n),!0).forEach(function(s){ime(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ime(t,r,n){return r=ome(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ome(t){var r=lme(t,"string");return mm(r)=="symbol"?r:r+""}function lme(t,r){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(mm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function cme(t,r){if(t==null)return{};var n=dme(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function dme(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var ume=function(r,n,s,a,i,o){return"M".concat(r,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(s)},hme=function(r){var n=r.x,s=n===void 0?0:n,a=r.y,i=a===void 0?0:a,o=r.top,l=o===void 0?0:o,d=r.left,u=d===void 0?0:d,f=r.width,m=f===void 0?0:f,v=r.height,g=v===void 0?0:v,b=r.className,x=cme(r,sme),y=ame({x:s,y:i,top:l,left:u,width:m,height:g},x);return!Oe(s)||!Oe(i)||!Oe(m)||!Oe(g)||!Oe(l)||!Oe(u)?null:$.createElement("path",$S({},ut(y,!0),{className:yt("recharts-cross",b),d:ume(s,i,m,g,l,u)}))},k1,wD;function mme(){if(wD)return k1;wD=1;var t=Pz(),r=t(Object.getPrototypeOf,Object);return k1=r,k1}var C1,ND;function fme(){if(ND)return C1;ND=1;var t=Fi(),r=mme(),n=Bi(),s="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,d=o.call(Object);function u(f){if(!n(f)||t(f)!=s)return!1;var m=r(f);if(m===null)return!0;var v=l.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==d}return C1=u,C1}var pme=fme();const vme=Ft(pme);var A1,SD;function xme(){if(SD)return A1;SD=1;var t=Fi(),r=Bi(),n="[object Boolean]";function s(a){return a===!0||a===!1||r(a)&&t(a)==n}return A1=s,A1}var gme=xme();const yme=Ft(gme);function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fm(t)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Vv.apply(this,arguments)}function bme(t,r){return Sme(t)||Nme(t,r)||wme(t,r)||jme()}function jme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wme(t,r){if(t){if(typeof t=="string")return kD(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kD(t,r)}}function kD(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Nme(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);d=!0);}catch(f){u=!0,a=f}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Sme(t){if(Array.isArray(t))return t}function CD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function AD(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?CD(Object(n),!0).forEach(function(s){kme(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function kme(t,r,n){return r=Cme(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Cme(t){var r=Ame(t,"string");return fm(r)=="symbol"?r:r+""}function Ame(t,r){if(fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(fm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var ED=function(r,n,s,a,i){var o=s-a,l;return l="M ".concat(r,",").concat(n),l+="L ".concat(r+s,",").concat(n),l+="L ".concat(r+s-o/2,",").concat(n+i),l+="L ".concat(r+s-o/2-a,",").concat(n+i),l+="L ".concat(r,",").concat(n," Z"),l},Eme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_me=function(r){var n=AD(AD({},Eme),r),s=j.useRef(),a=j.useState(-1),i=bme(a,2),o=i[0],l=i[1];j.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var C=s.current.getTotalLength();C&&l(C)}catch{}},[]);var d=n.x,u=n.y,f=n.upperWidth,m=n.lowerWidth,v=n.height,g=n.className,b=n.animationEasing,x=n.animationDuration,y=n.animationBegin,A=n.isUpdateAnimationActive;if(d!==+d||u!==+u||f!==+f||m!==+m||v!==+v||f===0&&m===0||v===0)return null;var E=yt("recharts-trapezoid",g);return A?$.createElement(Za,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:u},to:{upperWidth:f,lowerWidth:m,height:v,x:d,y:u},duration:x,animationEasing:b,isActive:A},function(C){var w=C.upperWidth,k=C.lowerWidth,S=C.height,R=C.x,T=C.y;return $.createElement(Za,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:b},$.createElement("path",Vv({},ut(n,!0),{className:E,d:ED(R,T,w,k,S),ref:s})))}):$.createElement("g",null,$.createElement("path",Vv({},ut(n,!0),{className:E,d:ED(d,u,f,m,v)})))},Rme=["option","shapeType","propTransformer","activeClassName","isActive"];function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pm(t)}function Tme(t,r){if(t==null)return{};var n=Pme(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Pme(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function _D(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Gv(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?_D(Object(n),!0).forEach(function(s){Ome(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Ome(t,r,n){return r=Ime(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Ime(t){var r=Dme(t,"string");return pm(r)=="symbol"?r:r+""}function Dme(t,r){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(pm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Mme(t,r){return Gv(Gv({},r),t)}function Lme(t,r){return t==="symbols"}function RD(t){var r=t.shapeType,n=t.elementProps;switch(r){case"rectangle":return $.createElement(e2,n);case"trapezoid":return $.createElement(_me,n);case"sector":return $.createElement(a6,n);case"symbols":if(Lme(r))return $.createElement(yC,n);break;default:return null}}function zme(t){return j.isValidElement(t)?t.props:t}function $me(t){var r=t.option,n=t.shapeType,s=t.propTransformer,a=s===void 0?Mme:s,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,d=Tme(t,Rme),u;if(j.isValidElement(r))u=j.cloneElement(r,Gv(Gv({},d),zme(r)));else if(dt(r))u=r(d);else if(vme(r)&&!yme(r)){var f=a(r,d);u=$.createElement(RD,{shapeType:n,elementProps:f})}else{var m=d;u=$.createElement(RD,{shapeType:n,elementProps:m})}return l?$.createElement(Xt,{className:o},u):u}function ag(t,r){return r!=null&&"trapezoids"in t.props}function ig(t,r){return r!=null&&"sectors"in t.props}function vm(t,r){return r!=null&&"points"in t.props}function Fme(t,r){var n,s,a=t.x===(r==null||(n=r.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===r.x,i=t.y===(r==null||(s=r.labelViewBox)===null||s===void 0?void 0:s.y)||t.y===r.y;return a&&i}function Bme(t,r){var n=t.endAngle===r.endAngle,s=t.startAngle===r.startAngle;return n&&s}function Wme(t,r){var n=t.x===r.x,s=t.y===r.y,a=t.z===r.z;return n&&s&&a}function Ume(t,r){var n;return ag(t,r)?n=Fme:ig(t,r)?n=Bme:vm(t,r)&&(n=Wme),n}function qme(t,r){var n;return ag(t,r)?n="trapezoids":ig(t,r)?n="sectors":vm(t,r)&&(n="points"),n}function Hme(t,r){if(ag(t,r)){var n;return(n=r.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ig(t,r)){var s;return(s=r.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return vm(t,r)?r.payload:{}}function Vme(t){var r=t.activeTooltipItem,n=t.graphicalItem,s=t.itemData,a=qme(n,r),i=Hme(n,r),o=s.filter(function(d,u){var f=hd(i,d),m=n.props[a].filter(function(b){var x=Ume(n,r);return x(b,r)}),v=n.props[a].indexOf(m[m.length-1]),g=u===v;return f&&g}),l=s.indexOf(o[o.length-1]);return l}var E1,TD;function Gme(){if(TD)return E1;TD=1;var t=Math.ceil,r=Math.max;function n(s,a,i,o){for(var l=-1,d=r(t((a-s)/(i||1)),0),u=Array(d);d--;)u[o?d:++l]=s,s+=i;return u}return E1=n,E1}var _1,PD;function m6(){if(PD)return _1;PD=1;var t=Kz(),r=1/0,n=17976931348623157e292;function s(a){if(!a)return a===0?a:0;if(a=t(a),a===r||a===-r){var i=a<0?-1:1;return i*n}return a===a?a:0}return _1=s,_1}var R1,OD;function Kme(){if(OD)return R1;OD=1;var t=Gme(),r=Kx(),n=m6();function s(a){return function(i,o,l){return l&&typeof l!="number"&&r(i,o,l)&&(o=l=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),l=l===void 0?i<o?1:-1:n(l),t(i,o,l,a)}}return R1=s,R1}var T1,ID;function Jme(){if(ID)return T1;ID=1;var t=Kme(),r=t();return T1=r,T1}var Yme=Jme();const Kv=Ft(Yme);function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xm(t)}function DD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function MD(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?DD(Object(n),!0).forEach(function(s){f6(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function f6(t,r,n){return r=Zme(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Zme(t){var r=Xme(t,"string");return xm(r)=="symbol"?r:r+""}function Xme(t,r){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(xm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Qme=["Webkit","Moz","O","ms"],efe=function(r,n){var s=r.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Qme.reduce(function(i,o){return MD(MD({},i),{},f6({},o+s,n))},{});return a[r]=n,a};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pd(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Jv.apply(this,arguments)}function LD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function P1(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?LD(Object(n),!0).forEach(function(s){fs(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function tfe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function zD(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,v6(s.key),s)}}function rfe(t,r,n){return r&&zD(t.prototype,r),n&&zD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nfe(t,r,n){return r=Yv(r),sfe(t,p6()?Reflect.construct(r,n||[],Yv(t).constructor):r.apply(t,n))}function sfe(t,r){if(r&&(pd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return afe(t)}function afe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p6=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(t)}function ife(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&FS(t,r)}function FS(t,r){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},FS(t,r)}function fs(t,r,n){return r=v6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function v6(t){var r=ofe(t,"string");return pd(r)=="symbol"?r:r+""}function ofe(t,r){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(pd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lfe=function(r){var n=r.data,s=r.startIndex,a=r.endIndex,i=r.x,o=r.width,l=r.travellerWidth;if(!n||!n.length)return{};var d=n.length,u=jh().domain(Kv(0,d)).range([i,i+o-l]),f=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(a),scale:u,scaleValues:f}},$D=function(r){return r.changedTouches&&!!r.changedTouches.length},vd=(function(t){function r(n){var s;return tfe(this,r),s=nfe(this,r,[n]),fs(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),fs(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),fs(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),fs(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),fs(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),fs(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),fs(s,"handleSlideDragStart",function(a){var i=$D(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return ife(r,t),rfe(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,d=l.gap,u=l.data,f=u.length-1,m=Math.min(a,i),v=Math.max(a,i),g=r.getIndexInRange(o,m),b=r.getIndexInRange(o,v);return{startIndex:g-g%d,endIndex:b===f?f:b-b%d}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,d=Un(i[s],l,s);return dt(o)?o(d,s):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,d=this.props,u=d.x,f=d.width,m=d.travellerWidth,v=d.startIndex,g=d.endIndex,b=d.onChange,x=s.pageX-i;x>0?x=Math.min(x,u+f-m-l,u+f-m-o):x<0&&(x=Math.max(x,u-o,u-l));var y=this.getIndex({startX:o+x,endX:l+x});(y.startIndex!==v||y.endIndex!==g)&&b&&b(y),this.setState({startX:o+x,endX:l+x,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=$D(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,d=a.startX,u=this.state[o],f=this.props,m=f.x,v=f.width,g=f.travellerWidth,b=f.onChange,x=f.gap,y=f.data,A={startX:this.state.startX,endX:this.state.endX},E=s.pageX-i;E>0?E=Math.min(E,m+v-g-u):E<0&&(E=Math.max(E,m-u)),A[o]=u+E;var C=this.getIndex(A),w=C.startIndex,k=C.endIndex,S=function(){var T=y.length-1;return o==="startX"&&(l>d?w%x===0:k%x===0)||l<d&&k===T||o==="endX"&&(l>d?k%x===0:w%x===0)||l>d&&k===T};this.setState(fs(fs({},o,u+E),"brushMoveStartX",s.pageX),function(){b&&S()&&b(C)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,d=o.startX,u=o.endX,f=this.state[a],m=l.indexOf(f);if(m!==-1){var v=m+s;if(!(v===-1||v>=l.length)){var g=l[v];a==="startX"&&g>=u||a==="endX"&&g<=d||this.setState(fs({},a,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,d=s.fill,u=s.stroke;return $.createElement("rect",{stroke:u,fill:d,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,d=s.data,u=s.children,f=s.padding,m=j.Children.only(u);return m?$.cloneElement(m,{x:a,y:i,width:o,height:l,margin:f,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,d=this.props,u=d.y,f=d.travellerWidth,m=d.height,v=d.traveller,g=d.ariaLabel,b=d.data,x=d.startIndex,y=d.endIndex,A=Math.max(s,this.props.x),E=P1(P1({},ut(this.props,!1)),{},{x:A,y:u,width:f,height:m}),C=g||"Min value: ".concat((i=b[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=b[y])===null||o===void 0?void 0:o.name);return $.createElement(Xt,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),l.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(v,E))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,d=i.stroke,u=i.travellerWidth,f=Math.min(s,a)+u,m=Math.max(Math.abs(a-s)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:f,y:o,width:m,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,d=s.travellerWidth,u=s.stroke,f=this.state,m=f.startX,v=f.endX,g=5,b={pointerEvents:"none",fill:u};return $.createElement(Xt,{className:"recharts-brush-texts"},$.createElement(Sv,Jv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-g,y:o+l/2},b),this.getTextOfTick(a)),$.createElement(Sv,Jv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+d+g,y:o+l/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,d=s.y,u=s.width,f=s.height,m=s.alwaysShowText,v=this.state,g=v.startX,b=v.endX,x=v.isTextActive,y=v.isSlideMoving,A=v.isTravellerMoving,E=v.isTravellerFocused;if(!a||!a.length||!Oe(l)||!Oe(d)||!Oe(u)||!Oe(f)||u<=0||f<=0)return null;var C=yt("recharts-brush",i),w=$.Children.count(o)===1,k=efe("userSelect","none");return $.createElement(Xt,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(g,b),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(b,"endX"),(x||y||A||E||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,d=s.stroke,u=Math.floor(i+l/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:a,y:i,width:o,height:l,fill:d,stroke:"none"}),$.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return $.isValidElement(s)?i=$.cloneElement(s,a):dt(s)?i=s(a):i=r.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,d=s.travellerWidth,u=s.updateId,f=s.startIndex,m=s.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return P1({prevData:i,prevTravellerWidth:d,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?lfe({data:i,width:o,x:l,travellerWidth:d,startIndex:f,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([l,l+o-d]);var v=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var d=Math.floor((o+l)/2);s[d]>a?l=d:o=d}return a>=s[l]?l:o}}])})(j.PureComponent);fs(vd,"displayName","Brush");fs(vd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var O1,FD;function cfe(){if(FD)return O1;FD=1;var t=CC();function r(n,s){var a;return t(n,function(i,o,l){return a=s(i,o,l),!a}),!!a}return O1=r,O1}var I1,BD;function dfe(){if(BD)return I1;BD=1;var t=kz(),r=Fo(),n=cfe(),s=ss(),a=Kx();function i(o,l,d){var u=s(o)?t:n;return d&&a(o,l,d)&&(l=void 0),u(o,r(l,3))}return I1=i,I1}var ufe=dfe();const hfe=Ft(ufe);var qa=function(r,n){var s=r.alwaysShow,a=r.ifOverflow;return s&&(a="extendDomain"),a===n},D1,WD;function mfe(){if(WD)return D1;WD=1;var t=Uz();function r(n,s,a){s=="__proto__"&&t?t(n,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[s]=a}return D1=r,D1}var M1,UD;function ffe(){if(UD)return M1;UD=1;var t=mfe(),r=Bz(),n=Fo();function s(a,i){var o={};return i=n(i,3),r(a,function(l,d,u){t(o,d,i(l,d,u))}),o}return M1=s,M1}var pfe=ffe();const vfe=Ft(pfe);var L1,qD;function xfe(){if(qD)return L1;qD=1;function t(r,n){for(var s=-1,a=r==null?0:r.length;++s<a;)if(!n(r[s],s,r))return!1;return!0}return L1=t,L1}var z1,HD;function gfe(){if(HD)return z1;HD=1;var t=CC();function r(n,s){var a=!0;return t(n,function(i,o,l){return a=!!s(i,o,l),a}),a}return z1=r,z1}var $1,VD;function yfe(){if(VD)return $1;VD=1;var t=xfe(),r=gfe(),n=Fo(),s=ss(),a=Kx();function i(o,l,d){var u=s(o)?t:r;return d&&a(o,l,d)&&(l=void 0),u(o,n(l,3))}return $1=i,$1}var bfe=yfe();const x6=Ft(bfe);var jfe=["x","y"];function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gm(t)}function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},BS.apply(this,arguments)}function GD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function th(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?GD(Object(n),!0).forEach(function(s){wfe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function wfe(t,r,n){return r=Nfe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Nfe(t){var r=Sfe(t,"string");return gm(r)=="symbol"?r:r+""}function Sfe(t,r){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(gm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function kfe(t,r){if(t==null)return{};var n=Cfe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Cfe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Afe(t,r){var n=t.x,s=t.y,a=kfe(t,jfe),i="".concat(n),o=parseInt(i,10),l="".concat(s),d=parseInt(l,10),u="".concat(r.height||a.height),f=parseInt(u,10),m="".concat(r.width||a.width),v=parseInt(m,10);return th(th(th(th(th({},r),a),o?{x:o}:{}),d?{y:d}:{}),{},{height:f,width:v,name:r.name,radius:r.radius})}function KD(t){return $.createElement($me,BS({shapeType:"rectangle",propTransformer:Afe,activeClassName:"recharts-active-bar"},t))}var Efe=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof r=="number")return r;var i=Oe(s)||zte(s);return i?r(s,a):(i||Pl(),n)}},_fe=["value","background"],g6;function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xd(t)}function Rfe(t,r){if(t==null)return{};var n=Tfe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Tfe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Zv.apply(this,arguments)}function JD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function _r(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?JD(Object(n),!0).forEach(function(s){jo(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Pfe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function YD(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,b6(s.key),s)}}function Ofe(t,r,n){return r&&YD(t.prototype,r),n&&YD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ife(t,r,n){return r=Xv(r),Dfe(t,y6()?Reflect.construct(r,n||[],Xv(t).constructor):r.apply(t,n))}function Dfe(t,r){if(r&&(xd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mfe(t)}function Mfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y6=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xv(t)}function Lfe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&WS(t,r)}function WS(t,r){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},WS(t,r)}function jo(t,r,n){return r=b6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function b6(t){var r=zfe(t,"string");return xd(r)=="symbol"?r:r+""}function zfe(t,r){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(xd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wa=(function(t){function r(){var n;Pfe(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Ife(this,r,[].concat(a)),jo(n,"state",{isAnimationFinished:!1}),jo(n,"id",Qd("recharts-bar-")),jo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),jo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Lfe(r,t),Ofe(r,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,d=i.activeIndex,u=i.activeBar,f=ut(this.props,!1);return s&&s.map(function(m,v){var g=v===d,b=g?u:o,x=_r(_r(_r({},f),m),{},{isActive:g,option:b,index:v,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return $.createElement(Xt,Zv({className:"recharts-bar-rectangle"},mv(a.props,m,v),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(v)}),$.createElement(KD,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,d=a.animationBegin,u=a.animationDuration,f=a.animationEasing,m=a.animationId,v=this.state.prevData;return $.createElement(Za,{begin:d,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var b=g.t,x=i.map(function(y,A){var E=v&&v[A];if(E){var C=bn(E.x,y.x),w=bn(E.y,y.y),k=bn(E.width,y.width),S=bn(E.height,y.height);return _r(_r({},y),{},{x:C(b),y:w(b),width:k(b),height:S(b)})}if(o==="horizontal"){var R=bn(0,y.height),T=R(b);return _r(_r({},y),{},{y:y.y+y.height-T,height:T})}var O=bn(0,y.width),U=O(b);return _r(_r({},y),{},{width:U})});return $.createElement(Xt,null,s.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!hd(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,d=ut(this.props.background,!1);return i.map(function(u,f){u.value;var m=u.background,v=Rfe(u,_fe);if(!m)return null;var g=_r(_r(_r(_r(_r({},v),{},{fill:"#eee"},m),d),mv(s.props,u,f)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return $.createElement(KD,Zv({key:"background-bar-".concat(f),option:s.props.background,isActive:f===l},g))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,d=i.yAxis,u=i.layout,f=i.children,m=Us(f,Vm);if(!m)return null;var v=u==="vertical"?o[0].height/2:o[0].width/2,g=function(y,A){var E=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:E,errorVal:Un(y,A)}},b={clipPath:s?"url(#clipPath-".concat(a,")"):null};return $.createElement(Xt,b,m.map(function(x){return $.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:d,layout:u,offset:v,dataPointFormatter:g})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,d=s.yAxis,u=s.left,f=s.top,m=s.width,v=s.height,g=s.isAnimationActive,b=s.background,x=s.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,A=yt("recharts-bar",o),E=l&&l.allowDataOverflow,C=d&&d.allowDataOverflow,w=E||C,k=mt(x)?this.id:x;return $.createElement(Xt,{className:A},E||C?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(k)},$.createElement("rect",{x:E?u:u-m/2,y:C?f:f-v/2,width:E?m:m*2,height:C?v:v*2}))):null,$.createElement(Xt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(k,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,k),(!g||y)&&Ni.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])})(j.PureComponent);g6=wa;jo(wa,"displayName","Bar");jo(wa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ql.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});jo(wa,"getComposedData",function(t){var r=t.props,n=t.item,s=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,d=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,m=t.displayedData,v=t.offset,g=rde(s,n);if(!g)return null;var b=r.layout,x=n.type.defaultProps,y=x!==void 0?_r(_r({},x),n.props):n.props,A=y.dataKey,E=y.children,C=y.minPointSize,w=b==="horizontal"?o:i,k=u?w.scale.domain():null,S=dde({numericAxis:w}),R=Us(E,Yz),T=m.map(function(O,U){var D,I,B,M,W,V;u?D=nde(u[f+U],k):(D=Un(O,A),Array.isArray(D)||(D=[S,D]));var Q=Efe(C,g6.defaultProps.minPointSize)(D[1],U);if(b==="horizontal"){var H,X=[o.scale(D[0]),o.scale(D[1])],K=X[0],z=X[1];I=OI({axis:i,ticks:l,bandSize:a,offset:g.offset,entry:O,index:U}),B=(H=z??K)!==null&&H!==void 0?H:void 0,M=g.size;var q=K-z;if(W=Number.isNaN(q)?0:q,V={x:I,y:o.y,width:M,height:o.height},Math.abs(Q)>0&&Math.abs(W)<Math.abs(Q)){var ee=ma(W||Q)*(Math.abs(Q)-Math.abs(W));B-=ee,W+=ee}}else{var oe=[i.scale(D[0]),i.scale(D[1])],ce=oe[0],ye=oe[1];if(I=ce,B=OI({axis:o,ticks:d,bandSize:a,offset:g.offset,entry:O,index:U}),M=ye-ce,W=g.size,V={x:i.x,y:B,width:i.width,height:W},Math.abs(Q)>0&&Math.abs(M)<Math.abs(Q)){var de=ma(M||Q)*(Math.abs(Q)-Math.abs(M));M+=de}}return _r(_r(_r({},O),{},{x:I,y:B,width:M,height:W,value:u?D:D[1],payload:O,background:V},R&&R[U]&&R[U].props),{},{tooltipPayload:[r6(n,O)],tooltipPosition:{x:I+M/2,y:B+W/2}})});return _r({data:T,layout:b},v)});function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ym(t)}function $fe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ZD(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,j6(s.key),s)}}function Ffe(t,r,n){return r&&ZD(t.prototype,r),n&&ZD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function da(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?XD(Object(n),!0).forEach(function(s){og(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function og(t,r,n){return r=j6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function j6(t){var r=Bfe(t,"string");return ym(r)=="symbol"?r:r+""}function Bfe(t,r){if(ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(ym(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var t2=function(r,n,s,a,i){var o=r.width,l=r.height,d=r.layout,u=r.children,f=Object.keys(n),m={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},v=!!ps(u,wa);return f.reduce(function(g,b){var x=n[b],y=x.orientation,A=x.domain,E=x.padding,C=E===void 0?{}:E,w=x.mirror,k=x.reversed,S="".concat(y).concat(w?"Mirror":""),R,T,O,U,D;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var I=A[1]-A[0],B=1/0,M=x.categoricalDomain.sort(Bte);if(M.forEach(function(oe,ce){ce>0&&(B=Math.min((oe||0)-(M[ce-1]||0),B))}),Number.isFinite(B)){var W=B/I,V=x.layout==="vertical"?s.height:s.width;if(x.padding==="gap"&&(R=W*V/2),x.padding==="no-gap"){var Q=Rl(r.barCategoryGap,W*V),H=W*V/2;R=H-Q-(H-Q)/V*Q}}}a==="xAxis"?T=[s.left+(C.left||0)+(R||0),s.left+s.width-(C.right||0)-(R||0)]:a==="yAxis"?T=d==="horizontal"?[s.top+s.height-(C.bottom||0),s.top+(C.top||0)]:[s.top+(C.top||0)+(R||0),s.top+s.height-(C.bottom||0)-(R||0)]:T=x.range,k&&(T=[T[1],T[0]]);var X=ede(x,i,v),K=X.scale,z=X.realScaleType;K.domain(A).range(T),tde(K);var q=cde(K,da(da({},x),{},{realScaleType:z}));a==="xAxis"?(D=y==="top"&&!w||y==="bottom"&&w,O=s.left,U=m[S]-D*x.height):a==="yAxis"&&(D=y==="left"&&!w||y==="right"&&w,O=m[S]-D*x.width,U=s.top);var ee=da(da(da({},x),q),{},{realScaleType:z,x:O,y:U,scale:K,width:a==="xAxis"?s.width:x.width,height:a==="yAxis"?s.height:x.height});return ee.bandSize=$v(ee,q),!x.hide&&a==="xAxis"?m[S]+=(D?-1:1)*ee.height:x.hide||(m[S]+=(D?-1:1)*ee.width),da(da({},g),{},og({},b,ee))},{})},w6=function(r,n){var s=r.x,a=r.y,i=n.x,o=n.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},Wfe=function(r){var n=r.x1,s=r.y1,a=r.x2,i=r.y2;return w6({x:n,y:s},{x:a,y:i})},N6=(function(){function t(r){$fe(this,t),this.scale=r}return Ffe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new t(n)}}])})();og(N6,"EPS",1e-4);var r2=function(r){var n=Object.keys(r).reduce(function(s,a){return da(da({},s),{},og({},a,N6.create(r[a])))},{});return da(da({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return vfe(a,function(d,u){return n[u].apply(d,{bandAware:o,position:l})})},isInRange:function(a){return x6(a,function(i,o){return n[o].isInRange(i)})}})};function Ufe(t){return(t%180+180)%180}var qfe=function(r){var n=r.width,s=r.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Ufe(a),o=i*Math.PI/180,l=Math.atan(s/n),d=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(d)},F1,QD;function Hfe(){if(QD)return F1;QD=1;var t=Fo(),r=Bm(),n=Vx();function s(a){return function(i,o,l){var d=Object(i);if(!r(i)){var u=t(o,3);i=n(i),o=function(m){return u(d[m],m,d)}}var f=a(i,o,l);return f>-1?d[u?i[f]:f]:void 0}}return F1=s,F1}var B1,eM;function Vfe(){if(eM)return B1;eM=1;var t=m6();function r(n){var s=t(n),a=s%1;return s===s?a?s-a:s:0}return B1=r,B1}var W1,tM;function Gfe(){if(tM)return W1;tM=1;var t=Mz(),r=Fo(),n=Vfe(),s=Math.max;function a(i,o,l){var d=i==null?0:i.length;if(!d)return-1;var u=l==null?0:n(l);return u<0&&(u=s(d+u,0)),t(i,r(o,3),u)}return W1=a,W1}var U1,rM;function Kfe(){if(rM)return U1;rM=1;var t=Hfe(),r=Gfe(),n=t(r);return U1=n,U1}var Jfe=Kfe();const Yfe=Ft(Jfe);var Zfe=ZL();const Xfe=Ft(Zfe);var Qfe=Xfe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),n2=j.createContext(void 0),s2=j.createContext(void 0),S6=j.createContext(void 0),k6=j.createContext({}),C6=j.createContext(void 0),A6=j.createContext(0),E6=j.createContext(0),nM=function(r){var n=r.state,s=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=r.clipPathId,l=r.children,d=r.width,u=r.height,f=Qfe(i);return $.createElement(n2.Provider,{value:s},$.createElement(s2.Provider,{value:a},$.createElement(k6.Provider,{value:i},$.createElement(S6.Provider,{value:f},$.createElement(C6.Provider,{value:o},$.createElement(A6.Provider,{value:u},$.createElement(E6.Provider,{value:d},l)))))))},epe=function(){return j.useContext(C6)},_6=function(r){var n=j.useContext(n2);n==null&&Pl();var s=n[r];return s==null&&Pl(),s},tpe=function(){var r=j.useContext(n2);return yo(r)},rpe=function(){var r=j.useContext(s2),n=Yfe(r,function(s){return x6(s.domain,Number.isFinite)});return n||yo(r)},R6=function(r){var n=j.useContext(s2);n==null&&Pl();var s=n[r];return s==null&&Pl(),s},npe=function(){var r=j.useContext(S6);return r},spe=function(){return j.useContext(k6)},a2=function(){return j.useContext(E6)},i2=function(){return j.useContext(A6)};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gd(t)}function ape(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ipe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,P6(s.key),s)}}function ope(t,r,n){return r&&ipe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lpe(t,r,n){return r=Qv(r),cpe(t,T6()?Reflect.construct(r,n||[],Qv(t).constructor):r.apply(t,n))}function cpe(t,r){if(r&&(gd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dpe(t)}function dpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T6=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function upe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&US(t,r)}function US(t,r){return US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},US(t,r)}function sM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function aM(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?sM(Object(n),!0).forEach(function(s){o2(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function o2(t,r,n){return r=P6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function P6(t){var r=hpe(t,"string");return gd(r)=="symbol"?r:r+""}function hpe(t,r){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(gd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mpe(t,r){return xpe(t)||vpe(t,r)||ppe(t,r)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ppe(t,r){if(t){if(typeof t=="string")return iM(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iM(t,r)}}function iM(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function vpe(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);d=!0);}catch(f){u=!0,a=f}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xpe(t){if(Array.isArray(t))return t}function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qS.apply(this,arguments)}var gpe=function(r,n){var s;return $.isValidElement(r)?s=$.cloneElement(r,n):dt(r)?s=r(n):s=$.createElement("line",qS({},n,{className:"recharts-reference-line-line"})),s},ype=function(r,n,s,a,i,o,l,d,u){var f=i.x,m=i.y,v=i.width,g=i.height;if(s){var b=u.y,x=r.y.apply(b,{position:o});if(qa(u,"discard")&&!r.y.isInRange(x))return null;var y=[{x:f+v,y:x},{x:f,y:x}];return d==="left"?y.reverse():y}if(n){var A=u.x,E=r.x.apply(A,{position:o});if(qa(u,"discard")&&!r.x.isInRange(E))return null;var C=[{x:E,y:m+g},{x:E,y:m}];return l==="top"?C.reverse():C}if(a){var w=u.segment,k=w.map(function(S){return r.apply(S,{position:o})});return qa(u,"discard")&&hfe(k,function(S){return!r.isInRange(S)})?null:k}return null};function bpe(t){var r=t.x,n=t.y,s=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,d=t.alwaysShow,u=epe(),f=_6(a),m=R6(i),v=npe();if(!u||!v)return null;ji(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=r2({x:f.scale,y:m.scale}),b=en(r),x=en(n),y=s&&s.length===2,A=ype(g,b,x,y,v,t.position,f.orientation,m.orientation,t);if(!A)return null;var E=mpe(A,2),C=E[0],w=C.x,k=C.y,S=E[1],R=S.x,T=S.y,O=qa(t,"hidden")?"url(#".concat(u,")"):void 0,U=aM(aM({clipPath:O},ut(t,!0)),{},{x1:w,y1:k,x2:R,y2:T});return $.createElement(Xt,{className:yt("recharts-reference-line",l)},gpe(o,U),On.renderCallByParent(t,Wfe({x1:w,y1:k,x2:R,y2:T})))}var l2=(function(t){function r(){return ape(this,r),lpe(this,r,arguments)}return upe(r,t),ope(r,[{key:"render",value:function(){return $.createElement(bpe,this.props)}}])})($.Component);o2(l2,"displayName","ReferenceLine");o2(l2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},HS.apply(this,arguments)}function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yd(t)}function oM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function lM(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?oM(Object(n),!0).forEach(function(s){lg(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function jpe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function wpe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,I6(s.key),s)}}function Npe(t,r,n){return r&&wpe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Spe(t,r,n){return r=ex(r),kpe(t,O6()?Reflect.construct(r,n||[],ex(t).constructor):r.apply(t,n))}function kpe(t,r){if(r&&(yd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cpe(t)}function Cpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O6=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(t)}function Ape(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&VS(t,r)}function VS(t,r){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},VS(t,r)}function lg(t,r,n){return r=I6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function I6(t){var r=Epe(t,"string");return yd(r)=="symbol"?r:r+""}function Epe(t,r){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(yd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _pe=function(r){var n=r.x,s=r.y,a=r.xAxis,i=r.yAxis,o=r2({x:a.scale,y:i.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return qa(r,"discard")&&!o.isInRange(l)?null:l},cg=(function(t){function r(){return jpe(this,r),Spe(this,r,arguments)}return Ape(r,t),Npe(r,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,d=s.clipPathId,u=en(a),f=en(i);if(ji(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var m=_pe(this.props);if(!m)return null;var v=m.x,g=m.y,b=this.props,x=b.shape,y=b.className,A=qa(this.props,"hidden")?"url(#".concat(d,")"):void 0,E=lM(lM({clipPath:A},ut(this.props,!0)),{},{cx:v,cy:g});return $.createElement(Xt,{className:yt("recharts-reference-dot",y)},r.renderDot(x,E),On.renderCallByParent(this.props,{x:v-o,y:g-o,width:2*o,height:2*o}))}}])})($.Component);lg(cg,"displayName","ReferenceDot");lg(cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});lg(cg,"renderDot",function(t,r){var n;return $.isValidElement(t)?n=$.cloneElement(t,r):dt(t)?n=t(r):n=$.createElement(sg,HS({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),n});function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},GS.apply(this,arguments)}function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bd(t)}function cM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function dM(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?cM(Object(n),!0).forEach(function(s){dg(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Rpe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Tpe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,M6(s.key),s)}}function Ppe(t,r,n){return r&&Tpe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ope(t,r,n){return r=tx(r),Ipe(t,D6()?Reflect.construct(r,n||[],tx(t).constructor):r.apply(t,n))}function Ipe(t,r){if(r&&(bd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dpe(t)}function Dpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D6=function(){return!!t})()}function tx(t){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tx(t)}function Mpe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&KS(t,r)}function KS(t,r){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},KS(t,r)}function dg(t,r,n){return r=M6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function M6(t){var r=Lpe(t,"string");return bd(r)=="symbol"?r:r+""}function Lpe(t,r){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(bd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zpe=function(r,n,s,a,i){var o=i.x1,l=i.x2,d=i.y1,u=i.y2,f=i.xAxis,m=i.yAxis;if(!f||!m)return null;var v=r2({x:f.scale,y:m.scale}),g={x:r?v.x.apply(o,{position:"start"}):v.x.rangeMin,y:s?v.y.apply(d,{position:"start"}):v.y.rangeMin},b={x:n?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:a?v.y.apply(u,{position:"end"}):v.y.rangeMax};return qa(i,"discard")&&(!v.isInRange(g)||!v.isInRange(b))?null:w6(g,b)},ug=(function(t){function r(){return Rpe(this,r),Ope(this,r,arguments)}return Mpe(r,t),Ppe(r,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,d=s.className,u=s.alwaysShow,f=s.clipPathId;ji(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=en(a),v=en(i),g=en(o),b=en(l),x=this.props.shape;if(!m&&!v&&!g&&!b&&!x)return null;var y=zpe(m,v,g,b,this.props);if(!y&&!x)return null;var A=qa(this.props,"hidden")?"url(#".concat(f,")"):void 0;return $.createElement(Xt,{className:yt("recharts-reference-area",d)},r.renderRect(x,dM(dM({clipPath:A},ut(this.props,!0)),y)),On.renderCallByParent(this.props,y))}}])})($.Component);dg(ug,"displayName","ReferenceArea");dg(ug,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});dg(ug,"renderRect",function(t,r){var n;return $.isValidElement(t)?n=$.cloneElement(t,r):dt(t)?n=t(r):n=$.createElement(e2,GS({},r,{className:"recharts-reference-area-rect"})),n});function L6(t,r,n){if(r<1)return[];if(r===1&&n===void 0)return t;for(var s=[],a=0;a<t.length;a+=r)s.push(t[a]);return s}function $pe(t,r,n){var s={width:t.width+r.width,height:t.height+r.height};return qfe(s,n)}function Fpe(t,r,n){var s=n==="width",a=t.x,i=t.y,o=t.width,l=t.height;return r===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function rx(t,r,n,s,a){if(t*r<t*s||t*r>t*a)return!1;var i=n();return t*(r-t*i/2-s)>=0&&t*(r+t*i/2-a)<=0}function Bpe(t,r){return L6(t,r+1)}function Wpe(t,r,n,s,a){for(var i=(s||[]).slice(),o=r.start,l=r.end,d=0,u=1,f=o,m=function(){var b=s?.[d];if(b===void 0)return{v:L6(s,u)};var x=d,y,A=function(){return y===void 0&&(y=n(b,x)),y},E=b.coordinate,C=d===0||rx(t,E,A,f,l);C||(d=0,f=o,u+=1),C&&(f=E+t*(A()/2+a),d+=u)},v;u<=i.length;)if(v=m(),v)return v.v;return[]}function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bm(t)}function uM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Tn(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?uM(Object(n),!0).forEach(function(s){Upe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Upe(t,r,n){return r=qpe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function qpe(t){var r=Hpe(t,"string");return bm(r)=="symbol"?r:r+""}function Hpe(t,r){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(bm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Vpe(t,r,n,s,a){for(var i=(s||[]).slice(),o=i.length,l=r.start,d=r.end,u=function(v){var g=i[v],b,x=function(){return b===void 0&&(b=n(g,v)),b};if(v===o-1){var y=t*(g.coordinate+t*x()/2-d);i[v]=g=Tn(Tn({},g),{},{tickCoord:y>0?g.coordinate-y*t:g.coordinate})}else i[v]=g=Tn(Tn({},g),{},{tickCoord:g.coordinate});var A=rx(t,g.tickCoord,x,l,d);A&&(d=g.tickCoord-t*(x()/2+a),i[v]=Tn(Tn({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function Gpe(t,r,n,s,a,i){var o=(s||[]).slice(),l=o.length,d=r.start,u=r.end;if(i){var f=s[l-1],m=n(f,l-1),v=t*(f.coordinate+t*m/2-u);o[l-1]=f=Tn(Tn({},f),{},{tickCoord:v>0?f.coordinate-v*t:f.coordinate});var g=rx(t,f.tickCoord,function(){return m},d,u);g&&(u=f.tickCoord-t*(m/2+a),o[l-1]=Tn(Tn({},f),{},{isShow:!0}))}for(var b=i?l-1:l,x=function(E){var C=o[E],w,k=function(){return w===void 0&&(w=n(C,E)),w};if(E===0){var S=t*(C.coordinate-t*k()/2-d);o[E]=C=Tn(Tn({},C),{},{tickCoord:S<0?C.coordinate-S*t:C.coordinate})}else o[E]=C=Tn(Tn({},C),{},{tickCoord:C.coordinate});var R=rx(t,C.tickCoord,k,d,u);R&&(d=C.tickCoord+t*(k()/2+a),o[E]=Tn(Tn({},C),{},{isShow:!0}))},y=0;y<b;y++)x(y);return o}function c2(t,r,n){var s=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,d=t.interval,u=t.tickFormatter,f=t.unit,m=t.angle;if(!a||!a.length||!s)return[];if(Oe(d)||ql.isSsr)return Bpe(a,typeof d=="number"&&Oe(d)?d:0);var v=[],g=l==="top"||l==="bottom"?"width":"height",b=f&&g==="width"?bh(f,{fontSize:r,letterSpacing:n}):{width:0,height:0},x=function(C,w){var k=dt(u)?u(C.value,w):C.value;return g==="width"?$pe(bh(k,{fontSize:r,letterSpacing:n}),b,m):bh(k,{fontSize:r,letterSpacing:n})[g]},y=a.length>=2?ma(a[1].coordinate-a[0].coordinate):1,A=Fpe(i,y,g);return d==="equidistantPreserveStart"?Wpe(y,A,x,a,o):(d==="preserveStart"||d==="preserveStartEnd"?v=Gpe(y,A,x,a,o,d==="preserveStartEnd"):v=Vpe(y,A,x,a,o),v.filter(function(E){return E.isShow}))}var Kpe=["viewBox"],Jpe=["viewBox"],Ype=["ticks"];function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jd(t)}function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Uc.apply(this,arguments)}function hM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Gr(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?hM(Object(n),!0).forEach(function(s){d2(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function q1(t,r){if(t==null)return{};var n=Zpe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Zpe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Xpe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function mM(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,$6(s.key),s)}}function Qpe(t,r,n){return r&&mM(t.prototype,r),n&&mM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eve(t,r,n){return r=nx(r),tve(t,z6()?Reflect.construct(r,n||[],nx(t).constructor):r.apply(t,n))}function tve(t,r){if(r&&(jd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rve(t)}function rve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z6=function(){return!!t})()}function nx(t){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nx(t)}function nve(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&JS(t,r)}function JS(t,r){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},JS(t,r)}function d2(t,r,n){return r=$6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function $6(t){var r=sve(t,"string");return jd(r)=="symbol"?r:r+""}function sve(t,r){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(jd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var su=(function(t){function r(n){var s;return Xpe(this,r),s=eve(this,r,[n]),s.state={fontSize:"",letterSpacing:""},s}return nve(r,t),Qpe(r,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=q1(s,Kpe),l=this.props,d=l.viewBox,u=q1(l,Jpe);return!Yc(i,d)||!Yc(o,u)||!Yc(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,d=a.height,u=a.orientation,f=a.tickSize,m=a.mirror,v=a.tickMargin,g,b,x,y,A,E,C=m?-1:1,w=s.tickSize||f,k=Oe(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":g=b=s.coordinate,y=o+ +!m*d,x=y-C*w,E=x-C*v,A=k;break;case"left":x=y=s.coordinate,b=i+ +!m*l,g=b-C*w,A=g-C*v,E=k;break;case"right":x=y=s.coordinate,b=i+ +m*l,g=b+C*w,A=g+C*v,E=k;break;default:g=b=s.coordinate,y=o+ +m*d,x=y+C*w,E=x+C*v,A=k;break}return{line:{x1:g,y1:x,x2:b,y2:y},tick:{x:A,y:E}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,d=s.orientation,u=s.mirror,f=s.axisLine,m=Gr(Gr(Gr({},ut(this.props,!1)),ut(f,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!u||d==="bottom"&&u);m=Gr(Gr({},m),{},{x1:a,y1:i+v*l,x2:a+o,y2:i+v*l})}else{var g=+(d==="left"&&!u||d==="right"&&u);m=Gr(Gr({},m),{},{x1:a+g*o,y1:i,x2:a+g*o,y2:i+l})}return $.createElement("line",Uc({},m,{className:yt("recharts-cartesian-axis-line",Ws(f,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,d=l.tickLine,u=l.stroke,f=l.tick,m=l.tickFormatter,v=l.unit,g=c2(Gr(Gr({},this.props),{},{ticks:s}),a,i),b=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=ut(this.props,!1),A=ut(f,!1),E=Gr(Gr({},y),{},{fill:"none"},ut(d,!1)),C=g.map(function(w,k){var S=o.getTickLineCoord(w),R=S.line,T=S.tick,O=Gr(Gr(Gr(Gr({textAnchor:b,verticalAnchor:x},y),{},{stroke:"none",fill:u},A),T),{},{index:k,payload:w,visibleTicksCount:g.length,tickFormatter:m});return $.createElement(Xt,Uc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},mv(o.props,w,k)),d&&$.createElement("line",Uc({},E,R,{className:yt("recharts-cartesian-axis-tick-line",Ws(d,"className"))})),f&&r.renderTickItem(f,O,"".concat(dt(m)?m(w.value,k):w.value).concat(v||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,d=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var m=this.props,v=m.ticks,g=q1(m,Ype),b=v;return dt(d)&&(b=v&&v.length>0?d(this.props):d(g)),o<=0||l<=0||!b||!b.length?null:$.createElement(Xt,{className:yt("recharts-cartesian-axis",u),ref:function(y){s.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),On.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=yt(a.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(s)?o=$.cloneElement(s,Gr(Gr({},a),{},{className:l})):dt(s)?o=s(Gr(Gr({},a),{},{className:l})):o=$.createElement(Sv,Uc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(j.Component);d2(su,"displayName","CartesianAxis");d2(su,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ave=["x1","y1","x2","y2","key"],ive=["offset"];function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ol(t)}function fM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function In(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?fM(Object(n),!0).forEach(function(s){ove(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ove(t,r,n){return r=lve(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function lve(t){var r=cve(t,"string");return Ol(r)=="symbol"?r:r+""}function cve(t,r){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Ol(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},wl.apply(this,arguments)}function pM(t,r){if(t==null)return{};var n=dve(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function dve(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var uve=function(r){var n=r.fill;if(!n||n==="none")return null;var s=r.fillOpacity,a=r.x,i=r.y,o=r.width,l=r.height,d=r.ry;return $.createElement("rect",{x:a,y:i,ry:d,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function F6(t,r){var n;if($.isValidElement(t))n=$.cloneElement(t,r);else if(dt(t))n=t(r);else{var s=r.x1,a=r.y1,i=r.x2,o=r.y2,l=r.key,d=pM(r,ave),u=ut(d,!1);u.offset;var f=pM(u,ive);n=$.createElement("line",wl({},f,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function hve(t){var r=t.x,n=t.width,s=t.horizontal,a=s===void 0?!0:s,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,d){var u=In(In({},t),{},{x1:r,y1:l,x2:r+n,y2:l,key:"line-".concat(d),index:d});return F6(a,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function mve(t){var r=t.y,n=t.height,s=t.vertical,a=s===void 0?!0:s,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,d){var u=In(In({},t),{},{x1:l,y1:r,x2:l,y2:r+n,key:"line-".concat(d),index:d});return F6(a,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function fve(t){var r=t.horizontalFill,n=t.fillOpacity,s=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,d=t.horizontal,u=d===void 0?!0:d;if(!u||!r||!r.length)return null;var f=l.map(function(v){return Math.round(v+a-a)}).sort(function(v,g){return v-g});a!==f[0]&&f.unshift(0);var m=f.map(function(v,g){var b=!f[g+1],x=b?a+o-v:f[g+1]-v;if(x<=0)return null;var y=g%r.length;return $.createElement("rect",{key:"react-".concat(g),y:v,x:s,height:x,width:i,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function pve(t){var r=t.vertical,n=r===void 0?!0:r,s=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,d=t.height,u=t.verticalPoints;if(!n||!s||!s.length)return null;var f=u.map(function(v){return Math.round(v+i-i)}).sort(function(v,g){return v-g});i!==f[0]&&f.unshift(0);var m=f.map(function(v,g){var b=!f[g+1],x=b?i+l-v:f[g+1]-v;if(x<=0)return null;var y=g%s.length;return $.createElement("rect",{key:"react-".concat(g),x:v,y:o,width:x,height:d,stroke:"none",fill:s[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var vve=function(r,n){var s=r.xAxis,a=r.width,i=r.height,o=r.offset;return e6(c2(In(In(In({},su.defaultProps),s),{},{ticks:vi(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},xve=function(r,n){var s=r.yAxis,a=r.width,i=r.height,o=r.offset;return e6(c2(In(In(In({},su.defaultProps),s),{},{ticks:vi(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Ic={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Oo(t){var r,n,s,a,i,o,l=a2(),d=i2(),u=spe(),f=In(In({},t),{},{stroke:(r=t.stroke)!==null&&r!==void 0?r:Ic.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ic.fill,horizontal:(s=t.horizontal)!==null&&s!==void 0?s:Ic.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Ic.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Ic.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ic.verticalFill,x:Oe(t.x)?t.x:u.left,y:Oe(t.y)?t.y:u.top,width:Oe(t.width)?t.width:u.width,height:Oe(t.height)?t.height:u.height}),m=f.x,v=f.y,g=f.width,b=f.height,x=f.syncWithTicks,y=f.horizontalValues,A=f.verticalValues,E=tpe(),C=rpe();if(!Oe(g)||g<=0||!Oe(b)||b<=0||!Oe(m)||m!==+m||!Oe(v)||v!==+v)return null;var w=f.verticalCoordinatesGenerator||vve,k=f.horizontalCoordinatesGenerator||xve,S=f.horizontalPoints,R=f.verticalPoints;if((!S||!S.length)&&dt(k)){var T=y&&y.length,O=k({yAxis:C?In(In({},C),{},{ticks:T?y:C.ticks}):void 0,width:l,height:d,offset:u},T?!0:x);ji(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ol(O),"]")),Array.isArray(O)&&(S=O)}if((!R||!R.length)&&dt(w)){var U=A&&A.length,D=w({xAxis:E?In(In({},E),{},{ticks:U?A:E.ticks}):void 0,width:l,height:d,offset:u},U?!0:x);ji(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ol(D),"]")),Array.isArray(D)&&(R=D)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(uve,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),$.createElement(hve,wl({},f,{offset:u,horizontalPoints:S,xAxis:E,yAxis:C})),$.createElement(mve,wl({},f,{offset:u,verticalPoints:R,xAxis:E,yAxis:C})),$.createElement(fve,wl({},f,{horizontalPoints:S})),$.createElement(pve,wl({},f,{verticalPoints:R})))}Oo.displayName="CartesianGrid";var gve=["type","layout","connectNulls","ref"],yve=["key"];function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wd(t)}function vM(t,r){if(t==null)return{};var n=bve(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function bve(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Sh.apply(this,arguments)}function xM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function hs(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?xM(Object(n),!0).forEach(function(s){ua(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Dc(t){return Sve(t)||Nve(t)||wve(t)||jve()}function jve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wve(t,r){if(t){if(typeof t=="string")return YS(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YS(t,r)}}function Nve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sve(t){if(Array.isArray(t))return YS(t)}function YS(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function kve(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function gM(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,W6(s.key),s)}}function Cve(t,r,n){return r&&gM(t.prototype,r),n&&gM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ave(t,r,n){return r=sx(r),Eve(t,B6()?Reflect.construct(r,n||[],sx(t).constructor):r.apply(t,n))}function Eve(t,r){if(r&&(wd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ve(t)}function _ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B6=function(){return!!t})()}function sx(t){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(t)}function Rve(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ZS(t,r)}function ZS(t,r){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},ZS(t,r)}function ua(t,r,n){return r=W6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function W6(t){var r=Tve(t,"string");return wd(r)=="symbol"?r:r+""}function Tve(t,r){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(wd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kl=(function(t){function r(){var n;kve(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Ave(this,r,[].concat(a)),ua(n,"state",{isAnimationFinished:!0,totalLength:0}),ua(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ua(n,"getStrokeDasharray",function(o,l,d){var u=d.reduce(function(A,E){return A+E});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),m=o%u,v=l-o,g=[],b=0,x=0;b<d.length;x+=d[b],++b)if(x+d[b]>m){g=[].concat(Dc(d.slice(0,b)),[m-x]);break}var y=g.length%2===0?[0,v]:[v];return[].concat(Dc(r.repeat(d,f)),Dc(g),y).map(function(A){return"".concat(A,"px")}).join(", ")}),ua(n,"id",Qd("recharts-line-")),ua(n,"pathRef",function(o){n.mainCurve=o}),ua(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ua(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Rve(r,t),Cve(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,d=i.yAxis,u=i.layout,f=i.children,m=Us(f,Vm);if(!m)return null;var v=function(x,y){return{x:x.x,y:x.y,value:x.value,errorVal:Un(x.payload,y)}},g={clipPath:s?"url(#clipPath-".concat(a,")"):null};return $.createElement(Xt,g,m.map(function(b){return $.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:l,yAxis:d,layout:u,dataPointFormatter:v})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,d=l.dot,u=l.points,f=l.dataKey,m=ut(this.props,!1),v=ut(d,!0),g=u.map(function(x,y){var A=hs(hs(hs({key:"dot-".concat(y),r:3},m),v),{},{index:y,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:u});return r.renderDotItem(d,A)}),b={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return $.createElement(Xt,Sh({className:"recharts-line-dots",key:"dots"},b),g)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,d=l.type,u=l.layout,f=l.connectNulls;l.ref;var m=vM(l,gve),v=hs(hs(hs({},ut(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:d,layout:u,connectNulls:f});return $.createElement(Qc,Sh({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,d=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,v=o.animationEasing,g=o.animationId,b=o.animateNewValues,x=o.width,y=o.height,A=this.state,E=A.prevPoints,C=A.totalLength;return $.createElement(Za,{begin:f,duration:m,isActive:u,easing:v,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var k=w.t;if(E){var S=E.length/l.length,R=l.map(function(I,B){var M=Math.floor(B*S);if(E[M]){var W=E[M],V=bn(W.x,I.x),Q=bn(W.y,I.y);return hs(hs({},I),{},{x:V(k),y:Q(k)})}if(b){var H=bn(x*2,I.x),X=bn(y/2,I.y);return hs(hs({},I),{},{x:H(k),y:X(k)})}return hs(hs({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(R,s,a)}var T=bn(0,C),O=T(k),U;if(d){var D="".concat(d).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});U=i.getStrokeDasharray(O,C,D)}else U=i.generateSimpleStrokeDasharray(C,O);return i.renderCurveStatically(l,s,a,{strokeDasharray:U})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,d=this.state,u=d.prevPoints,f=d.totalLength;return l&&o&&o.length&&(!u&&f>0||!hd(u,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,d=a.className,u=a.xAxis,f=a.yAxis,m=a.top,v=a.left,g=a.width,b=a.height,x=a.isAnimationActive,y=a.id;if(i||!l||!l.length)return null;var A=this.state.isAnimationFinished,E=l.length===1,C=yt("recharts-line",d),w=u&&u.allowDataOverflow,k=f&&f.allowDataOverflow,S=w||k,R=mt(y)?this.id:y,T=(s=ut(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},O=T.r,U=O===void 0?3:O,D=T.strokeWidth,I=D===void 0?2:D,B=rz(o)?o:{},M=B.clipDot,W=M===void 0?!0:M,V=U*2+I;return $.createElement(Xt,{className:C},w||k?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(R)},$.createElement("rect",{x:w?v:v-g/2,y:k?m:m-b/2,width:w?g:g*2,height:k?b:b*2})),!W&&$.createElement("clipPath",{id:"clipPath-dots-".concat(R)},$.createElement("rect",{x:v-V/2,y:m-V/2,width:g+V,height:b+V}))):null,!E&&this.renderCurve(S,R),this.renderErrorBar(S,R),(E||o)&&this.renderDots(S,W,R),(!x||A)&&Ni.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(Dc(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(Dc(o),Dc(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if($.isValidElement(s))i=$.cloneElement(s,a);else if(dt(s))i=s(a);else{var o=a.key,l=vM(a,yve),d=yt("recharts-line-dot",typeof s!="boolean"?s.className:"");i=$.createElement(sg,Sh({key:o},l,{className:d}))}return i}}])})(j.PureComponent);ua(Kl,"displayName","Line");ua(Kl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ql.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ua(Kl,"getComposedData",function(t){var r=t.props,n=t.xAxis,s=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,d=t.displayedData,u=t.offset,f=r.layout,m=d.map(function(v,g){var b=Un(v,o);return f==="horizontal"?{x:zv({axis:n,ticks:a,bandSize:l,entry:v,index:g}),y:mt(b)?null:s.scale(b),value:b,payload:v}:{x:mt(b)?null:n.scale(b),y:zv({axis:s,ticks:i,bandSize:l,entry:v,index:g}),value:b,payload:v}});return hs({points:m,layout:f},u)});var Pve=["layout","type","stroke","connectNulls","isRange","ref"],Ove=["key"],U6;function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nd(t)}function q6(t,r){if(t==null)return{};var n=Ive(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Ive(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Nl.apply(this,arguments)}function yM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function po(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?yM(Object(n),!0).forEach(function(s){$a(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Dve(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function bM(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,V6(s.key),s)}}function Mve(t,r,n){return r&&bM(t.prototype,r),n&&bM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lve(t,r,n){return r=ax(r),zve(t,H6()?Reflect.construct(r,n||[],ax(t).constructor):r.apply(t,n))}function zve(t,r){if(r&&(Nd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ve(t)}function $ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H6=function(){return!!t})()}function ax(t){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(t)}function Fve(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&XS(t,r)}function XS(t,r){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},XS(t,r)}function $a(t,r,n){return r=V6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function V6(t){var r=Bve(t,"string");return Nd(r)=="symbol"?r:r+""}function Bve(t,r){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Nd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ha=(function(t){function r(){var n;Dve(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Lve(this,r,[].concat(a)),$a(n,"state",{isAnimationFinished:!0}),$a(n,"id",Qd("recharts-area-")),$a(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),dt(o)&&o()}),$a(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),dt(o)&&o()}),n}return Fve(r,t),Mve(r,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var d=this.props,u=d.dot,f=d.points,m=d.dataKey,v=ut(this.props,!1),g=ut(u,!0),b=f.map(function(y,A){var E=po(po(po({key:"dot-".concat(A),r:3},v),g),{},{index:A,cx:y.x,cy:y.y,dataKey:m,value:y.value,payload:y.payload,points:f});return r.renderDotItem(u,E)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return $.createElement(Xt,Nl({className:"recharts-area-dots"},x),b)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,d=o[0].x,u=o[o.length-1].x,f=s*Math.abs(d-u),m=bo(o.map(function(v){return v.y||0}));return Oe(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(bo(i.map(function(v){return v.y||0})),m)),Oe(m)?$.createElement("rect",{x:d<u?d:d-f,y:0,width:f,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,d=o[0].y,u=o[o.length-1].y,f=s*Math.abs(d-u),m=bo(o.map(function(v){return v.x||0}));return Oe(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(bo(i.map(function(v){return v.x||0})),m)),Oe(m)?$.createElement("rect",{x:0,y:d<u?d:d-f,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,d=l.layout,u=l.type,f=l.stroke,m=l.connectNulls,v=l.isRange;l.ref;var g=q6(l,Pve);return $.createElement(Xt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},$.createElement(Qc,Nl({},ut(g,!0),{points:s,connectNulls:m,type:u,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),f!=="none"&&$.createElement(Qc,Nl({},ut(this.props,!1),{className:"recharts-area-curve",layout:d,type:u,connectNulls:m,fill:"none",points:s})),f!=="none"&&v&&$.createElement(Qc,Nl({},ut(this.props,!1),{className:"recharts-area-curve",layout:d,type:u,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,d=o.baseLine,u=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,v=o.animationEasing,g=o.animationId,b=this.state,x=b.prevPoints,y=b.prevBaseLine;return $.createElement(Za,{begin:f,duration:m,isActive:u,easing:v,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var E=A.t;if(x){var C=x.length/l.length,w=l.map(function(T,O){var U=Math.floor(O*C);if(x[U]){var D=x[U],I=bn(D.x,T.x),B=bn(D.y,T.y);return po(po({},T),{},{x:I(E),y:B(E)})}return T}),k;if(Oe(d)&&typeof d=="number"){var S=bn(y,d);k=S(E)}else if(mt(d)||Xd(d)){var R=bn(y,0);k=R(E)}else k=d.map(function(T,O){var U=Math.floor(O*C);if(y[U]){var D=y[U],I=bn(D.x,T.x),B=bn(D.y,T.y);return po(po({},T),{},{x:I(E),y:B(E)})}return T});return i.renderAreaStatically(w,k,s,a)}return $.createElement(Xt,null,$.createElement("defs",null,$.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(E))),$.createElement(Xt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,d,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,d=i.isAnimationActive,u=this.state,f=u.prevPoints,m=u.prevBaseLine,v=u.totalLength;return d&&o&&o.length&&(!f&&v>0||!hd(f,o)||!hd(m,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,d=a.className,u=a.top,f=a.left,m=a.xAxis,v=a.yAxis,g=a.width,b=a.height,x=a.isAnimationActive,y=a.id;if(i||!l||!l.length)return null;var A=this.state.isAnimationFinished,E=l.length===1,C=yt("recharts-area",d),w=m&&m.allowDataOverflow,k=v&&v.allowDataOverflow,S=w||k,R=mt(y)?this.id:y,T=(s=ut(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},O=T.r,U=O===void 0?3:O,D=T.strokeWidth,I=D===void 0?2:D,B=rz(o)?o:{},M=B.clipDot,W=M===void 0?!0:M,V=U*2+I;return $.createElement(Xt,{className:C},w||k?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(R)},$.createElement("rect",{x:w?f:f-g/2,y:k?u:u-b/2,width:w?g:g*2,height:k?b:b*2})),!W&&$.createElement("clipPath",{id:"clipPath-dots-".concat(R)},$.createElement("rect",{x:f-V/2,y:u-V/2,width:g+V,height:b+V}))):null,E?null:this.renderArea(S,R),(o||E)&&this.renderDots(S,W,R),(!x||A)&&Ni.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])})(j.PureComponent);U6=Ha;$a(Ha,"displayName","Area");$a(Ha,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ql.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});$a(Ha,"getBaseValue",function(t,r,n,s){var a=t.layout,i=t.baseValue,o=r.props.baseValue,l=o??i;if(Oe(l)&&typeof l=="number")return l;var d=a==="horizontal"?s:n,u=d.scale.domain();if(d.type==="number"){var f=Math.max(u[0],u[1]),m=Math.min(u[0],u[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});$a(Ha,"getComposedData",function(t){var r=t.props,n=t.item,s=t.xAxis,a=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,d=t.dataKey,u=t.stackedData,f=t.dataStartIndex,m=t.displayedData,v=t.offset,g=r.layout,b=u&&u.length,x=U6.getBaseValue(r,n,s,a),y=g==="horizontal",A=!1,E=m.map(function(w,k){var S;b?S=u[f+k]:(S=Un(w,d),Array.isArray(S)?A=!0:S=[x,S]);var R=S[1]==null||b&&Un(w,d)==null;return y?{x:zv({axis:s,ticks:i,bandSize:l,entry:w,index:k}),y:R?null:a.scale(S[1]),value:S,payload:w}:{x:R?null:s.scale(S[1]),y:zv({axis:a,ticks:o,bandSize:l,entry:w,index:k}),value:S,payload:w}}),C;return b||A?C=E.map(function(w){var k=Array.isArray(w.value)?w.value[0]:null;return y?{x:w.x,y:k!=null&&w.y!=null?a.scale(k):null}:{x:k!=null?s.scale(k):null,y:w.y}}):C=y?a.scale(x):s.scale(x),po({points:E,baseLine:C,layout:g,isRange:A},v)});$a(Ha,"renderDotItem",function(t,r){var n;if($.isValidElement(t))n=$.cloneElement(t,r);else if(dt(t))n=t(r);else{var s=yt("recharts-area-dot",typeof t!="boolean"?t.className:""),a=r.key,i=q6(r,Ove);n=$.createElement(sg,Nl({},i,{key:a,className:s}))}return n});function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sd(t)}function Wve(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Uve(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,J6(s.key),s)}}function qve(t,r,n){return r&&Uve(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hve(t,r,n){return r=ix(r),Vve(t,G6()?Reflect.construct(r,n||[],ix(t).constructor):r.apply(t,n))}function Vve(t,r){if(r&&(Sd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gve(t)}function Gve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G6=function(){return!!t})()}function ix(t){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(t)}function Kve(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&QS(t,r)}function QS(t,r){return QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},QS(t,r)}function K6(t,r,n){return r=J6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function J6(t){var r=Jve(t,"string");return Sd(r)=="symbol"?r:r+""}function Jve(t,r){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Sd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ek(){return ek=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ek.apply(this,arguments)}function Yve(t){var r=t.xAxisId,n=a2(),s=i2(),a=_6(r);return a==null?null:j.createElement(su,ek({},a,{className:yt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return vi(o,!0)}}))}var Vs=(function(t){function r(){return Wve(this,r),Hve(this,r,arguments)}return Kve(r,t),qve(r,[{key:"render",value:function(){return j.createElement(Yve,this.props)}}])})(j.Component);K6(Vs,"displayName","XAxis");K6(Vs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kd(t)}function Zve(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Xve(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,X6(s.key),s)}}function Qve(t,r,n){return r&&Xve(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function exe(t,r,n){return r=ox(r),txe(t,Y6()?Reflect.construct(r,n||[],ox(t).constructor):r.apply(t,n))}function txe(t,r){if(r&&(kd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rxe(t)}function rxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y6=function(){return!!t})()}function ox(t){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(t)}function nxe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&tk(t,r)}function tk(t,r){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},tk(t,r)}function Z6(t,r,n){return r=X6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function X6(t){var r=sxe(t,"string");return kd(r)=="symbol"?r:r+""}function sxe(t,r){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(kd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rk(){return rk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},rk.apply(this,arguments)}var axe=function(r){var n=r.yAxisId,s=a2(),a=i2(),i=R6(n);return i==null?null:j.createElement(su,rk({},i,{className:yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return vi(l,!0)}}))},Gs=(function(t){function r(){return Zve(this,r),exe(this,r,arguments)}return nxe(r,t),Qve(r,[{key:"render",value:function(){return j.createElement(axe,this.props)}}])})(j.Component);Z6(Gs,"displayName","YAxis");Z6(Gs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function jM(t){return cxe(t)||lxe(t)||oxe(t)||ixe()}function ixe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oxe(t,r){if(t){if(typeof t=="string")return nk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nk(t,r)}}function lxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cxe(t){if(Array.isArray(t))return nk(t)}function nk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}var sk=function(r,n,s,a,i){var o=Us(r,l2),l=Us(r,cg),d=[].concat(jM(o),jM(l)),u=Us(r,ug),f="".concat(a,"Id"),m=a[0],v=n;if(d.length&&(v=d.reduce(function(x,y){if(y.props[f]===s&&qa(y.props,"extendDomain")&&Oe(y.props[m])){var A=y.props[m];return[Math.min(x[0],A),Math.max(x[1],A)]}return x},v)),u.length){var g="".concat(m,"1"),b="".concat(m,"2");v=u.reduce(function(x,y){if(y.props[f]===s&&qa(y.props,"extendDomain")&&Oe(y.props[g])&&Oe(y.props[b])){var A=y.props[g],E=y.props[b];return[Math.min(x[0],A,E),Math.max(x[1],A,E)]}return x},v)}return i&&i.length&&(v=i.reduce(function(x,y){return Oe(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},v)),v},H1={exports:{}},wM;function dxe(){return wM||(wM=1,(function(t){var r=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(d,u,f){this.fn=d,this.context=u,this.once=f||!1}function i(d,u,f,m,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new a(f,m||d,v),b=n?n+u:u;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],g]:d._events[b].push(g):(d._events[b]=g,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new s:delete d._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,m;if(this._eventsCount===0)return u;for(m in f=this._events)r.call(f,m)&&u.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=n?n+u:u,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,g=m.length,b=new Array(g);v<g;v++)b[v]=m[v].fn;return b},l.prototype.listenerCount=function(u){var f=n?n+u:u,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,f,m,v,g,b){var x=n?n+u:u;if(!this._events[x])return!1;var y=this._events[x],A=arguments.length,E,C;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),A){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,m),!0;case 4:return y.fn.call(y.context,f,m,v),!0;case 5:return y.fn.call(y.context,f,m,v,g),!0;case 6:return y.fn.call(y.context,f,m,v,g,b),!0}for(C=1,E=new Array(A-1);C<A;C++)E[C-1]=arguments[C];y.fn.apply(y.context,E)}else{var w=y.length,k;for(C=0;C<w;C++)switch(y[C].once&&this.removeListener(u,y[C].fn,void 0,!0),A){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,f);break;case 3:y[C].fn.call(y[C].context,f,m);break;case 4:y[C].fn.call(y[C].context,f,m,v);break;default:if(!E)for(k=1,E=new Array(A-1);k<A;k++)E[k-1]=arguments[k];y[C].fn.apply(y[C].context,E)}}return!0},l.prototype.on=function(u,f,m){return i(this,u,f,m,!1)},l.prototype.once=function(u,f,m){return i(this,u,f,m,!0)},l.prototype.removeListener=function(u,f,m,v){var g=n?n+u:u;if(!this._events[g])return this;if(!f)return o(this,g),this;var b=this._events[g];if(b.fn)b.fn===f&&(!v||b.once)&&(!m||b.context===m)&&o(this,g);else{for(var x=0,y=[],A=b.length;x<A;x++)(b[x].fn!==f||v&&!b[x].once||m&&b[x].context!==m)&&y.push(b[x]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(H1)),H1.exports}var uxe=dxe();const hxe=Ft(uxe);var V1=new hxe,G1="recharts.syncMouseEvents";function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jm(t)}function mxe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function fxe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Q6(s.key),s)}}function pxe(t,r,n){return r&&fxe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function K1(t,r,n){return r=Q6(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Q6(t){var r=vxe(t,"string");return jm(r)=="symbol"?r:r+""}function vxe(t,r){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(jm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xxe=(function(){function t(){mxe(this,t),K1(this,"activeIndex",0),K1(this,"coordinateList",[]),K1(this,"layout","horizontal")}return pxe(t,[{key:"setDetails",value:function(n){var s,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,d=n.layout,u=d===void 0?null:d,f=n.offset,m=f===void 0?null:f,v=n.mouseHandlerCallback,g=v===void 0?null:v;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,d=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((s=window)===null||s===void 0?void 0:s.scrollY)||0,m=i+d+u,v=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function gxe(t,r,n){if(n==="number"&&r===!0&&Array.isArray(t)){var s=t?.[0],a=t?.[1];if(s&&a&&Oe(s)&&Oe(a))return!0}return!1}function yxe(t,r,n,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?r.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:r.y-a,width:t==="horizontal"?s:n.width-1,height:t==="horizontal"?n.height-1:s}}function eF(t){var r=t.cx,n=t.cy,s=t.radius,a=t.startAngle,i=t.endAngle,o=wn(r,n,s,a),l=wn(r,n,s,i);return{points:[o,l],cx:r,cy:n,radius:s,startAngle:a,endAngle:i}}function bxe(t,r,n){var s,a,i,o;if(t==="horizontal")s=r.x,i=s,a=n.top,o=n.top+n.height;else if(t==="vertical")a=r.y,o=a,s=n.left,i=n.left+n.width;else if(r.cx!=null&&r.cy!=null)if(t==="centric"){var l=r.cx,d=r.cy,u=r.innerRadius,f=r.outerRadius,m=r.angle,v=wn(l,d,u,m),g=wn(l,d,f,m);s=v.x,a=v.y,i=g.x,o=g.y}else return eF(r);return[{x:s,y:a},{x:i,y:o}]}function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wm(t)}function NM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Pp(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?NM(Object(n),!0).forEach(function(s){jxe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function jxe(t,r,n){return r=wxe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function wxe(t){var r=Nxe(t,"string");return wm(r)=="symbol"?r:r+""}function Nxe(t,r){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(wm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Sxe(t){var r,n,s=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,d=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,g=(r=s.props.cursor)!==null&&r!==void 0?r:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!g||!i||!o||v!=="ScatterChart"&&a!=="axis")return null;var b,x=Qc;if(v==="ScatterChart")b=o,x=hme;else if(v==="BarChart")b=yxe(m,o,d,f),x=e2;else if(m==="radial"){var y=eF(o),A=y.cx,E=y.cy,C=y.radius,w=y.startAngle,k=y.endAngle;b={cx:A,cy:E,startAngle:w,endAngle:k,innerRadius:C,outerRadius:C},x=a6}else b={points:bxe(m,o,d)},x=Qc;var S=Pp(Pp(Pp(Pp({stroke:"#ccc",pointerEvents:"none"},d),b),ut(g,!1)),{},{payload:l,payloadIndex:u,className:yt("recharts-tooltip-cursor",g.className)});return j.isValidElement(g)?j.cloneElement(g,S):j.createElement(x,S)}var kxe=["item"],Cxe=["children","className","width","height","style","compact","title","desc"];function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cd(t)}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qc.apply(this,arguments)}function SM(t,r){return _xe(t)||Exe(t,r)||rF(t,r)||Axe()}function Axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Exe(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],d=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(d=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);d=!0);}catch(f){u=!0,a=f}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _xe(t){if(Array.isArray(t))return t}function kM(t,r){if(t==null)return{};var n=Rxe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Rxe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Txe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Pxe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,nF(s.key),s)}}function Oxe(t,r,n){return r&&Pxe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ixe(t,r,n){return r=lx(r),Dxe(t,tF()?Reflect.construct(r,n||[],lx(t).constructor):r.apply(t,n))}function Dxe(t,r){if(r&&(Cd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mxe(t)}function Mxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function lx(t){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lx(t)}function Lxe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ak(t,r)}function ak(t,r){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},ak(t,r)}function Ad(t){return Fxe(t)||$xe(t)||rF(t)||zxe()}function zxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rF(t,r){if(t){if(typeof t=="string")return ik(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ik(t,r)}}function $xe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fxe(t){if(Array.isArray(t))return ik(t)}function ik(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function CM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function ve(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?CM(Object(n),!0).forEach(function(s){at(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function at(t,r,n){return r=nF(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function nF(t){var r=Bxe(t,"string");return Cd(r)=="symbol"?r:r+""}function Bxe(t,r){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Cd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Wxe={xAxis:["bottom","top"],yAxis:["left","right"]},Uxe={width:"100%",height:"100%"},sF={x:0,y:0};function Op(t){return t}var qxe=function(r,n){return n==="horizontal"?r.x:n==="vertical"?r.y:n==="centric"?r.angle:r.radius},Hxe=function(r,n,s,a){var i=n.find(function(f){return f&&f.index===s});if(i){if(r==="horizontal")return{x:i.coordinate,y:a.y};if(r==="vertical")return{x:a.x,y:i.coordinate};if(r==="centric"){var o=i.coordinate,l=a.radius;return ve(ve(ve({},a),wn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var d=i.coordinate,u=a.angle;return ve(ve(ve({},a),wn(a.cx,a.cy,d,u)),{},{angle:u,radius:d})}return sF},hg=function(r,n){var s=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(s??[]).reduce(function(l,d){var u=d.props.data;return u&&u.length?[].concat(Ad(l),Ad(u)):l},[]);return o.length>0?o:r&&r.length&&Oe(a)&&Oe(i)?r.slice(a,i+1):[]};function aF(t){return t==="number"?[0,"auto"]:void 0}var ok=function(r,n,s,a){var i=r.graphicalItems,o=r.tooltipAxis,l=hg(n,r);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(d,u){var f,m=(f=u.props.data)!==null&&f!==void 0?f:n;m&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=s&&(m=m.slice(r.dataStartIndex,r.dataEndIndex+1));var v;if(o.dataKey&&!o.allowDuplicatedCategory){var g=m===void 0?l:m;v=uv(g,o.dataKey,a)}else v=m&&m[s]||l[s];return v?[].concat(Ad(d),[r6(u,v)]):d},[])},AM=function(r,n,s,a){var i=a||{x:r.chartX,y:r.chartY},o=qxe(i,s),l=r.orderedTooltipTicks,d=r.tooltipAxis,u=r.tooltipTicks,f=Kce(o,l,u,d);if(f>=0&&u){var m=u[f]&&u[f].value,v=ok(r,n,f,m),g=Hxe(s,l,f,i);return{activeTooltipIndex:f,activeLabel:m,activePayload:v,activeCoordinate:g}}return null},Vxe=function(r,n){var s=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,d=n.dataStartIndex,u=n.dataEndIndex,f=r.layout,m=r.children,v=r.stackOffset,g=Q$(f,i);return s.reduce(function(b,x){var y,A=x.type.defaultProps!==void 0?ve(ve({},x.type.defaultProps),x.props):x.props,E=A.type,C=A.dataKey,w=A.allowDataOverflow,k=A.allowDuplicatedCategory,S=A.scale,R=A.ticks,T=A.includeHidden,O=A[o];if(b[O])return b;var U=hg(r.data,{graphicalItems:a.filter(function(q){var ee,oe=o in q.props?q.props[o]:(ee=q.type.defaultProps)===null||ee===void 0?void 0:ee[o];return oe===O}),dataStartIndex:d,dataEndIndex:u}),D=U.length,I,B,M;gxe(A.domain,w,E)&&(I=SS(A.domain,null,w),g&&(E==="number"||S!=="auto")&&(M=wh(U,C,"category")));var W=aF(E);if(!I||I.length===0){var V,Q=(V=A.domain)!==null&&V!==void 0?V:W;if(C){if(I=wh(U,C,E),E==="category"&&g){var H=Fte(I);k&&H?(B=I,I=Kv(0,D)):k||(I=MI(Q,I,x).reduce(function(q,ee){return q.indexOf(ee)>=0?q:[].concat(Ad(q),[ee])},[]))}else if(E==="category")k?I=I.filter(function(q){return q!==""&&!mt(q)}):I=MI(Q,I,x).reduce(function(q,ee){return q.indexOf(ee)>=0||ee===""||mt(ee)?q:[].concat(Ad(q),[ee])},[]);else if(E==="number"){var X=Qce(U,a.filter(function(q){var ee,oe,ce=o in q.props?q.props[o]:(ee=q.type.defaultProps)===null||ee===void 0?void 0:ee[o],ye="hide"in q.props?q.props.hide:(oe=q.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return ce===O&&(T||!ye)}),C,i,f);X&&(I=X)}g&&(E==="number"||S!=="auto")&&(M=wh(U,C,"category"))}else g?I=Kv(0,D):l&&l[O]&&l[O].hasStack&&E==="number"?I=v==="expand"?[0,1]:t6(l[O].stackGroups,d,u):I=X$(U,a.filter(function(q){var ee=o in q.props?q.props[o]:q.type.defaultProps[o],oe="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return ee===O&&(T||!oe)}),E,f,!0);if(E==="number")I=sk(m,I,O,i,R),Q&&(I=SS(Q,I,w));else if(E==="category"&&Q){var K=Q,z=I.every(function(q){return K.indexOf(q)>=0});z&&(I=K)}}return ve(ve({},b),{},at({},O,ve(ve({},A),{},{axisType:i,domain:I,categoricalDomain:M,duplicateDomain:B,originalDomain:(y=A.domain)!==null&&y!==void 0?y:W,isCategorical:g,layout:f})))},{})},Gxe=function(r,n){var s=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,d=n.dataStartIndex,u=n.dataEndIndex,f=r.layout,m=r.children,v=hg(r.data,{graphicalItems:s,dataStartIndex:d,dataEndIndex:u}),g=v.length,b=Q$(f,i),x=-1;return s.reduce(function(y,A){var E=A.type.defaultProps!==void 0?ve(ve({},A.type.defaultProps),A.props):A.props,C=E[o],w=aF("number");if(!y[C]){x++;var k;return b?k=Kv(0,g):l&&l[C]&&l[C].hasStack?(k=t6(l[C].stackGroups,d,u),k=sk(m,k,C,i)):(k=SS(w,X$(v,s.filter(function(S){var R,T,O=o in S.props?S.props[o]:(R=S.type.defaultProps)===null||R===void 0?void 0:R[o],U="hide"in S.props?S.props.hide:(T=S.type.defaultProps)===null||T===void 0?void 0:T.hide;return O===C&&!U}),"number",f),a.defaultProps.allowDataOverflow),k=sk(m,k,C,i)),ve(ve({},y),{},at({},C,ve(ve({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ws(Wxe,"".concat(i,".").concat(x%2),null),domain:k,originalDomain:w,isCategorical:b,layout:f})))}return y},{})},Kxe=function(r,n){var s=n.axisType,a=s===void 0?"xAxis":s,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,d=n.dataStartIndex,u=n.dataEndIndex,f=r.children,m="".concat(a,"Id"),v=Us(f,i),g={};return v&&v.length?g=Vxe(r,{axes:v,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:d,dataEndIndex:u}):o&&o.length&&(g=Gxe(r,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:d,dataEndIndex:u})),g},Jxe=function(r){var n=yo(r),s=vi(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:AC(s,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:$v(n,s)}},EM=function(r){var n=r.children,s=r.defaultShowTooltip,a=ps(n,vd),i=0,o=0;return r.data&&r.data.length!==0&&(o=r.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},Yxe=function(r){return!r||!r.length?!1:r.some(function(n){var s=bi(n&&n.type);return s&&s.indexOf("Bar")>=0})},_M=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Zxe=function(r,n){var s=r.props,a=r.graphicalItems,i=r.xAxisMap,o=i===void 0?{}:i,l=r.yAxisMap,d=l===void 0?{}:l,u=s.width,f=s.height,m=s.children,v=s.margin||{},g=ps(m,vd),b=ps(m,Co),x=Object.keys(d).reduce(function(k,S){var R=d[S],T=R.orientation;return!R.mirror&&!R.hide?ve(ve({},k),{},at({},T,k[T]+R.width)):k},{left:v.left||0,right:v.right||0}),y=Object.keys(o).reduce(function(k,S){var R=o[S],T=R.orientation;return!R.mirror&&!R.hide?ve(ve({},k),{},at({},T,Ws(k,"".concat(T))+R.height)):k},{top:v.top||0,bottom:v.bottom||0}),A=ve(ve({},y),x),E=A.bottom;g&&(A.bottom+=g.props.height||vd.defaultProps.height),b&&n&&(A=Zce(A,a,s,n));var C=u-A.left-A.right,w=f-A.top-A.bottom;return ve(ve({brushBottom:E},A),{},{width:Math.max(C,0),height:Math.max(w,0)})},Xxe=function(r,n){if(n==="xAxis")return r[n].width;if(n==="yAxis")return r[n].height},u2=function(r){var n=r.chartName,s=r.GraphicalChild,a=r.defaultTooltipEventType,i=a===void 0?"axis":a,o=r.validateTooltipEventTypes,l=o===void 0?["axis"]:o,d=r.axisComponents,u=r.legendContent,f=r.formatAxisMap,m=r.defaultProps,v=function(A,E){var C=E.graphicalItems,w=E.stackGroups,k=E.offset,S=E.updateId,R=E.dataStartIndex,T=E.dataEndIndex,O=A.barSize,U=A.layout,D=A.barGap,I=A.barCategoryGap,B=A.maxBarSize,M=_M(U),W=M.numericAxisName,V=M.cateAxisName,Q=Yxe(C),H=[];return C.forEach(function(X,K){var z=hg(A.data,{graphicalItems:[X],dataStartIndex:R,dataEndIndex:T}),q=X.type.defaultProps!==void 0?ve(ve({},X.type.defaultProps),X.props):X.props,ee=q.dataKey,oe=q.maxBarSize,ce=q["".concat(W,"Id")],ye=q["".concat(V,"Id")],de={},fe=d.reduce(function(yr,It){var br=E["".concat(It.axisType,"Map")],Zs=q["".concat(It.axisType,"Id")];br&&br[Zs]||It.axisType==="zAxis"||Pl();var Cs=br[Zs];return ve(ve({},yr),{},at(at({},It.axisType,Cs),"".concat(It.axisType,"Ticks"),vi(Cs)))},de),he=fe[V],re=fe["".concat(V,"Ticks")],ge=w&&w[ce]&&w[ce].hasStack&&ude(X,w[ce].stackGroups),le=bi(X.type).indexOf("Bar")>=0,Ye=$v(he,re),_e=[],Et=Q&&Jce({barSize:O,stackGroups:w,totalSize:Xxe(fe,V)});if(le){var kt,jt,Br=mt(oe)?B:oe,er=(kt=(jt=$v(he,re,!0))!==null&&jt!==void 0?jt:Br)!==null&&kt!==void 0?kt:0;_e=Yce({barGap:D,barCategoryGap:I,bandSize:er!==Ye?er:Ye,sizeList:Et[ye],maxBarSize:Br}),er!==Ye&&(_e=_e.map(function(yr){return ve(ve({},yr),{},{position:ve(ve({},yr.position),{},{offset:yr.position.offset-er/2})})}))}var gr=X&&X.type&&X.type.getComposedData;gr&&H.push({props:ve(ve({},gr(ve(ve({},fe),{},{displayedData:z,props:A,dataKey:ee,item:X,bandSize:Ye,barPosition:_e,offset:k,stackedData:ge,layout:U,dataStartIndex:R,dataEndIndex:T}))),{},at(at(at({key:X.key||"item-".concat(K)},W,fe[W]),V,fe[V]),"animationId",S)),childIndex:Xte(X,A.children),item:X})}),H},g=function(A,E){var C=A.props,w=A.dataStartIndex,k=A.dataEndIndex,S=A.updateId;if(!ZT({props:C}))return null;var R=C.children,T=C.layout,O=C.stackOffset,U=C.data,D=C.reverseStackOrder,I=_M(T),B=I.numericAxisName,M=I.cateAxisName,W=Us(R,s),V=lde(U,W,"".concat(B,"Id"),"".concat(M,"Id"),O,D),Q=d.reduce(function(q,ee){var oe="".concat(ee.axisType,"Map");return ve(ve({},q),{},at({},oe,Kxe(C,ve(ve({},ee),{},{graphicalItems:W,stackGroups:ee.axisType===B&&V,dataStartIndex:w,dataEndIndex:k}))))},{}),H=Zxe(ve(ve({},Q),{},{props:C,graphicalItems:W}),E?.legendBBox);Object.keys(Q).forEach(function(q){Q[q]=f(C,Q[q],H,q.replace("Map",""),n)});var X=Q["".concat(M,"Map")],K=Jxe(X),z=v(C,ve(ve({},Q),{},{dataStartIndex:w,dataEndIndex:k,updateId:S,graphicalItems:W,stackGroups:V,offset:H}));return ve(ve({formattedGraphicalItems:z,graphicalItems:W,offset:H,stackGroups:V},K),Q)},b=(function(y){function A(E){var C,w,k;return Txe(this,A),k=Ixe(this,A,[E]),at(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),at(k,"accessibilityManager",new xxe),at(k,"handleLegendBBoxUpdate",function(S){if(S){var R=k.state,T=R.dataStartIndex,O=R.dataEndIndex,U=R.updateId;k.setState(ve({legendBBox:S},g({props:k.props,dataStartIndex:T,dataEndIndex:O,updateId:U},ve(ve({},k.state),{},{legendBBox:S}))))}}),at(k,"handleReceiveSyncEvent",function(S,R,T){if(k.props.syncId===S){if(T===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(R)}}),at(k,"handleBrushChange",function(S){var R=S.startIndex,T=S.endIndex;if(R!==k.state.dataStartIndex||T!==k.state.dataEndIndex){var O=k.state.updateId;k.setState(function(){return ve({dataStartIndex:R,dataEndIndex:T},g({props:k.props,dataStartIndex:R,dataEndIndex:T,updateId:O},k.state))}),k.triggerSyncEvent({dataStartIndex:R,dataEndIndex:T})}}),at(k,"handleMouseEnter",function(S){var R=k.getMouseInfo(S);if(R){var T=ve(ve({},R),{},{isTooltipActive:!0});k.setState(T),k.triggerSyncEvent(T);var O=k.props.onMouseEnter;dt(O)&&O(T,S)}}),at(k,"triggeredAfterMouseMove",function(S){var R=k.getMouseInfo(S),T=R?ve(ve({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(T),k.triggerSyncEvent(T);var O=k.props.onMouseMove;dt(O)&&O(T,S)}),at(k,"handleItemMouseEnter",function(S){k.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),at(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),at(k,"handleMouseMove",function(S){S.persist(),k.throttleTriggeredAfterMouseMove(S)}),at(k,"handleMouseLeave",function(S){k.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};k.setState(R),k.triggerSyncEvent(R);var T=k.props.onMouseLeave;dt(T)&&T(R,S)}),at(k,"handleOuterEvent",function(S){var R=Zte(S),T=Ws(k.props,"".concat(R));if(R&&dt(T)){var O,U;/.*touch.*/i.test(R)?U=k.getMouseInfo(S.changedTouches[0]):U=k.getMouseInfo(S),T((O=U)!==null&&O!==void 0?O:{},S)}}),at(k,"handleClick",function(S){var R=k.getMouseInfo(S);if(R){var T=ve(ve({},R),{},{isTooltipActive:!0});k.setState(T),k.triggerSyncEvent(T);var O=k.props.onClick;dt(O)&&O(T,S)}}),at(k,"handleMouseDown",function(S){var R=k.props.onMouseDown;if(dt(R)){var T=k.getMouseInfo(S);R(T,S)}}),at(k,"handleMouseUp",function(S){var R=k.props.onMouseUp;if(dt(R)){var T=k.getMouseInfo(S);R(T,S)}}),at(k,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),at(k,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&k.handleMouseDown(S.changedTouches[0])}),at(k,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&k.handleMouseUp(S.changedTouches[0])}),at(k,"handleDoubleClick",function(S){var R=k.props.onDoubleClick;if(dt(R)){var T=k.getMouseInfo(S);R(T,S)}}),at(k,"handleContextMenu",function(S){var R=k.props.onContextMenu;if(dt(R)){var T=k.getMouseInfo(S);R(T,S)}}),at(k,"triggerSyncEvent",function(S){k.props.syncId!==void 0&&V1.emit(G1,k.props.syncId,S,k.eventEmitterSymbol)}),at(k,"applySyncEvent",function(S){var R=k.props,T=R.layout,O=R.syncMethod,U=k.state.updateId,D=S.dataStartIndex,I=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)k.setState(ve({dataStartIndex:D,dataEndIndex:I},g({props:k.props,dataStartIndex:D,dataEndIndex:I,updateId:U},k.state)));else if(S.activeTooltipIndex!==void 0){var B=S.chartX,M=S.chartY,W=S.activeTooltipIndex,V=k.state,Q=V.offset,H=V.tooltipTicks;if(!Q)return;if(typeof O=="function")W=O(H,S);else if(O==="value"){W=-1;for(var X=0;X<H.length;X++)if(H[X].value===S.activeLabel){W=X;break}}var K=ve(ve({},Q),{},{x:Q.left,y:Q.top}),z=Math.min(B,K.x+K.width),q=Math.min(M,K.y+K.height),ee=H[W]&&H[W].value,oe=ok(k.state,k.props.data,W),ce=H[W]?{x:T==="horizontal"?H[W].coordinate:z,y:T==="horizontal"?q:H[W].coordinate}:sF;k.setState(ve(ve({},S),{},{activeLabel:ee,activeCoordinate:ce,activePayload:oe,activeTooltipIndex:W}))}else k.setState(S)}),at(k,"renderCursor",function(S){var R,T=k.state,O=T.isTooltipActive,U=T.activeCoordinate,D=T.activePayload,I=T.offset,B=T.activeTooltipIndex,M=T.tooltipAxisBandSize,W=k.getTooltipEventType(),V=(R=S.props.active)!==null&&R!==void 0?R:O,Q=k.props.layout,H=S.key||"_recharts-cursor";return $.createElement(Sxe,{key:H,activeCoordinate:U,activePayload:D,activeTooltipIndex:B,chartName:n,element:S,isActive:V,layout:Q,offset:I,tooltipAxisBandSize:M,tooltipEventType:W})}),at(k,"renderPolarAxis",function(S,R,T){var O=Ws(S,"type.axisType"),U=Ws(k.state,"".concat(O,"Map")),D=S.type.defaultProps,I=D!==void 0?ve(ve({},D),S.props):S.props,B=U&&U[I["".concat(O,"Id")]];return j.cloneElement(S,ve(ve({},B),{},{className:yt(O,B.className),key:S.key||"".concat(R,"-").concat(T),ticks:vi(B,!0)}))}),at(k,"renderPolarGrid",function(S){var R=S.props,T=R.radialLines,O=R.polarAngles,U=R.polarRadius,D=k.state,I=D.radiusAxisMap,B=D.angleAxisMap,M=yo(I),W=yo(B),V=W.cx,Q=W.cy,H=W.innerRadius,X=W.outerRadius;return j.cloneElement(S,{polarAngles:Array.isArray(O)?O:vi(W,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(U)?U:vi(M,!0).map(function(K){return K.coordinate}),cx:V,cy:Q,innerRadius:H,outerRadius:X,key:S.key||"polar-grid",radialLines:T})}),at(k,"renderLegend",function(){var S=k.state.formattedGraphicalItems,R=k.props,T=R.children,O=R.width,U=R.height,D=k.props.margin||{},I=O-(D.left||0)-(D.right||0),B=Y$({children:T,formattedGraphicalItems:S,legendWidth:I,legendContent:u});if(!B)return null;var M=B.item,W=kM(B,kxe);return j.cloneElement(M,ve(ve({},W),{},{chartWidth:O,chartHeight:U,margin:D,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),at(k,"renderTooltip",function(){var S,R=k.props,T=R.children,O=R.accessibilityLayer,U=ps(T,Pn);if(!U)return null;var D=k.state,I=D.isTooltipActive,B=D.activeCoordinate,M=D.activePayload,W=D.activeLabel,V=D.offset,Q=(S=U.props.active)!==null&&S!==void 0?S:I;return j.cloneElement(U,{viewBox:ve(ve({},V),{},{x:V.left,y:V.top}),active:Q,label:W,payload:Q?M:[],coordinate:B,accessibilityLayer:O})}),at(k,"renderBrush",function(S){var R=k.props,T=R.margin,O=R.data,U=k.state,D=U.offset,I=U.dataStartIndex,B=U.dataEndIndex,M=U.updateId;return j.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Ep(k.handleBrushChange,S.props.onChange),data:O,x:Oe(S.props.x)?S.props.x:D.left,y:Oe(S.props.y)?S.props.y:D.top+D.height+D.brushBottom-(T.bottom||0),width:Oe(S.props.width)?S.props.width:D.width,startIndex:I,endIndex:B,updateId:"brush-".concat(M)})}),at(k,"renderReferenceElement",function(S,R,T){if(!S)return null;var O=k,U=O.clipPathId,D=k.state,I=D.xAxisMap,B=D.yAxisMap,M=D.offset,W=S.type.defaultProps||{},V=S.props,Q=V.xAxisId,H=Q===void 0?W.xAxisId:Q,X=V.yAxisId,K=X===void 0?W.yAxisId:X;return j.cloneElement(S,{key:S.key||"".concat(R,"-").concat(T),xAxis:I[H],yAxis:B[K],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:U})}),at(k,"renderActivePoints",function(S){var R=S.item,T=S.activePoint,O=S.basePoint,U=S.childIndex,D=S.isRange,I=[],B=R.props.key,M=R.item.type.defaultProps!==void 0?ve(ve({},R.item.type.defaultProps),R.item.props):R.item.props,W=M.activeDot,V=M.dataKey,Q=ve(ve({index:U,dataKey:V,cx:T.x,cy:T.y,r:4,fill:QC(R.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},ut(W,!1)),hv(W));return I.push(A.renderActiveDot(W,Q,"".concat(B,"-activePoint-").concat(U))),O?I.push(A.renderActiveDot(W,ve(ve({},Q),{},{cx:O.x,cy:O.y}),"".concat(B,"-basePoint-").concat(U))):D&&I.push(null),I}),at(k,"renderGraphicChild",function(S,R,T){var O=k.filterFormatItem(S,R,T);if(!O)return null;var U=k.getTooltipEventType(),D=k.state,I=D.isTooltipActive,B=D.tooltipAxis,M=D.activeTooltipIndex,W=D.activeLabel,V=k.props.children,Q=ps(V,Pn),H=O.props,X=H.points,K=H.isRange,z=H.baseLine,q=O.item.type.defaultProps!==void 0?ve(ve({},O.item.type.defaultProps),O.item.props):O.item.props,ee=q.activeDot,oe=q.hide,ce=q.activeBar,ye=q.activeShape,de=!!(!oe&&I&&Q&&(ee||ce||ye)),fe={};U!=="axis"&&Q&&Q.props.trigger==="click"?fe={onClick:Ep(k.handleItemMouseEnter,S.props.onClick)}:U!=="axis"&&(fe={onMouseLeave:Ep(k.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Ep(k.handleItemMouseEnter,S.props.onMouseEnter)});var he=j.cloneElement(S,ve(ve({},O.props),fe));function re(It){return typeof B.dataKey=="function"?B.dataKey(It.payload):null}if(de)if(M>=0){var ge,le;if(B.dataKey&&!B.allowDuplicatedCategory){var Ye=typeof B.dataKey=="function"?re:"payload.".concat(B.dataKey.toString());ge=uv(X,Ye,W),le=K&&z&&uv(z,Ye,W)}else ge=X?.[M],le=K&&z&&z[M];if(ye||ce){var _e=S.props.activeIndex!==void 0?S.props.activeIndex:M;return[j.cloneElement(S,ve(ve(ve({},O.props),fe),{},{activeIndex:_e})),null,null]}if(!mt(ge))return[he].concat(Ad(k.renderActivePoints({item:O,activePoint:ge,basePoint:le,childIndex:M,isRange:K})))}else{var Et,kt=(Et=k.getItemByXY(k.state.activeCoordinate))!==null&&Et!==void 0?Et:{graphicalItem:he},jt=kt.graphicalItem,Br=jt.item,er=Br===void 0?S:Br,gr=jt.childIndex,yr=ve(ve(ve({},O.props),fe),{},{activeIndex:gr});return[j.cloneElement(er,yr),null,null]}return K?[he,null,null]:[he,null]}),at(k,"renderCustomized",function(S,R,T){return j.cloneElement(S,ve(ve({key:"recharts-customized-".concat(T)},k.props),k.state))}),at(k,"renderMap",{CartesianGrid:{handler:Op,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:Op},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:Op},YAxis:{handler:Op},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((C=E.id)!==null&&C!==void 0?C:Qd("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=Jz(k.triggeredAfterMouseMove,(w=E.throttleDelay)!==null&&w!==void 0?w:1e3/60),k.state={},k}return Lxe(A,y),Oxe(A,[{key:"componentDidMount",value:function(){var C,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,w=C.children,k=C.data,S=C.height,R=C.layout,T=ps(w,Pn);if(T){var O=T.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,D=ok(this.state,k,O,U),I=this.state.tooltipTicks[O].coordinate,B=(this.state.offset.top+S)/2,M=R==="horizontal",W=M?{x:I,y:B}:{y:I,x:B},V=this.state.formattedGraphicalItems.find(function(H){var X=H.item;return X.type.name==="Scatter"});V&&(W=ve(ve({},W),V.props.points[O].tooltipPosition),D=V.props.points[O].tooltipPayload);var Q={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:U,activePayload:D,activeCoordinate:W};this.setState(Q),this.renderCursor(T),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var k,S;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(C){VN([ps(C.children,Pn)],[ps(this.props.children,Pn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=ps(this.props.children,Pn);if(C&&typeof C.props.shared=="boolean"){var w=C.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var w=this.container,k=w.getBoundingClientRect(),S=zae(k),R={chartX:Math.round(C.pageX-S.left),chartY:Math.round(C.pageY-S.top)},T=k.width/w.offsetWidth||1,O=this.inRange(R.chartX,R.chartY,T);if(!O)return null;var U=this.state,D=U.xAxisMap,I=U.yAxisMap,B=this.getTooltipEventType(),M=AM(this.state,this.props.data,this.props.layout,O);if(B!=="axis"&&D&&I){var W=yo(D).scale,V=yo(I).scale,Q=W&&W.invert?W.invert(R.chartX):null,H=V&&V.invert?V.invert(R.chartY):null;return ve(ve({},R),{},{xValue:Q,yValue:H},M)}return M?ve(ve({},R),M):null}},{key:"inRange",value:function(C,w){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,R=C/k,T=w/k;if(S==="horizontal"||S==="vertical"){var O=this.state.offset,U=R>=O.left&&R<=O.left+O.width&&T>=O.top&&T<=O.top+O.height;return U?{x:R,y:T}:null}var D=this.state,I=D.angleAxisMap,B=D.radiusAxisMap;if(I&&B){var M=yo(I);return $I({x:R,y:T},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,w=this.getTooltipEventType(),k=ps(C,Pn),S={};k&&w==="axis"&&(k.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=hv(this.props,this.handleOuterEvent);return ve(ve({},R),S)}},{key:"addListener",value:function(){V1.on(G1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){V1.removeListener(G1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,w,k){for(var S=this.state.formattedGraphicalItems,R=0,T=S.length;R<T;R++){var O=S[R];if(O.item===C||O.props.key===C.key||w===bi(O.item.type)&&k===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,w=this.state.offset,k=w.left,S=w.top,R=w.height,T=w.width;return $.createElement("defs",null,$.createElement("clipPath",{id:C},$.createElement("rect",{x:k,y:S,height:R,width:T})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(w,k){var S=SM(k,2),R=S[0],T=S[1];return ve(ve({},w),{},at({},R,T.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(w,k){var S=SM(k,2),R=S[0],T=S[1];return ve(ve({},w),{},at({},R,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[C])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(C){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[C])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(C){var w=this.state,k=w.formattedGraphicalItems,S=w.activeItem;if(k&&k.length)for(var R=0,T=k.length;R<T;R++){var O=k[R],U=O.props,D=O.item,I=D.type.defaultProps!==void 0?ve(ve({},D.type.defaultProps),D.props):D.props,B=bi(D.type);if(B==="Bar"){var M=(U.data||[]).find(function(H){return rme(C,H)});if(M)return{graphicalItem:O,payload:M}}else if(B==="RadialBar"){var W=(U.data||[]).find(function(H){return $I(C,H)});if(W)return{graphicalItem:O,payload:W}}else if(ag(O,S)||ig(O,S)||vm(O,S)){var V=Vme({graphicalItem:O,activeTooltipItem:S,itemData:I.data}),Q=I.activeIndex===void 0?V:I.activeIndex;return{graphicalItem:ve(ve({},O),{},{childIndex:Q}),payload:vm(O,S)?I.data[V]:O.props.data[V]}}}return null}},{key:"render",value:function(){var C=this;if(!ZT(this))return null;var w=this.props,k=w.children,S=w.className,R=w.width,T=w.height,O=w.style,U=w.compact,D=w.title,I=w.desc,B=kM(w,Cxe),M=ut(B,!1);if(U)return $.createElement(nM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(KN,qc({},M,{width:R,height:T,title:D,desc:I}),this.renderClipPath(),QT(k,this.renderMap)));if(this.props.accessibilityLayer){var W,V;M.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,M.role=(V=this.props.role)!==null&&V!==void 0?V:"application",M.onKeyDown=function(H){C.accessibilityManager.keyboardEvent(H)},M.onFocus=function(){C.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return $.createElement(nM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",qc({className:yt("recharts-wrapper",S),style:ve({position:"relative",cursor:"default",width:R,height:T},O)},Q,{ref:function(X){C.container=X}}),$.createElement(KN,qc({},M,{width:R,height:T,title:D,desc:I,style:Uxe}),this.renderClipPath(),QT(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);at(b,"displayName",n),at(b,"defaultProps",ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),at(b,"getDerivedStateFromProps",function(y,A){var E=y.dataKey,C=y.data,w=y.children,k=y.width,S=y.height,R=y.layout,T=y.stackOffset,O=y.margin,U=A.dataStartIndex,D=A.dataEndIndex;if(A.updateId===void 0){var I=EM(y);return ve(ve(ve({},I),{},{updateId:0},g(ve(ve({props:y},I),{},{updateId:0}),A)),{},{prevDataKey:E,prevData:C,prevWidth:k,prevHeight:S,prevLayout:R,prevStackOffset:T,prevMargin:O,prevChildren:w})}if(E!==A.prevDataKey||C!==A.prevData||k!==A.prevWidth||S!==A.prevHeight||R!==A.prevLayout||T!==A.prevStackOffset||!Yc(O,A.prevMargin)){var B=EM(y),M={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},W=ve(ve({},AM(A,C,R)),{},{updateId:A.updateId+1}),V=ve(ve(ve({},B),M),W);return ve(ve(ve({},V),g(ve({props:y},V),A)),{},{prevDataKey:E,prevData:C,prevWidth:k,prevHeight:S,prevLayout:R,prevStackOffset:T,prevMargin:O,prevChildren:w})}if(!VN(w,A.prevChildren)){var Q,H,X,K,z=ps(w,vd),q=z&&(Q=(H=z.props)===null||H===void 0?void 0:H.startIndex)!==null&&Q!==void 0?Q:U,ee=z&&(X=(K=z.props)===null||K===void 0?void 0:K.endIndex)!==null&&X!==void 0?X:D,oe=q!==U||ee!==D,ce=!mt(C),ye=ce&&!oe?A.updateId:A.updateId+1;return ve(ve({updateId:ye},g(ve(ve({props:y},A),{},{updateId:ye,dataStartIndex:q,dataEndIndex:ee}),A)),{},{prevChildren:w,dataStartIndex:q,dataEndIndex:ee})}return null}),at(b,"renderActiveDot",function(y,A,E){var C;return j.isValidElement(y)?C=j.cloneElement(y,A):dt(y)?C=y(A):C=$.createElement(sg,A),$.createElement(Xt,{className:"recharts-active-dot",key:E},C)});var x=j.forwardRef(function(A,E){return $.createElement(b,qc({},A,{ref:E}))});return x.displayName=b.displayName,x},h2=u2({chartName:"LineChart",GraphicalChild:Kl,axisComponents:[{axisType:"xAxis",AxisComp:Vs},{axisType:"yAxis",AxisComp:Gs}],formatAxisMap:t2}),mg=u2({chartName:"BarChart",GraphicalChild:wa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Vs},{axisType:"yAxis",AxisComp:Gs}],formatAxisMap:t2}),Qxe=u2({chartName:"AreaChart",GraphicalChild:Ha,axisComponents:[{axisType:"xAxis",AxisComp:Vs},{axisType:"yAxis",AxisComp:Gs}],formatAxisMap:t2});function xi({title:t,value:r,change:n,changeType:s="neutral",icon:a,iconColor:i,trend:o,sparklineData:l}){const d=()=>{switch(s){case"positive":return"var(--success)";case"negative":return"var(--danger)";default:return"var(--muted-foreground)"}},u=()=>{if(!o)return null;switch(o){case"up":return e.jsx("span",{style:{fontSize:"10px"},children:""});case"down":return e.jsx("span",{style:{fontSize:"10px"},children:""});case"flat":return e.jsx("span",{style:{fontSize:"10px"},children:""})}},f=$.useMemo(()=>l?.map((m,v)=>({value:m,index:v}))||[],[l]);return e.jsxs(se,{className:"group p-6 transition-all duration-200 cursor-pointer hover:scale-[1.02]",style:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-sm)"},onMouseEnter:m=>{m.currentTarget.style.boxShadow="var(--shadow-lg)",m.currentTarget.style.transform="translateY(-2px)",m.currentTarget.style.borderColor="var(--primary)"},onMouseLeave:m=>{m.currentTarget.style.boxShadow="var(--shadow-sm)",m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.borderColor="var(--border)"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",fontWeight:"var(--font-weight-medium)",letterSpacing:"-0.005em",lineHeight:"var(--line-height-snug)"},children:t}),e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 transition-all duration-200 group-hover:scale-110",style:{backgroundColor:i?`${i}15`:"color-mix(in srgb, var(--primary) 12%, transparent)",border:`1px solid ${i?`${i}20`:"color-mix(in srgb, var(--primary) 15%, transparent)"}`},children:e.jsx(a,{className:"w-[20px] h-[20px]",style:{color:i||"var(--primary)"},strokeWidth:2.5})})]}),e.jsx("h3",{className:"tracking-tight mb-3",style:{fontSize:"36px",lineHeight:"1.1",fontWeight:"var(--font-weight-bold)",color:"var(--text)",background:"linear-gradient(135deg, var(--text) 0%, var(--text-secondary) 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:r}),n&&e.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-lg px-3 py-1.5 mb-4",style:{fontSize:"12px",color:d(),backgroundColor:s==="positive"?"var(--success-bg)":s==="negative"?"var(--danger-bg)":"var(--accent)",fontWeight:"var(--font-weight-semibold)",border:`1px solid ${s==="positive"?"var(--success-border)":s==="negative"?"var(--danger-border)":"var(--border)"}`},children:[u(),e.jsx("span",{children:n})]}),l&&l.length>0&&e.jsx("div",{style:{height:"40px",marginTop:"auto"},children:e.jsx(Po,{width:"100%",height:"100%",children:e.jsx(h2,{data:f,children:e.jsx(Kl,{type:"monotone",dataKey:"value",stroke:i||"var(--primary)",strokeWidth:2,dot:!1,isAnimationActive:!1,strokeDasharray:"none"})})})})]})}function RM({suggestions:t}){const r=o=>{switch(o){case"insight":return Sa;case"recommendation":return Qt;case"alert":return fr;case"approval":return cr}},n=o=>{switch(o){case"insight":return"var(--info)";case"recommendation":return"var(--primary)";case"alert":return"var(--danger)";case"approval":return"var(--success)"}},s=t.filter(o=>o.type==="alert"),a=t.filter(o=>o.type==="recommendation"),i=t.filter(o=>o.type==="insight"||o.type==="approval");return e.jsxs(se,{className:"p-5 h-full flex flex-col",style:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-sm)"},children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)"},children:e.jsx(Qt,{className:"w-[18px] h-[18px] text-white",strokeWidth:2.5})}),e.jsx("div",{children:e.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",letterSpacing:"-0.01em"},children:"AI Insights"})})]})}),(s.length>0||a.length>0)&&e.jsx(L,{variant:"outline",size:"sm",className:"w-full mb-4 h-8 text-xs font-semibold",style:{borderColor:"var(--primary)",color:"var(--primary)"},onClick:()=>{Ae.success("Applied all safe fixes successfully"),console.log("Applied all safe fixes")},children:"Apply all safe fixes"}),e.jsxs("div",{className:"flex-1 overflow-auto space-y-4",children:[s.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wide mb-2",style:{color:"var(--muted-foreground)"},children:"Critical"}),e.jsx("div",{className:"space-y-2",children:s.map((o,l)=>{const d=r(o.type);return e.jsx("div",{className:"group p-3 rounded-lg transition-all duration-150 cursor-pointer",style:{backgroundColor:"var(--danger-bg-subtle)",border:"1px solid var(--danger-border)"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="var(--danger-bg)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="var(--danger-bg-subtle)"},children:e.jsxs("div",{className:"flex items-start gap-2.5",children:[e.jsx(d,{className:"w-4 h-4 flex-shrink-0 mt-0.5",style:{color:"var(--danger)"},strokeWidth:2}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h5",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"2px",lineHeight:"var(--line-height-snug)"},children:o.title}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",lineHeight:"var(--line-height-normal)",marginBottom:o.action?"6px":"0"},children:o.description}),o.action&&e.jsxs(L,{size:"sm",variant:"ghost",className:"h-auto p-0 hover:underline text-xs",style:{color:"var(--danger)",fontWeight:"var(--font-weight-medium)"},onClick:()=>{Ae.info(`Reviewing conflicts: ${o.title}`),console.log("Review conflicts clicked:",o.title)},children:[o.action," "]})]})]})},`critical-${l}`)})})]}),a.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wide mb-2",style:{color:"var(--muted-foreground)"},children:"Recommendations"}),e.jsx("div",{className:"space-y-2",children:a.map((o,l)=>{const d=r(o.type);return e.jsx("div",{className:"group p-3 rounded-lg transition-all duration-150 cursor-pointer",style:{backgroundColor:"var(--accent)",border:"1px solid var(--border)"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="var(--surface)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="var(--accent)"},children:e.jsxs("div",{className:"flex items-start gap-2.5",children:[e.jsx(d,{className:"w-4 h-4 flex-shrink-0 mt-0.5",style:{color:"var(--primary)"},strokeWidth:2}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h5",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"2px",lineHeight:"var(--line-height-snug)"},children:o.title}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",lineHeight:"var(--line-height-normal)",marginBottom:o.action?"6px":"0"},children:o.description}),o.action&&e.jsxs(L,{size:"sm",variant:"ghost",className:"h-auto p-0 hover:underline text-xs",style:{color:"var(--primary)",fontWeight:"var(--font-weight-medium)"},onClick:()=>{Ae.info(`Viewing details: ${o.title}`),console.log("View details clicked:",o.title)},children:[o.action," "]})]})]})},`warning-${l}`)})})]}),i.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wide mb-2",style:{color:"var(--muted-foreground)"},children:"Tips"}),e.jsx("div",{className:"space-y-2",children:i.map((o,l)=>{const d=r(o.type);return e.jsx("div",{className:"group p-3 rounded-lg transition-all duration-150 cursor-pointer",style:{backgroundColor:"var(--accent)",border:"1px solid var(--border)"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="var(--surface)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="var(--accent)"},children:e.jsxs("div",{className:"flex items-start gap-2.5",children:[e.jsx(d,{className:"w-4 h-4 flex-shrink-0 mt-0.5",style:{color:n(o.type)},strokeWidth:2}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h5",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"2px",lineHeight:"var(--line-height-snug)"},children:o.title}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",lineHeight:"var(--line-height-normal)"},children:o.description})]})]})},`tips-${l}`)})})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t",style:{borderColor:"var(--border)"},children:e.jsx(L,{variant:"ghost",size:"sm",className:"w-full h-8 text-xs font-medium justify-center",style:{color:"var(--muted-foreground)"},onClick:()=>{Ae.info("Opening help documentation"),console.log("Why flagged? Learn more clicked")},children:"Why flagged? Learn more "})})]})}function iF({variant:t="danger",icon:r,title:n,description:s,action:a,onDismiss:i}){const l=(()=>{switch(t){case"danger":return{bg:"#FEF2F2",border:"#FEE2E2",text:"#991B1B",iconColor:"#DC2626"};case"warning":return{bg:"#FFFBEB",border:"#FED7AA",text:"#92400E",iconColor:"#F59E0B"};case"info":return{bg:"#EFF6FF",border:"#DBEAFE",text:"#1E3A8A",iconColor:"#3B82F6"}}})(),d=t==="danger"?e.jsx(S5,{}):e.jsx(fr,{});return e.jsxs("div",{className:"rounded-lg border p-3 flex items-start gap-3 transition-all duration-150",style:{backgroundColor:l.bg,borderColor:l.border,borderWidth:"1px"},children:[e.jsx("div",{className:"flex-shrink-0 w-5 h-5 mt-0.5",style:{color:l.iconColor},children:r||d}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold mb-0.5",style:{fontSize:"var(--text-body)",color:l.text,lineHeight:"var(--line-height-snug)"},children:n}),s&&e.jsx("p",{style:{fontSize:"var(--text-sm)",color:l.text,opacity:.8,lineHeight:"var(--line-height-normal)"},children:s})]}),a&&e.jsx(L,{size:"sm",variant:"outline",onClick:a.onClick,className:"h-7 text-xs font-semibold flex-shrink-0",style:{color:l.text,borderColor:l.border,backgroundColor:"white"},children:a.label})]})}),i&&e.jsx("button",{onClick:i,className:"flex-shrink-0 w-5 h-5 flex items-center justify-center rounded hover:bg-black/5 transition-colors","aria-label":"Dismiss alert",style:{color:l.text},children:e.jsx($t,{className:"w-4 h-4"})})]})}iF.displayName="AlertBar";function ege(){const{user:t}=Wl(),r=[{id:"REQ-2024-1452",app:"Salesforce",role:"Sales Manager",status:"Approved",date:"2024-09-28",approver:"Mike Johnson"},{id:"REQ-2024-1398",app:"Workday",role:"Employee Self-Service",status:"Pending",date:"2024-09-25",approver:"Sarah Chen"},{id:"REQ-2024-1234",app:"Oracle ERP",role:"Finance Viewer",status:"Rejected",date:"2024-09-20",approver:"David Kim"}],n=[{label:"Active Access",value:"12",icon:jn,color:"var(--success)"},{label:"Pending Requests",value:"1",icon:sr,color:"var(--warning)"},{label:"Total Requests",value:"8",icon:Pi,color:"var(--primary)"}];return e.jsxs("div",{style:{padding:"24px 32px",maxWidth:"1440px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsxs("h1",{style:{fontSize:"30px",fontWeight:"600",color:"var(--text)",marginBottom:"8px"},children:["Welcome back, ",t.name.split(" ")[0]]}),e.jsx("p",{style:{fontSize:"14px",color:"var(--muted-foreground)"},children:"View your access requests and manage your permissions"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"32px"},children:n.map((s,a)=>{const i=s.icon;return e.jsx(se,{style:{padding:"24px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"10px",backgroundColor:"var(--surface)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(i,{className:"w-6 h-6",style:{color:s.color},strokeWidth:2})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"28px",fontWeight:"600",color:"var(--text)",lineHeight:"1.2"},children:s.value}),e.jsx("div",{style:{fontSize:"13px",color:"var(--muted-foreground)",marginTop:"2px"},children:s.label})]})]})},a)})}),e.jsx(se,{style:{padding:"24px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px",marginBottom:"32px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",color:"var(--text)",marginBottom:"4px"},children:"Need Access?"}),e.jsx("p",{style:{fontSize:"13px",color:"var(--muted-foreground)"},children:"Request access to applications and resources"})]}),e.jsx(Eo,{to:"/requests",children:e.jsxs(L,{style:{backgroundColor:"var(--primary)",color:"white",height:"40px",padding:"0 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(At,{className:"w-4 h-4",strokeWidth:2.5}),"New Request"]})})]})}),e.jsxs(se,{style:{padding:"0",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px",overflow:"hidden"},children:[e.jsx("div",{style:{padding:"24px",borderBottom:"1px solid var(--border)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",color:"var(--text)"},children:"My Recent Requests"}),e.jsx(Eo,{to:"/requests",children:e.jsx(L,{variant:"ghost",size:"sm",style:{fontSize:"13px",color:"var(--primary)"},children:"View All"})})]})}),e.jsx("div",{style:{padding:"0"},children:r.map(s=>e.jsx("div",{style:{padding:"20px 24px",borderBottom:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",transition:"background-color 150ms ease",cursor:"pointer"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="var(--surface)"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},children:e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text)"},children:s.id}),e.jsx(J,{style:{backgroundColor:s.status==="Approved"?"var(--success-bg)":s.status==="Pending"?"var(--warning-bg)":"var(--danger-bg)",color:s.status==="Approved"?"var(--success)":s.status==="Pending"?"var(--warning)":"var(--danger)",border:`1px solid ${s.status==="Approved"?"var(--success-border)":s.status==="Pending"?"var(--warning-border)":"var(--danger-border)"}`,fontSize:"12px",fontWeight:"600",padding:"4px 10px",borderRadius:"6px"},children:s.status})]}),e.jsxs("div",{style:{fontSize:"14px",color:"var(--text)",marginBottom:"4px"},children:[s.app," - ",s.role]}),e.jsxs("div",{style:{fontSize:"13px",color:"var(--muted-foreground)"},children:["Requested on ",new Date(s.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),"  Approver: ",s.approver]})]})},s.id))})]})]})}function tge(){const{user:t}=Wl(),r=[{id:"REQ-2024-1489",user:"Maria Chen",app:"Salesforce",role:"Sales Rep",risk:"Low",submitted:"2024-09-29",department:"Sales"},{id:"REQ-2024-1476",user:"Alex Johnson",app:"Oracle ERP",role:"AP Processor",risk:"High",submitted:"2024-09-28",sodHits:2,department:"Finance"},{id:"REQ-2024-1465",user:"Sam Patel",app:"Workday",role:"Manager",risk:"Medium",submitted:"2024-09-27",department:"IT Operations"}],n=[{label:"Pending Approvals",value:"3",icon:sr,color:"var(--warning)"},{label:"Approved Today",value:"7",icon:jn,color:"var(--success)"},{label:"Team Members",value:"24",icon:zt,color:"var(--primary)"},{label:"High Risk Items",value:"1",icon:et,color:"var(--danger)"}];return e.jsxs("div",{style:{padding:"24px 32px",maxWidth:"1440px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsx("h1",{style:{fontSize:"30px",fontWeight:"600",color:"var(--text)",marginBottom:"8px"},children:"Approvals Dashboard"}),e.jsx("p",{style:{fontSize:"14px",color:"var(--muted-foreground)"},children:"Review and approve pending access requests for your team"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"32px"},children:n.map((s,a)=>{const i=s.icon;return e.jsx(se,{style:{padding:"24px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"10px",backgroundColor:"var(--surface)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(i,{className:"w-6 h-6",style:{color:s.color},strokeWidth:2})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"28px",fontWeight:"600",color:"var(--text)",lineHeight:"1.2"},children:s.value}),e.jsx("div",{style:{fontSize:"13px",color:"var(--muted-foreground)",marginTop:"2px"},children:s.label})]})]})},a)})}),r.some(s=>s.risk==="High"||s.sodHits)&&e.jsx(se,{style:{padding:"20px 24px",backgroundColor:"rgb(254 242 242)",border:"1px solid var(--danger)",borderRadius:"10px",marginBottom:"32px"},children:e.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"flex-start"},children:[e.jsx(et,{className:"w-5 h-5",style:{color:"var(--danger)",flexShrink:0,marginTop:"2px"},strokeWidth:2}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",color:"var(--danger)",marginBottom:"6px"},children:"High-Risk Approval Required"}),e.jsx("p",{style:{fontSize:"13px",color:"var(--text)",marginBottom:"12px"},children:"1 request has high-risk access or SoD conflicts requiring immediate review"}),e.jsx(Eo,{to:"/approvals",children:e.jsx(L,{size:"sm",style:{backgroundColor:"var(--danger)",color:"white",height:"32px",padding:"0 16px",borderRadius:"6px",fontSize:"13px",fontWeight:"500"},children:"Review Now"})})]})]})}),e.jsxs(se,{style:{padding:"0",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px",overflow:"hidden"},children:[e.jsx("div",{style:{padding:"24px",borderBottom:"1px solid var(--border)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",color:"var(--text)"},children:"Pending Approvals"}),e.jsx(Eo,{to:"/approvals",children:e.jsx(L,{variant:"ghost",size:"sm",style:{fontSize:"13px",color:"var(--primary)"},children:"View All"})})]})}),e.jsx("div",{style:{padding:"0"},children:r.map(s=>e.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",transition:"background-color 150ms ease",cursor:"pointer"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="var(--surface)"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},children:[e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px",flexWrap:"wrap"},children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text)"},children:s.id}),e.jsxs(J,{style:{backgroundColor:s.risk==="High"?"var(--danger-bg)":s.risk==="Medium"?"var(--warning-bg)":"var(--success-bg)",color:s.risk==="High"?"var(--danger)":s.risk==="Medium"?"var(--warning)":"var(--success)",border:`1px solid ${s.risk==="High"?"var(--danger-border)":s.risk==="Medium"?"var(--warning-border)":"var(--success-border)"}`,fontSize:"12px",fontWeight:"600",padding:"4px 10px",borderRadius:"6px"},children:[s.risk," Risk"]}),s.sodHits&&e.jsxs(J,{style:{backgroundColor:"rgb(254 242 242)",color:"var(--danger)",border:"1px solid rgb(254 226 226)",fontSize:"12px",fontWeight:"600",padding:"4px 10px",borderRadius:"6px"},children:[s.sodHits," SoD Conflict",s.sodHits>1?"s":""]})]}),e.jsxs("div",{style:{fontSize:"14px",color:"var(--text)",marginBottom:"4px"},children:[s.user," - ",s.department]}),e.jsxs("div",{style:{fontSize:"13px",color:"var(--muted-foreground)"},children:[s.app,"  ",s.role,"  Submitted ",new Date(s.submitted).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[e.jsx(L,{size:"sm",variant:"outline",style:{height:"32px",padding:"0 14px",borderRadius:"6px",fontSize:"13px",borderColor:"var(--border)"},children:"Reject"}),e.jsx(L,{size:"sm",style:{backgroundColor:"var(--primary)",color:"white",height:"32px",padding:"0 14px",borderRadius:"6px",fontSize:"13px"},children:"Approve"})]})]},s.id))})]})]})}const rge=[{day:"Day 1",requests:12},{day:"Day 5",requests:19},{day:"Day 10",requests:15},{day:"Day 15",requests:28},{day:"Day 20",requests:22},{day:"Day 25",requests:35},{day:"Day 30",requests:30}],nge=[{app:"Oracle ERP",risk:85},{app:"Salesforce",risk:62},{app:"AWS Prod",risk:78},{app:"Azure AD",risk:45},{app:"Workday",risk:53}],TM=[{type:"alert",title:"High-risk SoD detected",description:"3 users have conflicting roles in Oracle ERP Finance module",action:"Review conflicts"},{type:"recommendation",title:"Optimize approval workflow",description:"Finance role approvals take 40% longer than average",action:"View details"},{type:"insight",title:"Dormant account spike",description:"15 accounts inactive for 90+ days in Sales department",action:"Start review"}],PM=[{id:1,user:"J. Smith",request:"Oracle ERP - AP Read",risk:"High",submitted:"2h ago"},{id:2,user:"R. Kumar",request:"SharePoint Finance Editors",risk:"Medium",submitted:"4h ago"},{id:3,user:"M. Chen",request:"Salesforce Admin",risk:"Low",submitted:"1d ago"}];function sge(){const{user:t}=Wl(),[r,n]=$.useState(!0);if(j.useEffect(()=>{const d=u=>{if((u.metaKey||u.ctrlKey)&&u.key==="k"){u.preventDefault();const f=document.querySelector('input[type="text"]');f&&f.focus()}};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[]),t.role==="end-user")return e.jsx(ege,{});if(t.role==="approver")return e.jsx(tge,{});const s=d=>{switch(d.toLowerCase()){case"high":return"var(--danger)";case"medium":return"var(--warning)";case"low":return"var(--success)";default:return"var(--muted)"}},a=[18,22,19,24,20,26,24],i=[3,5,4,6,5,8,7],o=[5,4,3,3,3,3,3],l=[8,6,5,4,3,2,2];return e.jsxs("div",{className:"p-6 lg:p-8 max-w-[1400px] mx-auto",children:[r&&e.jsx("div",{className:"mb-8",children:e.jsx(iF,{variant:"danger",title:"3 Segregation of Duties conflicts detected",description:"Users have conflicting roles that violate SoD policies in Oracle ERP Finance module",action:{label:"Review Conflicts",onClick:()=>console.log("Review conflicts")},onDismiss:()=>n(!1)})}),e.jsx("div",{className:"mb-10",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"tracking-tight",style:{fontSize:"36px",lineHeight:"1.2",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"8px"},children:["Welcome back, ",t.name]}),e.jsx("p",{style:{fontSize:"var(--text-lg)",color:"var(--text-secondary)",lineHeight:"var(--line-height-normal)"},children:"Here's what's happening with your identity governance today"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Last updated"}),e.jsx("div",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:new Date().toLocaleTimeString()})]}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[e.jsx(xi,{title:"Pending Approvals",value:24,change:"+3 today",changeType:"neutral",trend:"up",icon:sv,iconColor:"var(--primary)",sparklineData:a}),e.jsx(xi,{title:"High-Risk Alerts",value:7,change:"+2 this week",changeType:"negative",trend:"up",icon:et,iconColor:"var(--danger)",sparklineData:i}),e.jsx(xi,{title:"Reviews Due",value:3,change:"This month",changeType:"neutral",trend:"flat",icon:Ih,iconColor:"var(--warning)",sparklineData:o}),e.jsx(xi,{title:"Failed Provisions",value:2,change:"60% vs last week",changeType:"positive",trend:"down",icon:Cr,iconColor:"var(--success)",sparklineData:l})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-10",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs(se,{className:"p-6 transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-sm)"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 tracking-tight",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Access Requests Trend"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Daily request volume over the last 30 days"})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg px-3 py-1.5",style:{backgroundColor:"var(--success-bg)",border:"1px solid var(--success-border)"},children:[e.jsx("span",{className:"text-xs",style:{fontSize:"10px"},children:""}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"tracking-tight",style:{fontSize:"18px",fontWeight:"var(--font-weight-semibold)",color:"var(--success)",lineHeight:"1.2"},children:"161"}),e.jsx("div",{style:{fontSize:"11px",color:"var(--success)",fontWeight:"var(--font-weight-medium)"},children:"+12% vs last month"})]})]})]}),e.jsx(Po,{width:"100%",height:200,children:e.jsxs(h2,{data:rge,margin:{top:5,right:5,left:-20,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorRequests",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"var(--primary)",stopOpacity:.08}),e.jsx("stop",{offset:"95%",stopColor:"var(--primary)",stopOpacity:0})]})}),e.jsx(Oo,{strokeDasharray:"3 3",stroke:"var(--border)",opacity:.2,vertical:!1}),e.jsx(Vs,{dataKey:"day",stroke:"var(--muted-foreground)",style:{fontSize:"11px"},tickLine:!1,axisLine:!1,tick:{fill:"var(--muted-foreground)"}}),e.jsx(Gs,{stroke:"var(--muted-foreground)",style:{fontSize:"11px"},tickLine:!1,axisLine:!1,tick:{fill:"var(--muted-foreground)"},tickCount:5}),e.jsx(Pn,{contentStyle:{backgroundColor:"var(--popover)",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",fontSize:"var(--text-sm)",boxShadow:"var(--shadow-lg)",padding:"6px 10px"},cursor:{stroke:"var(--border)",strokeWidth:1}}),e.jsx(Kl,{type:"monotone",dataKey:"requests",stroke:"var(--primary)",strokeWidth:2,dot:{fill:"var(--primary)",strokeWidth:0,r:3},activeDot:{r:5,strokeWidth:2,stroke:"var(--bg)"},fill:"url(#colorRequests)",name:"Requests",isAnimationActive:!1})]})})]}),e.jsxs(se,{className:"p-5",style:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-sm)"},children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("h3",{className:"mb-1 tracking-tight",style:{fontSize:"18px",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Risk Score by Application"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Top 5 applications by risk level"})]}),e.jsx(Po,{width:"100%",height:200,children:e.jsxs(mg,{data:nge,layout:"vertical",margin:{left:-10,right:16,top:5,bottom:5},children:[e.jsx(Oo,{strokeDasharray:"3 3",stroke:"var(--border)",opacity:.2,horizontal:!1}),e.jsx(Vs,{type:"number",stroke:"var(--muted-foreground)",style:{fontSize:"11px"},tickLine:!1,axisLine:!1,tick:{fill:"var(--muted-foreground)"},domain:[0,100]}),e.jsx(Gs,{type:"category",dataKey:"app",stroke:"var(--text)",style:{fontSize:"13px",fontWeight:"var(--font-weight-medium)"},tickLine:!1,axisLine:!1,width:80,tick:{fill:"var(--text)"}}),e.jsx(Pn,{contentStyle:{backgroundColor:"var(--popover)",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",fontSize:"var(--text-sm)",boxShadow:"var(--shadow-lg)",padding:"6px 10px"},cursor:{fill:"var(--accent)",opacity:.3}}),e.jsx(wa,{dataKey:"risk",fill:"var(--danger)",radius:[0,4,4,0],background:{fill:"var(--accent)",radius:[0,4,4,0]},name:"Risk Score",isAnimationActive:!1})]})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(RM,{suggestions:TM})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(se,{className:"p-5",style:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-sm)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"tracking-tight",style:{fontSize:"18px",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"2px"},children:"My Tasks"}),e.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:[PM.length," pending approvals"]})]}),e.jsx(L,{variant:"ghost",size:"sm",className:"h-8 hover:bg-accent transition-colors text-xs",style:{fontWeight:"var(--font-weight-medium)"},onClick:()=>{Ae.info("Navigating to approvals page"),console.log("View all approvals clicked")},children:"View all "})]}),e.jsx("div",{className:"space-y-2.5",children:PM.map(d=>e.jsxs("div",{className:"group p-4 rounded-lg flex items-center justify-between transition-all duration-150 cursor-pointer",style:{backgroundColor:"var(--accent)",border:"1px solid var(--border)"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="var(--surface)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="var(--accent)"},children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx("span",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:d.user}),e.jsxs(J,{className:"inline-flex items-center gap-1 rounded-md px-2 py-0.5",style:{backgroundColor:d.risk==="High"?"var(--danger-bg)":d.risk==="Medium"?"var(--warning-bg)":"var(--success-bg)",color:s(d.risk),border:`1px solid ${d.risk==="High"?"var(--danger-border)":d.risk==="Medium"?"var(--warning-border)":"var(--success-border)"}`,fontSize:"11px",fontWeight:"var(--font-weight-semibold)"},children:[d.risk==="High"&&e.jsx(et,{className:"w-3 h-3"}),d.risk]})]}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--text)",marginBottom:"4px",fontWeight:"var(--font-weight-medium)"},children:d.request}),e.jsxs("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:["Submitted ",d.submitted]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx(L,{size:"sm",className:"h-8 text-xs shadow-sm hover:shadow transition-all duration-150",style:{backgroundColor:"var(--success)",fontWeight:"var(--font-weight-semibold)",paddingLeft:"12px",paddingRight:"12px"},onClick:()=>{Ae.success(`Approved request for ${d.user}`),console.log("Approved:",d)},children:"Approve"}),e.jsx(L,{size:"sm",variant:"outline",className:"h-8 text-xs hover:bg-accent transition-all duration-150",style:{fontWeight:"var(--font-weight-medium)"},onClick:()=>{Ae.error(`Denied request for ${d.user}`),console.log("Denied:",d)},children:"Deny"})]})]},d.id))})]})}),e.jsx("div",{className:"lg:hidden",children:e.jsx(RM,{suggestions:TM})})]})]})}var age="Label",oF=j.forwardRef((t,r)=>e.jsx(Fe.label,{...t,ref:r,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));oF.displayName=age;var ige=oF;function G({className:t,...r}){return e.jsx(ige,{"data-slot":"label",className:We("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}var fg="Tabs",[oge]=rn(fg,[Jd]),lF=Jd(),[lge,m2]=oge(fg),cF=j.forwardRef((t,r)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...u}=t,f=$l(l),[m,v]=Ns({prop:s,onChange:a,defaultProp:i??"",caller:fg});return e.jsx(lge,{scope:n,baseId:tn(),value:m,onValueChange:v,orientation:o,dir:f,activationMode:d,children:e.jsx(Fe.div,{dir:f,"data-orientation":o,...u,ref:r})})});cF.displayName=fg;var dF="TabsList",uF=j.forwardRef((t,r)=>{const{__scopeTabs:n,loop:s=!0,...a}=t,i=m2(dF,n),o=lF(n);return e.jsx(Zk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:e.jsx(Fe.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:r})})});uF.displayName=dF;var hF="TabsTrigger",mF=j.forwardRef((t,r)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=t,o=m2(hF,n),l=lF(n),d=vF(o.baseId,s),u=xF(o.baseId,s),f=s===o.value;return e.jsx(Xk,{asChild:!0,...l,focusable:!a,active:f,children:e.jsx(Fe.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:r,onMouseDown:Re(t.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:Re(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:Re(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!a&&m&&o.onValueChange(s)})})})});mF.displayName=hF;var fF="TabsContent",pF=j.forwardRef((t,r)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=t,l=m2(fF,n),d=vF(l.baseId,s),u=xF(l.baseId,s),f=s===l.value,m=j.useRef(f);return j.useEffect(()=>{const v=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(v)},[]),e.jsx(Fr,{present:a||f,children:({present:v})=>e.jsx(Fe.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:u,tabIndex:0,...o,ref:r,style:{...t.style,animationDuration:m.current?"0s":void 0},children:v&&i})})});pF.displayName=fF;function vF(t,r){return`${t}-trigger-${r}`}function xF(t,r){return`${t}-content-${r}`}var cge=cF,dge=uF,uge=mF,hge=pF;function pn({className:t,...r}){return e.jsx(cge,{"data-slot":"tabs",className:We("flex flex-col gap-2",t),...r})}const sn=j.forwardRef(({className:t,...r},n)=>e.jsx(dge,{ref:n,"data-slot":"tabs-list",className:We("bg-slate-100 dark:bg-slate-800/50 text-muted-foreground","border border-slate-300 dark:border-slate-700","rounded-lg p-1","inline-flex items-center","gap-1",t),...r}));sn.displayName="TabsList";function Ie({className:t,...r}){return e.jsx(uge,{"data-slot":"tabs-trigger",className:We("inline-flex items-center justify-center","whitespace-nowrap text-sm","px-4 py-2 rounded-md","transition-all duration-150","focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-0","data-[state=active]:bg-white dark:data-[state=active]:bg-slate-800","data-[state=active]:text-slate-900 dark:data-[state=active]:text-white","data-[state=active]:shadow-sm","[&[data-state=active]]:font-medium","font-medium","text-slate-600 dark:text-slate-400","hover:text-slate-900 dark:hover:text-slate-200","disabled:pointer-events-none disabled:opacity-50","[&_svg]:pointer-events-none [&_svg]:shrink-0",t),...r})}function De({className:t,...r}){return e.jsx(hge,{"data-slot":"tabs-content",className:We("outline-none",t),...r})}var pg="Dialog",[gF]=rn(pg),[mge,Ca]=gF(pg),yF=t=>{const{__scopeDialog:r,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,l=j.useRef(null),d=j.useRef(null),[u,f]=Ns({prop:s,defaultProp:a??!1,onChange:i,caller:pg});return e.jsx(mge,{scope:r,triggerRef:l,contentRef:d,contentId:tn(),titleId:tn(),descriptionId:tn(),open:u,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};yF.displayName=pg;var bF="DialogTrigger",fge=j.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Ca(bF,n),i=st(r,a.triggerRef);return e.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":v2(a.open),...s,ref:i,onClick:Re(t.onClick,a.onOpenToggle)})});fge.displayName=bF;var f2="DialogPortal",[pge,jF]=gF(f2,{forceMount:void 0}),wF=t=>{const{__scopeDialog:r,forceMount:n,children:s,container:a}=t,i=Ca(f2,r);return e.jsx(pge,{scope:r,forceMount:n,children:j.Children.map(s,o=>e.jsx(Fr,{present:n||i.open,children:e.jsx(Kd,{asChild:!0,container:a,children:o})}))})};wF.displayName=f2;var cx="DialogOverlay",NF=j.forwardRef((t,r)=>{const n=jF(cx,t.__scopeDialog),{forceMount:s=n.forceMount,...a}=t,i=Ca(cx,t.__scopeDialog);return i.modal?e.jsx(Fr,{present:s||i.open,children:e.jsx(xge,{...a,ref:r})}):null});NF.displayName=cx;var vge=_o("DialogOverlay.RemoveScroll"),xge=j.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Ca(cx,n);return e.jsx(Lm,{as:vge,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(Fe.div,{"data-state":v2(a.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),Il="DialogContent",SF=j.forwardRef((t,r)=>{const n=jF(Il,t.__scopeDialog),{forceMount:s=n.forceMount,...a}=t,i=Ca(Il,t.__scopeDialog);return e.jsx(Fr,{present:s||i.open,children:i.modal?e.jsx(gge,{...a,ref:r}):e.jsx(yge,{...a,ref:r})})});SF.displayName=Il;var gge=j.forwardRef((t,r)=>{const n=Ca(Il,t.__scopeDialog),s=j.useRef(null),a=st(r,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return Px(i)},[]),e.jsx(kF,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Re(t.onFocusOutside,i=>i.preventDefault())})}),yge=j.forwardRef((t,r)=>{const n=Ca(Il,t.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return e.jsx(kF,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||n.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),kF=j.forwardRef((t,r)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,l=Ca(Il,n),d=j.useRef(null),u=st(r,d);return Sx(),e.jsxs(e.Fragment,{children:[e.jsx(Om,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Hd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":v2(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(bge,{titleId:l.titleId}),e.jsx(wge,{contentRef:d,descriptionId:l.descriptionId})]})]})}),p2="DialogTitle",CF=j.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Ca(p2,n);return e.jsx(Fe.h2,{id:a.titleId,...s,ref:r})});CF.displayName=p2;var AF="DialogDescription",EF=j.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Ca(AF,n);return e.jsx(Fe.p,{id:a.descriptionId,...s,ref:r})});EF.displayName=AF;var _F="DialogClose",RF=j.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Ca(_F,n);return e.jsx(Fe.button,{type:"button",...s,ref:r,onClick:Re(t.onClick,()=>a.onOpenChange(!1))})});RF.displayName=_F;function v2(t){return t?"open":"closed"}var TF="DialogTitleWarning",[ENe,PF]=HV(TF,{contentName:Il,titleName:p2,docsSlug:"dialog"}),bge=({titleId:t})=>{const r=PF(TF),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},jge="DialogDescriptionWarning",wge=({contentRef:t,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PF(jge).contentName}}.`;return j.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(s))},[s,t,r]),null},vg=yF,xg=wF,Gm=NF,Km=SF,gg=CF,yg=EF,OF=RF;function Ed({...t}){return e.jsx(vg,{"data-slot":"sheet",...t})}function Nge({...t}){return e.jsx(xg,{"data-slot":"sheet-portal",...t})}const IF=j.forwardRef(({className:t,...r},n)=>e.jsx(Gm,{ref:n,"data-slot":"sheet-overlay",className:We("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r}));IF.displayName="SheetOverlay";function _d({className:t,children:r,side:n="right",...s}){return e.jsxs(Nge,{children:[e.jsx(IF,{}),e.jsxs(Km,{"data-slot":"sheet-content",className:We("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...s,children:[r,e.jsxs(OF,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx($t,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function bg({className:t,...r}){return e.jsx("div",{"data-slot":"sheet-header",className:We("flex flex-col gap-1.5 p-4",t),...r})}function Rd({className:t,...r}){return e.jsx(gg,{"data-slot":"sheet-title",className:We("text-foreground font-semibold",t),...r})}function Td({className:t,...r}){return e.jsx(yg,{"data-slot":"sheet-description",className:We("text-muted-foreground text-sm",t),...r})}function Nn({className:t,...r}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:We("w-full caption-bottom text-sm",t),...r})})}function Sn({className:t,...r}){return e.jsx("thead",{"data-slot":"table-header",className:We("[&_tr]:border-b",t),...r})}function kn({className:t,...r}){return e.jsx("tbody",{"data-slot":"table-body",className:We("[&_tr:last-child]:border-0",t),...r})}function St({className:t,...r}){return e.jsx("tr",{"data-slot":"table-row",className:We("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function we({className:t,...r}){return e.jsx("th",{"data-slot":"table-head",className:We("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function be({className:t,...r}){return e.jsx("td",{"data-slot":"table-cell",className:We("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function Zr({...t}){return e.jsx(vg,{"data-slot":"dialog",...t})}function Sge({...t}){return e.jsx(xg,{"data-slot":"dialog-portal",...t})}const DF=j.forwardRef(({className:t,...r},n)=>e.jsx(Gm,{ref:n,"data-slot":"dialog-overlay",className:We("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r}));DF.displayName=Gm.displayName;const Or=j.forwardRef(({className:t,children:r,...n},s)=>e.jsxs(Sge,{"data-slot":"dialog-portal",children:[e.jsx(DF,{}),e.jsxs(Km,{ref:s,"data-slot":"dialog-content",className:We("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[r,e.jsxs(OF,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx($t,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Or.displayName=Km.displayName;const Ir=j.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,"data-slot":"dialog-header",className:We("flex flex-col gap-2 text-center sm:text-left",t),...r}));Ir.displayName="DialogHeader";const yn=j.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,"data-slot":"dialog-footer",className:We("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r}));yn.displayName="DialogFooter";const Dr=j.forwardRef(({className:t,...r},n)=>e.jsx(gg,{ref:n,"data-slot":"dialog-title",className:We("text-lg leading-none font-semibold",t),...r}));Dr.displayName=gg.displayName;const Mr=j.forwardRef(({className:t,...r},n)=>e.jsx(yg,{ref:n,"data-slot":"dialog-description",className:We("text-muted-foreground text-sm",t),...r}));Mr.displayName=yg.displayName;const lk=j.forwardRef(({label:t,required:r,helperText:n,error:s,id:a,className:i,...o},l)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{htmlFor:a,style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",display:"block"},children:[t,r&&e.jsx("span",{style:{color:"var(--danger)",marginLeft:"4px"},children:"*"})]}),e.jsx(pe,{ref:l,id:a,"aria-invalid":!!s,"aria-describedby":s?`${a}-error`:n?`${a}-helper`:void 0,style:{height:"44px",borderRadius:"8px",backgroundColor:"var(--input-background)",border:s?"1px solid var(--danger)":"1px solid var(--border)",fontSize:"var(--text-body)",transition:"all var(--transition-base) var(--ease-out)",boxShadow:"var(--shadow-none)"},className:`focus:ring-2 focus:ring-primary/20 focus:border-primary focus:shadow-sm ${i||""}`,...o}),n&&!s&&e.jsx("p",{id:`${a}-helper`,style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"6px"},children:n}),s&&e.jsx("p",{id:`${a}-error`,role:"alert",style:{fontSize:"var(--text-sm)",color:"var(--danger)",marginTop:"6px",display:"flex",alignItems:"center",gap:"4px"},children:s})]}));lk.displayName="FormInput";var jg="Popover",[MF]=rn(jg,[zo]),Jm=zo(),[kge,qo]=MF(jg),LF=t=>{const{__scopePopover:r,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=t,l=Jm(r),d=j.useRef(null),[u,f]=j.useState(!1),[m,v]=Ns({prop:s,defaultProp:a??!1,onChange:i,caller:jg});return e.jsx(_x,{...l,children:e.jsx(kge,{scope:r,contentId:tn(),triggerRef:d,open:m,onOpenChange:v,onOpenToggle:j.useCallback(()=>v(g=>!g),[v]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>f(!0),[]),onCustomAnchorRemove:j.useCallback(()=>f(!1),[]),modal:o,children:n})})};LF.displayName=jg;var zF="PopoverAnchor",Cge=j.forwardRef((t,r)=>{const{__scopePopover:n,...s}=t,a=qo(zF,n),i=Jm(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return j.useEffect(()=>(o(),()=>l()),[o,l]),e.jsx(Dm,{...i,...s,ref:r})});Cge.displayName=zF;var $F="PopoverTrigger",FF=j.forwardRef((t,r)=>{const{__scopePopover:n,...s}=t,a=qo($F,n),i=Jm(n),o=st(r,a.triggerRef),l=e.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":HF(a.open),...s,ref:o,onClick:Re(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:e.jsx(Dm,{asChild:!0,...i,children:l})});FF.displayName=$F;var x2="PopoverPortal",[Age,Ege]=MF(x2,{forceMount:void 0}),BF=t=>{const{__scopePopover:r,forceMount:n,children:s,container:a}=t,i=qo(x2,r);return e.jsx(Age,{scope:r,forceMount:n,children:e.jsx(Fr,{present:n||i.open,children:e.jsx(Kd,{asChild:!0,container:a,children:s})})})};BF.displayName=x2;var Pd="PopoverContent",WF=j.forwardRef((t,r)=>{const n=Ege(Pd,t.__scopePopover),{forceMount:s=n.forceMount,...a}=t,i=qo(Pd,t.__scopePopover);return e.jsx(Fr,{present:s||i.open,children:i.modal?e.jsx(Rge,{...a,ref:r}):e.jsx(Tge,{...a,ref:r})})});WF.displayName=Pd;var _ge=_o("PopoverContent.RemoveScroll"),Rge=j.forwardRef((t,r)=>{const n=qo(Pd,t.__scopePopover),s=j.useRef(null),a=st(r,s),i=j.useRef(!1);return j.useEffect(()=>{const o=s.current;if(o)return Px(o)},[]),e.jsx(Lm,{as:_ge,allowPinchZoom:!0,children:e.jsx(UF,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,o=>{o.preventDefault(),i.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,u=l.button===2||d;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Re(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Tge=j.forwardRef((t,r)=>{const n=qo(Pd,t.__scopePopover),s=j.useRef(!1),a=j.useRef(!1);return e.jsx(UF,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||n.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),UF=j.forwardRef((t,r)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,...m}=t,v=qo(Pd,n),g=Jm(n);return Sx(),e.jsx(Om,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Hd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>v.onOpenChange(!1),children:e.jsx(Rx,{"data-state":HF(v.open),role:"dialog",id:v.contentId,...g,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qF="PopoverClose",Pge=j.forwardRef((t,r)=>{const{__scopePopover:n,...s}=t,a=qo(qF,n);return e.jsx(Fe.button,{type:"button",...s,ref:r,onClick:Re(t.onClick,()=>a.onOpenChange(!1))})});Pge.displayName=qF;var Oge="PopoverArrow",Ige=j.forwardRef((t,r)=>{const{__scopePopover:n,...s}=t,a=Jm(n);return e.jsx(Tx,{...a,...s,ref:r})});Ige.displayName=Oge;function HF(t){return t?"open":"closed"}var Dge=LF,Mge=FF,Lge=BF,zge=WF;function Si({...t}){return e.jsx(Dge,{"data-slot":"popover",...t})}function ki({...t}){return e.jsx(Mge,{"data-slot":"popover-trigger",...t})}function Ci({className:t,align:r="center",sideOffset:n=4,...s}){return e.jsx(Lge,{children:e.jsx(zge,{"data-slot":"popover-content",align:r,sideOffset:n,className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...s})})}var OM=1,$ge=.9,Fge=.8,Bge=.17,J1=.1,Y1=.999,Wge=.9999,Uge=.99,qge=/[\\\/_+.#"@\[\(\{&]/,Hge=/[\\\/_+.#"@\[\(\{&]/g,Vge=/[\s-]/,VF=/[\s-]/g;function ck(t,r,n,s,a,i,o){if(i===r.length)return a===t.length?OM:Uge;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var d=s.charAt(i),u=n.indexOf(d,a),f=0,m,v,g,b;u>=0;)m=ck(t,r,n,s,u+1,i+1,o),m>f&&(u===a?m*=OM:qge.test(t.charAt(u-1))?(m*=Fge,g=t.slice(a,u-1).match(Hge),g&&a>0&&(m*=Math.pow(Y1,g.length))):Vge.test(t.charAt(u-1))?(m*=$ge,b=t.slice(a,u-1).match(VF),b&&a>0&&(m*=Math.pow(Y1,b.length))):(m*=Bge,a>0&&(m*=Math.pow(Y1,u-a))),t.charAt(u)!==r.charAt(i)&&(m*=Wge)),(m<J1&&n.charAt(u-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&n.charAt(u-1)!==s.charAt(i))&&(v=ck(t,r,n,s,u+1,i+2,o),v*J1>m&&(m=v*J1)),m>f&&(f=m),u=n.indexOf(d,u+1);return o[l]=f,f}function IM(t){return t.toLowerCase().replace(VF," ")}function Gge(t,r,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,ck(t,r,IM(t),IM(r),0,0,{})}var rh='[cmdk-group=""]',Z1='[cmdk-group-items=""]',Kge='[cmdk-group-heading=""]',GF='[cmdk-item=""]',DM=`${GF}:not([aria-disabled="true"])`,dk="cmdk-item-select",$c="data-value",Jge=(t,r,n)=>Gge(t,r,n),KF=j.createContext(void 0),Ym=()=>j.useContext(KF),JF=j.createContext(void 0),g2=()=>j.useContext(JF),YF=j.createContext(void 0),ZF=j.forwardRef((t,r)=>{let n=Fc(()=>{var q,ee;return{search:"",value:(ee=(q=t.value)!=null?q:t.defaultValue)!=null?ee:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Fc(()=>new Set),a=Fc(()=>new Map),i=Fc(()=>new Map),o=Fc(()=>new Set),l=XF(t),{label:d,children:u,value:f,onValueChange:m,filter:v,shouldFilter:g,loop:b,disablePointerSelection:x=!1,vimBindings:y=!0,...A}=t,E=tn(),C=tn(),w=tn(),k=j.useRef(null),S=iye();Dl(()=>{if(f!==void 0){let q=f.trim();n.current.value=q,R.emit()}},[f]),Dl(()=>{S(6,B)},[]);let R=j.useMemo(()=>({subscribe:q=>(o.current.add(q),()=>o.current.delete(q)),snapshot:()=>n.current,setState:(q,ee,oe)=>{var ce,ye,de,fe;if(!Object.is(n.current[q],ee)){if(n.current[q]=ee,q==="search")I(),U(),S(1,D);else if(q==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let he=document.getElementById(w);he?he.focus():(ce=document.getElementById(E))==null||ce.focus()}if(S(7,()=>{var he;n.current.selectedItemId=(he=M())==null?void 0:he.id,R.emit()}),oe||S(5,B),((ye=l.current)==null?void 0:ye.value)!==void 0){let he=ee??"";(fe=(de=l.current).onValueChange)==null||fe.call(de,he);return}}R.emit()}},emit:()=>{o.current.forEach(q=>q())}}),[]),T=j.useMemo(()=>({value:(q,ee,oe)=>{var ce;ee!==((ce=i.current.get(q))==null?void 0:ce.value)&&(i.current.set(q,{value:ee,keywords:oe}),n.current.filtered.items.set(q,O(ee,oe)),S(2,()=>{U(),R.emit()}))},item:(q,ee)=>(s.current.add(q),ee&&(a.current.has(ee)?a.current.get(ee).add(q):a.current.set(ee,new Set([q]))),S(3,()=>{I(),U(),n.current.value||D(),R.emit()}),()=>{i.current.delete(q),s.current.delete(q),n.current.filtered.items.delete(q);let oe=M();S(4,()=>{I(),oe?.getAttribute("id")===q&&D(),R.emit()})}),group:q=>(a.current.has(q)||a.current.set(q,new Set),()=>{i.current.delete(q),a.current.delete(q)}),filter:()=>l.current.shouldFilter,label:d||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:E,inputId:w,labelId:C,listInnerRef:k}),[]);function O(q,ee){var oe,ce;let ye=(ce=(oe=l.current)==null?void 0:oe.filter)!=null?ce:Jge;return q?ye(q,n.current.search,ee):0}function U(){if(!n.current.search||l.current.shouldFilter===!1)return;let q=n.current.filtered.items,ee=[];n.current.filtered.groups.forEach(ce=>{let ye=a.current.get(ce),de=0;ye.forEach(fe=>{let he=q.get(fe);de=Math.max(he,de)}),ee.push([ce,de])});let oe=k.current;W().sort((ce,ye)=>{var de,fe;let he=ce.getAttribute("id"),re=ye.getAttribute("id");return((de=q.get(re))!=null?de:0)-((fe=q.get(he))!=null?fe:0)}).forEach(ce=>{let ye=ce.closest(Z1);ye?ye.appendChild(ce.parentElement===ye?ce:ce.closest(`${Z1} > *`)):oe.appendChild(ce.parentElement===oe?ce:ce.closest(`${Z1} > *`))}),ee.sort((ce,ye)=>ye[1]-ce[1]).forEach(ce=>{var ye;let de=(ye=k.current)==null?void 0:ye.querySelector(`${rh}[${$c}="${encodeURIComponent(ce[0])}"]`);de?.parentElement.appendChild(de)})}function D(){let q=W().find(oe=>oe.getAttribute("aria-disabled")!=="true"),ee=q?.getAttribute($c);R.setState("value",ee||void 0)}function I(){var q,ee,oe,ce;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let ye=0;for(let de of s.current){let fe=(ee=(q=i.current.get(de))==null?void 0:q.value)!=null?ee:"",he=(ce=(oe=i.current.get(de))==null?void 0:oe.keywords)!=null?ce:[],re=O(fe,he);n.current.filtered.items.set(de,re),re>0&&ye++}for(let[de,fe]of a.current)for(let he of fe)if(n.current.filtered.items.get(he)>0){n.current.filtered.groups.add(de);break}n.current.filtered.count=ye}function B(){var q,ee,oe;let ce=M();ce&&(((q=ce.parentElement)==null?void 0:q.firstChild)===ce&&((oe=(ee=ce.closest(rh))==null?void 0:ee.querySelector(Kge))==null||oe.scrollIntoView({block:"nearest"})),ce.scrollIntoView({block:"nearest"}))}function M(){var q;return(q=k.current)==null?void 0:q.querySelector(`${GF}[aria-selected="true"]`)}function W(){var q;return Array.from(((q=k.current)==null?void 0:q.querySelectorAll(DM))||[])}function V(q){let ee=W()[q];ee&&R.setState("value",ee.getAttribute($c))}function Q(q){var ee;let oe=M(),ce=W(),ye=ce.findIndex(fe=>fe===oe),de=ce[ye+q];(ee=l.current)!=null&&ee.loop&&(de=ye+q<0?ce[ce.length-1]:ye+q===ce.length?ce[0]:ce[ye+q]),de&&R.setState("value",de.getAttribute($c))}function H(q){let ee=M(),oe=ee?.closest(rh),ce;for(;oe&&!ce;)oe=q>0?sye(oe,rh):aye(oe,rh),ce=oe?.querySelector(DM);ce?R.setState("value",ce.getAttribute($c)):Q(q)}let X=()=>V(W().length-1),K=q=>{q.preventDefault(),q.metaKey?X():q.altKey?H(1):Q(1)},z=q=>{q.preventDefault(),q.metaKey?V(0):q.altKey?H(-1):Q(-1)};return j.createElement(Fe.div,{ref:r,tabIndex:-1,...A,"cmdk-root":"",onKeyDown:q=>{var ee;(ee=A.onKeyDown)==null||ee.call(A,q);let oe=q.nativeEvent.isComposing||q.keyCode===229;if(!(q.defaultPrevented||oe))switch(q.key){case"n":case"j":{y&&q.ctrlKey&&K(q);break}case"ArrowDown":{K(q);break}case"p":case"k":{y&&q.ctrlKey&&z(q);break}case"ArrowUp":{z(q);break}case"Home":{q.preventDefault(),V(0);break}case"End":{q.preventDefault(),X();break}case"Enter":{q.preventDefault();let ce=M();if(ce){let ye=new Event(dk);ce.dispatchEvent(ye)}}}}},j.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:lye},d),wg(t,q=>j.createElement(JF.Provider,{value:R},j.createElement(KF.Provider,{value:T},q))))}),Yge=j.forwardRef((t,r)=>{var n,s;let a=tn(),i=j.useRef(null),o=j.useContext(YF),l=Ym(),d=XF(t),u=(s=(n=d.current)==null?void 0:n.forceMount)!=null?s:o?.forceMount;Dl(()=>{if(!u)return l.item(a,o?.id)},[u]);let f=QF(a,i,[t.value,t.children,i],t.keywords),m=g2(),v=Io(S=>S.value&&S.value===f.current),g=Io(S=>u||l.filter()===!1?!0:S.search?S.filtered.items.get(a)>0:!0);j.useEffect(()=>{let S=i.current;if(!(!S||t.disabled))return S.addEventListener(dk,b),()=>S.removeEventListener(dk,b)},[g,t.onSelect,t.disabled]);function b(){var S,R;x(),(R=(S=d.current).onSelect)==null||R.call(S,f.current)}function x(){m.setState("value",f.current,!0)}if(!g)return null;let{disabled:y,value:A,onSelect:E,forceMount:C,keywords:w,...k}=t;return j.createElement(Fe.div,{ref:Ti(i,r),...k,id:a,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!v,"data-disabled":!!y,"data-selected":!!v,onPointerMove:y||l.getDisablePointerSelection()?void 0:x,onClick:y?void 0:b},t.children)}),Zge=j.forwardRef((t,r)=>{let{heading:n,children:s,forceMount:a,...i}=t,o=tn(),l=j.useRef(null),d=j.useRef(null),u=tn(),f=Ym(),m=Io(g=>a||f.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);Dl(()=>f.group(o),[]),QF(o,l,[t.value,t.heading,d]);let v=j.useMemo(()=>({id:o,forceMount:a}),[a]);return j.createElement(Fe.div,{ref:Ti(l,r),...i,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&j.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),wg(t,g=>j.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},j.createElement(YF.Provider,{value:v},g))))}),Xge=j.forwardRef((t,r)=>{let{alwaysRender:n,...s}=t,a=j.useRef(null),i=Io(o=>!o.search);return!n&&!i?null:j.createElement(Fe.div,{ref:Ti(a,r),...s,"cmdk-separator":"",role:"separator"})}),Qge=j.forwardRef((t,r)=>{let{onValueChange:n,...s}=t,a=t.value!=null,i=g2(),o=Io(u=>u.search),l=Io(u=>u.selectedItemId),d=Ym();return j.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),j.createElement(Fe.input,{ref:r,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":l,id:d.inputId,type:"text",value:a?t.value:o,onChange:u=>{a||i.setState("search",u.target.value),n?.(u.target.value)}})}),eye=j.forwardRef((t,r)=>{let{children:n,label:s="Suggestions",...a}=t,i=j.useRef(null),o=j.useRef(null),l=Io(u=>u.selectedItemId),d=Ym();return j.useEffect(()=>{if(o.current&&i.current){let u=o.current,f=i.current,m,v=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let g=u.offsetHeight;f.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return v.observe(u),()=>{cancelAnimationFrame(m),v.unobserve(u)}}},[]),j.createElement(Fe.div,{ref:Ti(i,r),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:d.listId},wg(t,u=>j.createElement("div",{ref:Ti(o,d.listInnerRef),"cmdk-list-sizer":""},u)))}),tye=j.forwardRef((t,r)=>{let{open:n,onOpenChange:s,overlayClassName:a,contentClassName:i,container:o,...l}=t;return j.createElement(vg,{open:n,onOpenChange:s},j.createElement(xg,{container:o},j.createElement(Gm,{"cmdk-overlay":"",className:a}),j.createElement(Km,{"aria-label":t.label,"cmdk-dialog":"",className:i},j.createElement(ZF,{ref:r,...l}))))}),rye=j.forwardRef((t,r)=>Io(n=>n.filtered.count===0)?j.createElement(Fe.div,{ref:r,...t,"cmdk-empty":"",role:"presentation"}):null),nye=j.forwardRef((t,r)=>{let{progress:n,children:s,label:a="Loading...",...i}=t;return j.createElement(Fe.div,{ref:r,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},wg(t,o=>j.createElement("div",{"aria-hidden":!0},o)))}),au=Object.assign(ZF,{List:eye,Item:Yge,Input:Qge,Group:Zge,Separator:Xge,Dialog:tye,Empty:rye,Loading:nye});function sye(t,r){let n=t.nextElementSibling;for(;n;){if(n.matches(r))return n;n=n.nextElementSibling}}function aye(t,r){let n=t.previousElementSibling;for(;n;){if(n.matches(r))return n;n=n.previousElementSibling}}function XF(t){let r=j.useRef(t);return Dl(()=>{r.current=t}),r}var Dl=typeof window>"u"?j.useEffect:j.useLayoutEffect;function Fc(t){let r=j.useRef();return r.current===void 0&&(r.current=t()),r}function Io(t){let r=g2(),n=()=>t(r.snapshot());return j.useSyncExternalStore(r.subscribe,n,n)}function QF(t,r,n,s=[]){let a=j.useRef(),i=Ym();return Dl(()=>{var o;let l=(()=>{var u;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():a.current}})(),d=s.map(u=>u.trim());i.value(t,l,d),(o=r.current)==null||o.setAttribute($c,l),a.current=l}),a}var iye=()=>{let[t,r]=j.useState(),n=Fc(()=>new Map);return Dl(()=>{n.current.forEach(s=>s()),n.current=new Map},[t]),(s,a)=>{n.current.set(s,a),r({})}};function oye(t){let r=t.type;return typeof r=="function"?r(t.props):"render"in r?r.render(t.props):t}function wg({asChild:t,children:r},n){return t&&j.isValidElement(r)?j.cloneElement(oye(r),{ref:r.ref},n(r.props.children)):n(r)}var lye={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function kh({className:t,...r}){return e.jsx(au,{"data-slot":"command",className:We("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...r})}function Ch({className:t,...r}){return e.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[e.jsx(Lr,{className:"size-4 shrink-0 opacity-50"}),e.jsx(au.Input,{"data-slot":"command-input",className:We("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...r})]})}function cye({className:t,...r}){return e.jsx(au.List,{"data-slot":"command-list",className:We("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...r})}function Ah({...t}){return e.jsx(au.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function Eh({className:t,...r}){return e.jsx(au.Group,{"data-slot":"command-group",className:We("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...r})}function _h({className:t,...r}){return e.jsx(au.Item,{"data-slot":"command-item",className:We("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function X1({label:t,required:r,helperText:n,error:s,id:a,placeholder:i="Select option...",searchPlaceholder:o="Search...",emptyText:l="No results found.",options:d,value:u,onChange:f,disabled:m}){const[v,g]=j.useState(!1),b=d.find(x=>x.value===u);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{htmlFor:a,style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",display:"block"},children:[t,r&&e.jsx("span",{style:{color:"var(--danger)",marginLeft:"4px"},children:"*"})]}),e.jsxs(Si,{open:v,onOpenChange:g,children:[e.jsx(ki,{asChild:!0,children:e.jsxs(L,{id:a,variant:"outline",role:"combobox","aria-expanded":v,"aria-invalid":!!s,"aria-describedby":s?`${a}-error`:n?`${a}-helper`:void 0,disabled:m,style:{width:"100%",height:"44px",justifyContent:"space-between",borderRadius:"8px",backgroundColor:m?"var(--accent)":"var(--input-background)",border:s?"1px solid var(--danger)":"1px solid var(--border)",fontSize:"var(--text-body)",fontWeight:"var(--font-weight-normal)",color:b?"var(--text)":"var(--muted-foreground)",transition:"all var(--transition-base) var(--ease-out)",cursor:m?"not-allowed":"pointer"},className:m?"":"hover:bg-input-background focus:ring-2 focus:ring-primary/20 focus:border-primary",children:[e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",overflow:"hidden",flex:1},children:b?e.jsxs(e.Fragment,{children:[b.icon&&e.jsx("span",{style:{flexShrink:0},children:b.icon}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",overflow:"hidden",minWidth:0},children:[e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%",textAlign:"left"},children:b.label}),b.sublabel&&e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%",textAlign:"left"},children:b.sublabel})]})]}):i}),e.jsx(IG,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(Ci,{className:"p-0",style:{width:"var(--radix-popover-trigger-width)",maxHeight:"400px",backgroundColor:"var(--popover)",border:"1px solid var(--border)",borderRadius:"10px",boxShadow:"var(--shadow-lg)"},children:e.jsxs(kh,{style:{backgroundColor:"transparent"},children:[e.jsx("div",{style:{padding:"8px",borderBottom:"1px solid var(--border)"},children:e.jsxs("div",{style:{position:"relative"},children:[e.jsx(Lr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2",style:{color:"var(--muted-foreground)"}}),e.jsx(Ch,{placeholder:o,style:{height:"36px",paddingLeft:"36px",fontSize:"var(--text-body)",backgroundColor:"var(--input-background)",border:"1px solid var(--border)",borderRadius:"6px"},className:"focus:ring-1 focus:ring-primary/20"})]})}),e.jsxs(cye,{style:{maxHeight:"320px"},children:[e.jsx(Ah,{style:{padding:"24px",textAlign:"center",fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:l}),e.jsx(Eh,{children:d.map(x=>e.jsx(_h,{value:x.label,onSelect:()=>{f?.(x.value===u?"":x.value),g(!1)},style:{padding:"10px 12px",cursor:"pointer",fontSize:"var(--text-body)",borderRadius:"6px",margin:"2px 8px"},className:"hover:bg-accent",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",width:"100%"},children:[e.jsx(Xr,{className:`h-4 w-4 ${u===x.value?"opacity-100":"opacity-0"}`,style:{color:"var(--primary)"}}),x.icon&&e.jsx("span",{style:{flexShrink:0},children:x.icon}),e.jsxs("div",{style:{flex:1,minWidth:0,display:"flex",flexDirection:"column",gap:"2px"},children:[e.jsx("span",{style:{color:"var(--text)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.label}),x.sublabel&&e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.sublabel}),x.description&&e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginTop:"2px"},children:x.description})]})]})},x.value))})]})]})})]}),n&&!s&&e.jsx("p",{id:`${a}-helper`,style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"6px"},children:n}),s&&e.jsx("p",{id:`${a}-error`,role:"alert",style:{fontSize:"var(--text-sm)",color:"var(--danger)",marginTop:"6px",display:"flex",alignItems:"center",gap:"4px"},children:s})]})}function mn({className:t,...r}){return e.jsx("textarea",{"data-slot":"textarea",className:We("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}const e8=j.forwardRef(({label:t,required:r,helperText:n,error:s,id:a,showCharCount:i,maxLength:o,currentLength:l,className:d,...u},f)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(G,{htmlFor:a,style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:[t,r&&e.jsx("span",{style:{color:"var(--danger)",marginLeft:"4px"},children:"*"})]}),i&&o&&e.jsxs("span",{style:{fontSize:"var(--text-xs)",color:l&&l>o?"var(--danger)":"var(--muted-foreground)"},children:[l||0," / ",o]})]}),e.jsx(mn,{ref:f,id:a,"aria-invalid":!!s,"aria-describedby":s?`${a}-error`:n?`${a}-helper`:void 0,maxLength:o,style:{minHeight:"120px",borderRadius:"8px",backgroundColor:"var(--input-background)",border:s?"1px solid var(--danger)":"1px solid var(--border)",fontSize:"var(--text-body)",transition:"all var(--transition-base) var(--ease-out)",boxShadow:"var(--shadow-none)",resize:"vertical"},className:`focus:ring-2 focus:ring-primary/20 focus:border-primary focus:shadow-sm ${d||""}`,...u}),n&&!s&&e.jsx("p",{id:`${a}-helper`,style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"6px"},children:n}),s&&e.jsx("p",{id:`${a}-error`,role:"alert",style:{fontSize:"var(--text-sm)",color:"var(--danger)",marginTop:"6px",display:"flex",alignItems:"center",gap:"4px"},children:s})]}));e8.displayName="FormTextarea";class MM{static async create(r){const n=`REQ-${new Date().getFullYear()}-${Math.floor(Math.random()*9e3+1e3)}`,s={...r,request_number:n,status:"PENDING"},{data:a,error:i}=await vt.from("access_requests").insert(s).select("*").single();if(i)throw i;return a}static async listPending(){const{data:r,error:n}=await vt.from("access_requests").select("id, request_number, status, submitted_at, resource_name, resource_type, business_justification").eq("status","PENDING").order("submitted_at",{ascending:!1});if(n)throw n;return r??[]}}const t8=j.createContext(void 0);function dye({children:t}){const[r,n]=j.useState([]),s=j.useCallback(async()=>{const d=(await MM.listPending()).map(u=>({id:u.id,requester:{name:"Requester",email:"user@example.com",department:"General"},item:{name:u.resource_name,type:"Application"},status:"Pending",risk:"Low",age:"0d",slaRemaining:"3d",submittedAt:u.submitted_at,businessJustification:u.business_justification||"",sodConflicts:0}));n(d)},[]);j.useEffect(()=>{s().catch(()=>{})},[s]);const a=j.useCallback(async l=>{const d=await MM.create({resource_type:l.item.type,resource_name:l.item.name,business_justification:l.businessJustification,risk_level:l.risk,sod_conflicts_count:l.sodConflicts??0,duration_days:l.duration?0:null}),u={id:d.id,requester:l.requester,item:l.item,status:"Pending",risk:l.risk,age:"0d",slaRemaining:"3d",submittedAt:d.submitted_at,businessJustification:l.businessJustification,duration:l.duration,sodConflicts:l.sodConflicts??0,peerCoverage:l.peerCoverage,lastUsed:l.lastUsed,usageData:l.usageData,impactItems:l.impactItems};return n(f=>[u,...f]),u},[]),i=j.useCallback(()=>n([]),[]),o=j.useMemo(()=>({requests:r,submitAccessRequest:a,reload:s,clearAll:i}),[r,a,s,i]);return e.jsx(t8.Provider,{value:o,children:t})}function r8(){const t=j.useContext(t8);if(!t)throw new Error("useApprovals must be used within ApprovalsProvider");return t}const Ip=[{value:"sarah-chen",label:"Sarah Chen",sublabel:"Engineering  sarah.chen@company.com"},{value:"john-smith",label:"John Smith",sublabel:"Finance  john.smith@company.com"},{value:"emily-johnson",label:"Emily Johnson",sublabel:"Marketing  emily.johnson@company.com"},{value:"michael-brown",label:"Michael Brown",sublabel:"Sales  michael.brown@company.com"},{value:"jessica-davis",label:"Jessica Davis",sublabel:"HR  jessica.davis@company.com"},{value:"david-wilson",label:"David Wilson",sublabel:"Operations  david.wilson@company.com"}],LM=[{value:"oracle-erp",label:"Oracle ERP",sublabel:"Owner: Finance Team",icon:e.jsx(Fa,{className:"w-4 h-4",style:{color:"#E11D48"}})},{value:"salesforce",label:"Salesforce",sublabel:"Owner: Sales Operations",icon:e.jsx(No,{className:"w-4 h-4",style:{color:"#0EA5E9"}})},{value:"workday",label:"Workday HCM",sublabel:"Owner: HR Department",icon:e.jsx(zt,{className:"w-4 h-4",style:{color:"#F59E0B"}})},{value:"aws",label:"AWS Console",sublabel:"Owner: DevOps Team",icon:e.jsx(No,{className:"w-4 h-4",style:{color:"#F97316"}})},{value:"sharepoint",label:"SharePoint",sublabel:"Owner: IT Operations",icon:e.jsx(jG,{className:"w-4 h-4",style:{color:"#6366F1"}})},{value:"concur",label:"SAP Concur",sublabel:"Owner: Finance Team",icon:e.jsx(p5,{className:"w-4 h-4",style:{color:"#10B981"}})}],uye={"oracle-erp":[{value:"ap-read",label:"Accounts Payable Read",description:"Read-only access",risk:"low",sodConflict:!1},{value:"ap-write",label:"Accounts Payable Write",description:"Read/Write access",risk:"medium",sodConflict:!1},{value:"ar-read",label:"Accounts Receivable Read",description:"Read-only access",risk:"low",sodConflict:!1},{value:"gl-write",label:"General Ledger Write",description:"Full write access",risk:"high",sodConflict:!0},{value:"admin",label:"System Administrator",description:"Full admin access",risk:"high",sodConflict:!0}],salesforce:[{value:"sales-user",label:"Sales User",description:"Standard user access",risk:"low",sodConflict:!1},{value:"sales-manager",label:"Sales Manager",description:"Manager-level access",risk:"medium",sodConflict:!1},{value:"marketing",label:"Marketing User",description:"Marketing cloud access",risk:"low",sodConflict:!1},{value:"system-admin",label:"System Administrator",description:"Full admin access",risk:"high",sodConflict:!1}],workday:[{value:"employee",label:"Employee Self-Service",description:"Basic employee access",risk:"low",sodConflict:!1},{value:"manager",label:"Manager",description:"Team management access",risk:"low",sodConflict:!1},{value:"hr-partner",label:"HR Business Partner",description:"HR partner access",risk:"medium",sodConflict:!1},{value:"payroll",label:"Payroll Specialist",description:"Payroll processing",risk:"high",sodConflict:!0},{value:"hr-admin",label:"HR Administrator",description:"Full HR admin access",risk:"high",sodConflict:!1}],aws:[{value:"dev-read",label:"Development Read-Only",description:"View development resources",risk:"low",sodConflict:!1},{value:"dev-write",label:"Development Full Access",description:"Full dev environment access",risk:"medium",sodConflict:!1},{value:"prod-read",label:"Production Read-Only",description:"View production resources",risk:"medium",sodConflict:!1},{value:"prod-admin",label:"Production Administrator",description:"Full production access",risk:"high",sodConflict:!0}],sharepoint:[{value:"viewer",label:"Site Viewer",description:"Read-only access",risk:"low",sodConflict:!1},{value:"contributor",label:"Site Contributor",description:"Create and edit content",risk:"low",sodConflict:!1},{value:"editor",label:"Site Editor",description:"Full editing access",risk:"medium",sodConflict:!1},{value:"admin",label:"Site Administrator",description:"Full admin access",risk:"high",sodConflict:!1}],concur:[{value:"user",label:"Expense User",description:"Submit expenses",risk:"low",sodConflict:!1},{value:"approver",label:"Expense Approver",description:"Approve expenses",risk:"medium",sodConflict:!1},{value:"processor",label:"Expense Processor",description:"Process reimbursements",risk:"high",sodConflict:!0},{value:"admin",label:"System Administrator",description:"Full admin access",risk:"high",sodConflict:!1}]};function hye({open:t,onOpenChange:r}){const{user:n}=Wl(),{submitAccessRequest:s}=r8(),[a,i]=j.useState(!1),[o,l]=j.useState(""),[d,u]=j.useState(""),[f,m]=j.useState(""),[v,g]=j.useState(""),[b,x]=j.useState(""),y=n?.role==="administrator",[A,E]=j.useState({}),[C,w]=j.useState({}),k=d?uye[d]||[]:[],S=k.find(I=>I.value===f);j.useEffect(()=>{t||(l(""),u(""),m(""),g(""),x(""),E({}),w({}))},[t]),j.useEffect(()=>{m("")},[d]);const R=()=>{const I={};return y&&!o&&(I.requestingFor="Please select a user"),d||(I.application="Please select an application"),f||(I.accessLevel="Please select an access level"),b.trim()?b.trim().length<20&&(I.justification="Justification must be at least 20 characters"):I.justification="Business justification is required",E(I),Object.keys(I).length===0},T=async I=>{if(I.preventDefault(),w({requestingFor:!0,application:!0,accessLevel:!0,justification:!0}),!R())return;i(!0),await new Promise(X=>setTimeout(X,1500));const B=y?Ip.find(X=>X.value===o)?.label||"Selected User":n?.name||"Current User",M=y?Ip.find(X=>X.value===o)?.sublabel.split("")[1].trim()||"user@example.com":n?.email||"user@example.com",W=y?(Ip.find(X=>X.value===o)?.sublabel.split("")[0].split("")[0].split("")[0].split("")[0]||"General").split("")[0].split("")[0].trim().split(" ")[0]:n?.department||"General",V=LM.find(X=>X.value===d)?.label||d,Q=S?.label||f,H={low:"Low",medium:"Medium",high:"High"};s({requester:{name:B,email:M,department:W},item:{name:`${V}  ${Q}`,type:"Application"},risk:H[S?.risk||"low"],businessJustification:b.trim(),duration:v||void 0,sodConflicts:S?.sodConflict?1:0}),i(!1),Ae.success("Access request submitted successfully",{description:"Your request has been sent for approval"}),r(!1)},O=I=>{w(B=>({...B,[I]:!0}))},U=(I,B)=>{w(M=>({...M,[I]:!0})),B&&E(M=>{const W={...M};return delete W[I],W})},D=(!y||o)&&d&&f&&b.trim().length>=20;return e.jsx(Zr,{open:t,onOpenChange:r,children:e.jsxs(Or,{style:{backgroundColor:"var(--bg)",border:"1px solid var(--border)",borderRadius:"12px",maxWidth:"760px",width:"100%",padding:"0",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[e.jsxs(Ir,{style:{padding:"24px 24px 20px",borderBottom:"1px solid var(--border)",flexShrink:0},children:[e.jsx(Dr,{style:{fontSize:"20px",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"6px"},children:"New Access Request"}),e.jsx(Mr,{style:{fontSize:"var(--text-body)",color:"var(--text-secondary)",lineHeight:"1.5"},children:"Request access to applications and resources. All requests are reviewed and approved based on security policies."})]}),e.jsxs("form",{onSubmit:T,style:{display:"flex",flexDirection:"column",flex:1,minHeight:0},children:[e.jsx("div",{style:{padding:"24px",overflowY:"auto",flex:1},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px",maxWidth:"100%"},children:[e.jsxs("div",{style:{padding:"20px",borderRadius:"10px",backgroundColor:"var(--surface)",border:"1px solid var(--border)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-base)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Requestor Information"}),y?e.jsx(X1,{id:"requesting-for",label:"Requesting for",required:!0,placeholder:"Select a user...",searchPlaceholder:"Search users...",emptyText:"No users found.",options:Ip,value:o,onChange:I=>{l(I),U("requestingFor",I)},error:C.requestingFor?A.requestingFor:void 0,helperText:"Select the user you are requesting access for"}):e.jsx(lk,{id:"requestor",label:"Requesting for",value:n?.name||"Current User",disabled:!0,helperText:"This request will be created on your behalf"})]}),e.jsxs("div",{style:{padding:"20px",borderRadius:"10px",backgroundColor:"var(--surface)",border:"1px solid var(--border)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-base)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Application & Access"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsx(X1,{id:"application",label:"Application",required:!0,placeholder:"Select an application...",searchPlaceholder:"Search applications...",emptyText:"No applications found.",options:LM,value:d,onChange:I=>{u(I),U("application",I)},error:C.application?A.application:void 0,helperText:"Select the application you need access to"}),d&&e.jsx(X1,{id:"access-level",label:"Access Level / Role",required:!0,placeholder:"Select access level...",searchPlaceholder:"Search roles...",emptyText:"No roles found for this application.",options:k.map(I=>({value:I.value,label:I.label,description:I.description})),value:f,onChange:I=>{m(I),U("accessLevel",I)},error:C.accessLevel?A.accessLevel:void 0,helperText:"Choose the appropriate access level for your needs"}),S&&e.jsxs("div",{style:{padding:"14px 16px",borderRadius:"8px",backgroundColor:"var(--accent)",border:"1px solid var(--border)",display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(bt,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)",fontWeight:"var(--font-weight-medium)"},children:"Risk Level:"}),e.jsx(J,{style:{backgroundColor:S.risk==="high"?"var(--danger-bg)":S.risk==="medium"?"var(--warning-bg)":"var(--success-bg)",color:S.risk==="high"?"var(--danger)":S.risk==="medium"?"var(--warning)":"var(--success)",border:`1px solid ${S.risk==="high"?"var(--danger-border)":S.risk==="medium"?"var(--warning-border)":"var(--success-border)"}`,fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-semibold)",padding:"4px 10px",borderRadius:"6px",textTransform:"capitalize"},children:S.risk})]}),e.jsx("div",{style:{height:"16px",width:"1px",backgroundColor:"var(--border)"}}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:S.sodConflict?e.jsxs(e.Fragment,{children:[e.jsx(fr,{className:"w-4 h-4",style:{color:"var(--warning)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--warning)",fontWeight:"var(--font-weight-medium)"},children:"1 SoD warning detected"})]}):e.jsxs(e.Fragment,{children:[e.jsx(jn,{className:"w-4 h-4",style:{color:"var(--success)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--success)",fontWeight:"var(--font-weight-medium)"},children:"No SoD conflicts"})]})})]}),e.jsxs("button",{type:"button",onClick:()=>{Ae.info("Approver Path",{description:"Direct Manager  Department Head  IT Security"})},style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"var(--text-sm)",color:"var(--primary)",fontWeight:"var(--font-weight-medium)",background:"none",border:"none",padding:"0",cursor:"pointer",width:"fit-content"},className:"hover:underline",children:["View approver path",e.jsx(td,{className:"w-3.5 h-3.5"})]})]})]})]}),e.jsxs("div",{style:{padding:"20px",borderRadius:"10px",backgroundColor:"var(--surface)",border:"1px solid var(--border)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-base)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Access Duration"}),e.jsx(lk,{id:"duration",label:"Duration",type:"date",placeholder:"Select end date...",value:v,onChange:I=>g(I.target.value),helperText:"Leave empty for permanent access. Specify an end date for time-bound access.",min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{style:{padding:"20px",borderRadius:"10px",backgroundColor:"var(--surface)",border:"1px solid var(--border)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-base)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Business Justification"}),e.jsx(e8,{id:"justification",label:"Justification",required:!0,placeholder:"Provide a clear business reason for this access request (minimum 20 characters)...",value:b,onChange:I=>x(I.target.value),onBlur:()=>O("justification"),error:C.justification?A.justification:void 0,helperText:"Explain why you need this access and how it relates to your role",showCharCount:!0,maxLength:500,currentLength:b.length})]})]})}),e.jsxs(yn,{style:{padding:"16px 24px",borderTop:"1px solid var(--border)",backgroundColor:"var(--surface)",flexShrink:0,display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(L,{type:"button",variant:"ghost",onClick:()=>r(!1),disabled:a,style:{height:"44px",paddingLeft:"20px",paddingRight:"20px",borderRadius:"8px",fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)"},children:"Cancel"}),e.jsx(L,{type:"submit",disabled:!D||a,style:{height:"44px",paddingLeft:"24px",paddingRight:"24px",borderRadius:"8px",fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",background:D&&!a?"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)":void 0,opacity:!D||a?.5:1,cursor:!D||a?"not-allowed":"pointer"},children:a?e.jsxs(e.Fragment,{children:[e.jsx(Lh,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Request"})]})]})]})})}function mye({conflictCount:t,onReviewClick:r}){return t===0?null:e.jsx("div",{style:{position:"sticky",top:0,zIndex:10,backgroundColor:"var(--danger-bg)",border:"1px solid var(--danger)",borderRadius:"10px",padding:"16px",marginBottom:"24px",boxShadow:"var(--shadow-sm)"},children:e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"start"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",backgroundColor:"var(--danger)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(et,{className:"w-5 h-5",style:{color:"white"},strokeWidth:2.5})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("h3",{style:{fontSize:"15px",fontWeight:"600",color:"var(--danger)",marginBottom:"4px"},children:"Segregation of Duties Conflict Detected"}),e.jsxs("p",{style:{fontSize:"13px",color:"var(--text)",marginBottom:"12px"},children:[t," conflict",t>1?"s":""," detected. This request requires additional review and approval before proceeding."]}),e.jsxs(L,{onClick:r,style:{height:"36px",padding:"0 16px",backgroundColor:"var(--danger)",borderRadius:"8px",fontSize:"13px",fontWeight:"600",transition:"all 120ms var(--ease-out)"},className:"hover:opacity-90",children:["Review Conflicts (",t,")"]})]})]})})}function fye({events:t}){const r=s=>{switch(s){case"completed":return cr;case"active":return sr;default:return pa}},n=s=>{switch(s){case"completed":return"var(--success)";case"active":return"var(--primary)";default:return"var(--muted-foreground)"}};return e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:t.map((s,a)=>{const i=r(s.status),o=a===t.length-1;return e.jsxs("div",{style:{display:"flex",gap:"12px",position:"relative"},children:[!o&&e.jsx("div",{style:{position:"absolute",left:"16px",top:"36px",bottom:"-20px",width:"2px",backgroundColor:s.status==="completed"?"var(--success)":"var(--border)",opacity:s.status==="completed"?.3:1}}),e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:s.status==="pending"?"var(--accent)":s.status==="completed"?"var(--success-bg)":"var(--info-bg)",border:`2px solid ${n(s.status)}`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,position:"relative",zIndex:1},children:e.jsx(i,{className:"w-4 h-4",style:{color:n(s.status)},strokeWidth:2.5})}),e.jsxs("div",{style:{flex:1,minWidth:0,paddingTop:"2px"},children:[e.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text)",marginBottom:"2px"},children:s.title}),e.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"4px"},children:s.description}),s.timestamp&&e.jsxs("div",{style:{fontSize:"12px",color:"var(--muted-foreground)",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(sr,{className:"w-3 h-3",strokeWidth:2}),s.timestamp]})]})]},s.id)})})}function dx(t){if("count"in t&&t.count!==void 0){const{count:i,size:o="md"}=t;return e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded",style:{backgroundColor:"var(--danger-bg)",border:"1px solid var(--danger-border)"},children:[e.jsx(et,{className:o==="sm"?"w-3 h-3":"w-3.5 h-3.5",style:{color:"var(--danger)"},strokeWidth:2.5}),e.jsx("span",{style:{fontSize:o==="sm"?"var(--text-xs)":"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--danger)"},children:i})]})}const{conflictingAccess:r,reason:n,policy:s,policyLink:a}=t;return e.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--danger-bg)",border:"1px solid var(--danger-border)",borderRadius:"8px",transition:"all 120ms var(--ease-out)"},children:[e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"start",marginBottom:"8px"},children:[e.jsx(et,{className:"w-4 h-4",style:{color:"var(--danger)",marginTop:"2px",flexShrink:0},strokeWidth:2.5}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"var(--danger)",marginBottom:"4px"},children:r}),e.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",lineHeight:"1.5"},children:n})]})]}),a?e.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"4px",fontSize:"12px",fontWeight:"500",color:"var(--danger)",textDecoration:"none",transition:"opacity 120ms var(--ease-out)"},className:"hover:opacity-70",children:[s,e.jsx(td,{className:"w-3 h-3",strokeWidth:2.5})]}):e.jsx("div",{style:{fontSize:"12px",fontWeight:"500",color:"var(--danger)"},children:s})]})}function pye({onApprove:t,onReject:r,onDelegate:n,slaHours:s,disabled:a=!1}){const i=()=>s?s<=2?"var(--danger)":s<=6?"var(--warning)":"var(--success)":"var(--muted-foreground)";return e.jsx("div",{style:{position:"sticky",bottom:0,left:0,right:0,backgroundColor:"var(--bg)",borderTop:"1px solid var(--border)",padding:"16px 24px",boxShadow:"var(--shadow-lg)",zIndex:10,backdropFilter:"blur(8px)"},children:e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[e.jsxs(L,{onClick:t,disabled:a,style:{flex:"1 1 auto",minWidth:"140px",height:"44px",backgroundColor:"var(--success)",borderRadius:"10px",fontSize:"14px",fontWeight:"600",transition:"all 120ms var(--ease-out)"},className:"hover:opacity-90 active:scale-[0.98]",children:[e.jsx(cr,{className:"w-4 h-4 mr-2",strokeWidth:2.5}),"Approve Request"]}),e.jsxs(L,{onClick:r,disabled:a,variant:"outline",style:{flex:"1 1 auto",minWidth:"140px",height:"44px",borderRadius:"10px",fontSize:"14px",fontWeight:"600",borderColor:"var(--danger)",color:"var(--danger)",transition:"all 120ms var(--ease-out)"},className:"hover:bg-red-50 dark:hover:bg-red-950/20 active:scale-[0.98]",children:[e.jsx(Cr,{className:"w-4 h-4 mr-2",strokeWidth:2.5}),"Reject"]}),e.jsxs(L,{onClick:n,disabled:a,variant:"outline",style:{height:"44px",borderRadius:"10px",fontSize:"14px",fontWeight:"600",transition:"all 120ms var(--ease-out)"},className:"active:scale-[0.98]",children:[e.jsx(hn,{className:"w-4 h-4 mr-2",strokeWidth:2}),"Delegate"]}),s!==void 0&&e.jsxs(J,{style:{padding:"8px 12px",fontSize:"12px",fontWeight:"600",borderRadius:"8px",backgroundColor:"var(--accent)",color:i(),border:`1px solid ${i()}`,display:"flex",alignItems:"center",gap:"6px",marginLeft:"auto"},children:[e.jsx(sr,{className:"w-3.5 h-3.5",strokeWidth:2.5}),"SLA: ",s,"h remaining"]})]})})}function vye({open:t,onOpenChange:r,conflicts:n,requestId:s}){return e.jsx(Zr,{open:t,onOpenChange:r,children:e.jsxs(Or,{style:{backgroundColor:"var(--bg)",border:"1px solid var(--border)",borderRadius:"12px",maxWidth:"600px",padding:"24px",boxShadow:"var(--shadow-xl)"},children:[e.jsxs(Ir,{style:{marginBottom:"20px"},children:[e.jsx(Dr,{style:{color:"var(--text)",fontSize:"20px",fontWeight:"600",marginBottom:"4px"},children:"Segregation of Duties Conflicts"}),e.jsxs(Mr,{style:{fontSize:"13px"},children:["Request ",s," has ",n.length," conflict",n.length>1?"s":""," that require review"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",maxHeight:"60vh",overflowY:"auto",paddingRight:"4px"},children:n.map(a=>e.jsx(dx,{conflictingAccess:a.conflictingAccess,reason:a.reason,policy:a.policy,policyLink:a.policyLink},a.id))}),e.jsx("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"var(--accent)",borderRadius:"8px",border:"1px solid var(--border)"},children:e.jsxs("p",{style:{fontSize:"13px",color:"var(--text-secondary)",lineHeight:"1.6"},children:[e.jsx("strong",{style:{color:"var(--text)",fontWeight:"600"},children:"Note:"})," Conflicts must be acknowledged and documented before approval. Contact your compliance team if you have questions about these policies."]})})]})})}function xye({open:t,onOpenChange:r,onConfirm:n,requestId:s}){const[a,i]=j.useState(""),o=()=>{a.trim()&&(n(a),i(""),r(!1))};return e.jsx(Zr,{open:t,onOpenChange:r,children:e.jsxs(Or,{style:{backgroundColor:"var(--bg)",border:"1px solid var(--border)",borderRadius:"12px",maxWidth:"500px",padding:"24px",boxShadow:"var(--shadow-xl)"},children:[e.jsxs(Ir,{style:{marginBottom:"20px"},children:[e.jsxs(Dr,{style:{color:"var(--text)",fontSize:"20px",fontWeight:"600",marginBottom:"4px"},children:["Reject Request ",s]}),e.jsx(Mr,{style:{fontSize:"13px"},children:"Please provide a reason for rejecting this access request"})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx(G,{htmlFor:"rejection-reason",style:{fontSize:"13px",fontWeight:"600",color:"var(--text)",marginBottom:"8px",display:"block"},children:"Rejection Reason *"}),e.jsx(mn,{id:"rejection-reason",value:a,onChange:l=>i(l.target.value),placeholder:"Explain why this request is being rejected...",rows:4,style:{backgroundColor:"var(--input-background)",border:"1px solid var(--border)",borderRadius:"8px",padding:"12px",fontSize:"14px",resize:"vertical",minHeight:"100px"}}),e.jsx("p",{style:{fontSize:"12px",color:"var(--muted-foreground)",marginTop:"6px"},children:"This reason will be sent to the requestor and recorded in the audit log."})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(L,{variant:"outline",onClick:()=>r(!1),style:{height:"40px",borderRadius:"8px",fontSize:"14px",fontWeight:"600"},children:"Cancel"}),e.jsx(L,{onClick:o,disabled:!a.trim(),style:{height:"40px",backgroundColor:"var(--danger)",borderRadius:"8px",fontSize:"14px",fontWeight:"600",transition:"all 120ms var(--ease-out)"},className:"hover:opacity-90",children:"Confirm Rejection"})]})]})})}const nh=[{id:"REQ-001",user:"Jessica Smith",department:"Finance",resource:"Oracle ERP - Accounts Payable Read",status:"Pending",risk:"High",submitted:"2025-09-29T14:30:00",sodHits:2,justification:"Need access to process quarterly financial reports and reconciliation tasks for Q4 fiscal closing period.",approver:"Michael Chen"},{id:"REQ-002",user:"Raj Kumar",department:"IT Operations",resource:"SharePoint Finance Site - Editors",status:"Pending",risk:"Medium",submitted:"2025-09-29T11:15:00",sodHits:0,justification:"Required to maintain and update financial documentation for quarterly reports.",approver:"Sarah Johnson"},{id:"REQ-003",user:"Maria Chen",department:"Sales",resource:"Salesforce - System Administrator",status:"In Progress",risk:"Low",submitted:"2025-09-28T16:45:00",sodHits:0,justification:"Promoted to Sales Operations Manager role. Need admin access to configure workflows.",approver:"David Park"},{id:"REQ-004",user:"Alex Johnson",department:"Human Resources",resource:"Workday - HR Business Partner",status:"Approved",risk:"Low",submitted:"2025-09-27T09:20:00",sodHits:0,justification:"New HRBP role requires access to employee records for assigned business units.",approver:"Lisa Anderson"},{id:"REQ-005",user:"Sam Patel",department:"Finance",resource:"AWS Production - Admin Console",status:"Rejected",risk:"High",submitted:"2025-09-26T13:10:00",sodHits:1,justification:"Need production access to troubleshoot billing integration issues.",approver:"Michael Chen"}],gye=[{label:"Total Requests",value:"156",change:"+12 this week",icon:Wn,color:"#4F46E5"},{label:"Pending Approval",value:"24",change:"3 require attention",icon:sr,color:"#F59E0B"},{label:"High Risk",value:"7",change:"+2 today",icon:et,color:"#EF4444"},{label:"Avg. Approval Time",value:"4.2h",change:"15% vs last month",icon:cr,color:"#10B981"}],ho={"REQ-001":[{id:"sod-1",conflictingAccess:"Oracle ERP - Accounts Receivable Write",reason:"User already has Accounts Payable Write access. Combining both creates a separation of duties violation.",policy:"SOD-FIN-001: AP/AR Segregation",policyLink:"#"},{id:"sod-2",conflictingAccess:"Oracle ERP - General Ledger Write",reason:"Cannot have both AP access and GL write permissions due to financial control requirements.",policy:"SOD-FIN-003: GL Access Controls",policyLink:"#"}],"REQ-005":[{id:"sod-3",conflictingAccess:"AWS Development - Admin Console",reason:"User already has development admin access. Production admin would violate environment segregation.",policy:"SOD-IT-002: Environment Separation",policyLink:"#"}]};function Q1(){const t=$r(),[r,n]=j.useState(null),[s,a]=j.useState("all"),[i,o]=j.useState(""),[l,d]=j.useState(!1),[u,f]=j.useState(!1),[m,v]=j.useState(!1),[g,b]=j.useState(!1),[x,y]=j.useState([]),[A,E]=j.useState([]),[C,w]=j.useState([]),k=j.useMemo(()=>nh.filter(I=>{if(s==="pending"&&I.status!=="Pending"||s==="in-progress"&&I.status!=="In Progress"||s==="high-risk"&&I.risk!=="High"||x.length>0&&!x.includes(I.status)||A.length>0&&!A.includes(I.risk)||C.length>0&&!C.includes(I.department))return!1;if(i){const B=i.toLowerCase();return I.id.toLowerCase().includes(B)||I.user.toLowerCase().includes(B)||I.resource.toLowerCase().includes(B)||I.department.toLowerCase().includes(B)}return!0}),[s,i,x,A,C]),S=x.length+A.length+C.length,R=(I,B)=>{const M={status:y,risk:E,department:w},W={status:x,risk:A,department:C},V=M[I],Q=W[I];Q.includes(B)?V(Q.filter(H=>H!==B)):V([...Q,B])},T=()=>{y([]),E([]),w([])},O=()=>{r&&(Ae.success("Request Approved",{description:`${r.id} has been approved successfully.`,action:{label:"View Audit Trail",onClick:()=>console.log("View audit trail")}}),n(null))},U=I=>{r&&(Ae.error("Request Rejected",{description:`${r.id} has been rejected. Reason: ${I}`,action:{label:"View Audit Trail",onClick:()=>console.log("View audit trail")}}),n(null))},D=()=>{r&&Ae.info("Delegation Started",{description:`Opening delegation dialog for ${r.id}...`})};return e.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--bg)"},children:[e.jsxs("div",{style:{padding:"32px",maxWidth:"1320px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between",marginBottom:"24px",gap:"16px",flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"32px",lineHeight:"1.3",fontWeight:"600",color:"var(--text)",marginBottom:"8px"},children:"Access Requests"}),e.jsx("p",{style:{fontSize:"14px",color:"var(--muted-foreground)"},children:"Review and manage access requests across all systems"})]}),e.jsxs(L,{onClick:()=>d(!0),style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)",height:"40px",padding:"0 20px",borderRadius:"10px"},children:[e.jsx(At,{className:"w-4 h-4 mr-2",strokeWidth:2.5}),"New Request"]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"24px"},children:gye.map((I,B)=>{const M=I.icon;return e.jsxs(se,{style:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"12px",padding:"20px"},children:[e.jsx("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between",marginBottom:"12px"},children:e.jsx("div",{style:{padding:"8px",borderRadius:"8px",backgroundColor:"var(--accent)"},children:e.jsx(M,{className:"w-4 h-4",style:{color:I.color},strokeWidth:2})})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"28px",fontWeight:"600",color:"var(--text)",marginBottom:"4px"},children:I.value}),e.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)",fontWeight:"500",marginBottom:"4px"},children:I.label}),e.jsx("div",{style:{fontSize:"11px",color:"var(--muted-foreground)"},children:I.change})]})]},B)})}),e.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[e.jsx(pn,{value:s,onValueChange:a,children:e.jsxs(sn,{style:{backgroundColor:"var(--accent)",padding:"4px",borderRadius:"10px",height:"40px"},children:[e.jsx(Ie,{value:"all",style:{borderRadius:"8px",fontSize:"13px"},children:"All Requests"}),e.jsx(Ie,{value:"pending",style:{borderRadius:"8px",fontSize:"13px"},children:"Pending"}),e.jsx(Ie,{value:"in-progress",style:{borderRadius:"8px",fontSize:"13px"},children:"In Progress"}),e.jsx(Ie,{value:"high-risk",style:{borderRadius:"8px",fontSize:"13px"},children:"High Risk"})]})}),e.jsxs("div",{style:{flex:"1",minWidth:"200px",position:"relative"},children:[e.jsx(Lr,{className:"w-4 h-4",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--muted-foreground)"},strokeWidth:2}),e.jsx(pe,{placeholder:"Search requests...",value:i,onChange:I=>o(I.target.value),style:{paddingLeft:"40px",height:"40px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px"}})]}),e.jsxs(L,{variant:"outline",onClick:()=>f(!0),style:{height:"40px",borderRadius:"10px",fontSize:"13px",position:"relative"},children:[e.jsx(ns,{className:"w-4 h-4 mr-2",strokeWidth:2}),"Filters",S>0&&e.jsx("span",{style:{position:"absolute",top:"-6px",right:"-6px",backgroundColor:"var(--primary)",color:"white",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"600",border:"2px solid var(--bg)"},children:S})]})]})]}),e.jsxs(se,{style:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"12px",overflow:"hidden"},children:[e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs(Nn,{children:[e.jsx(Sn,{style:{backgroundColor:"var(--surface)",borderBottom:"1px solid var(--border)"},children:e.jsxs(St,{children:[e.jsx(we,{style:{height:"48px",color:"var(--muted-foreground)",fontSize:"11px",fontWeight:"600",textTransform:"uppercase"},children:"Request ID"}),e.jsx(we,{style:{height:"48px",color:"var(--muted-foreground)",fontSize:"11px",fontWeight:"600",textTransform:"uppercase"},children:"Requestor"}),e.jsx(we,{style:{height:"48px",color:"var(--muted-foreground)",fontSize:"11px",fontWeight:"600",textTransform:"uppercase"},children:"Resource"}),e.jsx(we,{style:{height:"48px",color:"var(--muted-foreground)",fontSize:"11px",fontWeight:"600",textTransform:"uppercase"},children:"Status"}),e.jsx(we,{style:{height:"48px",color:"var(--muted-foreground)",fontSize:"11px",fontWeight:"600",textTransform:"uppercase"},children:"Risk"}),e.jsx(we,{style:{height:"48px",color:"var(--muted-foreground)",fontSize:"11px",fontWeight:"600",textTransform:"uppercase"},children:"Submitted"}),e.jsx(we,{style:{height:"48px",color:"var(--muted-foreground)",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",textAlign:"right"},children:"Actions"})]})}),e.jsx(kn,{children:k.map(I=>e.jsxs(St,{style:{height:"56px",borderColor:"var(--border)",cursor:"pointer"},onClick:()=>n(I),className:"hover:bg-accent transition-colors",children:[e.jsx(be,{style:{color:"var(--primary)",fontWeight:"600",fontSize:"14px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[I.id,I.sodHits>0&&e.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"var(--danger-bg)",border:"1px solid var(--danger)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(et,{className:"w-3 h-3",style:{color:"var(--danger)"},strokeWidth:2.5})})]})}),e.jsx(be,{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"600"},children:I.user.split(" ").map(B=>B[0]).join("")}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"var(--text)",fontWeight:"500",fontSize:"14px"},children:I.user}),e.jsxs("div",{style:{fontSize:"11px",color:"var(--muted-foreground)",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(Gc,{className:"w-3 h-3",strokeWidth:2}),I.department]})]})]})}),e.jsx(be,{style:{color:"var(--text)",fontSize:"14px",maxWidth:"300px"},children:e.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:I.resource})}),e.jsx(be,{children:e.jsx(J,{style:{backgroundColor:I.status==="Approved"?"var(--success-bg)":I.status==="Pending"?"var(--warning-bg)":I.status==="Rejected"?"var(--danger-bg)":"var(--info-bg)",color:I.status==="Approved"?"var(--success)":I.status==="Pending"?"var(--warning)":I.status==="Rejected"?"var(--danger)":"var(--primary)",border:`1px solid ${I.status==="Approved"?"var(--success-border)":I.status==="Pending"?"var(--warning-border)":I.status==="Rejected"?"var(--danger-border)":"var(--info-border)"}`,fontSize:"11px",fontWeight:"600",padding:"4px 10px",borderRadius:"8px"},children:I.status})}),e.jsx(be,{children:e.jsxs(J,{style:{backgroundColor:I.risk==="High"?"var(--danger-bg)":I.risk==="Medium"?"var(--warning-bg)":"var(--success-bg)",color:I.risk==="High"?"var(--danger)":I.risk==="Medium"?"var(--warning)":"var(--success)",border:`1px solid ${I.risk==="High"?"var(--danger-border)":I.risk==="Medium"?"var(--warning-border)":"var(--success-border)"}`,fontSize:"11px",fontWeight:"600",padding:"4px 10px",borderRadius:"8px",display:"inline-flex",alignItems:"center",gap:"4px"},children:[I.risk==="High"&&e.jsx(bt,{className:"w-3 h-3",strokeWidth:2.5}),I.risk]})}),e.jsx(be,{style:{color:"var(--text-secondary)",fontSize:"13px"},children:new Date(I.submitted).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),e.jsx(be,{style:{textAlign:"right"},children:e.jsx(L,{size:"sm",variant:"ghost",onClick:B=>{B.stopPropagation(),n(I)},style:{height:"32px",width:"32px",padding:0},children:e.jsx(ir,{className:"w-4 h-4",strokeWidth:2})})})]},I.id))})]})}),k.length===0&&e.jsxs("div",{style:{padding:"64px 16px",textAlign:"center"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"var(--accent)",margin:"0 auto 16px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Lr,{className:"w-8 h-8",style:{color:"var(--muted-foreground)"},strokeWidth:1.5})}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"var(--text)",marginBottom:"8px"},children:"No requests found"}),e.jsx("p",{style:{fontSize:"14px",color:"var(--muted-foreground)"},children:"Try adjusting your filters or search query"})]}),k.length>0&&e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 24px",borderTop:"1px solid var(--border)",backgroundColor:"var(--surface)"},children:e.jsxs("div",{style:{fontSize:"13px",color:"var(--muted-foreground)"},children:["Showing ",e.jsx("span",{style:{fontWeight:"500",color:"var(--text)"},children:k.length})," of ",e.jsx("span",{style:{fontWeight:"500",color:"var(--text)"},children:nh.length})," requests"]})})]})]}),e.jsx(Ed,{open:!!r,onOpenChange:()=>n(null),children:e.jsx(_d,{className:"overflow-y-auto",style:{backgroundColor:"var(--bg)",borderLeft:"1px solid var(--border)",width:"100%",maxWidth:"900px",padding:0},children:r&&e.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(Rd,{className:"sr-only",children:["Request ",r.id," Details"]}),e.jsxs(Td,{className:"sr-only",children:["View and manage access request ",r.id]}),e.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid var(--border)",backgroundColor:"var(--surface)"},children:[e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("h2",{style:{color:"var(--text)",fontSize:"20px",fontWeight:"600",marginBottom:"4px"},children:r.id}),e.jsx("p",{style:{fontSize:"13px",color:"var(--muted-foreground)"},children:"Access request details and approval options"})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[e.jsx(J,{style:{backgroundColor:r.status==="Approved"?"var(--success-bg)":r.status==="Pending"?"var(--warning-bg)":r.status==="Rejected"?"var(--danger-bg)":"var(--info-bg)",color:r.status==="Approved"?"var(--success)":r.status==="Pending"?"var(--warning)":r.status==="Rejected"?"var(--danger)":"var(--primary)",border:`1px solid ${r.status==="Approved"?"var(--success-border)":r.status==="Pending"?"var(--warning-border)":r.status==="Rejected"?"var(--danger-border)":"var(--info-border)"}`,fontSize:"13px",fontWeight:"600",padding:"6px 12px",borderRadius:"8px"},children:r.status}),e.jsxs(J,{style:{backgroundColor:r.risk==="High"?"var(--danger-bg)":r.risk==="Medium"?"var(--warning-bg)":"var(--success-bg)",color:r.risk==="High"?"var(--danger)":r.risk==="Medium"?"var(--warning)":"var(--success)",border:`1px solid ${r.risk==="High"?"var(--danger-border)":r.risk==="Medium"?"var(--warning-border)":"var(--success-border)"}`,fontSize:"13px",fontWeight:"600",padding:"6px 12px",borderRadius:"8px",display:"inline-flex",alignItems:"center",gap:"6px"},children:[r.risk==="High"&&e.jsx(bt,{className:"w-3.5 h-3.5",strokeWidth:2.5}),r.risk," Risk"]})]})]}),e.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px",paddingBottom:r.status==="Pending"?"100px":"24px"},children:[r.sodHits>0&&ho[r.id]&&e.jsx(mye,{conflictCount:r.sodHits,onReviewClick:()=>v(!0)}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 380px",gap:"24px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs(se,{style:{padding:"20px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--muted-foreground)",marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Requestor Information"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"600"},children:r.user.split(" ").map(I=>I[0]).join("")}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"var(--text)",marginBottom:"4px"},children:r.user}),e.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(Gc,{className:"w-3.5 h-3.5",strokeWidth:2}),r.department]})]})]}),e.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--accent)",borderRadius:"8px",marginBottom:"16px"},children:[e.jsx("div",{style:{fontSize:"11px",color:"var(--muted-foreground)",marginBottom:"6px",textTransform:"uppercase",fontWeight:"600"},children:"Resource Requested"}),e.jsx("div",{style:{fontSize:"14px",color:"var(--text)",fontWeight:"500"},children:r.resource})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"11px",color:"var(--muted-foreground)",marginBottom:"6px",textTransform:"uppercase",fontWeight:"600"},children:"Submitted"}),e.jsx("div",{style:{fontSize:"13px",color:"var(--text)",fontWeight:"500"},children:new Date(r.submitted).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"11px",color:"var(--muted-foreground)",marginBottom:"6px",textTransform:"uppercase",fontWeight:"600"},children:"Approver"}),e.jsx("div",{style:{fontSize:"13px",color:"var(--text)",fontWeight:"500"},children:r.approver})]})]})]}),e.jsxs(se,{style:{padding:"20px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--muted-foreground)",marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Workflow Timeline"}),e.jsx(fye,{events:[{id:"1",status:"completed",title:"Request Submitted",description:`${r.user} submitted the request`,timestamp:new Date(r.submitted).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})},{id:"2",status:r.status==="Pending"?"active":"completed",title:r.status==="Pending"?"Pending Review":"Reviewed",description:`Assigned to ${r.approver}`,timestamp:r.status!=="Pending"?new Date(new Date(r.submitted).getTime()+72e5).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):void 0},{id:"3",status:r.status==="Approved"||r.status==="Rejected"?"completed":"pending",title:"Decision Made",description:r.status==="Approved"?"Request approved":r.status==="Rejected"?"Request rejected":"Awaiting decision"}]})]}),e.jsxs(se,{style:{padding:"20px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--muted-foreground)",marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Business Justification"}),e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"14px",lineHeight:"1.6"},children:r.justification})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs(se,{style:{padding:"16px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--muted-foreground)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Risk Assessment"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",backgroundColor:r.risk==="High"?"var(--danger-bg)":r.risk==="Medium"?"var(--warning-bg)":"var(--success-bg)",borderRadius:"8px",border:`1px solid ${r.risk==="High"?"var(--danger-border)":r.risk==="Medium"?"var(--warning-border)":"var(--success-border)"}`,marginBottom:"12px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",backgroundColor:r.risk==="High"?"var(--danger)":r.risk==="Medium"?"var(--warning)":"var(--success)",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:e.jsx(Sa,{className:"w-5 h-5",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"var(--text)"},children:[r.risk," Risk"]}),e.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:r.risk==="High"?"Requires approval":r.risk==="Medium"?"Standard review":"Low impact"})]})]}),e.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",lineHeight:"1.5"},children:[e.jsx("strong",{style:{color:"var(--text)",fontWeight:"600"},children:"Factors:"})," Sensitive resource, privileged access level"]})]}),r.sodHits>0&&ho[r.id]&&e.jsxs(se,{style:{padding:"16px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px",boxShadow:"var(--shadow-sm)"},children:[e.jsxs("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--muted-foreground)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.05em"},children:["SoD Conflicts (",r.sodHits,")"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[ho[r.id].slice(0,1).map(I=>e.jsx(dx,{conflictingAccess:I.conflictingAccess,reason:I.reason,policy:I.policy,policyLink:I.policyLink},I.id)),ho[r.id].length>1&&e.jsxs(L,{variant:"ghost",onClick:()=>v(!0),style:{fontSize:"12px",fontWeight:"600",color:"var(--danger)",height:"32px",justifyContent:"flex-start"},children:["View ",ho[r.id].length-1," more conflict",ho[r.id].length-1>1?"s":""]})]})]}),e.jsxs(se,{style:{padding:"16px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--muted-foreground)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Usage Signals"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Ss,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"},strokeWidth:2}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"var(--text)"},children:"Last Used"}),e.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"Never (new access)"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(zt,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"},strokeWidth:2}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"var(--text)"},children:"Peer Coverage"}),e.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:["73% of ",r.department," have this"]})]})]})]})]}),e.jsxs(se,{style:{padding:"16px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"10px",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--muted-foreground)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Related Items"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsxs(L,{variant:"ghost",onClick:()=>{const I=r.user.toLowerCase().replace(/\s+/g,"-");t(`/identities/${I}`)},style:{fontSize:"13px",fontWeight:"500",color:"var(--text-secondary)",height:"32px",justifyContent:"flex-start",transition:"all 120ms var(--ease-out)"},className:"hover:bg-accent hover:text-text",children:[e.jsx(Ka,{className:"w-4 h-4 mr-2",strokeWidth:2}),"User Profile"]}),e.jsxs(L,{variant:"ghost",onClick:()=>{const I=r.user.toLowerCase().replace(/\s+/g,"-");t(`/identities/${I}`,{state:{tab:"access-history"}})},style:{fontSize:"13px",fontWeight:"500",color:"var(--text-secondary)",height:"32px",justifyContent:"flex-start",transition:"all 120ms var(--ease-out)"},className:"hover:bg-accent hover:text-text",children:[e.jsx(Ka,{className:"w-4 h-4 mr-2",strokeWidth:2}),"Access History"]})]})]})]})]})]}),r.status==="Pending"&&e.jsx(pye,{onApprove:O,onReject:()=>b(!0),onDelegate:D,slaHours:8})]})})}),r&&ho[r.id]&&e.jsx(vye,{open:m,onOpenChange:v,conflicts:ho[r.id],requestId:r.id}),r&&e.jsx(xye,{open:g,onOpenChange:b,onConfirm:U,requestId:r.id}),e.jsx(hye,{open:l,onOpenChange:d}),e.jsx(Ed,{open:u,onOpenChange:f,children:e.jsxs(_d,{style:{backgroundColor:"var(--bg)",borderLeft:"1px solid var(--border)",width:"100%",maxWidth:"400px",padding:"24px"},children:[e.jsxs(bg,{style:{marginBottom:"24px"},children:[e.jsx(Rd,{style:{color:"var(--text)",fontSize:"20px",fontWeight:"600"},children:"Filters"}),e.jsx(Td,{style:{fontSize:"13px"},children:"Filter requests by status, risk level, and department"}),S>0&&e.jsx("div",{className:"pt-2",children:e.jsxs(L,{variant:"ghost",onClick:T,style:{height:"32px",fontSize:"13px",color:"var(--primary)"},children:["Clear All (",S,")"]})})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--text)",marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:["Pending","In Progress","Approved","Rejected"].map(I=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"4px 0"},children:[e.jsx(Zt,{id:`status-${I}`,checked:x.includes(I),onCheckedChange:()=>R("status",I)}),e.jsxs(G,{htmlFor:`status-${I}`,style:{fontSize:"14px",color:"var(--text)",cursor:"pointer",display:"flex",alignItems:"center",flex:1},children:[e.jsx("span",{style:{flex:1},children:I}),e.jsx(J,{style:{backgroundColor:I==="Approved"?"var(--success-bg)":I==="Pending"?"var(--warning-bg)":I==="Rejected"?"var(--danger-bg)":"var(--info-bg)",color:I==="Approved"?"var(--success)":I==="Pending"?"var(--warning)":I==="Rejected"?"var(--danger)":"var(--primary)",border:`1px solid ${I==="Approved"?"var(--success-border)":I==="Pending"?"var(--warning-border)":I==="Rejected"?"var(--danger-border)":"var(--info-border)"}`,fontSize:"11px",fontWeight:"600",padding:"2px 8px",borderRadius:"6px"},children:nh.filter(B=>B.status===I).length})]})]},I))})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--text)",marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Risk Level"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:["High","Medium","Low"].map(I=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"4px 0"},children:[e.jsx(Zt,{id:`risk-${I}`,checked:A.includes(I),onCheckedChange:()=>R("risk",I)}),e.jsxs(G,{htmlFor:`risk-${I}`,style:{fontSize:"14px",color:"var(--text)",cursor:"pointer",display:"flex",alignItems:"center",flex:1},children:[e.jsxs("span",{style:{flex:1,display:"flex",alignItems:"center",gap:"8px"},children:[I==="High"&&e.jsx(bt,{className:"w-3.5 h-3.5",style:{color:"var(--danger)"},strokeWidth:2.5}),I]}),e.jsx(J,{style:{backgroundColor:I==="High"?"var(--danger-bg)":I==="Medium"?"var(--warning-bg)":"var(--success-bg)",color:I==="High"?"var(--danger)":I==="Medium"?"var(--warning)":"var(--success)",border:`1px solid ${I==="High"?"var(--danger-border)":I==="Medium"?"var(--warning-border)":"var(--success-border)"}`,fontSize:"11px",fontWeight:"600",padding:"2px 8px",borderRadius:"6px"},children:nh.filter(B=>B.risk===I).length})]})]},I))})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--text)",marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Department"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:["Finance","IT Operations","Sales","Human Resources"].map(I=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"4px 0"},children:[e.jsx(Zt,{id:`dept-${I}`,checked:C.includes(I),onCheckedChange:()=>R("department",I)}),e.jsxs(G,{htmlFor:`dept-${I}`,style:{fontSize:"14px",color:"var(--text)",cursor:"pointer",display:"flex",alignItems:"center",flex:1},children:[e.jsxs("span",{style:{flex:1,display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Gc,{className:"w-3.5 h-3.5",style:{color:"var(--muted-foreground)"},strokeWidth:2}),I]}),e.jsx(J,{variant:"outline",style:{fontSize:"11px",fontWeight:"600",padding:"2px 8px",borderRadius:"6px"},children:nh.filter(B=>B.department===I).length})]})]},I))})]})]}),S>0&&e.jsxs("div",{style:{marginTop:"32px",padding:"16px",backgroundColor:"var(--accent)",borderRadius:"10px",border:"1px solid var(--border)"},children:[e.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"var(--muted-foreground)",marginBottom:"8px",textTransform:"uppercase"},children:"Active Filters"}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:[x.map(I=>e.jsxs(J,{style:{backgroundColor:"var(--primary)",color:"white",fontSize:"11px",padding:"4px 8px",borderRadius:"6px",display:"inline-flex",alignItems:"center",gap:"4px"},children:[I,e.jsx($t,{className:"w-3 h-3 cursor-pointer",strokeWidth:2.5,onClick:()=>R("status",I)})]},I)),A.map(I=>e.jsxs(J,{style:{backgroundColor:"var(--warning)",color:"white",fontSize:"11px",padding:"4px 8px",borderRadius:"6px",display:"inline-flex",alignItems:"center",gap:"4px"},children:[I," Risk",e.jsx($t,{className:"w-3 h-3 cursor-pointer",strokeWidth:2.5,onClick:()=>R("risk",I)})]},I)),C.map(I=>e.jsxs(J,{style:{backgroundColor:"var(--info)",color:"white",fontSize:"11px",padding:"4px 8px",borderRadius:"6px",display:"inline-flex",alignItems:"center",gap:"4px"},children:[I,e.jsx($t,{className:"w-3 h-3 cursor-pointer",strokeWidth:2.5,onClick:()=>R("department",I)})]},I))]})]})]})})]})}function Cl({label:t,onRemove:r}){return e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md transition-all duration-150 group",style:{backgroundColor:"var(--surface)",border:"1px solid var(--border)",fontSize:"var(--text-sm)",color:"var(--text)"},children:[e.jsx("span",{children:t}),e.jsx("button",{onClick:r,className:"ml-0.5 rounded hover:bg-border/50 transition-colors p-0.5","aria-label":`Remove ${t} filter`,children:e.jsx($t,{className:"w-3 h-3",style:{color:"var(--muted-foreground)"}})})]})}function us({className:t,...r}){return e.jsx("div",{"data-slot":"skeleton",className:We("bg-accent animate-pulse rounded-md",t),...r})}var n8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yye="VisuallyHidden",s8=j.forwardRef((t,r)=>e.jsx(Fe.span,{...t,ref:r,style:{...n8,...t.style}}));s8.displayName=yye;var bye=s8,[Ng]=rn("Tooltip",[zo]),Sg=zo(),a8="TooltipProvider",jye=700,uk="tooltip.open",[wye,y2]=Ng(a8),i8=t=>{const{__scopeTooltip:r,delayDuration:n=jye,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=t,o=j.useRef(!0),l=j.useRef(!1),d=j.useRef(0);return j.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),e.jsx(wye,{scope:r,isOpenDelayedRef:o,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};i8.displayName=a8;var Nm="Tooltip",[Nye,Zm]=Ng(Nm),o8=t=>{const{__scopeTooltip:r,children:n,open:s,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,d=y2(Nm,t.__scopeTooltip),u=Sg(r),[f,m]=j.useState(null),v=tn(),g=j.useRef(0),b=o??d.disableHoverableContent,x=l??d.delayDuration,y=j.useRef(!1),[A,E]=Ns({prop:s,defaultProp:a??!1,onChange:R=>{R?(d.onOpen(),document.dispatchEvent(new CustomEvent(uk))):d.onClose(),i?.(R)},caller:Nm}),C=j.useMemo(()=>A?y.current?"delayed-open":"instant-open":"closed",[A]),w=j.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y.current=!1,E(!0)},[E]),k=j.useCallback(()=>{window.clearTimeout(g.current),g.current=0,E(!1)},[E]),S=j.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{y.current=!0,E(!0),g.current=0},x)},[x,E]);return j.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),e.jsx(_x,{...u,children:e.jsx(Nye,{scope:r,contentId:v,open:A,stateAttribute:C,trigger:f,onTriggerChange:m,onTriggerEnter:j.useCallback(()=>{d.isOpenDelayedRef.current?S():w()},[d.isOpenDelayedRef,S,w]),onTriggerLeave:j.useCallback(()=>{b?k():(window.clearTimeout(g.current),g.current=0)},[k,b]),onOpen:w,onClose:k,disableHoverableContent:b,children:n})})};o8.displayName=Nm;var hk="TooltipTrigger",l8=j.forwardRef((t,r)=>{const{__scopeTooltip:n,...s}=t,a=Zm(hk,n),i=y2(hk,n),o=Sg(n),l=j.useRef(null),d=st(r,l,a.onTriggerChange),u=j.useRef(!1),f=j.useRef(!1),m=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),e.jsx(Dm,{asChild:!0,...o,children:e.jsx(Fe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:Re(t.onPointerMove,v=>{v.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:Re(t.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:Re(t.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Re(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:Re(t.onBlur,a.onClose),onClick:Re(t.onClick,a.onClose)})})});l8.displayName=hk;var b2="TooltipPortal",[Sye,kye]=Ng(b2,{forceMount:void 0}),c8=t=>{const{__scopeTooltip:r,forceMount:n,children:s,container:a}=t,i=Zm(b2,r);return e.jsx(Sye,{scope:r,forceMount:n,children:e.jsx(Fr,{present:n||i.open,children:e.jsx(Kd,{asChild:!0,container:a,children:s})})})};c8.displayName=b2;var Od="TooltipContent",d8=j.forwardRef((t,r)=>{const n=kye(Od,t.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=t,o=Zm(Od,t.__scopeTooltip);return e.jsx(Fr,{present:s||o.open,children:o.disableHoverableContent?e.jsx(u8,{side:a,...i,ref:r}):e.jsx(Cye,{side:a,...i,ref:r})})}),Cye=j.forwardRef((t,r)=>{const n=Zm(Od,t.__scopeTooltip),s=y2(Od,t.__scopeTooltip),a=j.useRef(null),i=st(r,a),[o,l]=j.useState(null),{trigger:d,onClose:u}=n,f=a.current,{onPointerInTransitChange:m}=s,v=j.useCallback(()=>{l(null),m(!1)},[m]),g=j.useCallback((b,x)=>{const y=b.currentTarget,A={x:b.clientX,y:b.clientY},E=Rye(A,y.getBoundingClientRect()),C=Tye(A,E),w=Pye(x.getBoundingClientRect()),k=Iye([...C,...w]);l(k),m(!0)},[m]);return j.useEffect(()=>()=>v(),[v]),j.useEffect(()=>{if(d&&f){const b=y=>g(y,f),x=y=>g(y,d);return d.addEventListener("pointerleave",b),f.addEventListener("pointerleave",x),()=>{d.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",x)}}},[d,f,g,v]),j.useEffect(()=>{if(o){const b=x=>{const y=x.target,A={x:x.clientX,y:x.clientY},E=d?.contains(y)||f?.contains(y),C=!Oye(A,o);E?v():C&&(v(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[d,f,o,u,v]),e.jsx(u8,{...t,ref:i})}),[Aye,Eye]=Ng(Nm,{isInside:!1}),_ye=iV("TooltipContent"),u8=j.forwardRef((t,r)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,d=Zm(Od,n),u=Sg(n),{onClose:f}=d;return j.useEffect(()=>(document.addEventListener(uk,f),()=>document.removeEventListener(uk,f)),[f]),j.useEffect(()=>{if(d.trigger){const m=v=>{v.target?.contains(d.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,f]),e.jsx(Hd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:e.jsxs(Rx,{"data-state":d.stateAttribute,...u,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(_ye,{children:s}),e.jsx(Aye,{scope:n,isInside:!0,children:e.jsx(bye,{id:d.contentId,role:"tooltip",children:a||s})})]})})});d8.displayName=Od;var h8="TooltipArrow",m8=j.forwardRef((t,r)=>{const{__scopeTooltip:n,...s}=t,a=Sg(n);return Eye(h8,n).isInside?null:e.jsx(Tx,{...a,...s,ref:r})});m8.displayName=h8;function Rye(t,r){const n=Math.abs(r.top-t.y),s=Math.abs(r.bottom-t.y),a=Math.abs(r.right-t.x),i=Math.abs(r.left-t.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Tye(t,r,n=5){const s=[];switch(r){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function Pye(t){const{top:r,right:n,bottom:s,left:a}=t;return[{x:a,y:r},{x:n,y:r},{x:n,y:s},{x:a,y:s}]}function Oye(t,r){const{x:n,y:s}=t;let a=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],d=r[o],u=l.x,f=l.y,m=d.x,v=d.y;f>s!=v>s&&n<(m-u)*(s-f)/(v-f)+u&&(a=!a)}return a}function Iye(t){const r=t.slice();return r.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Dye(r)}function Dye(t){if(t.length<=1)return t.slice();const r=[];for(let s=0;s<t.length;s++){const a=t[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}r.pop();const n=[];for(let s=t.length-1;s>=0;s--){const a=t[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),r.length===1&&n.length===1&&r[0].x===n[0].x&&r[0].y===n[0].y?r:r.concat(n)}var Mye=i8,Lye=o8,zye=l8,$ye=c8,Fye=d8,Bye=m8;function Do({delayDuration:t=0,...r}){return e.jsx(Mye,{"data-slot":"tooltip-provider",delayDuration:t,...r})}function Ai({...t}){return e.jsx(Do,{children:e.jsx(Lye,{"data-slot":"tooltip",...t})})}function Ei({...t}){return e.jsx(zye,{"data-slot":"tooltip-trigger",...t})}function _i({className:t,sideOffset:r=0,children:n,...s}){return e.jsx($ye,{children:e.jsxs(Fye,{"data-slot":"tooltip-content",sideOffset:r,className:We("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...s,children:[n,e.jsx(Bye,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const f8=$.memo(function({status:r,size:n="md"}){const a=(d=>{switch(d.toLowerCase()){case"active":return{icon:cr,color:"var(--success)",bgColor:"var(--success-bg)",borderColor:"var(--success-border)",label:"Active"};case"inactive":return{icon:Oh,color:"var(--muted-foreground)",bgColor:"var(--surface)",borderColor:"var(--border)",label:"Inactive"};case"disabled":return{icon:Cr,color:"var(--danger)",bgColor:"var(--danger-bg)",borderColor:"var(--danger-border)",label:"Disabled"};case"pending":return{icon:FG,color:"var(--warning)",bgColor:"var(--warning-bg)",borderColor:"var(--warning-border)",label:"Pending"};default:return{icon:Oh,color:"var(--muted-foreground)",bgColor:"var(--surface)",borderColor:"var(--border)",label:d}}})(r),i=a.icon,o=n==="sm"?"w-3 h-3":"w-3.5 h-3.5",l=n==="sm"?"var(--text-xs)":"var(--text-sm)";return e.jsxs(J,{variant:"outline",className:"gap-1.5 font-medium",style:{backgroundColor:a.bgColor,borderColor:a.borderColor,color:a.color,fontSize:l},children:[e.jsx(i,{className:o}),e.jsx("span",{children:a.label})]})}),mr=$.memo(function({risk:r,size:n="md",withTooltip:s=!1,tooltipContent:a,showScore:i=!1}){const l=(v=>{switch(v.toLowerCase()){case"critical":return{icon:et,color:"var(--danger)",bgColor:"var(--danger-bg)",borderColor:"var(--danger-border)",label:"Critical",score:95,tooltip:"Critical risk: Requires immediate attention and approval"};case"high":return{icon:fr,color:"var(--warning)",bgColor:"var(--warning-bg)",borderColor:"var(--warning-border)",label:"High",score:75,tooltip:"High risk: Elevated privileges or sensitive access"};case"medium":return{icon:Dh,color:"var(--info)",bgColor:"var(--info-bg)",borderColor:"var(--info-border)",label:"Medium",score:50,tooltip:"Medium risk: Standard review required"};case"low":return{icon:k5,color:"var(--success)",bgColor:"var(--success-bg)",borderColor:"var(--success-border)",label:"Low",score:20,tooltip:"Low risk: Standard user access"};default:return{icon:Dh,color:"var(--muted-foreground)",bgColor:"var(--surface)",borderColor:"var(--border)",label:v,score:0,tooltip:"Risk level unknown"}}})(r),d=l.icon,u=n==="sm"?"w-3 h-3":"w-3.5 h-3.5",f=n==="sm"?"var(--text-xs)":"var(--text-sm)",m=e.jsxs(J,{variant:"outline",className:"gap-1.5 font-medium",style:{backgroundColor:l.bgColor,borderColor:l.borderColor,color:l.color,fontSize:f},children:[e.jsx(d,{className:u}),i?e.jsxs("span",{children:[l.score,"  ",l.label]}):e.jsx("span",{children:l.label})]});return s?e.jsx(Do,{children:e.jsxs(Ai,{children:[e.jsx(Ei,{asChild:!0,children:e.jsx("div",{className:"inline-flex",children:m})}),e.jsx(_i,{children:e.jsx("p",{className:"max-w-xs",children:a||l.tooltip})})]})}):m}),Wye=$.memo(function({data:r,selectedIds:n,onSelectAll:s,onSelectRow:a,onRowClick:i,isLoading:o=!1,error:l=null}){const d=f=>f.split(" ").map(m=>m[0]).join("").toUpperCase(),u=f=>f===0?"Today":f===1?"Yesterday":f<7?`${f}d ago`:f<30?`${Math.floor(f/7)}w ago`:f<365?`${Math.floor(f/30)}mo ago`:`${Math.floor(f/365)}y ago`;return o?e.jsx("div",{className:"rounded-lg border overflow-hidden",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",boxShadow:"var(--shadow-sm)"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{className:"border-b hover:bg-transparent",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",height:"44px"},children:[e.jsx(we,{className:"sticky left-0 z-10",style:{backgroundColor:"var(--surface)",boxShadow:"0 0 0 0 transparent",width:"48px",minWidth:"48px",maxWidth:"48px"},children:e.jsx(us,{className:"h-4 w-4"})}),e.jsx(we,{className:"sticky z-10",style:{backgroundColor:"var(--surface)",left:"48px",width:"280px",minWidth:"280px",maxWidth:"280px",boxShadow:"2px 0 4px -2px rgba(0, 0, 0, 0.1)"},children:"User"}),e.jsx(we,{style:{minWidth:"140px"},children:"Department"}),e.jsx(we,{style:{minWidth:"140px"},children:"Manager"}),e.jsx(we,{style:{minWidth:"110px"},children:"Status"}),e.jsx(we,{style:{minWidth:"110px"},children:"Risk"}),e.jsx(we,{style:{minWidth:"80px"},children:"Roles"}),e.jsx(we,{style:{minWidth:"140px"},children:"Last Login"}),e.jsx(we,{style:{minWidth:"120px"},children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{children:"Flags"}),e.jsx(Dh,{className:"w-3.5 h-3.5",style:{color:"var(--muted-foreground)"}})]})}),e.jsx(we,{className:"w-12"})]})}),e.jsx(kn,{children:[...Array(5)].map((f,m)=>e.jsxs(St,{style:{height:"48px"},children:[e.jsx(be,{className:"sticky left-0 z-10",style:{backgroundColor:"var(--surface)",boxShadow:"0 0 0 0 transparent",width:"48px",minWidth:"48px",maxWidth:"48px"},children:e.jsx(us,{className:"h-4 w-4"})}),e.jsx(be,{className:"sticky z-10",style:{backgroundColor:"var(--surface)",left:"48px",width:"280px",minWidth:"280px",maxWidth:"280px",boxShadow:"2px 0 4px -2px rgba(0, 0, 0, 0.1)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(us,{className:"w-10 h-10 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(us,{className:"h-4 w-32"}),e.jsx(us,{className:"h-3 w-40"})]})]})}),e.jsx(be,{children:e.jsx(us,{className:"h-4 w-24"})}),e.jsx(be,{children:e.jsx(us,{className:"h-4 w-28"})}),e.jsx(be,{children:e.jsx(us,{className:"h-6 w-20"})}),e.jsx(be,{children:e.jsx(us,{className:"h-6 w-20"})}),e.jsx(be,{children:e.jsx(us,{className:"h-4 w-8"})}),e.jsx(be,{children:e.jsx(us,{className:"h-4 w-20"})}),e.jsx(be,{children:e.jsx(us,{className:"h-4 w-12"})}),e.jsx(be,{children:e.jsx(us,{className:"h-8 w-8"})})]},m))})]})})}):l?e.jsxs("div",{className:"rounded-lg border p-12 text-center",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsx(fr,{className:"w-12 h-12 mx-auto mb-4",style:{color:"var(--danger)"}}),e.jsx("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"8px"},children:"Error Loading Identities"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:l})]}):r.length===0?e.jsxs("div",{className:"rounded-lg border p-12 text-center",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsx("div",{className:"w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"var(--accent)"},children:e.jsx("svg",{className:"w-6 h-6",style:{color:"var(--muted-foreground)"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"8px"},children:"No identities found"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Try adjusting your filters or search query"})]}):e.jsx("div",{className:"rounded-lg border overflow-hidden",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",boxShadow:"var(--shadow-sm)"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{className:"border-b hover:bg-transparent",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",height:"44px"},children:[e.jsx(we,{className:"sticky left-0 z-10",style:{backgroundColor:"var(--surface)",boxShadow:"0 0 0 0 transparent",width:"48px",minWidth:"48px",maxWidth:"48px"},children:e.jsx(Zt,{checked:n.size===r.length&&r.length>0,onCheckedChange:s,"aria-label":"Select all identities"})}),e.jsx(we,{className:"sticky z-10",style:{backgroundColor:"var(--surface)",left:"48px",width:"280px",minWidth:"280px",maxWidth:"280px",boxShadow:"2px 0 4px -2px rgba(0, 0, 0, 0.1)"},children:"User"}),e.jsx(we,{style:{minWidth:"140px"},children:"Department"}),e.jsx(we,{style:{minWidth:"140px"},children:"Manager"}),e.jsx(we,{style:{minWidth:"110px"},children:"Status"}),e.jsx(we,{style:{minWidth:"110px"},children:"Risk"}),e.jsx(we,{style:{minWidth:"80px"},children:"Roles"}),e.jsx(we,{style:{minWidth:"140px"},children:"Last Login"}),e.jsx(we,{style:{minWidth:"120px"},children:e.jsx(Do,{children:e.jsxs(Ai,{children:[e.jsx(Ei,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-1.5 cursor-help",children:[e.jsx("span",{children:"Flags"}),e.jsx(Dh,{className:"w-3.5 h-3.5",style:{color:"var(--muted-foreground)"}})]})}),e.jsx(_i,{side:"top",className:"max-w-xs",children:e.jsx("p",{style:{fontSize:"var(--text-xs)"},children:"Active governance issues: SoD conflicts and access anomalies"})})]})})}),e.jsx(we,{className:"w-12"})]})}),e.jsx(kn,{children:r.map(f=>{const m=f.lastLoginDays>30,v=(f.issues?.sodConflicts||0)+(f.issues?.anomalies||0);return e.jsxs(St,{onClick:()=>i(f),className:"cursor-pointer transition-colors duration-150 border-b group",style:{borderColor:"var(--border)",height:"48px"},onMouseEnter:g=>{g.currentTarget.style.backgroundColor="var(--accent)",g.currentTarget.querySelectorAll(".sticky-cell").forEach(x=>{x.style.backgroundColor="var(--accent)"})},onMouseLeave:g=>{g.currentTarget.style.backgroundColor="transparent",g.currentTarget.querySelectorAll(".sticky-cell").forEach(x=>{x.style.backgroundColor="var(--surface)"})},children:[e.jsx(be,{onClick:g=>g.stopPropagation(),className:"sticky left-0 z-10 sticky-cell",style:{backgroundColor:"var(--surface)",boxShadow:"0 0 0 0 transparent",width:"48px",minWidth:"48px",maxWidth:"48px"},children:e.jsx(Zt,{checked:n.has(f.id),onCheckedChange:g=>a(f.id,g),"aria-label":`Select ${f.name}`})}),e.jsx(be,{className:"sticky z-10 sticky-cell",style:{backgroundColor:"var(--surface)",left:"48px",width:"280px",minWidth:"280px",maxWidth:"280px",boxShadow:"2px 0 4px -2px rgba(0, 0, 0, 0.1)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mn,{className:"w-10 h-10 border",style:{borderColor:"var(--border)"},children:e.jsx(Ln,{style:{backgroundColor:"var(--primary)",color:"white",fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)"},children:d(f.name)})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:f.name}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:f.email})]})]})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:f.department})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:f.manager})}),e.jsx(be,{children:e.jsx(f8,{status:f.status,size:"sm"})}),e.jsx(be,{children:e.jsx(mr,{risk:f.risk,size:"sm",withTooltip:!0})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:f.roles})}),e.jsx(be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:u(f.lastLoginDays)}),m&&e.jsx(J,{variant:"outline",style:{backgroundColor:"var(--warning-bg)",borderColor:"var(--warning-border)",color:"var(--warning)",fontSize:"var(--text-xs)"},children:"Dormant"})]})}),e.jsx(be,{children:v>0?e.jsx(Do,{children:e.jsxs(Ai,{children:[e.jsx(Ei,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-1.5 cursor-help",children:[e.jsx(fr,{className:"w-4 h-4",style:{color:"var(--warning)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--warning)"},children:v})]})}),e.jsx(_i,{side:"left",children:e.jsxs("div",{className:"space-y-1",style:{fontSize:"var(--text-xs)"},children:[f.issues?.sodConflicts?e.jsxs("div",{children:[e.jsx("strong",{children:f.issues.sodConflicts})," SoD conflict",f.issues.sodConflicts>1?"s":""]}):null,f.issues?.anomalies?e.jsxs("div",{children:[e.jsx("strong",{children:f.issues.anomalies})," anomal",f.issues.anomalies>1?"ies":"y"]}):null]})})]})}):e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:""})}),e.jsx(be,{onClick:g=>g.stopPropagation(),children:e.jsx(L,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>i(f),"aria-label":`View ${f.name}`,children:e.jsx(ir,{className:"w-4 h-4"})})})]},f.id)})})]})})})});var Uye="Separator",zM="horizontal",qye=["horizontal","vertical"],p8=j.forwardRef((t,r)=>{const{decorative:n,orientation:s=zM,...a}=t,i=Hye(s)?s:zM,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(Fe.div,{"data-orientation":i,...l,...a,ref:r})});p8.displayName=Uye;function Hye(t){return qye.includes(t)}var Vye=p8;function Sm({className:t,orientation:r="horizontal",decorative:n=!0,...s}){return e.jsx(Vye,{"data-slot":"separator-root",decorative:n,orientation:r,className:We("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}function Gye({items:t,columns:r=2}){return e.jsx("div",{className:`grid gap-4 ${r===2?"grid-cols-2":"grid-cols-1"}`,children:t.map((n,s)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"6px",fontWeight:"var(--font-weight-medium)"},children:n.label}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)",fontWeight:"var(--font-weight-medium)"},children:n.value})]},s))})}function Kye({item:t,onRevoke:r}){const n=a=>a==null?"Never":a===0?"Today":a===1?"Yesterday":a<7?`${a}d ago`:a<30?`${Math.floor(a/7)}w ago`:a<365?`${Math.floor(a/30)}mo ago`:`${Math.floor(a/365)}y ago`,s=a=>a==null?"var(--danger)":a===0||a<7?"var(--success)":a<30?"var(--info)":a<90?"var(--warning)":"var(--danger)";return e.jsxs("tr",{className:"border-b transition-all duration-120",style:{borderColor:"var(--border)"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="var(--accent)"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)",fontWeight:"var(--font-weight-medium)"},children:t.name})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(J,{variant:"outline",style:{backgroundColor:t.type==="Role"?"var(--info-bg)":"var(--accent)",borderColor:t.type==="Role"?"var(--info-border)":"var(--border)",color:t.type==="Role"?"var(--info)":"var(--muted-foreground)",fontSize:"var(--text-xs)"},children:t.type})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:s(t.lastUsedDays)},children:t.lastUsed?n(t.lastUsedDays):"Never"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(mr,{risk:t.risk,size:"sm"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:t.grantedOn})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>r(t.id),className:"gap-1.5 h-7",style:{color:"var(--danger)"},children:[e.jsx(Cr,{className:"w-3.5 h-3.5"}),"Revoke"]})})]})}function Jye({appName:t,items:r,onRevoke:n}){const[s,a]=j.useState(!0),i=r.filter(o=>o.risk==="High"||o.risk==="Critical").length;return e.jsxs("div",{className:"rounded-lg border overflow-hidden transition-all duration-150",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",boxShadow:"var(--shadow-xs)"},children:[e.jsxs("button",{onClick:()=>a(!s),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-opacity-50 transition-all duration-120",style:{backgroundColor:s?"var(--accent)":"transparent"},onMouseEnter:o=>{s||(o.currentTarget.style.backgroundColor="var(--accent)")},onMouseLeave:o=>{s||(o.currentTarget.style.backgroundColor="transparent")},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s?e.jsx(Ga,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}}):e.jsx(Ka,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:t}),e.jsx(J,{variant:"outline",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)",color:"var(--muted-foreground)",fontSize:"var(--text-xs)"},children:r.length})]}),i>0&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(fr,{className:"w-4 h-4",style:{color:"var(--warning)"}}),e.jsxs("span",{style:{fontSize:"var(--text-xs)",color:"var(--warning)"},children:[i," high risk"]})]})]}),s&&e.jsx("div",{className:"border-t",style:{borderColor:"var(--border)"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",style:{borderColor:"var(--border)",backgroundColor:"var(--accent)"},children:[e.jsx("th",{className:"px-4 py-2 text-left",style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",fontWeight:"var(--font-weight-medium)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Item"}),e.jsx("th",{className:"px-4 py-2 text-left",style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",fontWeight:"var(--font-weight-medium)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Type"}),e.jsx("th",{className:"px-4 py-2 text-left",style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",fontWeight:"var(--font-weight-medium)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Last Used"}),e.jsx("th",{className:"px-4 py-2 text-left",style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",fontWeight:"var(--font-weight-medium)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Risk"}),e.jsx("th",{className:"px-4 py-2 text-left",style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",fontWeight:"var(--font-weight-medium)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Granted On"}),e.jsx("th",{className:"px-4 py-2 text-right",style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",fontWeight:"var(--font-weight-medium)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),e.jsx("tbody",{children:r.map(o=>e.jsx(Kye,{item:o,onRevoke:n},o.id))})]})})})]})}function Yye({events:t,onExport:r}){const n=a=>{switch(a){case"login":return DK;case"request":return Ih;case"provisioning":return Mh;case"deprovisioning":return Bk;case"password-reset":return Mh;case"anomaly":return et;default:return Ih}},s=a=>{switch(a){case"success":return{bgColor:"var(--success-bg)",borderColor:"var(--success-border)",color:"var(--success)",label:"Success"};case"pending":return{bgColor:"var(--warning-bg)",borderColor:"var(--warning-border)",color:"var(--warning)",label:"Pending"};case"failed":return{bgColor:"var(--danger-bg)",borderColor:"var(--danger-border)",color:"var(--danger)",label:"Failed"};case"warning":return{bgColor:"var(--warning-bg)",borderColor:"var(--warning-border)",color:"var(--warning)",label:"Warning"};default:return{bgColor:"var(--surface)",borderColor:"var(--border)",color:"var(--muted-foreground)",label:a}}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Activity History"}),r&&e.jsxs(L,{variant:"outline",size:"sm",onClick:r,className:"gap-1.5",children:[e.jsx(xr,{className:"w-3.5 h-3.5"}),"Export"]})]}),e.jsx("div",{className:"space-y-0",children:t.map((a,i)=>{const o=n(a.type),l=s(a.status),d=a.device==="mobile"?AJ:j5,u=i===t.length-1;return e.jsxs("div",{className:"relative flex gap-4 pb-6",children:[!u&&e.jsx("div",{className:"absolute left-5 top-12 w-px h-full",style:{backgroundColor:"var(--border)"}}),e.jsx("div",{className:"relative z-10 flex items-center justify-center w-10 h-10 rounded-full border-2 shrink-0",style:{backgroundColor:a.isAnomaly?"var(--danger-bg)":l.bgColor,borderColor:a.isAnomaly?"var(--danger)":l.borderColor,color:a.isAnomaly?"var(--danger)":l.color},children:e.jsx(o,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex-1 pt-1",children:e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-1",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:a.action}),a.isAnomaly&&e.jsxs(J,{variant:"outline",className:"gap-1",style:{backgroundColor:"var(--danger-bg)",borderColor:"var(--danger-border)",color:"var(--danger)",fontSize:"var(--text-xs)"},children:[e.jsx(et,{className:"w-3 h-3"}),"Anomaly"]})]}),a.resource&&e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--text-secondary)",marginBottom:"4px"},children:a.resource}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:a.timestamp}),a.location&&e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{color:"var(--border)"},children:""}),e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:a.location})]}),a.device&&e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{color:"var(--border)"},children:""}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3",style:{color:"var(--muted-foreground)"}}),e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",textTransform:"capitalize"},children:a.device})]})]})]})]}),e.jsx(J,{variant:"outline",style:{backgroundColor:l.bgColor,borderColor:l.borderColor,color:l.color,fontSize:"var(--text-xs)"},children:l.label})]})})]},a.id)})}),t.length===0&&e.jsx("div",{className:"text-center py-8 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"No activity recorded"})})]})}var kg="Switch",[Zye]=rn(kg),[Xye,Qye]=Zye(kg),v8=j.forwardRef((t,r)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:u,form:f,...m}=t,[v,g]=j.useState(null),b=st(r,C=>g(C)),x=j.useRef(!1),y=v?f||!!v.closest("form"):!0,[A,E]=Ns({prop:a,defaultProp:i??!1,onChange:u,caller:kg});return e.jsxs(Xye,{scope:n,checked:A,disabled:l,children:[e.jsx(Fe.button,{type:"button",role:"switch","aria-checked":A,"aria-required":o,"data-state":b8(A),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:b,onClick:Re(t.onClick,C=>{E(w=>!w),y&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})}),y&&e.jsx(y8,{control:v,bubbles:!x.current,name:s,value:d,checked:A,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});v8.displayName=kg;var x8="SwitchThumb",g8=j.forwardRef((t,r)=>{const{__scopeSwitch:n,...s}=t,a=Qye(x8,n);return e.jsx(Fe.span,{"data-state":b8(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:r})});g8.displayName=x8;var e0e="SwitchBubbleInput",y8=j.forwardRef(({__scopeSwitch:t,control:r,checked:n,bubbles:s=!0,...a},i)=>{const o=j.useRef(null),l=st(o,i),d=Rm(n),u=Tm(r);return j.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&g){const b=new Event("click",{bubbles:s});g.call(f,n),f.dispatchEvent(b)}},[d,n,s]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});y8.displayName=e0e;function b8(t){return t?"checked":"unchecked"}var t0e=v8,r0e=g8;function Pe({className:t,...r}){return e.jsx(t0e,{"data-slot":"switch",className:We("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(r0e,{"data-slot":"switch-thumb",className:We("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function n0e({suggestion:t,onApply:r,isApplied:n=!1}){const[s,a]=j.useState(n),i=l=>{a(l),r(t.id,l)},o=l=>l>=90?"var(--success)":l>=75?"var(--info)":l>=60?"var(--warning)":"var(--danger)";return e.jsx("div",{className:"rounded-lg border p-4 transition-all duration-150",style:{borderColor:s?"var(--primary)":"var(--border)",backgroundColor:s?"var(--info-bg)":"var(--surface)",boxShadow:"var(--shadow-xs)"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-md mt-0.5",style:{backgroundColor:"var(--primary)",color:"white"},children:e.jsx(Qt,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:t.title}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",lineHeight:"var(--line-height-normal)"},children:t.rationale})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Pe,{checked:s,onCheckedChange:i,"aria-label":`Apply suggestion: ${t.title}`})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Confidence"}),e.jsxs("span",{style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-semibold)",color:o(t.confidence)},children:[t.confidence,"%"]})]}),e.jsx("div",{className:"h-1.5 rounded-full overflow-hidden",style:{backgroundColor:"var(--border)"},children:e.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${t.confidence}%`,backgroundColor:o(t.confidence)}})})]}),s&&e.jsxs(J,{className:"gap-1.5",style:{backgroundColor:"var(--success-bg)",borderColor:"var(--success-border)",color:"var(--success)",fontSize:"var(--text-xs)"},children:[e.jsx(cr,{className:"w-3 h-3"}),"Applied"]})]}),t.impact&&s&&e.jsx("div",{className:"mt-3 pt-3 border-t",style:{borderColor:"var(--border)"},children:e.jsxs("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:[e.jsx("strong",{style:{color:"var(--text)"},children:"Impact:"})," ",t.impact]})})]})]})})}function s0e({insight:t,onReview:r,onApply:n}){const s=()=>{switch(t.type){case"unused-access":return sr;case"sod-conflict":return fr;case"dormant-account":return sr;case"over-privileged":return bt;case"anomaly":return Sa;default:return fr}},a=l=>{switch(l){case"critical":return{bgColor:"var(--danger-bg)",borderColor:"var(--danger-border)",color:"var(--danger)"};case"high":return{bgColor:"var(--warning-bg)",borderColor:"var(--warning-border)",color:"var(--warning)"};case"medium":return{bgColor:"var(--info-bg)",borderColor:"var(--info-border)",color:"var(--info)"};case"low":return{bgColor:"var(--success-bg)",borderColor:"var(--success-border)",color:"var(--success)"};default:return{bgColor:"var(--surface)",borderColor:"var(--border)",color:"var(--muted-foreground)"}}},i=s(),o=a(t.severity);return e.jsxs("div",{className:"rounded-lg border p-4 transition-all duration-150 hover:shadow-sm",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",boxShadow:"var(--shadow-xs)"},children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-md",style:{backgroundColor:o.bgColor,color:o.color},children:e.jsx(i,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:t.title}),t.count&&e.jsx(J,{variant:"outline",style:{backgroundColor:o.bgColor,borderColor:o.borderColor,color:o.color,fontSize:"var(--text-xs)"},children:t.count})]}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",lineHeight:"var(--line-height-normal)"},children:t.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{variant:"outline",size:"sm",onClick:()=>r(t.id),className:"flex-1",children:"Review"}),n&&e.jsx(L,{size:"sm",onClick:()=>n(t.id),className:"flex-1",style:{backgroundColor:"var(--primary)",color:"white"},children:"Apply Fix"})]})]})}const a0e={Salesforce:[{id:"1",name:"Sales Cloud - Admin",type:"Role",lastUsed:"2024-09-30",lastUsedDays:0,risk:"High",grantedOn:"2024-01-15"},{id:"2",name:"Marketing Cloud Access",type:"Entitlement",lastUsed:"2024-09-25",lastUsedDays:5,risk:"Medium",grantedOn:"2024-02-20"}],"Oracle ERP":[{id:"3",name:"AP Manager",type:"Role",lastUsed:"2024-09-30",lastUsedDays:0,risk:"High",grantedOn:"2024-01-10"},{id:"4",name:"GL Inquiry",type:"Entitlement",lastUsed:"2024-09-15",lastUsedDays:15,risk:"Low",grantedOn:"2024-01-10"},{id:"5",name:"AR Write",type:"Entitlement",lastUsed:null,lastUsedDays:void 0,risk:"Medium",grantedOn:"2024-01-10"}],"Microsoft 365":[{id:"6",name:"E5 License",type:"Role",lastUsed:"2024-09-30",lastUsedDays:0,risk:"Low",grantedOn:"2024-01-05"},{id:"7",name:"Teams Admin",type:"Entitlement",lastUsed:"2024-09-28",lastUsedDays:2,risk:"Medium",grantedOn:"2024-03-15"}],AWS:[{id:"8",name:"PowerUser",type:"Role",lastUsed:"2024-08-15",lastUsedDays:46,risk:"High",grantedOn:"2024-02-01"},{id:"9",name:"S3 Full Access",type:"Entitlement",lastUsed:"2024-06-20",lastUsedDays:102,risk:"Critical",grantedOn:"2024-02-01"}]},i0e=[{id:"1",type:"login",action:"Successful login",resource:"Oracle ERP",timestamp:"2024-09-30 09:15 AM",location:"San Francisco, CA",device:"desktop",status:"success"},{id:"2",type:"request",action:"Access request submitted",resource:"SharePoint Finance Folder",timestamp:"2024-09-29 02:30 PM",location:"San Francisco, CA",device:"desktop",status:"pending"},{id:"3",type:"login",action:"Failed login attempt",resource:"Salesforce",timestamp:"2024-09-28 11:45 PM",location:"Unknown Location",device:"mobile",isAnomaly:!0,status:"failed"},{id:"4",type:"password-reset",action:"Password reset",resource:"Azure AD",timestamp:"2024-09-28 11:20 AM",location:"San Francisco, CA",device:"desktop",status:"success"},{id:"5",type:"provisioning",action:"Role provisioned",resource:"Salesforce - Sales Cloud Admin",timestamp:"2024-09-27 04:45 PM",location:"System",status:"success"}],o0e=[{id:"1",title:"Revoke 3 unused entitlements",rationale:"AWS S3 Full Access, Oracle AR Write, and Salesforce Marketing Cloud have not been used in 90+ days",confidence:92,impact:"Reduces attack surface by removing 3 high-risk unused permissions"},{id:"2",title:"Reduce Salesforce scope to Read-Only",rationale:"User primarily performs read operations; write access used less than 5% in past 6 months",confidence:78,impact:"Maintains user productivity while reducing write access risk"},{id:"3",title:"Enable MFA requirement",rationale:"User accesses 4 critical systems without multi-factor authentication enabled",confidence:95,impact:"Significantly improves account security for high-value access"}],l0e=[{id:"1",type:"unused-access",title:"Unused Access Detected",description:"4 entitlements have not been used in 90+ days and can be safely removed",count:4,severity:"medium"},{id:"2",type:"sod-conflict",title:"SoD Conflicts",description:"Conflicting roles detected: AP Manager + AR Write violates financial controls policy",count:1,severity:"high"}];function c0e({identity:t,open:r,onClose:n}){const[s,a]=j.useState("overview"),[i,o]=j.useState(""),[l,d]=j.useState(new Set);if(!t)return null;const u=x=>x.split(" ").map(y=>y[0]).join("").toUpperCase(),f=x=>{Ae.success("Access revoked successfully")},m=(x,y)=>{const A=new Set(l);y?(A.add(x),Ae.success("Suggestion applied")):(A.delete(x),Ae.info("Suggestion unapplied")),d(A)},v=x=>{Ae.info("Opening insight details...")},g=x=>{Ae.success("Applying fix...")},b=()=>{Ae.success("Exporting activity log...")};return e.jsx(Ed,{open:r,onOpenChange:n,children:e.jsxs(_d,{className:"w-full sm:max-w-[900px] lg:max-w-[1100px] p-0 overflow-hidden flex flex-col",style:{backgroundColor:"var(--bg)"},children:[e.jsxs(Rd,{className:"sr-only",children:[t.name," - Identity Details"]}),e.jsxs(Td,{className:"sr-only",children:["View and manage identity information, access details, activity history, and AI-powered suggestions for ",t.name]}),e.jsxs(pn,{value:s,onValueChange:a,className:"h-full flex flex-col",children:[e.jsxs("div",{className:"sticky top-0 z-20 border-b",style:{backgroundColor:"var(--bg)",borderColor:"var(--border)",boxShadow:"var(--shadow-sm)"},children:[e.jsx("div",{className:"p-6 pb-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(Mn,{className:"w-16 h-16 border-2",style:{borderColor:"var(--border)"},children:e.jsx(Ln,{style:{backgroundColor:"var(--primary)",color:"white",fontSize:"20px",fontWeight:"var(--font-weight-semibold)"},children:u(t.name)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:t.name}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"12px"},children:t.email}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(f8,{status:t.status,size:"sm"}),e.jsx(mr,{risk:t.risk,size:"sm",withTooltip:!0}),e.jsxs(J,{variant:"outline",style:{backgroundColor:"var(--accent)",borderColor:"var(--border)",color:"var(--text)",fontSize:"var(--text-xs)"},children:["Manager: ",t.manager]}),l.size>0&&e.jsxs(J,{style:{backgroundColor:"var(--primary)",color:"white",fontSize:"var(--text-xs)"},children:[l.size," AI ",l.size===1?"fix":"fixes"," applied"]})]})]}),e.jsx(L,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Close",children:e.jsx($t,{className:"w-5 h-5"})})]})}),e.jsxs(sn,{className:"w-full justify-start px-6 rounded-none border-0",style:{backgroundColor:"transparent"},children:[e.jsx(Ie,{value:"overview",children:"Overview"}),e.jsx(Ie,{value:"access",children:"Access"}),e.jsx(Ie,{value:"activity",children:"Activity"}),e.jsx(Ie,{value:"ai",children:"AI Suggestions"})]})]}),e.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsxs(De,{value:"overview",className:"p-6 space-y-6 m-0",children:[e.jsxs("div",{className:"rounded-lg border p-5",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",boxShadow:"var(--shadow-xs)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"16px"},children:"User Information"}),e.jsx(Gye,{items:[{label:"Department",value:t.department},{label:"Title",value:t.title||"Not specified"},{label:"Company",value:t.company||"Acme Corp"},{label:"Location",value:t.location||"San Francisco, CA"},{label:"Manager",value:t.manager},{label:"Lifecycle State",value:t.lifecycleState||"Active Employee"},{label:"Join Date",value:t.joinDate||"2023-01-15"},{label:"Employee ID",value:t.id}]})]}),e.jsxs("div",{className:"rounded-lg border p-5",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",boxShadow:"var(--shadow-xs)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"16px"},children:"Access Summary"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:t.rolesCount}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Roles"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:t.entitlementsCount}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Entitlements"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:t.appsCount}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Apps"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:t.isPrivileged?"var(--warning)":"var(--success)",marginBottom:"4px"},children:t.isPrivileged?"Yes":"No"}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Privileged"})]})]})]}),e.jsxs("div",{className:"rounded-lg border p-5",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",boxShadow:"var(--shadow-xs)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"16px"},children:"Quick Actions"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(L,{size:"sm",className:"gap-1.5",style:{backgroundColor:"var(--primary)",color:"white"},children:[e.jsx(yi,{className:"w-4 h-4"}),"Edit User"]}),e.jsxs(L,{variant:"outline",size:"sm",className:"gap-1.5",children:[e.jsx(Mh,{className:"w-4 h-4"}),"Request Access"]}),e.jsxs(L,{variant:"outline",size:"sm",className:"gap-1.5",children:[e.jsx(rd,{className:"w-4 h-4"}),"Reset Password"]}),e.jsxs(L,{variant:"outline",size:"sm",className:"gap-1.5",children:[e.jsx(Cr,{className:"w-4 h-4"}),"Disable"]}),e.jsxs(L,{variant:"outline",size:"sm",className:"gap-1.5",style:{color:"var(--danger)",borderColor:"var(--danger-border)"},children:[e.jsx(Bk,{className:"w-4 h-4"}),"Offboard"]})]})]})]}),e.jsxs(De,{value:"access",className:"p-6 space-y-4 m-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Lr,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--muted-foreground)"}}),e.jsx(pe,{placeholder:"Search access...",value:i,onChange:x=>o(x.target.value),className:"pl-10",style:{backgroundColor:"var(--input-background)"}})]}),e.jsxs(L,{className:"gap-1.5",style:{backgroundColor:"var(--primary)",color:"white"},children:[e.jsx(At,{className:"w-4 h-4"}),"Add Access"]})]}),e.jsx("div",{className:"space-y-3",children:Object.entries(a0e).map(([x,y])=>e.jsx(Jye,{appName:x,items:y,onRevoke:f},x))})]}),e.jsx(De,{value:"activity",className:"p-6 m-0",children:e.jsx(Yye,{events:i0e,onExport:b})}),e.jsx(De,{value:"ai",className:"p-6 space-y-4 m-0",children:o0e.map(x=>e.jsx(n0e,{suggestion:x,onApply:m,isApplied:l.has(x.id)},x.id))})]}),e.jsx("div",{className:"hidden lg:block w-80 border-l overflow-y-auto",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:e.jsxs("div",{className:"p-5 space-y-4 sticky top-0",children:[e.jsx("h3",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"AI Insights"}),l0e.map(x=>e.jsx(s0e,{insight:x,onReview:v,onApply:g},x.id)),e.jsx(Sm,{}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Impact Preview"}),e.jsx("div",{className:"rounded-lg border p-4",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Select an action to preview its impact"})})]})]})})]}),e.jsx("div",{className:"sticky bottom-0 border-t p-4",style:{backgroundColor:"var(--bg)",borderColor:"var(--border)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.05)"},children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(L,{variant:"outline",onClick:n,children:"Close"}),e.jsx(L,{style:{backgroundColor:"var(--primary)",color:"white"},children:"Save Changes"})]})})]})]})})}function km(t,[r,n]){return Math.min(n,Math.max(r,t))}var d0e=[" ","Enter","ArrowUp","ArrowDown"],u0e=[" ","Enter"],Ml="Select",[Cg,Ag,h0e]=Nx(Ml),[iu]=rn(Ml,[h0e,zo]),Eg=zo(),[m0e,Ho]=iu(Ml),[f0e,p0e]=iu(Ml),j8=t=>{const{__scopeSelect:r,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:u,name:f,autoComplete:m,disabled:v,required:g,form:b}=t,x=Eg(r),[y,A]=j.useState(null),[E,C]=j.useState(null),[w,k]=j.useState(!1),S=$l(u),[R,T]=Ns({prop:s,defaultProp:a??!1,onChange:i,caller:Ml}),[O,U]=Ns({prop:o,defaultProp:l,onChange:d,caller:Ml}),D=j.useRef(null),I=y?b||!!y.closest("form"):!0,[B,M]=j.useState(new Set),W=Array.from(B).map(V=>V.props.value).join(";");return e.jsx(_x,{...x,children:e.jsxs(m0e,{required:g,scope:r,trigger:y,onTriggerChange:A,valueNode:E,onValueNodeChange:C,valueNodeHasChildren:w,onValueNodeHasChildrenChange:k,contentId:tn(),value:O,onValueChange:U,open:R,onOpenChange:T,dir:S,triggerPointerDownPosRef:D,disabled:v,children:[e.jsx(Cg.Provider,{scope:r,children:e.jsx(f0e,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(V=>{M(Q=>new Set(Q).add(V))},[]),onNativeOptionRemove:j.useCallback(V=>{M(Q=>{const H=new Set(Q);return H.delete(V),H})},[]),children:n})}),I?e.jsxs(U8,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:m,value:O,onChange:V=>U(V.target.value),disabled:v,form:b,children:[O===void 0?e.jsx("option",{value:""}):null,Array.from(B)]},W):null]})})};j8.displayName=Ml;var w8="SelectTrigger",N8=j.forwardRef((t,r)=>{const{__scopeSelect:n,disabled:s=!1,...a}=t,i=Eg(n),o=Ho(w8,n),l=o.disabled||s,d=st(r,o.onTriggerChange),u=Ag(n),f=j.useRef("touch"),[m,v,g]=H8(x=>{const y=u().filter(C=>!C.disabled),A=y.find(C=>C.value===o.value),E=V8(y,x,A);E!==void 0&&o.onValueChange(E.value)}),b=x=>{l||(o.onOpenChange(!0),g()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return e.jsx(Dm,{asChild:!0,...i,children:e.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":q8(o.value)?"":void 0,...a,ref:d,onClick:Re(a.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&b(x)}),onPointerDown:Re(a.onPointerDown,x=>{f.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:Re(a.onKeyDown,x=>{const y=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&v(x.key),!(y&&x.key===" ")&&d0e.includes(x.key)&&(b(),x.preventDefault())})})})});N8.displayName=w8;var S8="SelectValue",k8=j.forwardRef((t,r)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=t,d=Ho(S8,n),{onValueNodeHasChildrenChange:u}=d,f=i!==void 0,m=st(r,d.onValueNodeChange);return kr(()=>{u(f)},[u,f]),e.jsx(Fe.span,{...l,ref:m,style:{pointerEvents:"none"},children:q8(d.value)?e.jsx(e.Fragment,{children:o}):i})});k8.displayName=S8;var v0e="SelectIcon",C8=j.forwardRef((t,r)=>{const{__scopeSelect:n,children:s,...a}=t;return e.jsx(Fe.span,{"aria-hidden":!0,...a,ref:r,children:s||""})});C8.displayName=v0e;var x0e="SelectPortal",A8=t=>e.jsx(Kd,{asChild:!0,...t});A8.displayName=x0e;var Ll="SelectContent",E8=j.forwardRef((t,r)=>{const n=Ho(Ll,t.__scopeSelect),[s,a]=j.useState();if(kr(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?Em.createPortal(e.jsx(_8,{scope:t.__scopeSelect,children:e.jsx(Cg.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(R8,{...t,ref:r})});E8.displayName=Ll;var la=10,[_8,Vo]=iu(Ll),g0e="SelectContentImpl",y0e=_o("SelectContent.RemoveScroll"),R8=j.forwardRef((t,r)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:u,alignOffset:f,arrowPadding:m,collisionBoundary:v,collisionPadding:g,sticky:b,hideWhenDetached:x,avoidCollisions:y,...A}=t,E=Ho(Ll,n),[C,w]=j.useState(null),[k,S]=j.useState(null),R=st(r,de=>w(de)),[T,O]=j.useState(null),[U,D]=j.useState(null),I=Ag(n),[B,M]=j.useState(!1),W=j.useRef(!1);j.useEffect(()=>{if(C)return Px(C)},[C]),Sx();const V=j.useCallback(de=>{const[fe,...he]=I().map(le=>le.ref.current),[re]=he.slice(-1),ge=document.activeElement;for(const le of de)if(le===ge||(le?.scrollIntoView({block:"nearest"}),le===fe&&k&&(k.scrollTop=0),le===re&&k&&(k.scrollTop=k.scrollHeight),le?.focus(),document.activeElement!==ge))return},[I,k]),Q=j.useCallback(()=>V([T,C]),[V,T,C]);j.useEffect(()=>{B&&Q()},[B,Q]);const{onOpenChange:H,triggerPointerDownPosRef:X}=E;j.useEffect(()=>{if(C){let de={x:0,y:0};const fe=re=>{de={x:Math.abs(Math.round(re.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(re.pageY)-(X.current?.y??0))}},he=re=>{de.x<=10&&de.y<=10?re.preventDefault():C.contains(re.target)||H(!1),document.removeEventListener("pointermove",fe),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",he,{capture:!0})}}},[C,H,X]),j.useEffect(()=>{const de=()=>H(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[H]);const[K,z]=H8(de=>{const fe=I().filter(ge=>!ge.disabled),he=fe.find(ge=>ge.ref.current===document.activeElement),re=V8(fe,de,he);re&&setTimeout(()=>re.ref.current.focus())}),q=j.useCallback((de,fe,he)=>{const re=!W.current&&!he;(E.value!==void 0&&E.value===fe||re)&&(O(de),re&&(W.current=!0))},[E.value]),ee=j.useCallback(()=>C?.focus(),[C]),oe=j.useCallback((de,fe,he)=>{const re=!W.current&&!he;(E.value!==void 0&&E.value===fe||re)&&D(de)},[E.value]),ce=s==="popper"?mk:T8,ye=ce===mk?{side:l,sideOffset:d,align:u,alignOffset:f,arrowPadding:m,collisionBoundary:v,collisionPadding:g,sticky:b,hideWhenDetached:x,avoidCollisions:y}:{};return e.jsx(_8,{scope:n,content:C,viewport:k,onViewportChange:S,itemRefCallback:q,selectedItem:T,onItemLeave:ee,itemTextRefCallback:oe,focusSelectedItem:Q,selectedItemText:U,position:s,isPositioned:B,searchRef:K,children:e.jsx(Lm,{as:y0e,allowPinchZoom:!0,children:e.jsx(Om,{asChild:!0,trapped:E.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Re(a,de=>{E.trigger?.focus({preventScroll:!0}),de.preventDefault()}),children:e.jsx(Hd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:de=>de.preventDefault(),...A,...ye,onPlaced:()=>M(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:Re(A.onKeyDown,de=>{const fe=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!fe&&de.key.length===1&&z(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let re=I().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(de.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const ge=de.target,le=re.indexOf(ge);re=re.slice(le+1)}setTimeout(()=>V(re)),de.preventDefault()}})})})})})})});R8.displayName=g0e;var b0e="SelectItemAlignedPosition",T8=j.forwardRef((t,r)=>{const{__scopeSelect:n,onPlaced:s,...a}=t,i=Ho(Ll,n),o=Vo(Ll,n),[l,d]=j.useState(null),[u,f]=j.useState(null),m=st(r,R=>f(R)),v=Ag(n),g=j.useRef(!1),b=j.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:A,focusSelectedItem:E}=o,C=j.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&y&&A){const R=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),U=A.getBoundingClientRect();if(i.dir!=="rtl"){const ge=U.left-T.left,le=O.left-ge,Ye=R.left-le,_e=R.width+Ye,Et=Math.max(_e,T.width),kt=window.innerWidth-la,jt=km(le,[la,Math.max(la,kt-Et)]);l.style.minWidth=_e+"px",l.style.left=jt+"px"}else{const ge=T.right-U.right,le=window.innerWidth-O.right-ge,Ye=window.innerWidth-R.right-le,_e=R.width+Ye,Et=Math.max(_e,T.width),kt=window.innerWidth-la,jt=km(le,[la,Math.max(la,kt-Et)]);l.style.minWidth=_e+"px",l.style.right=jt+"px"}const D=v(),I=window.innerHeight-la*2,B=x.scrollHeight,M=window.getComputedStyle(u),W=parseInt(M.borderTopWidth,10),V=parseInt(M.paddingTop,10),Q=parseInt(M.borderBottomWidth,10),H=parseInt(M.paddingBottom,10),X=W+V+B+H+Q,K=Math.min(y.offsetHeight*5,X),z=window.getComputedStyle(x),q=parseInt(z.paddingTop,10),ee=parseInt(z.paddingBottom,10),oe=R.top+R.height/2-la,ce=I-oe,ye=y.offsetHeight/2,de=y.offsetTop+ye,fe=W+V+de,he=X-fe;if(fe<=oe){const ge=D.length>0&&y===D[D.length-1].ref.current;l.style.bottom="0px";const le=u.clientHeight-x.offsetTop-x.offsetHeight,Ye=Math.max(ce,ye+(ge?ee:0)+le+Q),_e=fe+Ye;l.style.height=_e+"px"}else{const ge=D.length>0&&y===D[0].ref.current;l.style.top="0px";const Ye=Math.max(oe,W+x.offsetTop+(ge?q:0)+ye)+he;l.style.height=Ye+"px",x.scrollTop=fe-oe+x.offsetTop}l.style.margin=`${la}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=I+"px",s?.(),requestAnimationFrame(()=>g.current=!0)}},[v,i.trigger,i.valueNode,l,u,x,y,A,i.dir,s]);kr(()=>C(),[C]);const[w,k]=j.useState();kr(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const S=j.useCallback(R=>{R&&b.current===!0&&(C(),E?.(),b.current=!1)},[C,E]);return e.jsx(w0e,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:S,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:e.jsx(Fe.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});T8.displayName=b0e;var j0e="SelectPopperPosition",mk=j.forwardRef((t,r)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=la,...i}=t,o=Eg(n);return e.jsx(Rx,{...o,...i,ref:r,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mk.displayName=j0e;var[w0e,j2]=iu(Ll,{}),fk="SelectViewport",P8=j.forwardRef((t,r)=>{const{__scopeSelect:n,nonce:s,...a}=t,i=Vo(fk,n),o=j2(fk,n),l=st(r,i.onViewportChange),d=j.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(Cg.Slot,{scope:n,children:e.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Re(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=o;if(v?.current&&m){const g=Math.abs(d.current-f.scrollTop);if(g>0){const b=window.innerHeight-la*2,x=parseFloat(m.style.minHeight),y=parseFloat(m.style.height),A=Math.max(x,y);if(A<b){const E=A+g,C=Math.min(b,E),w=E-C;m.style.height=C+"px",m.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,m.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});P8.displayName=fk;var O8="SelectGroup",[N0e,S0e]=iu(O8),k0e=j.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t,a=tn();return e.jsx(N0e,{scope:n,id:a,children:e.jsx(Fe.div,{role:"group","aria-labelledby":a,...s,ref:r})})});k0e.displayName=O8;var I8="SelectLabel",C0e=j.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t,a=S0e(I8,n);return e.jsx(Fe.div,{id:a.id,...s,ref:r})});C0e.displayName=I8;var ux="SelectItem",[A0e,D8]=iu(ux),M8=j.forwardRef((t,r)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=t,l=Ho(ux,n),d=Vo(ux,n),u=l.value===s,[f,m]=j.useState(i??""),[v,g]=j.useState(!1),b=st(r,E=>d.itemRefCallback?.(E,s,a)),x=tn(),y=j.useRef("touch"),A=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(A0e,{scope:n,value:s,disabled:a,textId:x,isSelected:u,onItemTextChange:j.useCallback(E=>{m(C=>C||(E?.textContent??"").trim())},[]),children:e.jsx(Cg.ItemSlot,{scope:n,value:s,disabled:a,textValue:f,children:e.jsx(Fe.div,{role:"option","aria-labelledby":x,"data-highlighted":v?"":void 0,"aria-selected":u&&v,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:Re(o.onFocus,()=>g(!0)),onBlur:Re(o.onBlur,()=>g(!1)),onClick:Re(o.onClick,()=>{y.current!=="mouse"&&A()}),onPointerUp:Re(o.onPointerUp,()=>{y.current==="mouse"&&A()}),onPointerDown:Re(o.onPointerDown,E=>{y.current=E.pointerType}),onPointerMove:Re(o.onPointerMove,E=>{y.current=E.pointerType,a?d.onItemLeave?.():y.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(o.onPointerLeave,E=>{E.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Re(o.onKeyDown,E=>{d.searchRef?.current!==""&&E.key===" "||(u0e.includes(E.key)&&A(),E.key===" "&&E.preventDefault())})})})})});M8.displayName=ux;var ph="SelectItemText",L8=j.forwardRef((t,r)=>{const{__scopeSelect:n,className:s,style:a,...i}=t,o=Ho(ph,n),l=Vo(ph,n),d=D8(ph,n),u=p0e(ph,n),[f,m]=j.useState(null),v=st(r,A=>m(A),d.onItemTextChange,A=>l.itemTextRefCallback?.(A,d.value,d.disabled)),g=f?.textContent,b=j.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=u;return kr(()=>(x(b),()=>y(b)),[x,y,b]),e.jsxs(e.Fragment,{children:[e.jsx(Fe.span,{id:d.textId,...i,ref:v}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Em.createPortal(i.children,o.valueNode):null]})});L8.displayName=ph;var z8="SelectItemIndicator",$8=j.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t;return D8(z8,n).isSelected?e.jsx(Fe.span,{"aria-hidden":!0,...s,ref:r}):null});$8.displayName=z8;var pk="SelectScrollUpButton",F8=j.forwardRef((t,r)=>{const n=Vo(pk,t.__scopeSelect),s=j2(pk,t.__scopeSelect),[a,i]=j.useState(!1),o=st(r,s.onScrollButtonChange);return kr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?e.jsx(W8,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});F8.displayName=pk;var vk="SelectScrollDownButton",B8=j.forwardRef((t,r)=>{const n=Vo(vk,t.__scopeSelect),s=j2(vk,t.__scopeSelect),[a,i]=j.useState(!1),o=st(r,s.onScrollButtonChange);return kr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<u;i(f)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?e.jsx(W8,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});B8.displayName=vk;var W8=j.forwardRef((t,r)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=t,i=Vo("SelectScrollButton",n),o=j.useRef(null),l=Ag(n),d=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>d(),[d]),kr(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),e.jsx(Fe.div,{"aria-hidden":!0,...a,ref:r,style:{flexShrink:0,...a.style},onPointerDown:Re(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Re(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Re(a.onPointerLeave,()=>{d()})})}),E0e="SelectSeparator",_0e=j.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t;return e.jsx(Fe.div,{"aria-hidden":!0,...s,ref:r})});_0e.displayName=E0e;var xk="SelectArrow",R0e=j.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t,a=Eg(n),i=Ho(xk,n),o=Vo(xk,n);return i.open&&o.position==="popper"?e.jsx(Tx,{...a,...s,ref:r}):null});R0e.displayName=xk;var T0e="SelectBubbleInput",U8=j.forwardRef(({__scopeSelect:t,value:r,...n},s)=>{const a=j.useRef(null),i=st(s,a),o=Rm(r);return j.useEffect(()=>{const l=a.current;if(!l)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&f){const m=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(m)}},[o,r]),e.jsx(Fe.select,{...n,style:{...n8,...n.style},ref:i,defaultValue:r})});U8.displayName=T0e;function q8(t){return t===""||t===void 0}function H8(t){const r=un(t),n=j.useRef(""),s=j.useRef(0),a=j.useCallback(o=>{const l=n.current+o;r(l),(function d(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>d(""),1e3))})(l)},[r]),i=j.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function V8(t,r,n){const a=r.length>1&&Array.from(r).every(u=>u===r[0])?r[0]:r,i=n?t.indexOf(n):-1;let o=P0e(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const d=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function P0e(t,r){return t.map((n,s)=>t[(r+s)%t.length])}var O0e=j8,I0e=N8,D0e=k8,M0e=C8,L0e=A8,z0e=E8,$0e=P8,F0e=M8,B0e=L8,W0e=$8,U0e=F8,q0e=B8;function Me({...t}){return e.jsx(O0e,{"data-slot":"select",...t})}function Le({...t}){return e.jsx(D0e,{"data-slot":"select-value",...t})}function ze({className:t,size:r="default",children:n,...s}){return e.jsxs(I0e,{"data-slot":"select-trigger","data-size":r,className:We("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s,children:[n,e.jsx(M0e,{asChild:!0,children:e.jsx(Ga,{className:"size-4 opacity-50"})})]})}function $e({className:t,children:r,position:n="popper",...s}){return e.jsx(L0e,{children:e.jsxs(z0e,{"data-slot":"select-content",className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[e.jsx(H0e,{}),e.jsx($0e,{className:We("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),e.jsx(V0e,{})]})})}function Z({className:t,children:r,...n}){return e.jsxs(F0e,{"data-slot":"select-item",className:We("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(W0e,{children:e.jsx(Xr,{className:"size-4"})})}),e.jsx(B0e,{children:r})]})}function H0e({className:t,...r}){return e.jsx(U0e,{"data-slot":"select-scroll-up-button",className:We("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(PG,{className:"size-4"})})}function V0e({className:t,...r}){return e.jsx(q0e,{"data-slot":"select-scroll-down-button",className:We("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(Ga,{className:"size-4"})})}function G0e({open:t,onOpenChange:r}){const[n,s]=j.useState(""),[a,i]=j.useState(72),[o,l]=j.useState(!1),[d,u]=j.useState(""),[f,m]=j.useState(!1),v=async x=>{if(x.preventDefault(),!n||!n.includes("@")){Ae.error("Please enter a valid email address");return}l(!0);try{const{data:{session:y}}=await vt.auth.getSession();if(!y){Ae.error("You must be logged in to send invitations");return}const A=await fetch("https://syhakcccldxfvcuczaol.supabase.co/functions/v1/invite-create",{method:"POST",headers:{Authorization:`Bearer ${y.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({email:n.toLowerCase().trim(),expires_hours:a})}),E=await A.json();if(!A.ok)throw new Error(E.error||"Failed to create invitation");if(E.success)u(E.invite_url||""),Ae.success("Invitation sent successfully!",{description:E.message||"The invitation has been created and sent."});else throw new Error(E.error||"Failed to create invitation")}catch(y){console.error("Error creating invitation:",y),Ae.error("Failed to send invitation",{description:y.message||"Please try again later."})}finally{l(!1)}},g=async()=>{if(d)try{await navigator.clipboard.writeText(d),m(!0),Ae.success("Invite URL copied to clipboard"),setTimeout(()=>m(!1),2e3)}catch{Ae.error("Failed to copy URL")}},b=()=>{s(""),i(72),u(""),m(!1),r(!1)};return e.jsx(Zr,{open:t,onOpenChange:b,children:e.jsxs(Or,{className:"sm:max-w-sm w-full max-w-[400px]",children:[e.jsxs(Ir,{children:[e.jsxs(Dr,{className:"flex items-center gap-2",children:[e.jsx(hn,{className:"w-5 h-5"}),"Invite User"]}),e.jsx(Mr,{children:"Send an invitation to join your organization."})]}),e.jsxs("form",{onSubmit:v,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(yh,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx(pe,{id:"email",type:"email",placeholder:"user@company.com",value:n,onChange:x=>s(x.target.value),className:"pl-10 h-10",required:!0,disabled:o})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"expires",className:"text-sm font-medium",children:"Expires In"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(sr,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx(pe,{id:"expires",type:"number",min:"1",max:"168",value:a,onChange:x=>i(parseInt(x.target.value)||72),className:"pl-10 h-10",disabled:o})]}),e.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"hours"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Expires after ",a," hours"]})]}),d&&e.jsxs("div",{className:"space-y-2 p-3 bg-muted/50 rounded-lg border",children:[e.jsx(G,{className:"text-sm font-medium",children:"Invite URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(mn,{value:d,readOnly:!0,className:"flex-1 text-xs font-mono resize-none",rows:2}),e.jsx(L,{type:"button",variant:"outline",size:"sm",onClick:g,className:"px-3 shrink-0",children:f?e.jsx(Xr,{className:"w-4 h-4 text-green-600"}):e.jsx(fa,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Share this URL manually (email not configured)"})]}),e.jsxs(yn,{className:"gap-2 pt-2",children:[e.jsx(L,{type:"button",variant:"outline",onClick:b,disabled:o,className:"flex-1",children:"Cancel"}),e.jsx(L,{type:"submit",disabled:o||!n,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(hn,{className:"w-4 h-4 mr-2"}),"Send Invitation"]})})]})]})]})})}const Dp=[{id:"1",name:"Jennifer Smith",email:"j.smith@company.com",department:"Finance",manager:"Alice Johnson",status:"Active",risk:"Medium",roles:5,lastLogin:"2024-09-30",lastLoginDays:0,issues:{sodConflicts:1,anomalies:0}},{id:"2",name:"Raj Kumar",email:"r.kumar@company.com",department:"IT",manager:"Mike Chen",status:"Active",risk:"High",roles:12,lastLogin:"2024-09-30",lastLoginDays:0,issues:{sodConflicts:2,anomalies:1}},{id:"3",name:"Maria Garcia",email:"m.garcia@company.com",department:"Sales",manager:"Sarah Patel",status:"Active",risk:"Low",roles:3,lastLogin:"2024-09-29",lastLoginDays:1,issues:{sodConflicts:0,anomalies:0}},{id:"4",name:"Alice Johnson",email:"a.johnson@company.com",department:"HR",manager:"Jennifer Smith",status:"Active",risk:"Low",roles:4,lastLogin:"2024-09-28",lastLoginDays:2,issues:{sodConflicts:0,anomalies:0}},{id:"5",name:"Sarah Patel",email:"s.patel@company.com",department:"Finance",manager:"Alice Johnson",status:"Inactive",risk:"Medium",roles:7,lastLogin:"2024-08-15",lastLoginDays:46,issues:{sodConflicts:1,anomalies:2}},{id:"6",name:"David Kim",email:"d.kim@company.com",department:"Engineering",manager:"Mike Chen",status:"Active",risk:"High",roles:10,lastLogin:"2024-09-29",lastLoginDays:1,issues:{sodConflicts:3,anomalies:0}},{id:"7",name:"Emily Brown",email:"e.brown@company.com",department:"Marketing",manager:"Sarah Patel",status:"Active",risk:"Low",roles:2,lastLogin:"2024-09-30",lastLoginDays:0,issues:{sodConflicts:0,anomalies:0}},{id:"8",name:"James Wilson",email:"j.wilson@company.com",department:"IT",manager:"Mike Chen",status:"Disabled",risk:"Critical",roles:15,lastLogin:"2024-07-20",lastLoginDays:72,issues:{sodConflicts:5,anomalies:3}}];function $M(){const{userId:t}=$d(),r=$r(),n=ks(),[s,a]=j.useState(null),[i,o]=j.useState(""),[l,d]=j.useState([]),[u,f]=j.useState(new Set),[m,v]=j.useState(!1),[g,b]=j.useState(!1),[x,y]=j.useState(!1),[A,E]=j.useState(!1),[C,w]=j.useState(!1),[k,S]=j.useState({firstName:"",lastName:"",email:"",phone:"",department:"",manager:"",jobTitle:"",initialRoles:[],status:"active",riskLevel:"low",username:"",password:"",passwordConfirm:"",accountExpiration:"",sendWelcomeEmail:!0,requirePasswordChange:!0,notes:""}),R=z=>z.toLowerCase().replace(/\\s+/g,"-"),T=(z,q)=>{S(ee=>({...ee,[z]:q}))},O=async()=>{w(!0);try{console.log("User creation initiated",{timestamp:new Date().toISOString(),action:"create_user",user:"current_user",correlationId:`create-user-${Date.now()}`,userData:{name:`${k.firstName} ${k.lastName}`,email:k.email,department:k.department,status:k.status,riskLevel:k.riskLevel}}),await new Promise(z=>setTimeout(z,2e3)),Ae.success("User created successfully!",{description:`${k.firstName} ${k.lastName} has been added to the system.`,duration:5e3}),y(!1),S({firstName:"",lastName:"",email:"",phone:"",department:"",manager:"",jobTitle:"",initialRoles:[],status:"active",riskLevel:"low",username:"",password:"",passwordConfirm:"",accountExpiration:"",sendWelcomeEmail:!0,requirePasswordChange:!0,notes:""})}catch{Ae.error("Failed to create user",{description:"Please check the form data and try again.",duration:5e3})}finally{w(!1)}},U=()=>{S({firstName:"",lastName:"",email:"",phone:"",department:"",manager:"",jobTitle:"",initialRoles:[],status:"active",riskLevel:"low",username:"",password:"",passwordConfirm:"",accountExpiration:"",sendWelcomeEmail:!0,requirePasswordChange:!0,notes:""})};j.useEffect(()=>{if(t){const z=Dp.find(q=>R(q.name)===t);z&&a(z)}else a(null)},[t,n.state]);const D=z=>{a(z),z?r(`/identities/${R(z.name)}`,{state:n.state}):r("/identities")},I=j.useMemo(()=>{let z=[...Dp];if(i){const q=i.toLowerCase();z=z.filter(ee=>ee.name.toLowerCase().includes(q)||ee.email.toLowerCase().includes(q)||ee.department.toLowerCase().includes(q))}return l.forEach(q=>{switch(q.type){case"status":z=z.filter(ee=>ee.status.toLowerCase()===q.value.toLowerCase());break;case"department":z=z.filter(ee=>ee.department===q.value);break;case"risk":z=z.filter(ee=>ee.risk.toLowerCase()===q.value.toLowerCase());break;case"manager":z=z.filter(ee=>ee.manager===q.value);break;case"lastLogin":q.value===">30d"&&(z=z.filter(ee=>ee.lastLoginDays>30));break}}),z},[i,l]),B=z=>{f(z?new Set(I.map(q=>q.id)):new Set)},M=(z,q)=>{const ee=new Set(u);q?ee.add(z):ee.delete(z),f(ee)},W=z=>{const q=u.size;switch(z){case"reset-password":Ae.success(`Password reset initiated for ${q} user${q>1?"s":""}`);break;case"disable":Ae.warning(`${q} user${q>1?"s":""} disabled`);break;case"start-review":Ae.info(`Access review started for ${q} user${q>1?"s":""}`);break;case"export":Ae.success(`Exporting ${q} user${q>1?"s":""}...`);break}f(new Set)},V=(z,q,ee)=>{l.find(ce=>ce.type===z&&ce.value===q)||d([...l,{type:z,value:q,label:ee}]),v(!1)},Q=z=>{d(l.filter((q,ee)=>ee!==z))},H=()=>{d([])},X=Array.from(new Set(Dp.map(z=>z.department))).sort(),K=Array.from(new Set(Dp.map(z=>z.manager))).sort();return e.jsxs("div",{className:"p-4 lg:p-6 max-w-[1440px] mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[e.jsx("h1",{style:{fontSize:"var(--text-display)",lineHeight:"var(--line-height-display)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Identities"}),e.jsxs(L,{style:{backgroundColor:"var(--primary)",color:"white"},onClick:()=>{console.log("Invite User button clicked",{timestamp:new Date().toISOString(),action:"open_invite_user_dialog",user:"current_user",correlationId:`invite-user-${Date.now()}`}),E(!0)},children:[e.jsx(At,{className:"w-4 h-4 mr-2"}),"Invite User"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Lr,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--muted-foreground)"}}),e.jsx(pe,{placeholder:"Search users by name, email, or department...",className:"pl-10",style:{backgroundColor:"var(--input-background)"},value:i,onChange:z=>o(z.target.value)})]}),e.jsxs(L,{variant:"outline",onClick:()=>v(!0),className:"gap-2",children:[e.jsx(ns,{className:"w-4 h-4"}),"Filters",l.length>0&&e.jsx(J,{className:"ml-1",style:{backgroundColor:"var(--primary)",color:"white"},children:l.length})]}),e.jsxs(L,{variant:"outline",className:"gap-2",children:[e.jsx(xr,{className:"w-4 h-4"}),"Export"]})]}),l.length>0&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Active filters:"}),l.map((z,q)=>e.jsx(Cl,{label:z.label,onRemove:()=>Q(q)},q)),e.jsx(L,{variant:"ghost",size:"sm",onClick:H,className:"h-7",style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Clear all"})]}),u.size>0&&e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border transition-all duration-150",style:{backgroundColor:"var(--info-bg)",borderColor:"var(--info-border)"},children:[e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:[e.jsx("strong",{children:u.size})," user",u.size>1?"s":""," selected"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>W("reset-password"),className:"gap-2",children:[e.jsx(rd,{className:"w-4 h-4"}),"Reset Password"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>W("disable"),className:"gap-2",children:[e.jsx(Cr,{className:"w-4 h-4"}),"Disable"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>W("start-review"),className:"gap-2",children:[e.jsx(Ih,{className:"w-4 h-4"}),"Start Review"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>W("export"),className:"gap-2",children:[e.jsx(xr,{className:"w-4 h-4"}),"Export"]}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>f(new Set),children:e.jsx($t,{className:"w-4 h-4"})})]})]})]})]}),e.jsx(Wye,{data:I,selectedIds:u,onSelectAll:B,onSelectRow:M,onRowClick:D,isLoading:g}),e.jsx(Zr,{open:m,onOpenChange:v,children:e.jsxs(Or,{children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Filter Identities"}),e.jsx(Mr,{children:"Add filters to narrow down the identity list"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Status"}),e.jsxs(Me,{onValueChange:z=>V("status",z,`Status: ${z}`),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select status"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"}),e.jsx(Z,{value:"disabled",children:"Disabled"}),e.jsx(Z,{value:"pending",children:"Pending"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Department"}),e.jsxs(Me,{onValueChange:z=>V("department",z,`Dept: ${z}`),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select department"})}),e.jsx($e,{children:X.map(z=>e.jsx(Z,{value:z,children:z},z))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Risk Level"}),e.jsxs(Me,{onValueChange:z=>V("risk",z,`Risk: ${z}`),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select risk level"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"low",children:"Low"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"critical",children:"Critical"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Manager"}),e.jsxs(Me,{onValueChange:z=>V("manager",z,`Manager: ${z}`),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select manager"})}),e.jsx($e,{children:K.map(z=>e.jsx(Z,{value:z,children:z},z))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Last Login"}),e.jsxs(Me,{onValueChange:z=>V("lastLogin",z,"Dormant (>30d)"),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select timeframe"})}),e.jsx($e,{children:e.jsx(Z,{value:">30d",children:"More than 30 days ago"})})]})]})]}),e.jsx(yn,{children:e.jsx(L,{variant:"outline",onClick:()=>v(!1),children:"Cancel"})})]})}),e.jsx(c0e,{identity:s?{...s,rolesCount:s.roles,entitlementsCount:s.roles*2,appsCount:4,isPrivileged:s.risk==="High"||s.risk==="Critical",title:s.department==="Finance"?"Financial Analyst":s.department==="IT"?"Software Engineer":s.department==="Sales"?"Account Executive":s.department==="HR"?"HR Manager":s.department==="Marketing"?"Marketing Specialist":s.department==="Engineering"?"Senior Engineer":"Employee",company:"Acme Corporation",location:"San Francisco, CA",lifecycleState:s.status==="Active"?"Active Employee":s.status==="Inactive"?"On Leave":s.status==="Disabled"?"Suspended":"Pending Activation",joinDate:"2023-01-15"}:null,open:!!s,onClose:()=>D(null)}),e.jsx(Zr,{open:x,onOpenChange:y,children:e.jsxs(Or,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ir,{children:[e.jsxs(Dr,{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"w-5 h-5"}),"Create New User"]}),e.jsx(Mr,{children:"Add a new user to the identity management system. All fields marked with * are required."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-lg",children:[e.jsx(pa,{className:"w-4 h-4"}),"Personal Information"]}),e.jsx(Be,{children:"Basic personal details for the new user"})]}),e.jsxs(je,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"firstName",children:"First Name *"}),e.jsx(pe,{id:"firstName",placeholder:"Enter first name",value:k.firstName,onChange:z=>T("firstName",z.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"lastName",children:"Last Name *"}),e.jsx(pe,{id:"lastName",placeholder:"Enter last name",value:k.lastName,onChange:z=>T("lastName",z.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"email",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(yh,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx(pe,{id:"email",type:"email",placeholder:"user@company.com",className:"pl-10",value:k.email,onChange:z=>T("email",z.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"phone",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(sJ,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx(pe,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",className:"pl-10",value:k.phone,onChange:z=>T("phone",z.target.value)})]})]})]})]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-lg",children:[e.jsx(f5,{className:"w-4 h-4"}),"Organizational Information"]}),e.jsx(Be,{children:"Department, manager, and job details"})]}),e.jsxs(je,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"department",children:"Department *"}),e.jsxs(Me,{value:k.department,onValueChange:z=>T("department",z),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select department"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"finance",children:"Finance"}),e.jsx(Z,{value:"it",children:"IT"}),e.jsx(Z,{value:"sales",children:"Sales"}),e.jsx(Z,{value:"hr",children:"HR"}),e.jsx(Z,{value:"marketing",children:"Marketing"}),e.jsx(Z,{value:"engineering",children:"Engineering"}),e.jsx(Z,{value:"operations",children:"Operations"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"manager",children:"Manager"}),e.jsxs(Me,{value:k.manager,onValueChange:z=>T("manager",z),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select manager"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"alice-johnson",children:"Alice Johnson"}),e.jsx(Z,{value:"mike-chen",children:"Mike Chen"}),e.jsx(Z,{value:"sarah-patel",children:"Sarah Patel"}),e.jsx(Z,{value:"jennifer-smith",children:"Jennifer Smith"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"jobTitle",children:"Job Title"}),e.jsx(pe,{id:"jobTitle",placeholder:"Enter job title",value:k.jobTitle,onChange:z=>T("jobTitle",z.target.value)})]})]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-lg",children:[e.jsx(bt,{className:"w-4 h-4"}),"Access Control"]}),e.jsx(Be,{children:"Initial roles, status, and risk level"})]}),e.jsx(je,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"status",children:"Status *"}),e.jsxs(Me,{value:k.status,onValueChange:z=>T("status",z),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select status"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"active",children:"Active"}),e.jsx(Z,{value:"inactive",children:"Inactive"}),e.jsx(Z,{value:"pending",children:"Pending"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"riskLevel",children:"Risk Level"}),e.jsxs(Me,{value:k.riskLevel,onValueChange:z=>T("riskLevel",z),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select risk level"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"low",children:"Low"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"critical",children:"Critical"})]})]})]})]})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Mh,{className:"w-4 h-4"}),"Account Settings"]}),e.jsx(Be,{children:"Username, password, and account preferences"})]}),e.jsxs(je,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"username",children:"Username *"}),e.jsx(pe,{id:"username",placeholder:"Enter username",value:k.username,onChange:z=>T("username",z.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"password",children:"Password *"}),e.jsx(pe,{id:"password",type:"password",placeholder:"Enter password",value:k.password,onChange:z=>T("password",z.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"passwordConfirm",children:"Confirm Password *"}),e.jsx(pe,{id:"passwordConfirm",type:"password",placeholder:"Confirm password",value:k.passwordConfirm,onChange:z=>T("passwordConfirm",z.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"accountExpiration",children:"Account Expiration"}),e.jsx(pe,{id:"accountExpiration",type:"date",value:k.accountExpiration,onChange:z=>T("accountExpiration",z.target.value)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(G,{htmlFor:"sendWelcomeEmail",children:"Send Welcome Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send a welcome email with login instructions"})]}),e.jsx(Pe,{id:"sendWelcomeEmail",checked:k.sendWelcomeEmail,onCheckedChange:z=>T("sendWelcomeEmail",z)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(G,{htmlFor:"requirePasswordChange",children:"Require Password Change"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"User must change password on first login"})]}),e.jsx(Pe,{id:"requirePasswordChange",checked:k.requirePasswordChange,onCheckedChange:z=>T("requirePasswordChange",z)})]})]})]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{className:"text-lg",children:"Additional Notes"}),e.jsx(Be,{children:"Any additional information about this user"})]}),e.jsx(je,{children:e.jsx(mn,{placeholder:"Enter any additional notes or comments...",value:k.notes,onChange:z=>T("notes",z.target.value),rows:3})})]})]}),e.jsxs(yn,{className:"flex gap-2",children:[e.jsx(L,{variant:"outline",onClick:()=>{y(!1),U()},children:"Cancel"}),e.jsx(L,{onClick:O,disabled:C||!k.firstName||!k.lastName||!k.email||!k.department||!k.username||!k.password,style:{backgroundColor:"var(--primary)",color:"white"},children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Creating User..."]}):e.jsxs(e.Fragment,{children:[e.jsx(pa,{className:"w-4 h-4 mr-2"}),"Create User"]})})]})]})}),e.jsx(G0e,{open:A,onOpenChange:E})]})}const K0e=[{id:1,user:"R. Kumar",type:"Unusual Login Location",severity:"High",detected:"2024-09-30 08:15",description:"Login from unknown location: Singapore (usual: US West)"},{id:2,user:"M. Chen",type:"After-hours Access",severity:"Medium",detected:"2024-09-29 23:45",description:"Accessed sensitive data outside business hours"},{id:3,user:"A. Johnson",type:"Bulk Data Export",severity:"High",detected:"2024-09-29 14:20",description:"Downloaded 500+ records from HR system"}],J0e=[{id:1,user:"J. Smith",conflictType:"Create & Approve Purchase Orders",apps:["Oracle ERP","SAP"],severity:"High",detected:"2024-09-28"},{id:2,user:"S. Patel",conflictType:"Modify & Approve Journal Entries",apps:["Oracle ERP"],severity:"Critical",detected:"2024-09-27"},{id:3,user:"R. Kumar",conflictType:"Create & Delete Users",apps:["Azure AD","AWS IAM"],severity:"High",detected:"2024-09-26"}],Y0e=[{id:1,user:"L. Williams",lastLogin:"2024-06-15",daysDormant:107,roles:4,department:"Sales"},{id:2,user:"K. Brown",lastLogin:"2024-07-01",daysDormant:91,roles:6,department:"Marketing"},{id:3,user:"D. Martinez",lastLogin:"2024-06-20",daysDormant:102,roles:3,department:"Finance"}],Z0e=[{id:1,user:"R. Kumar",adminRoles:12,criticalSystems:8,lastReview:"2024-09-01",risk:"High"},{id:2,user:"J. Smith",adminRoles:8,criticalSystems:5,lastReview:"2024-08-15",risk:"Medium"},{id:3,user:"M. Chen",adminRoles:5,criticalSystems:3,lastReview:"2024-09-10",risk:"Medium"}];function X0e(){const t=r=>{switch(r.toLowerCase()){case"critical":return"var(--danger)";case"high":return"var(--danger)";case"medium":return"var(--warning)";case"low":return"var(--success)";default:return"var(--muted)"}};return e.jsxs("div",{className:"p-4 lg:p-6 max-w-[1440px] mx-auto",children:[e.jsxs("div",{className:"mb-6 lg:mb-8",children:[e.jsx("h1",{style:{fontSize:"var(--text-display)",lineHeight:"var(--line-height-display)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"8px"},children:"Risk Dashboard"}),e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--muted)"},children:"Monitor and manage identity-related risks across your organization"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[e.jsx(xi,{title:"Anomalies Detected",value:8,change:"+3 from last week",changeType:"negative",icon:et,iconColor:"var(--danger)"}),e.jsx(xi,{title:"SoD Conflicts",value:15,change:"Unchanged",changeType:"neutral",icon:bt,iconColor:"var(--warning)"}),e.jsx(xi,{title:"Dormant Accounts",value:23,change:"+5 this month",changeType:"negative",icon:Bk,iconColor:"var(--muted)"}),e.jsx(xi,{title:"Privileged Users",value:47,change:"Needs review",changeType:"neutral",icon:Mh,iconColor:"var(--primary)"})]}),e.jsx(se,{style:{backgroundColor:"var(--surface)",border:"1px solid var(--border)",borderRadius:"var(--radius-md)"},children:e.jsxs(pn,{defaultValue:"anomalies",className:"w-full",children:[e.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:e.jsxs(sn,{className:"w-full justify-start rounded-none h-auto p-0",style:{backgroundColor:"transparent"},children:[e.jsx(Ie,{value:"anomalies",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold",style:{padding:"16px 24px"},children:"Anomalies"}),e.jsx(Ie,{value:"sod",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold",style:{padding:"16px 24px"},children:"SoD Conflicts"}),e.jsx(Ie,{value:"dormant",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold",style:{padding:"16px 24px"},children:"Dormant Accounts"}),e.jsx(Ie,{value:"privileged",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold",style:{padding:"16px 24px"},children:"Privileged Users"})]})}),e.jsx(De,{value:"anomalies",className:"p-6",children:e.jsx("div",{className:"space-y-4",children:K0e.map(r=>e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg)",border:"1px solid var(--border)"},children:e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:r.user}),e.jsx(J,{className:"text-white",style:{backgroundColor:t(r.severity),fontSize:"var(--text-caption)"},children:r.severity})]}),e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--text)",marginBottom:"8px",fontWeight:"var(--font-weight-medium)"},children:r.type}),e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--muted)",marginBottom:"8px"},children:r.description}),e.jsxs("p",{style:{fontSize:"var(--text-caption)",color:"var(--muted)"},children:["Detected: ",r.detected]})]}),e.jsx(L,{size:"sm",variant:"outline",children:"Investigate"})]})},r.id))})}),e.jsx(De,{value:"sod",className:"p-6",children:e.jsx("div",{className:"space-y-4",children:J0e.map(r=>e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg)",border:"1px solid var(--border)"},children:e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:r.user}),e.jsx(J,{className:"text-white",style:{backgroundColor:t(r.severity),fontSize:"var(--text-caption)"},children:r.severity})]}),e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--text)",marginBottom:"8px",fontWeight:"var(--font-weight-medium)"},children:r.conflictType}),e.jsx("div",{className:"flex gap-2 mb-2",children:r.apps.map((n,s)=>e.jsx(J,{variant:"outline",style:{fontSize:"var(--text-caption)"},children:n},s))}),e.jsxs("p",{style:{fontSize:"var(--text-caption)",color:"var(--muted)"},children:["Detected: ",r.detected]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{size:"sm",variant:"outline",children:"Mitigate"}),e.jsx(L,{size:"sm",style:{backgroundColor:"var(--danger)"},children:"Revoke"})]})]})},r.id))})}),e.jsx(De,{value:"dormant",className:"p-6",children:e.jsx("div",{className:"space-y-4",children:Y0e.map(r=>e.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between",style:{backgroundColor:"var(--bg)",border:"1px solid var(--border)"},children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"8px"},children:r.user}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-caption)",color:"var(--muted)"},children:"Last Login"}),e.jsx("div",{style:{fontSize:"var(--text-body)",color:"var(--text)"},children:r.lastLogin})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-caption)",color:"var(--muted)"},children:"Days Dormant"}),e.jsx("div",{style:{fontSize:"var(--text-body)",color:"var(--danger)"},children:r.daysDormant})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-caption)",color:"var(--muted)"},children:"Roles"}),e.jsx("div",{style:{fontSize:"var(--text-body)",color:"var(--text)"},children:r.roles})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-caption)",color:"var(--muted)"},children:"Department"}),e.jsx("div",{style:{fontSize:"var(--text-body)",color:"var(--text)"},children:r.department})]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(L,{size:"sm",variant:"outline",children:"Notify"}),e.jsx(L,{size:"sm",style:{backgroundColor:"var(--danger)"},children:"Disable"})]})]},r.id))})}),e.jsx(De,{value:"privileged",className:"p-6",children:e.jsx("div",{className:"space-y-4",children:Z0e.map(r=>e.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between",style:{backgroundColor:"var(--bg)",border:"1px solid var(--border)"},children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("h4",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:r.user}),e.jsxs(J,{className:"text-white",style:{backgroundColor:t(r.risk),fontSize:"var(--text-caption)"},children:[r.risk," Risk"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-caption)",color:"var(--muted)"},children:"Admin Roles"}),e.jsx("div",{style:{fontSize:"var(--text-body)",color:"var(--text)"},children:r.adminRoles})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-caption)",color:"var(--muted)"},children:"Critical Systems"}),e.jsx("div",{style:{fontSize:"var(--text-body)",color:"var(--text)"},children:r.criticalSystems})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-caption)",color:"var(--muted)"},children:"Last Review"}),e.jsx("div",{style:{fontSize:"var(--text-body)",color:"var(--text)"},children:r.lastReview})]})]})]}),e.jsx(L,{size:"sm",variant:"outline",children:"Review Access"})]},r.id))})})]})})]})}function w2({status:t,showIcon:r=!0,size:n="md",className:s=""}){const a={connected:{label:"Connected",icon:cr,bg:"var(--success-bg)",border:"var(--success-border)",text:"var(--success)"},warning:{label:"Warning",icon:et,bg:"var(--warning-bg)",border:"var(--warning-border)",text:"var(--warning)"},disconnected:{label:"Disconnected",icon:Cr,bg:"var(--danger-bg)",border:"var(--danger-border)",text:"var(--danger)"},syncing:{label:"Syncing",icon:Lh,bg:"var(--info-bg)",border:"var(--info-border)",text:"var(--info)"}},{label:i,icon:o,bg:l,border:d,text:u}=a[t];return e.jsxs(J,{variant:"outline",className:`inline-flex items-center gap-1.5 ${n==="sm"?"px-2 py-0.5":"px-2.5 py-1"} ${s}`,style:{backgroundColor:l,borderColor:d,color:u,fontSize:n==="sm"?"var(--text-xs)":"var(--text-sm)",fontWeight:"var(--font-weight-medium)"},children:[r&&e.jsx(o,{className:`${n==="sm"?"w-3 h-3":"w-3.5 h-3.5"} ${t==="syncing"?"animate-spin":""}`,style:{color:u}}),e.jsx("span",{children:i})]})}var N2="Progress",S2=100,[Q0e]=rn(N2),[ebe,tbe]=Q0e(N2),G8=j.forwardRef((t,r)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=rbe,...o}=t;(a||a===0)&&!FM(a)&&console.error(nbe(`${a}`,"Progress"));const l=FM(a)?a:S2;s!==null&&!BM(s,l)&&console.error(sbe(`${s}`,"Progress"));const d=BM(s,l)?s:null,u=hx(d)?i(d,l):void 0;return e.jsx(ebe,{scope:n,value:d,max:l,children:e.jsx(Fe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":hx(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":Y8(d,l),"data-value":d??void 0,"data-max":l,...o,ref:r})})});G8.displayName=N2;var K8="ProgressIndicator",J8=j.forwardRef((t,r)=>{const{__scopeProgress:n,...s}=t,a=tbe(K8,n);return e.jsx(Fe.div,{"data-state":Y8(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:r})});J8.displayName=K8;function rbe(t,r){return`${Math.round(t/r*100)}%`}function Y8(t,r){return t==null?"indeterminate":t===r?"complete":"loading"}function hx(t){return typeof t=="number"}function FM(t){return hx(t)&&!isNaN(t)&&t>0}function BM(t,r){return hx(t)&&!isNaN(t)&&t<=r&&t>=0}function nbe(t,r){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${S2}\`.`}function sbe(t,r){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${S2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var abe=G8,ibe=J8;function Nr({className:t,value:r,...n}){return e.jsx(abe,{"data-slot":"progress",className:We("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:e.jsx(ibe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}const _g=[{id:"int-az-corp-prod",name:"Azure AD  Corp Prod",slug:"azure-ad-corp-prod",connectorType:"azure-ad",connectorName:"Azure AD",connectorCategory:"idp",environment:"prod",status:"connected",owner:"IdM Team",tags:["production","critical"],tenant:"contoso.onmicrosoft.com",domain:"contoso.com",health:98,lastSync:"2 minutes ago",nextSync:"in 5 hours 58 minutes",accountsCount:12453,groupsCount:487,errorCount:0,createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-10-01T14:22:00Z",createdBy:"admin@company.com"},{id:"int-az-ma-tenant",name:"Azure AD  M&A Tenant",slug:"azure-ad-ma-tenant",connectorType:"azure-ad",connectorName:"Azure AD",connectorCategory:"idp",environment:"prod",status:"warning",owner:"IdM Team",tags:["production","acquisition"],tenant:"fabrikam.onmicrosoft.com",domain:"fabrikam.com",health:92,lastSync:"1 hour ago",nextSync:"in 5 hours",accountsCount:3421,groupsCount:156,errorCount:12,createdAt:"2024-08-22T09:15:00Z",updatedAt:"2024-10-01T13:15:00Z",createdBy:"admin@company.com"},{id:"int-az-sandbox",name:"Azure AD  Dev/Test",slug:"azure-ad-dev-test",connectorType:"azure-ad",connectorName:"Azure AD",connectorCategory:"idp",environment:"sandbox",status:"connected",owner:"DevOps Team",tags:["sandbox","testing"],tenant:"contoso-dev.onmicrosoft.com",domain:"dev.contoso.com",health:100,lastSync:"15 minutes ago",nextSync:"in 5 hours 45 minutes",accountsCount:234,groupsCount:45,errorCount:0,createdAt:"2024-03-10T14:20:00Z",updatedAt:"2024-10-01T14:00:00Z",createdBy:"devops@company.com"},{id:"int-workday-prod",name:"Workday  HR Production",slug:"workday-hr-production",connectorType:"workday",connectorName:"Workday",connectorCategory:"hris",environment:"prod",status:"connected",owner:"HR Tech Team",tags:["production","hris","critical"],tenant:"acme",instanceUrl:"https://wd5-impl-services1.workday.com",health:100,lastSync:"5 minutes ago",nextSync:"in 23 hours 55 minutes",accountsCount:8932,groupsCount:0,errorCount:0,createdAt:"2024-02-01T08:00:00Z",updatedAt:"2024-10-01T14:20:00Z",createdBy:"hr-admin@company.com"},{id:"int-workday-sandbox",name:"Workday  Sandbox",slug:"workday-sandbox",connectorType:"workday",connectorName:"Workday",connectorCategory:"hris",environment:"sandbox",status:"connected",owner:"HR Tech Team",tags:["sandbox","testing"],tenant:"acme_sbx",instanceUrl:"https://wd5-impl-services1.workday.com",health:95,lastSync:"30 minutes ago",nextSync:"in 23 hours 30 minutes",accountsCount:150,groupsCount:0,errorCount:2,createdAt:"2024-02-01T08:30:00Z",updatedAt:"2024-10-01T13:45:00Z",createdBy:"hr-admin@company.com"},{id:"int-m365-prod",name:"Microsoft 365  Production",slug:"microsoft-365-production",connectorType:"microsoft-365",connectorName:"Microsoft 365",connectorCategory:"saas",environment:"prod",status:"connected",owner:"IT Operations",tags:["production","licenses"],tenant:"contoso.onmicrosoft.com",health:99,lastSync:"10 minutes ago",nextSync:"in 5 hours 50 minutes",accountsCount:12453,groupsCount:342,errorCount:1,createdAt:"2024-01-20T11:00:00Z",updatedAt:"2024-10-01T14:05:00Z",createdBy:"it-admin@company.com"},{id:"int-sf-sales",name:"Salesforce  Sales Cloud",slug:"salesforce-sales-cloud",connectorType:"salesforce",connectorName:"Salesforce",connectorCategory:"saas",environment:"prod",status:"connected",owner:"Sales Ops",tags:["production","crm"],instanceUrl:"https://acme.my.salesforce.com",health:97,lastSync:"20 minutes ago",nextSync:"in 5 hours 40 minutes",accountsCount:1834,groupsCount:89,errorCount:3,createdAt:"2024-03-15T09:30:00Z",updatedAt:"2024-10-01T13:55:00Z",createdBy:"sales-admin@company.com"},{id:"int-sf-service",name:"Salesforce  Service Cloud",slug:"salesforce-service-cloud",connectorType:"salesforce",connectorName:"Salesforce",connectorCategory:"saas",environment:"prod",status:"connected",owner:"Support Ops",tags:["production","support"],instanceUrl:"https://acme-service.my.salesforce.com",health:96,lastSync:"18 minutes ago",nextSync:"in 5 hours 42 minutes",accountsCount:542,groupsCount:34,errorCount:0,createdAt:"2024-04-10T10:00:00Z",updatedAt:"2024-10-01T13:57:00Z",createdBy:"support-admin@company.com"},{id:"int-aws-prod",name:"AWS  Production",slug:"aws-production",connectorType:"aws",connectorName:"AWS",connectorCategory:"cloud",environment:"prod",status:"connected",owner:"Cloud Team",tags:["production","cloud","iam"],region:"us-east-1",health:98,lastSync:"12 minutes ago",nextSync:"in 5 hours 48 minutes",accountsCount:234,groupsCount:67,errorCount:0,createdAt:"2024-02-28T13:00:00Z",updatedAt:"2024-10-01T14:03:00Z",createdBy:"cloud-admin@company.com"},{id:"int-okta-prod",name:"Okta  SSO Production",slug:"okta-sso-production",connectorType:"okta",connectorName:"Okta",connectorCategory:"idp",environment:"prod",status:"connected",owner:"Security Team",tags:["production","sso"],domain:"acme.okta.com",health:100,lastSync:"3 minutes ago",nextSync:"in 5 hours 57 minutes",accountsCount:12453,groupsCount:234,errorCount:0,createdAt:"2024-01-05T12:00:00Z",updatedAt:"2024-10-01T14:12:00Z",createdBy:"security-admin@company.com"},{id:"int-ad-onprem",name:"Active Directory  On-Premise",slug:"active-directory-on-premise",connectorType:"active-directory",connectorName:"Active Directory",connectorCategory:"directory",environment:"prod",status:"connected",owner:"Infrastructure Team",tags:["production","on-premise","critical"],domain:"corp.contoso.com",health:97,lastSync:"8 minutes ago",nextSync:"in 5 hours 52 minutes",accountsCount:15234,groupsCount:892,errorCount:5,createdAt:"2024-01-10T08:00:00Z",updatedAt:"2024-10-01T14:07:00Z",createdBy:"infra-admin@company.com"},{id:"int-snow-prod",name:"ServiceNow  ITSM Production",slug:"servicenow-itsm-production",connectorType:"servicenow",connectorName:"ServiceNow",connectorCategory:"saas",environment:"prod",status:"connected",owner:"IT Service Management",tags:["production","itsm"],instanceUrl:"https://acme.service-now.com",health:99,lastSync:"6 minutes ago",nextSync:"in 5 hours 54 minutes",accountsCount:2341,groupsCount:145,errorCount:0,createdAt:"2024-03-01T09:00:00Z",updatedAt:"2024-10-01T14:09:00Z",createdBy:"itsm-admin@company.com"}];function obe(t){return _g.find(r=>r.id===t)}function lbe(t){return _g.filter(r=>r.connectorType===t)}function cbe(t,r,n,s){const a=[t];return r?a.push(r.split(".")[0]):n&&a.push(n.split(".")[0]),s&&s!=="prod"&&a.push(s.charAt(0).toUpperCase()+s.slice(1)),a.join("  ")}function dbe(t,r){return!_g.some(n=>n.name.toLowerCase()===t.toLowerCase()&&n.id!==r)}function ube({open:t,onClose:r,currentName:n,instanceId:s,onSave:a}){const[i,o]=j.useState(n),[l,d]=j.useState(null),u=()=>{if(!i.trim()){d("Name cannot be empty");return}if(i===n){r();return}if(!dbe(i,s)){d("An integration with this name already exists");return}a(i),r()},f=()=>{o(n),d(null),r()};return e.jsx(Zr,{open:t,onOpenChange:f,children:e.jsxs(Or,{children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Rename Integration"}),e.jsx(Mr,{children:"Choose a unique, descriptive name for this integration instance"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"integration-name",children:"Instance Name"}),e.jsx(pe,{id:"integration-name",value:i,onChange:m=>{o(m.target.value),d(null)},onKeyDown:m=>{m.key==="Enter"&&u()},placeholder:"Azure AD  Corp Prod",autoFocus:!0}),l&&e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded",style:{backgroundColor:"var(--danger-bg)",border:"1px solid var(--danger-border)"},children:[e.jsx(fr,{className:"w-4 h-4",style:{color:"var(--danger)"}}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--danger)"},children:l})]})]}),e.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--info-bg)",border:"1px solid var(--info-border)"},children:e.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--info)"},children:[e.jsx("strong",{children:"Note:"})," Renaming this integration will not affect its configuration, connections, or scheduled jobs. The new name will be reflected throughout the system immediately."]})})]}),e.jsxs(yn,{children:[e.jsx(L,{variant:"outline",onClick:f,children:"Cancel"}),e.jsx(L,{onClick:u,children:"Save Changes"})]})]})})}const hbe={"azure-ad":{icon:"simple-icons:microsoftazure",color:"#0078D4",label:"Azure AD"},"active-directory":{icon:"simple-icons:windows",color:"#0078D4",label:"Active Directory"},workday:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiMwMDc2RDYiIHJ4PSI4Ii8+PHBhdGggZD0iTTI1IDcwIFEyNSA1MCwgNDAgMzUgVDcwIDI1IiBzdHJva2U9IiNGRjkzMDAiIHN0cm9rZS13aWR0aD0iNiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PHRleHQgeD0iNTAiIHk9IjYyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMzYiIGZvbnQtd2VpZ2h0PSI3MDAiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5XPC90ZXh0Pjwvc3ZnPg==",color:"#0076D6",label:"Workday",isImage:!0},"microsoft-365":{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9IiNFQTQzMzUiLz48cmVjdCB4PSIyNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSIjNENBRjUwIi8+PHJlY3QgeT0iMjYiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0iIzAzQTlGNCIvPjxyZWN0IHg9IjI2IiB5PSIyNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSIjRkZCQjAwIi8+PC9zdmc+",color:"#5E5E5E",label:"Microsoft 365",isImage:!0},m365:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9IiNFQTQzMzUiLz48cmVjdCB4PSIyNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSIjNENBRjUwIi8+PHJlY3QgeT0iMjYiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0iIzAzQTlGNCIvPjxyZWN0IHg9IjI2IiB5PSIyNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSIjRkZCQjAwIi8+PC9zdmc+",color:"#5E5E5E",label:"Microsoft 365",isImage:!0},salesforce:{icon:"simple-icons:salesforce",color:"#00A1E0",label:"Salesforce"},servicenow:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJzbkciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM4MUI1QTE7c3RvcC1vcGFjaXR5OjEiIC8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojNjJEMEEwO3N0b3Atb3BhY2l0eToxIiAvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjMUIzQTM1IiByeD0iOCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUwLCA1MCkiPjxwYXRoIGQ9Ik0gLTE4IC0xOCBMIDE4IC0xOCBMIDE4IC04IEwgOCAtOCBMIDggOCBMIDE4IDggTCAxOCAxOCBMIC0xOCAxOCBMIC0xOCA4IEwgLTggOCBMIC04IC04IEwgLTE4IC04IFoiIGZpbGw9InVybCgjc25HKSIvPjwvZz48L3N2Zz4=",color:"#1B3A35",label:"ServiceNow",isImage:!0},jira:{icon:"simple-icons:jira",color:"#0052CC",label:"Jira"},confluence:{icon:"simple-icons:confluence",color:"#172B4D",label:"Confluence"},aws:{icon:"simple-icons:amazonaws",color:"#FF9900",label:"AWS"},azure:{icon:"simple-icons:microsoftazure",color:"#0078D4",label:"Azure"},gcp:{icon:"simple-icons:googlecloud",color:"#4285F4",label:"Google Cloud"},okta:{icon:"simple-icons:okta",color:"#007DC1",label:"Okta"},successfactors:{icon:"simple-icons:sap",color:"#0FAAFF",label:"SuccessFactors"},sap:{icon:"simple-icons:sap",color:"#0FAAFF",label:"SAP"},box:{icon:"simple-icons:box",color:"#0061D5",label:"Box"},github:{icon:"simple-icons:github",color:"#181717",darkColor:"#F0F6FC",label:"GitHub"},gitlab:{icon:"simple-icons:gitlab",color:"#FC6D26",label:"GitLab"},slack:{icon:"simple-icons:slack",color:"#4A154B",label:"Slack"},zoom:{icon:"simple-icons:zoom",color:"#2D8CFF",label:"Zoom"},dropbox:{icon:"simple-icons:dropbox",color:"#0061FF",label:"Dropbox"},"google-workspace":{icon:"simple-icons:google",color:"#4285F4",label:"Google Workspace"},tableau:{icon:"simple-icons:tableau",color:"#E97627",label:"Tableau"},databricks:{icon:"simple-icons:databricks",color:"#FF3621",label:"Databricks"},snowflake:{icon:"simple-icons:snowflake",color:"#29B5E8",label:"Snowflake"},oracle:{icon:"simple-icons:oracle",color:"#F80000",label:"Oracle"},atlassian:{icon:"simple-icons:atlassian",color:"#0052CC",label:"Atlassian"},monday:{icon:"simple-icons:monday",color:"#FF3D57",label:"Monday.com"},notion:{icon:"simple-icons:notion",color:"#000000",darkColor:"#FFFFFF",label:"Notion"},asana:{icon:"simple-icons:asana",color:"#F06A6A",label:"Asana"},stripe:{icon:"simple-icons:stripe",color:"#008CDD",label:"Stripe"},hubspot:{icon:"simple-icons:hubspot",color:"#FF7A59",label:"HubSpot"},zendesk:{icon:"simple-icons:zendesk",color:"#03363D",label:"Zendesk"},twilio:{icon:"simple-icons:twilio",color:"#F22F46",label:"Twilio"},sendgrid:{icon:"simple-icons:sendgrid",color:"#1A82E2",label:"SendGrid"},airtable:{icon:"simple-icons:airtable",color:"#18BFFF",label:"Airtable"},figma:{icon:"simple-icons:figma",color:"#F24E1E",label:"Figma"},adobe:{icon:"simple-icons:adobe",color:"#FF0000",label:"Adobe"},microsoft:{icon:"simple-icons:microsoft",color:"#5E5E5E",label:"Microsoft"},apple:{icon:"simple-icons:apple",color:"#000000",label:"Apple"},google:{icon:"simple-icons:google",color:"#4285F4",label:"Google"},docker:{icon:"simple-icons:docker",color:"#2496ED",label:"Docker"},kubernetes:{icon:"simple-icons:kubernetes",color:"#326CE5",label:"Kubernetes"},terraform:{icon:"simple-icons:terraform",color:"#7B42BC",label:"Terraform"},ansible:{icon:"simple-icons:ansible",color:"#EE0000",label:"Ansible"},jenkins:{icon:"simple-icons:jenkins",color:"#D24939",label:"Jenkins"},circleci:{icon:"simple-icons:circleci",color:"#343434",label:"CircleCI"},bitbucket:{icon:"simple-icons:bitbucket",color:"#0052CC",label:"Bitbucket"},pagerduty:{icon:"simple-icons:pagerduty",color:"#06AC38",label:"PagerDuty"},datadog:{icon:"simple-icons:datadog",color:"#632CA6",label:"Datadog"},splunk:{icon:"simple-icons:splunk",color:"#000000",label:"Splunk"},elastic:{icon:"simple-icons:elastic",color:"#005571",label:"Elastic"},newrelic:{icon:"simple-icons:newrelic",color:"#008C99",label:"New Relic"}};function mbe(t){const r=hbe[t.toLowerCase()];return r||{icon:"lucide:cloud",color:"#64748B",label:t}}function WM(t,r=.1){const n=t.replace("#",""),s=parseInt(n.substring(0,2),16),a=parseInt(n.substring(2,4),16),i=parseInt(n.substring(4,6),16);return`rgba(${s}, ${a}, ${i}, ${r})`}const fbe={sm:{container:"w-16 h-16",icon:"w-8 h-8",imagePadding:"p-2"},md:{container:"w-20 h-20",icon:"w-10 h-10",imagePadding:"p-3"},lg:{container:"w-24 h-24",icon:"w-12 h-12",imagePadding:"p-3.5"},xl:{container:"w-28 h-28",icon:"w-14 h-14",imagePadding:"p-4"}};function k2({connectorType:t,fallbackIcon:r,size:n="md",showBackground:s=!0,backgroundOpacity:a=.1,showBorder:i=!1,borderOpacity:o,className:l=""}){const d=t?mbe(t):null,u=fbe[n],f=!!d,m=f?d.color:"var(--primary)",v=f?WM(d.color,a):`rgba(79, 70, 229, ${a})`,g=i?f?WM(d.color,o??a*2):`rgba(79, 70, 229, ${o??a*2})`:"transparent",b=r||No;return e.jsx("div",{className:`${u.container} rounded-lg flex items-center justify-center ${d?.isImage?u.imagePadding:""} ${l}`,style:{backgroundColor:s?v:"transparent",border:i?`1px solid ${g}`:"none"},children:f?d.isImage?e.jsx("img",{src:d.icon,alt:`${d.label} logo`,className:"w-full h-full",style:{objectFit:"contain",display:"block"}}):e.jsx(pbe,{icon:d.icon,className:u.icon,style:{color:m},"aria-label":`${d.label} logo`,fallback:e.jsx(b,{className:u.icon,style:{color:m}})}):e.jsx(b,{className:u.icon,style:{color:m}})})}function pbe({icon:t,className:r,style:n,fallback:s,...a}){const[i,o]=$.useState(!1),[l,d]=$.useState(null);return $.useEffect(()=>{Mo(()=>import("./iconify-2ugEgMmH.js"),[]).then(u=>{d(()=>u.Icon)}).catch(()=>{o(!0)})},[]),i||!l?e.jsx(e.Fragment,{children:s}):e.jsx(l,{icon:t,className:r,style:n,...a})}function vbe({integration:t,onClick:r,onSync:n,onTest:s,onSettings:a,onRename:i,onDuplicate:o,onDisable:l,onDelete:d}){const[u,f]=j.useState(!1),m=x=>{r?.()},v=(x,y)=>{x.stopPropagation(),y()},g=x=>x>=95?"var(--success)":x>=70?"var(--warning)":"var(--danger)",b=t.status==="disconnected"||t.status==="syncing";return e.jsxs(se,{className:"p-5 cursor-pointer transition-all duration-150 group hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",style:{backgroundColor:"var(--surface)",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)"},onClick:m,onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),r?.())},tabIndex:0,role:"button","aria-label":`View ${t.name} integration details`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx(k2,{connectorType:t.connectorType,fallbackIcon:t.icon,size:"lg",className:"transition-transform duration-150 group-hover:scale-105"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w2,{status:t.status,size:"sm"}),(i||o||l||d)&&e.jsxs(ya,{children:[e.jsx(ba,{asChild:!0,onClick:x=>x.stopPropagation(),children:e.jsx(L,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(rv,{className:"w-4 h-4"})})}),e.jsxs(ja,{align:"end",onClick:x=>x.stopPropagation(),children:[i&&e.jsxs(Ct,{onClick:()=>f(!0),children:[e.jsx(rJ,{className:"w-4 h-4 mr-2"}),"Rename"]}),o&&e.jsxs(Ct,{onClick:o,children:[e.jsx(fa,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),(l||d)&&e.jsx(Mi,{}),l&&e.jsxs(Ct,{onClick:l,children:[e.jsx(lJ,{className:"w-4 h-4 mr-2"}),t.status==="disconnected"?"Enable":"Disable"]}),d&&e.jsxs(Ct,{onClick:d,style:{color:"var(--danger)"},children:[e.jsx(Al,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})]}),i&&e.jsx(ube,{open:u,onClose:()=>f(!1),currentName:t.name,instanceId:t.id,onSave:i}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"2px"},children:t.name}),e.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:[t.connectorName||t.name," ",t.category&&`(${t.category})`]}),(t.tenant||t.domain||t.environment)&&e.jsxs("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginTop:"2px"},children:[t.tenant||t.domain,t.environment&&t.environment!=="prod"&&e.jsxs("span",{style:{marginLeft:"4px"},children:[" ",t.environment.charAt(0).toUpperCase()+t.environment.slice(1)]})]})]}),t.statusReason&&(t.status==="warning"||t.status==="disconnected")&&e.jsx("div",{className:"mb-3 p-2 rounded",style:{backgroundColor:t.status==="warning"?"var(--warning-bg-subtle)":"var(--danger-bg-subtle)",fontSize:"var(--text-xs)",color:t.status==="warning"?"var(--warning)":"var(--danger)"},children:t.statusReason}),t.status==="syncing"&&t.syncProgress!==void 0&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Syncing..."}),e.jsxs("span",{style:{fontSize:"var(--text-xs)",color:"var(--info)",fontWeight:"var(--font-weight-medium)"},children:[t.syncProgress,"%"]})]}),e.jsx(Nr,{value:t.syncProgress,className:"h-1.5"})]}),e.jsxs("div",{className:"space-y-2.5 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Users"}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)",fontWeight:"var(--font-weight-medium)"},children:t.users.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Last Sync"}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:t.lastSync})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Sync Health"}),e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:g(t.syncHealth),fontWeight:"var(--font-weight-medium)"},children:[t.syncHealth,"%"]})]}),e.jsx(Nr,{value:t.syncHealth,className:"h-1.5"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t",style:{borderColor:"var(--border)"},children:[e.jsx(L,{size:"sm",variant:"outline",className:"flex-1",onClick:m,children:"View Details"}),e.jsxs(Do,{delayDuration:300,children:[e.jsxs(Ai,{children:[e.jsx(Ei,{asChild:!0,children:e.jsx(L,{size:"sm",variant:"ghost",className:"w-8 h-8 p-0",onClick:x=>v(x,n||(()=>{})),disabled:b,"aria-label":"Sync now",children:e.jsx(va,{className:"w-4 h-4"})})}),e.jsx(_i,{children:e.jsx("p",{children:"Sync now"})})]}),e.jsxs(Ai,{children:[e.jsx(Ei,{asChild:!0,children:e.jsx(L,{size:"sm",variant:"ghost",className:"w-8 h-8 p-0",onClick:x=>v(x,s||(()=>{})),disabled:b,"aria-label":"Test connection",children:e.jsx(Sr,{className:"w-4 h-4"})})}),e.jsx(_i,{children:e.jsx("p",{children:"Test connection"})})]}),e.jsxs(Ai,{children:[e.jsx(Ei,{asChild:!0,children:e.jsx(L,{size:"sm",variant:"ghost",className:"w-8 h-8 p-0",onClick:x=>v(x,a||(()=>{})),"aria-label":"Settings",children:e.jsx(Fk,{className:"w-4 h-4"})})}),e.jsx(_i,{children:e.jsx("p",{children:"Settings"})})]})]})]})]})}function xbe(t,r){return j.useReducer((n,s)=>r[n][s]??n,t)}var C2="ScrollArea",[Z8]=rn(C2),[gbe,Ys]=Z8(C2),X8=j.forwardRef((t,r)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=t,[l,d]=j.useState(null),[u,f]=j.useState(null),[m,v]=j.useState(null),[g,b]=j.useState(null),[x,y]=j.useState(null),[A,E]=j.useState(0),[C,w]=j.useState(0),[k,S]=j.useState(!1),[R,T]=j.useState(!1),O=st(r,D=>d(D)),U=$l(a);return e.jsx(gbe,{scope:n,type:s,dir:U,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:f,content:m,onContentChange:v,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:k,onScrollbarXEnabledChange:S,scrollbarY:x,onScrollbarYChange:y,scrollbarYEnabled:R,onScrollbarYEnabledChange:T,onCornerWidthChange:E,onCornerHeightChange:w,children:e.jsx(Fe.div,{dir:U,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":A+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});X8.displayName=C2;var Q8="ScrollAreaViewport",eB=j.forwardRef((t,r)=>{const{__scopeScrollArea:n,children:s,nonce:a,...i}=t,o=Ys(Q8,n),l=j.useRef(null),d=st(r,l,o.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Fe.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});eB.displayName=Q8;var ei="ScrollAreaScrollbar",tB=j.forwardRef((t,r)=>{const{forceMount:n,...s}=t,a=Ys(ei,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return j.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?e.jsx(ybe,{...s,ref:r,forceMount:n}):a.type==="scroll"?e.jsx(bbe,{...s,ref:r,forceMount:n}):a.type==="auto"?e.jsx(rB,{...s,ref:r,forceMount:n}):a.type==="always"?e.jsx(A2,{...s,ref:r}):null});tB.displayName=ei;var ybe=j.forwardRef((t,r)=>{const{forceMount:n,...s}=t,a=Ys(ei,t.__scopeScrollArea),[i,o]=j.useState(!1);return j.useEffect(()=>{const l=a.scrollArea;let d=0;if(l){const u=()=>{window.clearTimeout(d),o(!0)},f=()=>{d=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(Fr,{present:n||i,children:e.jsx(rB,{"data-state":i?"visible":"hidden",...s,ref:r})})}),bbe=j.forwardRef((t,r)=>{const{forceMount:n,...s}=t,a=Ys(ei,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Tg(()=>d("SCROLL_END"),100),[l,d]=xbe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,d]),j.useEffect(()=>{const u=a.viewport,f=i?"scrollLeft":"scrollTop";if(u){let m=u[f];const v=()=>{const g=u[f];m!==g&&(d("SCROLL"),o()),m=g};return u.addEventListener("scroll",v),()=>u.removeEventListener("scroll",v)}},[a.viewport,i,d,o]),e.jsx(Fr,{present:n||l!=="hidden",children:e.jsx(A2,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:r,onPointerEnter:Re(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Re(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),rB=j.forwardRef((t,r)=>{const n=Ys(ei,t.__scopeScrollArea),{forceMount:s,...a}=t,[i,o]=j.useState(!1),l=t.orientation==="horizontal",d=Tg(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:f)}},10);return Id(n.viewport,d),Id(n.content,d),e.jsx(Fr,{present:s||i,children:e.jsx(A2,{"data-state":i?"visible":"hidden",...a,ref:r})})}),A2=j.forwardRef((t,r)=>{const{orientation:n="vertical",...s}=t,a=Ys(ei,t.__scopeScrollArea),i=j.useRef(null),o=j.useRef(0),[l,d]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=oB(l.viewport,l.content),f={...s,sizes:l,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:v=>i.current=v,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:v=>o.current=v};function m(v,g){return Cbe(v,o.current,l,g)}return n==="horizontal"?e.jsx(jbe,{...f,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){const v=a.viewport.scrollLeft,g=UM(v,l,a.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=m(v,a.dir))}}):n==="vertical"?e.jsx(wbe,{...f,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){const v=a.viewport.scrollTop,g=UM(v,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=m(v))}}):null}),jbe=j.forwardRef((t,r)=>{const{sizes:n,onSizesChange:s,...a}=t,i=Ys(ei,t.__scopeScrollArea),[o,l]=j.useState(),d=j.useRef(null),u=st(r,d,i.onScrollbarXChange);return j.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),e.jsx(sB,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Rg(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(i.viewport){const v=i.viewport.scrollLeft+f.deltaX;t.onWheelScroll(v),cB(v,m)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:fx(o.paddingLeft),paddingEnd:fx(o.paddingRight)}})}})}),wbe=j.forwardRef((t,r)=>{const{sizes:n,onSizesChange:s,...a}=t,i=Ys(ei,t.__scopeScrollArea),[o,l]=j.useState(),d=j.useRef(null),u=st(r,d,i.onScrollbarYChange);return j.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),e.jsx(sB,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Rg(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(i.viewport){const v=i.viewport.scrollTop+f.deltaY;t.onWheelScroll(v),cB(v,m)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:fx(o.paddingTop),paddingEnd:fx(o.paddingBottom)}})}})}),[Nbe,nB]=Z8(ei),sB=j.forwardRef((t,r)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:f,onResize:m,...v}=t,g=Ys(ei,n),[b,x]=j.useState(null),y=st(r,O=>x(O)),A=j.useRef(null),E=j.useRef(""),C=g.viewport,w=s.content-s.viewport,k=un(f),S=un(d),R=Tg(m,10);function T(O){if(A.current){const U=O.clientX-A.current.left,D=O.clientY-A.current.top;u({x:U,y:D})}}return j.useEffect(()=>{const O=U=>{const D=U.target;b?.contains(D)&&k(U,w)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[C,b,w,k]),j.useEffect(S,[s,S]),Id(b,R),Id(g.content,R),e.jsx(Nbe,{scope:n,scrollbar:b,hasThumb:a,onThumbChange:un(i),onThumbPointerUp:un(o),onThumbPositionChange:S,onThumbPointerDown:un(l),children:e.jsx(Fe.div,{...v,ref:y,style:{position:"absolute",...v.style},onPointerDown:Re(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),A.current=b.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),T(O))}),onPointerMove:Re(t.onPointerMove,T),onPointerUp:Re(t.onPointerUp,O=>{const U=O.target;U.hasPointerCapture(O.pointerId)&&U.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=E.current,g.viewport&&(g.viewport.style.scrollBehavior=""),A.current=null})})})}),mx="ScrollAreaThumb",aB=j.forwardRef((t,r)=>{const{forceMount:n,...s}=t,a=nB(mx,t.__scopeScrollArea);return e.jsx(Fr,{present:n||a.hasThumb,children:e.jsx(Sbe,{ref:r,...s})})}),Sbe=j.forwardRef((t,r)=>{const{__scopeScrollArea:n,style:s,...a}=t,i=Ys(mx,n),o=nB(mx,n),{onThumbPositionChange:l}=o,d=st(r,m=>o.onThumbChange(m)),u=j.useRef(void 0),f=Tg(()=>{u.current&&(u.current(),u.current=void 0)},100);return j.useEffect(()=>{const m=i.viewport;if(m){const v=()=>{if(f(),!u.current){const g=Abe(m,l);u.current=g,l()}};return l(),m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[i.viewport,f,l]),e.jsx(Fe.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Re(t.onPointerDownCapture,m=>{const g=m.target.getBoundingClientRect(),b=m.clientX-g.left,x=m.clientY-g.top;o.onThumbPointerDown({x:b,y:x})}),onPointerUp:Re(t.onPointerUp,o.onThumbPointerUp)})});aB.displayName=mx;var E2="ScrollAreaCorner",iB=j.forwardRef((t,r)=>{const n=Ys(E2,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?e.jsx(kbe,{...t,ref:r}):null});iB.displayName=E2;var kbe=j.forwardRef((t,r)=>{const{__scopeScrollArea:n,...s}=t,a=Ys(E2,n),[i,o]=j.useState(0),[l,d]=j.useState(0),u=!!(i&&l);return Id(a.scrollbarX,()=>{const f=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(f),d(f)}),Id(a.scrollbarY,()=>{const f=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(f),o(f)}),u?e.jsx(Fe.div,{...s,ref:r,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function fx(t){return t?parseInt(t,10):0}function oB(t,r){const n=t/r;return isNaN(n)?0:n}function Rg(t){const r=oB(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*r;return Math.max(s,18)}function Cbe(t,r,n,s="ltr"){const a=Rg(n),i=a/2,o=r||i,l=a-o,d=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,m=s==="ltr"?[0,f]:[f*-1,0];return lB([d,u],m)(t)}function UM(t,r,n="ltr"){const s=Rg(r),a=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-a,o=r.content-r.viewport,l=i-s,d=n==="ltr"?[0,o]:[o*-1,0],u=km(t,d);return lB([0,o],[0,l])(u)}function lB(t,r){return n=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const s=(r[1]-r[0])/(t[1]-t[0]);return r[0]+s*(n-t[0])}}function cB(t,r){return t>0&&t<r}var Abe=(t,r=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return(function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&r(),n=i,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function Tg(t,r){const n=un(t),s=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(s.current),[]),j.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,r)},[n,r])}function Id(t,r){const n=un(r);kr(()=>{let s=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(s),a.unobserve(t)}}},[t,n])}var Ebe=X8,_be=eB,Rbe=iB;function ou({className:t,children:r,...n}){return e.jsxs(Ebe,{"data-slot":"scroll-area",className:We("relative",t),...n,children:[e.jsx(_be,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),e.jsx(Tbe,{}),e.jsx(Rbe,{})]})}function Tbe({className:t,orientation:r="vertical",...n}){return e.jsx(tB,{"data-slot":"scroll-area-scrollbar",orientation:r,className:We("flex touch-none p-px transition-colors select-none",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:e.jsx(aB,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Pbe({open:t,onOpenChange:r,integration:n,onOpenDetails:s,onSync:a,onTest:i,onReconnect:o}){if(!n)return null;const l=d=>{switch(d){case"success":return{icon:cr,color:"var(--success)",bg:"var(--success-bg)"};case"failed":return{icon:Cr,color:"var(--danger)",bg:"var(--danger-bg)"};case"warning":return{icon:et,color:"var(--warning)",bg:"var(--warning-bg)"}}};return e.jsx(Ed,{open:t,onOpenChange:r,children:e.jsxs(_d,{className:"w-full sm:max-w-lg p-0 flex flex-col",style:{backgroundColor:"var(--bg)",borderLeft:"1px solid var(--border)"},children:[e.jsx(bg,{className:"px-6 py-5 border-b",style:{borderColor:"var(--border)"},children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx(Rd,{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"8px"},children:n.name}),e.jsxs(Td,{className:"sr-only",children:["View details and quick actions for ",n.name," integration"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w2,{status:n.status,size:"sm"}),n.owner&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(pa,{className:"w-3 h-3",style:{color:"var(--muted-foreground)"}}),e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:n.owner})]})]})]})})}),e.jsx(ou,{className:"flex-1 px-6 py-5",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Sync Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Last Sync"}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:n.lastSync})]}),n.nextSync&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Next Sync"}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:n.nextSync})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Health"}),e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:n.syncHealth>=95?"var(--success)":n.syncHealth>=70?"var(--warning)":"var(--danger)",fontWeight:"var(--font-weight-medium)"},children:[n.syncHealth,"%"]})]})]})]}),e.jsx(Sm,{}),(n.errors||n.warnings)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Health Status"}),e.jsxs("div",{className:"space-y-2",children:[n.errors>0&&e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded",style:{backgroundColor:"var(--danger-bg-subtle)"},children:[e.jsx(Cr,{className:"w-4 h-4",style:{color:"var(--danger)"}}),e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:"var(--danger)"},children:[n.errors," ",n.errors===1?"error":"errors"]})]}),n.warnings>0&&e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded",style:{backgroundColor:"var(--warning-bg-subtle)"},children:[e.jsx(et,{className:"w-4 h-4",style:{color:"var(--warning)"}}),e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:"var(--warning)"},children:[n.warnings," ",n.warnings===1?"warning":"warnings"]})]})]})]}),e.jsx(Sm,{})]}),n.jobs&&n.jobs.length>0&&e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Last 5 Jobs"}),e.jsx("div",{className:"space-y-2",children:n.jobs.slice(0,5).map(d=>{const{icon:u,color:f,bg:m}=l(d.status);return e.jsx("div",{className:"p-3 rounded-lg border",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:m},children:e.jsx(u,{className:"w-3.5 h-3.5",style:{color:f}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:d.type}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:d.details}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:[e.jsx(sr,{className:"w-3 h-3"}),d.timestamp]})]})]})},d.id)})})]})]})}),e.jsxs("div",{className:"px-6 py-4 border-t space-y-2",style:{borderColor:"var(--border)"},children:[n.status==="disconnected"&&o&&e.jsx(L,{className:"w-full",onClick:o,children:"Reconnect"}),e.jsxs("div",{className:"flex gap-2",children:[n.status!=="disconnected"&&a&&e.jsxs(L,{variant:"outline",className:"flex-1 gap-2",onClick:a,children:[e.jsx(va,{className:"w-4 h-4"}),"Sync Now"]}),n.status!=="disconnected"&&i&&e.jsxs(L,{variant:"outline",className:"flex-1 gap-2",onClick:i,children:[e.jsx(Sr,{className:"w-4 h-4"}),"Test"]})]}),s&&e.jsxs(L,{variant:"default",className:"w-full gap-2",onClick:s,children:["Open Details",e.jsx(td,{className:"w-4 h-4"})]})]})]})})}function Obe({children:t,className:r,...n}){const s=j.useRef(null),[a,i]=j.useState(!1),[o,l]=j.useState(!1);return j.useEffect(()=>{const d=()=>{const m=s.current;if(!m)return;const{scrollLeft:v,scrollWidth:g,clientWidth:b}=m;i(v>10),l(v<g-b-10)},u=s.current;if(!u)return;d();const f=new ResizeObserver(d);return f.observe(u),u.addEventListener("scroll",d),()=>{f.disconnect(),u.removeEventListener("scroll",d)}},[]),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`
          absolute left-0 top-0 bottom-0 w-8 z-10 pointer-events-none
          bg-gradient-to-r from-slate-50/80 dark:from-white/[0.03] to-transparent
          transition-opacity duration-200 md:hidden
          ${a?"opacity-100":"opacity-0"}
        `,style:{borderTopLeftRadius:"16px",borderBottomLeftRadius:"16px"}}),e.jsx("div",{className:`
          absolute right-0 top-0 bottom-0 w-8 z-10 pointer-events-none
          bg-gradient-to-l from-slate-50/80 dark:from-white/[0.03] to-transparent
          transition-opacity duration-200 md:hidden
          ${o?"opacity-100":"opacity-0"}
        `,style:{borderTopRightRadius:"16px",borderBottomRightRadius:"16px"}}),e.jsx(sn,{ref:s,className:r,...n,children:t})]})}function Ibe({job:t,onRetry:r}){const n=d=>{switch(d){case"success":return{icon:cr,color:"var(--success)",bg:"var(--success-bg)",border:"var(--success-border)",label:"Success"};case"failed":return{icon:Cr,color:"var(--danger)",bg:"var(--danger-bg)",border:"var(--danger-border)",label:"Failed"};case"warning":return{icon:et,color:"var(--warning)",bg:"var(--warning-bg)",border:"var(--warning-border)",label:"Warning"};case"running":return{icon:sr,color:"var(--info)",bg:"var(--info-bg)",border:"var(--info-border)",label:"Running"}}},{icon:s,color:a,bg:i,border:o,label:l}=n(t.status);return e.jsxs(St,{className:"transition-colors hover:bg-surface/50",children:[e.jsx(be,{children:e.jsxs(J,{variant:"outline",className:"inline-flex items-center gap-1.5",style:{backgroundColor:i,borderColor:o,color:a,fontSize:"var(--text-xs)"},children:[e.jsx(s,{className:"w-3 h-3"}),e.jsx("span",{children:l})]})}),e.jsx(be,{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:t.type}),e.jsx(be,{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:t.startTime}),e.jsx(be,{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:t.duration}),e.jsx(be,{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:t.recordsProcessed?.toLocaleString()||"-"}),e.jsx(be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[t.errors!==void 0&&t.errors>0&&e.jsxs(J,{variant:"outline",style:{backgroundColor:"var(--danger-bg-subtle)",borderColor:"var(--danger-border)",color:"var(--danger)",fontSize:"var(--text-xs)"},children:[t.errors," ",t.errors===1?"error":"errors"]}),t.warnings!==void 0&&t.warnings>0&&e.jsxs(J,{variant:"outline",style:{backgroundColor:"var(--warning-bg-subtle)",borderColor:"var(--warning-border)",color:"var(--warning)",fontSize:"var(--text-xs)"},children:[t.warnings," ",t.warnings===1?"warning":"warnings"]}),t.errors===0&&t.warnings===0&&e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"-"})]})}),e.jsx(be,{className:"text-right",children:t.status==="failed"&&r&&e.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>r(t.id),className:"gap-1.5",children:[e.jsx(Pm,{className:"w-3.5 h-3.5"}),"Retry"]})})]})}function Dbe({mapping:t}){return e.jsxs(St,{className:"transition-colors hover:bg-surface/50",children:[e.jsx(be,{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:e.jsx("code",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--surface)",fontSize:"var(--text-xs)",fontFamily:"monospace",color:"var(--text)"},children:t.sourceAttribute})}),e.jsx(be,{className:"text-center",children:e.jsx(Dn,{className:"w-4 h-4 mx-auto",style:{color:"var(--muted-foreground)"}})}),e.jsx(be,{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:e.jsx("code",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--surface)",fontSize:"var(--text-xs)",fontFamily:"monospace",color:"var(--text)"},children:t.targetAttribute})}),e.jsx(be,{children:t.transform?e.jsxs(J,{variant:"outline",className:"gap-1",style:{backgroundColor:"var(--info-bg)",borderColor:"var(--info-border)",color:"var(--info)",fontSize:"var(--text-xs)"},children:[e.jsx(IN,{className:"w-3 h-3"}),t.transform]}):e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Direct"})}),e.jsx(be,{children:e.jsx(J,{variant:"outline",style:{fontSize:"var(--text-xs)",backgroundColor:"var(--surface)"},children:t.dataType})}),e.jsx(be,{children:t.required&&e.jsx(J,{variant:"outline",style:{backgroundColor:"var(--warning-bg-subtle)",borderColor:"var(--warning-border)",color:"var(--warning)",fontSize:"var(--text-xs)"},children:"Required"})})]})}function Mbe({currentInstance:t,instances:r,onSelect:n}){const s=i=>{switch(i){case"connected":return e.jsx(cr,{className:"w-3.5 h-3.5",style:{color:"var(--success)"}});case"warning":return e.jsx(fr,{className:"w-3.5 h-3.5",style:{color:"var(--warning)"}});case"disconnected":return e.jsx(Cr,{className:"w-3.5 h-3.5",style:{color:"var(--danger)"}});default:return null}},a=i=>{switch(i){case"prod":return"var(--success)";case"sandbox":return"var(--warning)";case"dev":return"var(--info)";case"gov":return"var(--primary)";default:return"var(--muted)"}};return e.jsxs(ya,{children:[e.jsx(ba,{asChild:!0,children:e.jsxs(L,{variant:"outline",className:"w-full justify-between",style:{height:"auto",padding:"12px"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s(t.status),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:t.name}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:t.tenant||t.domain})]})]}),e.jsx(Ga,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}})]})}),e.jsxs(ja,{align:"start",className:"w-80",children:[e.jsxs(iC,{children:["Other ",t.connectorName," Instances (",r.length-1,")"]}),e.jsx(Mi,{}),r.filter(i=>i.id!==t.id).map(i=>e.jsx(Ct,{onClick:()=>n(i),className:"cursor-pointer py-3",children:e.jsxs("div",{className:"flex items-start justify-between w-full gap-2",children:[e.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[s(i.status),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"2px"},children:i.name}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:i.tenant||i.domain}),i.owner&&e.jsxs("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginTop:"2px"},children:["Owner: ",i.owner]})]})]}),e.jsx(J,{variant:"outline",style:{fontSize:"var(--text-xs)",borderColor:a(i.environment),color:a(i.environment)},children:i.environment.toUpperCase()})]})},i.id))]})]})}function Lbe({availableColumns:t,selectedColumns:r,onColumnsChange:n,presets:s=[]}){const[a,i]=j.useState(""),[o,l]=j.useState(!1),d=t.filter(g=>g.toLowerCase().includes(a.toLowerCase())),u=g=>{r.includes(g)?n(r.filter(b=>b!==g)):n([...r,g])},f=g=>{n(g.columns)},m=()=>{n(t)},v=()=>{n([])};return e.jsxs(Si,{open:o,onOpenChange:l,children:[e.jsx(ki,{asChild:!0,children:e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(eK,{className:"w-4 h-4"}),"Columns",r.length>0&&e.jsx(J,{variant:"secondary",className:"ml-1 px-1.5 min-w-[20px] h-5",children:r.length})]})}),e.jsx(Ci,{align:"end",className:"w-[400px] p-0",style:{backgroundColor:"var(--popover)",borderColor:"var(--border)"},children:e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",style:{fontSize:"var(--text-body)",color:"var(--text)"},children:"Customize Columns"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:"Add extra attribute columns for power users. Click any row to view all attributes in detail."})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--muted)"}}),e.jsx(pe,{placeholder:"Search columns...",value:a,onChange:g=>i(g.target.value),className:"pl-9"})]}),s.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:"Presets"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(g=>e.jsx(L,{variant:"outline",size:"sm",onClick:()=>f(g),className:"text-xs",children:g.name},g.id))})]}),e.jsx(Sm,{})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:[r.length," of ",t.length," selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:m,className:"h-7 text-xs",children:"Select All"}),e.jsx(L,{variant:"ghost",size:"sm",onClick:v,className:"h-7 text-xs",children:"Clear"})]})]}),e.jsx(ou,{className:"h-[300px] -mx-1 px-1",children:e.jsxs("div",{className:"space-y-1",children:[d.map(g=>{const b=r.includes(g);return e.jsxs("button",{onClick:()=>u(g),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[e.jsx("span",{className:"text-left font-mono",style:{fontSize:"var(--text-sm)",color:b?"var(--text)":"var(--muted)"},children:g}),b&&e.jsx(Xr,{className:"w-4 h-4 flex-shrink-0",style:{color:"var(--primary)"}})]},g)}),d.length===0&&e.jsx("div",{className:"text-center py-8",style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:"No columns found"})]})})]})})]})}function px({status:t,onClick:r}){return t==="Linked"?e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-md text-xs font-medium bg-emerald-50 dark:bg-emerald-950/30 text-emerald-700 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800",children:[e.jsx($k,{className:"w-3 h-3"}),"Linked"]}):t==="Unlinked"?e.jsxs(L,{variant:"outline",size:"sm",onClick:r,className:"h-7 px-2 gap-1.5 text-xs font-medium bg-amber-50 dark:bg-amber-950/30 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-800 hover:bg-amber-100 dark:hover:bg-amber-950/50",children:[e.jsx(fr,{className:"w-3 h-3"}),"Link"]}):e.jsxs(L,{variant:"outline",size:"sm",onClick:r,className:"h-7 px-2 gap-1.5 text-xs font-medium bg-red-50 dark:bg-red-950/30 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800 hover:bg-red-100 dark:hover:bg-red-950/50",children:[e.jsx(wx,{className:"w-3 h-3"}),"Resolve"]})}function zbe({accounts:t,availableAttributes:r,columnPresets:n=[],onAccountClick:s,onLinkClick:a}){const[i,o]=j.useState(""),[l,d]=j.useState("all"),[u,f]=j.useState("all"),[m,v]=j.useState([]),[g,b]=j.useState(!1),x=[{key:"email",label:"Email/UPN",width:"min-w-[200px]"},{key:"identity",label:"Identity",width:"min-w-[200px]"},{key:"status",label:"Status",width:"min-w-[110px]"},{key:"lastSyncAt",label:"Last Sync",width:"min-w-[120px]"},{key:"groupsCount",label:"Groups/Roles",width:"min-w-[120px]"}],y=j.useMemo(()=>t.filter(k=>{if(i){const S=i.toLowerCase();if(!(k.username?.toLowerCase().includes(S)||k.email?.toLowerCase().includes(S)||k.sourceKey.toLowerCase().includes(S)||k.identity?.name.toLowerCase().includes(S)))return!1}return!(l!=="all"&&k.status!==l||u!=="all"&&k.linkStatus!==u)}),[t,i,l,u]),A=k=>k==null?"":typeof k=="boolean"?k?"Yes":"No":Array.isArray(k)?k.join(", "):typeof k=="object"?JSON.stringify(k):String(k),E=k=>{const S=new Date(k),T=new Date().getTime()-S.getTime(),O=Math.floor(T/6e4),U=Math.floor(T/36e5),D=Math.floor(T/864e5);return O<60?`${O}m ago`:U<24?`${U}h ago`:D<7?`${D}d ago`:S.toLocaleDateString()},C=k=>{const S={Active:"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800",Disabled:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-700",Orphaned:"bg-amber-50 dark:bg-amber-950/30 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-800",Pending:"bg-blue-50 dark:bg-blue-950/30 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800"};return e.jsx(J,{variant:"outline",className:`text-xs ${S[k]}`,children:k})},w=()=>{const S=[["Email/UPN","Identity","Status","Last Sync","Groups/Roles",...g?m:[],...g?[]:Object.keys(t[0]?.attributes||{})].join(","),...y.map(U=>{const D=[U.email||"",U.identity?.name||"",U.status,U.lastSyncAt,U.groupsCount];if(g)return[...D,...m.map(I=>A(U.attributes[I]))].join(",");{const I=Object.keys(t[0]?.attributes||{}).map(B=>A(U.attributes[B]));return[...D,...I].join(",")}})].join(`
`),R=new Blob([S],{type:"text/csv"}),T=URL.createObjectURL(R),O=document.createElement("a");O.href=T,O.download=`accounts-${new Date().toISOString().split("T")[0]}.csv`,O.click()};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--muted)"}}),e.jsx(pe,{placeholder:"Search by username, email, source ID, or identity...",value:i,onChange:k=>o(k.target.value),className:"pl-9"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Me,{value:l,onValueChange:k=>d(k),children:[e.jsx(ze,{className:"w-[140px]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ns,{className:"w-4 h-4"}),e.jsx(Le,{placeholder:"Status"})]})}),e.jsxs($e,{children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"Active",children:"Active"}),e.jsx(Z,{value:"Disabled",children:"Disabled"}),e.jsx(Z,{value:"Orphaned",children:"Orphaned"}),e.jsx(Z,{value:"Pending",children:"Pending"})]})]}),e.jsxs(Me,{value:u,onValueChange:k=>f(k),children:[e.jsx(ze,{className:"w-[140px]",children:e.jsx(Le,{placeholder:"Link Status"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"all",children:"All Links"}),e.jsx(Z,{value:"Linked",children:"Linked"}),e.jsx(Z,{value:"Unlinked",children:"Unlinked"}),e.jsx(Z,{value:"Ambiguous",children:"Ambiguous"})]})]}),e.jsx(Lbe,{availableColumns:r,selectedColumns:m,onColumnsChange:k=>{v(k),b(k.length>0)},presets:n}),e.jsxs(L,{variant:"outline",size:"sm",onClick:w,className:"gap-2",children:[e.jsx(xr,{className:"w-4 h-4"}),"Export"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:["Showing ",y.length," of ",t.length," accounts"]}),g&&m.length>0&&e.jsxs("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted)"},children:["Displaying ",m.length," additional column",m.length!==1?"s":""]})]}),e.jsxs("div",{className:"overflow-x-auto rounded-xl border",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"sticky top-0 backdrop-blur-sm",style:{backgroundColor:"var(--surface)"},children:e.jsxs("tr",{className:"border-b",style:{borderColor:"var(--border)"},children:[x.map(k=>e.jsx("th",{className:`text-left px-4 py-3 font-medium ${k.width}`,style:{color:"var(--muted)"},children:k.label},k.key)),g&&m.map(k=>e.jsx("th",{className:"text-left px-4 py-3 font-mono font-medium min-w-[160px]",style:{color:"var(--muted)",fontSize:"var(--text-xs)"},children:k},k)),e.jsx("th",{className:"w-12"})]})}),e.jsx("tbody",{children:y.map((k,S)=>e.jsxs("tr",{onClick:()=>s(k),className:"border-t cursor-pointer hover:bg-slate-50/50 dark:hover:bg-white/5 transition-colors",style:{borderColor:"var(--border)"},children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{style:{color:"var(--text)",fontWeight:500},children:k.email||k.username||""}),k.username&&k.email&&k.username!==k.email&&e.jsx("div",{style:{color:"var(--muted)",fontSize:"var(--text-xs)"},children:k.username})]}),e.jsx("td",{className:"px-4 py-3",children:k.identity?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mn,{className:"w-6 h-6",children:e.jsx(Ln,{className:"text-xs",style:{backgroundColor:"var(--primary)",color:"var(--primary-foreground)"},children:k.identity.name.split(" ").map(R=>R[0]).join("").toUpperCase().slice(0,2)})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:k.identity.name}),e.jsx(px,{status:"Linked"})]})]}):e.jsx(px,{status:k.linkStatus,onClick:R=>{R.stopPropagation(),a(k)}})}),e.jsx("td",{className:"px-4 py-3",children:C(k.status)}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:E(k.lastSyncAt)})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:k.groupsCount})}),g&&m.map(R=>e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:A(k.attributes[R])})},R)),e.jsx("td",{className:"px-4 py-3",onClick:R=>R.stopPropagation(),children:e.jsxs(ya,{modal:!1,children:[e.jsx(ba,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(rv,{className:"w-4 h-4"})})}),e.jsxs(ja,{align:"end",collisionPadding:20,collisionBoundary:typeof window<"u"?document.body:void 0,onClick:R=>R.stopPropagation(),children:[e.jsx(Ct,{onClick:R=>{R.stopPropagation(),s(k)},children:"View Details"}),!k.identity&&e.jsx(Ct,{onClick:R=>{R.stopPropagation(),a(k)},children:"Link to Identity"})]})]})})]},k.id))})]}),y.length===0&&e.jsx("div",{className:"text-center py-12",style:{fontSize:"var(--text-body)",color:"var(--muted)"},children:"No accounts found"})]})]})}function eN({data:t,columns:r=2,maskSecrets:n=!0,searchable:s=!1}){const[a,i]=j.useState(null),[o,l]=j.useState(""),d=(m,v)=>{const g=typeof v=="object"?JSON.stringify(v,null,2):String(v);navigator.clipboard.writeText(g),i(m),Ae.success(`Copied ${m}`),setTimeout(()=>i(null),2e3)},u=(m,v)=>m==null?"":n&&["password","secret","token","key","credential"].some(b=>v.toLowerCase().includes(b))?"":typeof m=="boolean"?m?"true":"false":Array.isArray(m)?m.join(", "):typeof m=="object"?JSON.stringify(m):typeof m=="string"&&m.length>100?m.substring(0,100)+"...":String(m),f=j.useMemo(()=>{const m=Object.entries(t);if(!s||!o)return m;const v=o.toLowerCase();return m.filter(([g,b])=>{const x=g.toLowerCase().includes(v),y=String(b).toLowerCase().includes(v);return x||y})},[t,o,s]);return e.jsxs("div",{className:"space-y-4",children:[s&&e.jsxs("div",{className:"relative",children:[e.jsx(Lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--muted)"}}),e.jsx(pe,{placeholder:"Search attributes...",value:o,onChange:m=>l(m.target.value),className:"pl-9"})]}),f.length>0?e.jsx("div",{className:`grid gap-4 ${r===2?"grid-cols-1 md:grid-cols-2":r===3?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}`,children:f.map(([m,v])=>e.jsxs("div",{className:"group p-3 rounded-lg border",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("dt",{className:"font-mono break-all",style:{fontSize:"var(--text-xs)",color:"var(--muted)"},children:m}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>d(m,v),className:"opacity-0 group-hover:opacity-100 transition-opacity h-6 w-6 p-0 flex-shrink-0",children:a===m?e.jsx(Xr,{className:"w-3 h-3",style:{color:"var(--success)"}}):e.jsx(fa,{className:"w-3 h-3",style:{color:"var(--muted)"}})})]}),e.jsx("dd",{className:"font-medium break-words",style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:u(v,m)})]},m))}):e.jsxs("div",{className:"text-center py-8 rounded-lg border",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)",color:"var(--muted)",fontSize:"var(--text-sm)"},children:['No attributes found matching "',o,'"']})]})}function $be({data:t,maskSecrets:r=!0}){const[n,s]=j.useState(!1),a=d=>{if(!r)return d;const u=["password","secret","token","key","credential","apiKey","clientSecret"];if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return d.map(a);const f={};for(const[m,v]of Object.entries(d))u.some(g=>m.toLowerCase().includes(g.toLowerCase()))?f[m]="":typeof v=="object"?f[m]=a(v):f[m]=v;return f},i=a(t),o=JSON.stringify(i,null,2),l=()=>{navigator.clipboard.writeText(o),s(!0),Ae.success("Copied to clipboard"),setTimeout(()=>s(!1),2e3)};return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-3 right-3 z-10",children:e.jsx(L,{variant:"outline",size:"sm",onClick:l,className:"gap-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(fa,{className:"w-4 h-4"}),"Copy"]})})}),e.jsx("pre",{className:"p-4 rounded-lg overflow-auto text-xs font-mono max-h-[600px]",style:{backgroundColor:"var(--surface)",borderWidth:"1px",borderColor:"var(--border)",color:"var(--text)"},children:o})]})}function Fbe({account:t,open:r,onOpenChange:n,onLinkClick:s}){const[a,i]=j.useState("overview"),[o,l]=j.useState("grid");if(!t)return null;const d={username:t.username,email:t.email,sourceKey:t.sourceKey,status:t.status,lastLoginAt:t.lastLoginAt||"Never",lastSyncAt:t.lastSyncAt,groupsCount:t.groupsCount},u=[{sourceAttribute:"userPrincipalName",targetField:"email",sourceValue:t.attributes.userPrincipalName||t.email,targetValue:t.identity?.email,status:t.identity?.email===(t.attributes.userPrincipalName||t.email)?"matched":"mismatched"},{sourceAttribute:"displayName",targetField:"fullName",sourceValue:t.attributes.displayName,targetValue:t.identity?.name,status:"matched"},{sourceAttribute:"mail",targetField:"primaryEmail",sourceValue:t.attributes.mail||t.email,targetValue:t.identity?.email,status:"matched"},{sourceAttribute:"employeeId",targetField:"employeeNumber",sourceValue:t.attributes.employeeId,targetValue:t.attributes.employeeId,status:"matched"}],f=[{id:"1",timestamp:"2025-10-01T14:32:00Z",type:"sync",description:"Account synchronized from connector",details:"Updated 3 attributes"},{id:"2",timestamp:"2025-10-01T09:15:00Z",type:"login",description:"User logged in",details:"IP: 192.168.1.100"},{id:"3",timestamp:"2025-09-30T10:00:00Z",type:"provision",description:"Added to security group",details:"Group: Engineering-All"},{id:"4",timestamp:"2025-09-28T15:30:00Z",type:"update",description:"Profile updated",details:"Department changed: Product  Engineering"}],m=b=>{const x={Active:"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800",Disabled:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-700",Orphaned:"bg-amber-50 dark:bg-amber-950/30 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-800",Pending:"bg-blue-50 dark:bg-blue-950/30 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800"};return e.jsx(J,{variant:"outline",className:`text-xs ${x[b]||x.Pending}`,children:b})},v=b=>b==="Never"?"Never":new Date(b).toLocaleString(),g=b=>{switch(b){case"sync":return e.jsx(fa,{className:"w-4 h-4"});case"login":return e.jsx(pa,{className:"w-4 h-4"});case"provision":return e.jsx($k,{className:"w-4 h-4"});default:return e.jsx(Ss,{className:"w-4 h-4"})}};return e.jsx(Ed,{open:r,onOpenChange:n,children:e.jsxs(_d,{side:"right",className:"w-full sm:max-w-2xl p-0 flex flex-col overflow-hidden",style:{backgroundColor:"var(--bg)",borderColor:"var(--border)"},children:[e.jsxs(bg,{className:"px-6 py-4 border-b flex-shrink-0",style:{borderColor:"var(--border)"},children:[e.jsx(Rd,{className:"mb-2",style:{fontSize:"var(--text-lg)",color:"var(--text)"},children:t.username||t.email}),e.jsxs(Td,{className:"sr-only",children:["View and manage account details including attributes, mappings, and activity for ",t.username||t.email]}),e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m(t.status),e.jsx("span",{className:"font-mono",style:{fontSize:"var(--text-xs)",color:"var(--muted)"},children:t.sourceKey})]}),t.identity?e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx(Mn,{className:"w-8 h-8",children:e.jsx(Ln,{style:{backgroundColor:"var(--primary)",color:"var(--primary-foreground)"},children:t.identity.name.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)",fontWeight:500},children:t.identity.name}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted)"},children:t.identity.email})]}),e.jsx(px,{status:"Linked"})]}):e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",style:{backgroundColor:"var(--warning-bg)",borderColor:"var(--warning-border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)",fontWeight:500},children:"Not Linked to Identity"}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--text-secondary)"},children:"Link this account to track access"})]}),e.jsx(px,{status:t.linkStatus,onClick:()=>s(t)})]})]})})]}),e.jsxs(pn,{value:a,onValueChange:i,className:"flex-1 flex flex-col overflow-hidden min-h-0",children:[e.jsx("div",{className:"border-b px-6 flex-shrink-0",style:{borderColor:"var(--border)"},children:e.jsxs(sn,{className:"w-full justify-start h-auto p-0 bg-transparent border-0",children:[e.jsx(Ie,{value:"overview",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:font-semibold rounded-none px-4 py-3",children:"Overview"}),e.jsx(Ie,{value:"attributes",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:font-semibold rounded-none px-4 py-3",children:"Attributes"}),e.jsx(Ie,{value:"mappings",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:font-semibold rounded-none px-4 py-3",children:"Mappings"}),e.jsx(Ie,{value:"activity",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:font-semibold rounded-none px-4 py-3",children:"Activity"})]})}),e.jsxs(ou,{className:"flex-1 overflow-auto",children:[e.jsxs(De,{value:"overview",className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4",style:{fontSize:"var(--text-md)",fontWeight:600,color:"var(--text)"},children:"Core Information"}),e.jsx(eN,{data:d,columns:2,maskSecrets:!1})]}),t.attributes.department&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4",style:{fontSize:"var(--text-md)",fontWeight:600,color:"var(--text)"},children:"Organization"}),e.jsx(eN,{data:{department:t.attributes.department,jobTitle:t.attributes.jobTitle,officeLocation:t.attributes.officeLocation,manager:t.attributes.managerName||t.attributes.managerID},columns:2,maskSecrets:!1})]})]}),e.jsxs(De,{value:"attributes",className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{style:{fontSize:"var(--text-md)",fontWeight:600,color:"var(--text)"},children:["All Attributes (",Object.keys(t.attributes).length,")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:o==="grid"?"default":"outline",size:"sm",onClick:()=>l("grid"),children:"Grid"}),e.jsxs(L,{variant:o==="json"?"default":"outline",size:"sm",onClick:()=>l("json"),className:"gap-2",children:[e.jsx(x5,{className:"w-4 h-4"}),"JSON"]})]})]}),o==="grid"?e.jsx(eN,{data:t.attributes,columns:3,searchable:!0}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-xs px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--info-bg)",borderColor:"var(--info-border)",color:"var(--text-secondary)"},children:"Secrets and credentials are masked in Grid view for security"}),e.jsx($be,{data:t.attributes})]})]}),e.jsxs(De,{value:"mappings",className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2",style:{fontSize:"var(--text-md)",fontWeight:600,color:"var(--text)"},children:"Attribute Mappings"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:"How connector attributes map to identity profile fields"})]}),e.jsx("div",{className:"space-y-3",children:u.map((b,x)=>e.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ba,{className:"w-5 h-5 flex-shrink-0 mt-1",style:{color:"var(--muted)"}}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono",style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:b.sourceAttribute}),e.jsx("span",{style:{color:"var(--muted)"},children:""}),e.jsx("span",{className:"font-medium",style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:b.targetField})]}),b.status==="matched"?e.jsx(J,{className:"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800",children:"Matched"}):e.jsx(J,{className:"bg-red-50 dark:bg-red-950/30 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800",children:"Mismatch"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted)",marginBottom:"4px"},children:"Source Value"}),e.jsx("div",{className:"font-mono px-2 py-1 rounded",style:{backgroundColor:"var(--bg)",fontSize:"var(--text-xs)",color:"var(--text)"},children:b.sourceValue||""})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted)",marginBottom:"4px"},children:"Target Value"}),e.jsx("div",{className:"font-mono px-2 py-1 rounded",style:{backgroundColor:"var(--bg)",fontSize:"var(--text-xs)",color:"var(--text)"},children:b.targetValue||""})]})]})]})]})},x))})]}),e.jsxs(De,{value:"activity",className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2",style:{fontSize:"var(--text-md)",fontWeight:600,color:"var(--text)"},children:"Recent Activity"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:"Last 30 days of provisioning events and usage"})]}),e.jsx("div",{className:"space-y-3",children:f.map(b=>e.jsxs("div",{className:"flex gap-3 p-3 rounded-lg border",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--primary)",color:"var(--primary-foreground)"},children:g(b.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium mb-1",style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:b.description}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted)"},children:b.details}),e.jsx("div",{className:"mt-1",style:{fontSize:"var(--text-xs)",color:"var(--muted)"},children:v(b.timestamp)})]})]},b.id))})]})]})]})]})})}function Bbe({account:t,candidates:r,open:n,onOpenChange:s,onLink:a,onCreateNew:i,onIgnore:o}){const[l,d]=j.useState(null),u=()=>{l&&(a(t.id,l),s(!1),Ae.success("Account linked to identity"))},f=()=>{i(t.id),s(!1),Ae.success("New identity created and linked")},m=()=>{o(t.id),s(!1),Ae.info("Account marked as ignored")},v=g=>g>=80?"text-emerald-700 dark:text-emerald-400":g>=60?"text-amber-700 dark:text-amber-400":"text-slate-600 dark:text-slate-400";return e.jsx(Zr,{open:n,onOpenChange:s,children:e.jsxs(Or,{className:"max-w-2xl",style:{backgroundColor:"var(--overlay)",borderColor:"var(--border)"},children:[e.jsxs(Ir,{children:[e.jsx(Dr,{style:{fontSize:"var(--text-lg)",color:"var(--text)"},children:"Link Account to Identity"}),e.jsx(Mr,{style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:r.length>0?`Select the correct identity match for this account from ${r.length} potential ${r.length===1?"match":"matches"}.`:"No automatic matches found. You can create a new identity or manually search for one."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",style:{fontSize:"var(--text-body)",color:"var(--text)"},children:t.username||t.email}),e.jsxs("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:["Source ID: ",t.sourceKey]})]}),e.jsx(J,{variant:"outline",children:t.linkStatus})]}),t.email&&t.username!==t.email&&e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:t.email})]}),t.linkStatus==="Ambiguous"&&e.jsxs("div",{className:"flex gap-3 p-3 rounded-lg border",style:{backgroundColor:"var(--warning-bg)",borderColor:"var(--warning-border)"},children:[e.jsx(fr,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:"var(--warning)"}}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:"Multiple potential matches found"}),e.jsxs("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:["We found ",r.length," possible identities that could match this account. Review the confidence scores and select the correct match."]})]})]}),t.linkStatus==="Unlinked"&&r.length===0&&e.jsxs("div",{className:"flex gap-3 p-3 rounded-lg border",style:{backgroundColor:"var(--info-bg)",borderColor:"var(--info-border)"},children:[e.jsx(fr,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:"var(--info)"}}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:"No matches found"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:"We couldn't automatically find a matching identity. You can create a new identity or manually search for one."})]})]}),r.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",style:{fontSize:"var(--text-sm)",color:"var(--muted)",fontWeight:500},children:["Potential Matches (",r.length,")"]}),e.jsx(ou,{className:"max-h-[300px] -mx-1 px-1",children:e.jsx("div",{className:"space-y-2",children:r.map(g=>e.jsx("button",{onClick:()=>d(g.identityId),className:`w-full p-4 rounded-lg border text-left transition-all ${l===g.identityId?"ring-2 ring-offset-0":"hover:border-slate-300 dark:hover:border-slate-600"}`,style:{backgroundColor:"var(--surface)",borderColor:l===g.identityId?"var(--primary)":"var(--border)",ringColor:"var(--primary)"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Mn,{className:"w-10 h-10 flex-shrink-0",children:e.jsx(Ln,{style:{backgroundColor:"var(--primary)",color:"var(--primary-foreground)"},children:g.identity.name.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("div",{className:"font-medium",style:{fontSize:"var(--text-body)",color:"var(--text)"},children:g.identity.name}),e.jsxs("div",{className:`font-semibold flex-shrink-0 ${v(g.score)}`,style:{fontSize:"var(--text-sm)"},children:[g.score,"%"]})]}),e.jsx("div",{className:"mb-2",style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:g.identity.email}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:g.matchReasons.map((b,x)=>e.jsx(J,{variant:"secondary",className:"text-xs",children:b},x))})]})]})},g.identityId))})})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",style:{borderColor:"var(--border)"},children:[e.jsxs(L,{variant:"ghost",onClick:m,className:"gap-2",children:[e.jsx($t,{className:"w-4 h-4"}),"Ignore"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:"outline",onClick:f,className:"gap-2",children:[e.jsx(hn,{className:"w-4 h-4"}),"Create New Identity"]}),e.jsxs(L,{onClick:u,disabled:!l,className:"gap-2",children:[e.jsx($k,{className:"w-4 h-4"}),"Link Selected"]})]})]})]})]})})}const qM=[{id:"acc-001",integrationInstanceId:"int-001",sourceKey:"8a7b6c5d-4e3f-2a1b-0c9d-8e7f6a5b4c3d",username:"sarah.chen@acme.com",email:"sarah.chen@acme.com",status:"Active",lastSyncAt:"2025-10-01T14:32:00Z",lastLoginAt:"2025-10-01T09:15:00Z",groupsCount:12,linkStatus:"Linked",identity:{id:"usr-001",name:"Sarah Chen",email:"sarah.chen@acme.com"},attributes:{userPrincipalName:"sarah.chen@acme.com",displayName:"Sarah Chen",givenName:"Sarah",surname:"Chen",mail:"sarah.chen@acme.com",objectId:"8a7b6c5d-4e3f-2a1b-0c9d-8e7f6a5b4c3d",accountEnabled:!0,lastSignInDateTime:"2025-10-01T09:15:00Z",mfaEnabled:!0,department:"Engineering",jobTitle:"Senior Software Engineer",officeLocation:"San Francisco",onPremisesSamAccountName:"schen",employeeId:"EMP-1001",companyName:"Acme Corp",usageLocation:"US",preferredLanguage:"en-US",memberOfCount:12,licenseAssignments:["Microsoft 365 E5","Power BI Pro"]},createdAt:"2024-01-15T10:00:00Z",updatedAt:"2025-10-01T14:32:00Z"},{id:"acc-002",integrationInstanceId:"int-001",sourceKey:"1b2c3d4e-5f6a-7b8c-9d0e-1f2a3b4c5d6e",username:"michael.torres@acme.com",email:"michael.torres@acme.com",status:"Active",lastSyncAt:"2025-10-01T14:32:00Z",lastLoginAt:"2025-09-30T16:45:00Z",groupsCount:8,linkStatus:"Linked",identity:{id:"usr-002",name:"Michael Torres",email:"michael.torres@acme.com"},attributes:{userPrincipalName:"michael.torres@acme.com",displayName:"Michael Torres",givenName:"Michael",surname:"Torres",mail:"michael.torres@acme.com",objectId:"1b2c3d4e-5f6a-7b8c-9d0e-1f2a3b4c5d6e",accountEnabled:!0,lastSignInDateTime:"2025-09-30T16:45:00Z",mfaEnabled:!0,department:"Product",jobTitle:"Product Manager",officeLocation:"New York",onPremisesSamAccountName:"mtorres",employeeId:"EMP-1002",companyName:"Acme Corp",usageLocation:"US",preferredLanguage:"en-US",memberOfCount:8,licenseAssignments:["Microsoft 365 E3"]},createdAt:"2024-02-20T10:00:00Z",updatedAt:"2025-10-01T14:32:00Z"},{id:"acc-003",integrationInstanceId:"int-001",sourceKey:"9f8e7d6c-5b4a-3c2d-1e0f-9a8b7c6d5e4f",username:"contractor@external.com",email:"contractor@external.com",status:"Active",lastSyncAt:"2025-10-01T14:32:00Z",lastLoginAt:"2025-10-01T08:30:00Z",groupsCount:3,linkStatus:"Unlinked",identity:null,attributes:{userPrincipalName:"contractor@external.com",displayName:"External Contractor",givenName:"External",surname:"Contractor",mail:"contractor@external.com",objectId:"9f8e7d6c-5b4a-3c2d-1e0f-9a8b7c6d5e4f",accountEnabled:!0,lastSignInDateTime:"2025-10-01T08:30:00Z",mfaEnabled:!1,department:"Consulting",jobTitle:"Consultant",officeLocation:null,onPremisesSamAccountName:null,employeeId:null,companyName:"External Partners Inc",usageLocation:"US",preferredLanguage:"en-US",memberOfCount:3,licenseAssignments:["Microsoft 365 Business Basic"]},createdAt:"2025-09-01T10:00:00Z",updatedAt:"2025-10-01T14:32:00Z"},{id:"acc-004",integrationInstanceId:"int-001",sourceKey:"7e6d5c4b-3a2f-1e0d-9c8b-7a6f5e4d3c2b",username:"lisa.anderson@acme.com",email:"lisa.anderson@acme.com",status:"Disabled",lastSyncAt:"2025-10-01T14:32:00Z",lastLoginAt:"2025-08-15T10:00:00Z",groupsCount:0,linkStatus:"Linked",identity:{id:"usr-004",name:"Lisa Anderson",email:"lisa.anderson@acme.com"},attributes:{userPrincipalName:"lisa.anderson@acme.com",displayName:"Lisa Anderson (Terminated)",givenName:"Lisa",surname:"Anderson",mail:"lisa.anderson@acme.com",objectId:"7e6d5c4b-3a2f-1e0d-9c8b-7a6f5e4d3c2b",accountEnabled:!1,lastSignInDateTime:"2025-08-15T10:00:00Z",mfaEnabled:!0,department:"Marketing",jobTitle:"Marketing Director",officeLocation:"Austin",onPremisesSamAccountName:"landerson",employeeId:"EMP-1004",companyName:"Acme Corp",usageLocation:"US",preferredLanguage:"en-US",memberOfCount:0,licenseAssignments:[],terminationDate:"2025-08-31"},createdAt:"2023-05-10T10:00:00Z",updatedAt:"2025-10-01T14:32:00Z"},{id:"acc-005",integrationInstanceId:"int-001",sourceKey:"3c4d5e6f-7a8b-9c0d-1e2f-3a4b5c6d7e8f",username:"john.smith@acme.com",email:"john.smith@acme.com",status:"Active",lastSyncAt:"2025-10-01T14:32:00Z",lastLoginAt:"2025-10-01T13:20:00Z",groupsCount:15,linkStatus:"Ambiguous",identity:null,attributes:{userPrincipalName:"john.smith@acme.com",displayName:"John Smith",givenName:"John",surname:"Smith",mail:"john.smith@acme.com",objectId:"3c4d5e6f-7a8b-9c0d-1e2f-3a4b5c6d7e8f",accountEnabled:!0,lastSignInDateTime:"2025-10-01T13:20:00Z",mfaEnabled:!0,department:"IT",jobTitle:"Systems Administrator",officeLocation:"Seattle",onPremisesSamAccountName:"jsmith",employeeId:null,companyName:"Acme Corp",usageLocation:"US",preferredLanguage:"en-US",memberOfCount:15,licenseAssignments:["Microsoft 365 E5","Azure AD Premium P2"]},createdAt:"2024-06-01T10:00:00Z",updatedAt:"2025-10-01T14:32:00Z"}],Wbe={"acc-003":[{identityId:"usr-103",identity:{id:"usr-103",name:"External Contractor",email:"contractor.old@external.com"},score:65,matchReasons:["Similar display name","Same company domain"]}],"acc-005":[{identityId:"usr-105",identity:{id:"usr-105",name:"John A. Smith",email:"john.smith@acme.com"},score:85,matchReasons:["Email exact match","Name similarity: 90%"]},{identityId:"usr-106",identity:{id:"usr-106",name:"Johnny Smith",email:"j.smith@acme.com"},score:72,matchReasons:["Name similarity: 80%","Same department"]},{identityId:"usr-107",identity:{id:"usr-107",name:"John M. Smith",email:"johnm.smith@acme.com"},score:68,matchReasons:["Name similarity: 85%","Similar job title"]}]},Ube=[{id:"core",name:"Core",description:"Essential account information",columns:["userPrincipalName","displayName","mail","department","jobTitle","accountEnabled","lastSignInDateTime"]},{id:"troubleshooting",name:"Troubleshooting",description:"Technical details for support",columns:["objectId","onPremisesSamAccountName","employeeId","mfaEnabled","licenseAssignments","usageLocation","accountEnabled"]},{id:"identity-matching",name:"Identity Matching",description:"Fields used for identity correlation",columns:["userPrincipalName","mail","employeeId","onPremisesSamAccountName","givenName","surname"]}],hi={name:"Active Directory",status:"connected",owner:"IT Team",environment:"Production",lastSync:"2 minutes ago",nextSync:"In 4 hours",syncHealth:98,users:1247,schedule:"Every 6 hours",warnings:2},qbe=[{id:"1",type:"Full Sync",status:"success",startTime:"2024-01-15 14:32",duration:"4m 23s",recordsProcessed:1247,errors:0,warnings:0},{id:"2",type:"Delta Sync",status:"success",startTime:"2024-01-15 08:15",duration:"1m 12s",recordsProcessed:12,errors:0,warnings:2},{id:"3",type:"Full Sync",status:"warning",startTime:"2024-01-15 02:00",duration:"4m 45s",recordsProcessed:1245,errors:0,warnings:3},{id:"4",type:"Delta Sync",status:"failed",startTime:"2024-01-14 20:30",duration:"0m 45s",recordsProcessed:0,errors:1,warnings:0}],Hbe=[{id:"1",sourceAttribute:"sAMAccountName",targetAttribute:"username",required:!0,dataType:"string"},{id:"2",sourceAttribute:"mail",targetAttribute:"email",required:!0,dataType:"string"},{id:"3",sourceAttribute:"displayName",targetAttribute:"fullName",required:!0,dataType:"string"},{id:"4",sourceAttribute:"department",targetAttribute:"department",transform:"toUpperCase",required:!1,dataType:"string"},{id:"5",sourceAttribute:"telephoneNumber",targetAttribute:"phone",transform:"formatPhone",required:!1,dataType:"string"},{id:"6",sourceAttribute:"title",targetAttribute:"jobTitle",required:!1,dataType:"string"}],Vbe=[{id:"1",name:"Domain Admin",type:"Group",users:12,lastUsed:"2 hours ago"},{id:"2",name:"Finance Access",type:"Group",users:45,lastUsed:"5 minutes ago"},{id:"3",name:"HR System",type:"Application",users:32,lastUsed:"1 hour ago"},{id:"4",name:"VPN Access",type:"Group",users:156,lastUsed:"3 minutes ago"}],tN=[{id:"1",username:"alice.johnson",email:"alice.j@company.com",status:"Active",lastSync:"2 min ago"},{id:"2",username:"bob.smith",email:"bob.s@company.com",status:"Active",lastSync:"2 min ago"},{id:"3",username:"orphan.user",email:"orphan@company.com",status:"Orphaned",lastSync:"7 days ago"}],Gbe=[{id:"1",timestamp:"14:32:15",level:"INFO",subsystem:"Sync",message:"Full sync completed successfully"},{id:"2",timestamp:"14:32:10",level:"WARN",subsystem:"Mapping",message:"User alice.johnson missing phone number"},{id:"3",timestamp:"14:28:05",level:"INFO",subsystem:"Connection",message:"Connected to AD server"},{id:"4",timestamp:"14:28:00",level:"INFO",subsystem:"Sync",message:"Starting full sync job"}],Kbe=[{date:"Jan 10",failures:0},{date:"Jan 11",failures:1},{date:"Jan 12",failures:0},{date:"Jan 13",failures:0},{date:"Jan 14",failures:1},{date:"Jan 15",failures:0}];function dB(){const t=$r(),{id:r}=$d(),[n,s]=j.useState("overview"),[a,i]=j.useState(""),[o,l]=j.useState("all"),[d,u]=j.useState(null),[f,m]=j.useState(!1),[v,g]=j.useState(!1),[b,x]=j.useState(null),y=r?obe(r):null,A=y?lbe(y.connectorType):[],E=()=>{t("/integrations")},C=I=>{I&&t(`/integrations/${I.id}`)},w=I=>{u(I),m(!0)},k=I=>{x(I),g(!0)},S=(I,B)=>{console.log("Link account:",I,"to identity:",B)},R=I=>{console.log("Create new identity for account:",I)},T=I=>{console.log("Ignore account:",I)},O=j.useMemo(()=>{const I=new Set;return qM.forEach(B=>{Object.keys(B.attributes).forEach(M=>I.add(M))}),Array.from(I).sort()},[]),U=y?{id:y.id,name:y.name,status:y.status,owner:y.owner,environment:y.environment,lastSync:y.lastSync,syncHealth:y.health,users:y.accountsCount||0}:hi,D=Gbe.filter(I=>{const B=I.message.toLowerCase().includes(a.toLowerCase()),M=o==="all"||I.level===o;return B&&M});return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs(pn,{value:n,onValueChange:s,className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"sticky top-0 z-10 border-b backdrop-blur-sm",style:{backgroundColor:"var(--bg)",borderColor:"var(--border)"},children:[e.jsx("div",{className:"p-4 lg:p-6 max-w-[1320px] mx-auto w-full",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(L,{variant:"ghost",size:"sm",onClick:E,className:"gap-2",children:[e.jsx(Va,{className:"w-4 h-4"}),"Back"]}),y&&e.jsx(k2,{connectorType:y.connectorType,size:"lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{style:{fontSize:"var(--text-display)",lineHeight:"var(--line-height-display)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:U.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(w2,{status:U.status,size:"sm"}),e.jsx(J,{variant:"outline",children:U.environment}),e.jsx(J,{variant:"outline",children:U.owner})]}),y&&A.length>1&&e.jsx("div",{className:"mt-4 max-w-xs",children:e.jsx(Mbe,{currentInstance:y,instances:A,onSelect:C})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",className:"gap-2",onClick:()=>Ae.info("Testing connection..."),children:[e.jsx(Sr,{className:"w-4 h-4"}),"Test"]}),e.jsxs(L,{variant:"outline",className:"gap-2",onClick:()=>Ae.success("Syncing..."),children:[e.jsx(va,{className:"w-4 h-4"}),"Sync"]}),e.jsx(L,{variant:"outline",size:"sm",className:"w-9 h-9 p-0",children:e.jsx(Fk,{className:"w-4 h-4"})})]})]})}),e.jsx("div",{className:"border-t",style:{borderColor:"var(--border)"},children:e.jsx("div",{className:"p-4 lg:px-6 lg:py-3 max-w-[1320px] mx-auto w-full",children:e.jsxs(Obe,{className:"w-full",role:"tablist","aria-label":"Integration detail sections",children:[e.jsx(Ie,{value:"overview",children:"Overview"}),e.jsx(Ie,{value:"provisioning",children:"Provisioning"}),e.jsx(Ie,{value:"mappings",children:"Mappings"}),e.jsx(Ie,{value:"catalog",children:"Catalog Items"}),e.jsx(Ie,{value:"accounts",children:"Accounts"}),e.jsx(Ie,{value:"logs",children:"Logs"})]})})})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"p-4 lg:p-6 max-w-[1320px] mx-auto w-full",children:[e.jsx(De,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(se,{className:"p-6",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"16px"},children:"Connection Status"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Last Sync"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:hi.lastSync})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Next Sync"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:hi.nextSync})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Schedule"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:hi.schedule})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Sync Health"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nr,{value:hi.syncHealth,className:"h-2 flex-1"}),e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:"var(--success)",fontWeight:"var(--font-weight-medium)"},children:[hi.syncHealth,"%"]})]})]})]})]}),e.jsxs(se,{className:"p-6",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"16px"},children:"Sync Failures (Last 7 Days)"}),e.jsx(Po,{width:"100%",height:200,children:e.jsxs(mg,{data:Kbe,children:[e.jsx(Oo,{strokeDasharray:"3 3",stroke:"var(--border)"}),e.jsx(Vs,{dataKey:"date",tick:{fill:"var(--muted-foreground)",fontSize:12}}),e.jsx(Gs,{tick:{fill:"var(--muted-foreground)",fontSize:12}}),e.jsx(Pn,{contentStyle:{backgroundColor:"var(--popover)",border:"1px solid var(--border)",borderRadius:"var(--radius-md)"}}),e.jsx(wa,{dataKey:"failures",fill:"var(--danger)",radius:[4,4,0,0]})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Fa,{className:"w-4 h-4",style:{color:"var(--primary)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Total Users"})]}),e.jsx("div",{style:{fontSize:"var(--text-3xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:hi.users.toLocaleString()})]}),e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Sa,{className:"w-4 h-4",style:{color:"var(--success)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Sync Health"})]}),e.jsxs("div",{style:{fontSize:"var(--text-3xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--success)"},children:[hi.syncHealth,"%"]})]}),e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--warning-bg)",borderColor:"var(--warning-border)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(et,{className:"w-4 h-4",style:{color:"var(--warning)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--warning)"},children:"Warnings"})]}),e.jsx("div",{style:{fontSize:"var(--text-3xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--warning)"},children:hi.warnings})]})]})]})}),e.jsx(De,{value:"provisioning",className:"space-y-6",children:e.jsxs(se,{className:"p-6",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Job History"}),e.jsx(L,{variant:"outline",size:"sm",children:"Run Sync Now"})]}),e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{children:"Status"}),e.jsx(we,{children:"Type"}),e.jsx(we,{children:"Start Time"}),e.jsx(we,{children:"Duration"}),e.jsx(we,{children:"Records"}),e.jsx(we,{children:"Issues"}),e.jsx(we,{className:"text-right",children:"Actions"})]})}),e.jsx(kn,{children:qbe.map(I=>e.jsx(Ibe,{job:I,onRetry:B=>Ae.info(`Retrying job ${B}...`)},I.id))})]})]})}),e.jsx(De,{value:"mappings",className:"space-y-6",children:e.jsxs(se,{className:"p-6",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Attribute Mappings"}),e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx($J,{className:"w-4 h-4"}),"Test Mapping"]})]}),e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{children:"Source Attribute"}),e.jsx(we,{className:"text-center w-12"}),e.jsx(we,{children:"Target Attribute"}),e.jsx(we,{children:"Transform"}),e.jsx(we,{children:"Data Type"}),e.jsx(we,{children:"Flags"})]})}),e.jsx(kn,{children:Hbe.map(I=>e.jsx(Dbe,{mapping:I},I.id))})]})]})}),e.jsx(De,{value:"catalog",className:"space-y-6",children:e.jsxs(se,{className:"p-6",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Catalog Items"}),e.jsxs("div",{className:"relative",children:[e.jsx(Lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx(pe,{placeholder:"Search items...",className:"pl-9 w-64"})]})]}),e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{children:"Name"}),e.jsx(we,{children:"Type"}),e.jsx(we,{children:"Users"}),e.jsx(we,{children:"Last Used"})]})}),e.jsx(kn,{children:Vbe.map(I=>e.jsxs(St,{className:"transition-colors hover:bg-surface/50",children:[e.jsx(be,{style:{fontSize:"var(--text-sm)",color:"var(--text)",fontWeight:"var(--font-weight-medium)"},children:I.name}),e.jsx(be,{children:e.jsx(J,{variant:"outline",children:I.type})}),e.jsx(be,{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:I.users}),e.jsx(be,{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:I.lastUsed})]},I.id))})]})]})}),e.jsxs(De,{value:"accounts",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Total Accounts"}),e.jsx("div",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:tN.length})]}),e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Active"}),e.jsx("div",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--success)"},children:tN.filter(I=>I.status==="Active").length})]}),e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Orphaned"}),e.jsx("div",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--warning)"},children:tN.filter(I=>I.status==="Orphaned").length})]})]}),e.jsx(zbe,{accounts:qM,availableAttributes:O,columnPresets:Ube,onAccountClick:w,onLinkClick:k})]}),e.jsx(De,{value:"logs",className:"space-y-6",children:e.jsxs(se,{className:"p-6",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Activity Logs"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx(pe,{placeholder:"Search logs...",className:"pl-9 w-48",value:a,onChange:I=>i(I.target.value)})]}),e.jsxs(Me,{value:o,onValueChange:l,children:[e.jsx(ze,{className:"w-32",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"all",children:"All Levels"}),e.jsx(Z,{value:"INFO",children:"INFO"}),e.jsx(Z,{value:"WARN",children:"WARN"}),e.jsx(Z,{value:"ERROR",children:"ERROR"})]})]}),e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(xr,{className:"w-4 h-4"}),"Export"]})]})]}),e.jsx(ou,{className:"h-96 rounded border",style:{borderColor:"var(--border)"},children:e.jsx("div",{className:"p-4 space-y-2 font-mono text-xs",children:D.map(I=>e.jsxs("div",{className:"flex gap-3 p-2 rounded hover:bg-surface/50",style:{fontSize:"var(--text-xs)"},children:[e.jsx("span",{style:{color:"var(--muted-foreground)",minWidth:"70px"},children:I.timestamp}),e.jsx(J,{variant:"outline",className:"h-5",style:{backgroundColor:I.level==="ERROR"?"var(--danger-bg)":I.level==="WARN"?"var(--warning-bg)":"var(--info-bg)",borderColor:I.level==="ERROR"?"var(--danger-border)":I.level==="WARN"?"var(--warning-border)":"var(--info-border)",color:I.level==="ERROR"?"var(--danger)":I.level==="WARN"?"var(--warning)":"var(--info)",fontSize:"var(--text-xs)",minWidth:"50px",textAlign:"center"},children:I.level}),e.jsxs("span",{style:{color:"var(--muted-foreground)",minWidth:"100px"},children:["[",I.subsystem,"]"]}),e.jsx("span",{style:{color:"var(--text)"},children:I.message})]},I.id))})})]})})]})})]}),e.jsx(Fbe,{account:d,open:f,onOpenChange:m,onLinkClick:k}),b&&e.jsx(Bbe,{account:b,candidates:Wbe[b.id]||[],open:v,onOpenChange:g,onLink:S,onCreateNew:R,onIgnore:T})]})}const Jbe=t=>({"azure-ad":No,"active-directory":Fa,workday:Gc,"microsoft-365":zt,salesforce:DN,servicenow:Fa,aws:No,okta:No,jira:DN})[t]||Fa,Ybe=t=>({id:t.id,name:t.name,connectorName:t.connectorName,connectorType:t.connectorType,icon:Jbe(t.connectorType),category:t.connectorCategory.toUpperCase(),status:t.status,lastSync:t.lastSync,users:t.accountsCount||0,syncHealth:t.health,owner:t.owner,environment:t.environment,tenant:t.tenant,domain:t.domain}),dl=_g.map(Ybe),Zbe=[{id:"1",type:"Full Sync",status:"success",timestamp:"2 minutes ago",details:"Synced 1,247 users"},{id:"2",type:"Delta Sync",status:"success",timestamp:"1 hour ago",details:"Updated 12 users"},{id:"3",type:"Full Sync",status:"warning",timestamp:"6 hours ago",details:"3 users skipped due to validation"}];function Xbe(){const t=$r(),{id:r}=$d(),[n,s]=j.useState([]),[a,i]=j.useState(!1),[o,l]=j.useState(null),d=S=>{const T={connected:{type:"status",value:"connected",label:"Status: Connected"},"needs-attention":{type:"status",value:"needs-attention",label:"Status: Needs Attention"}}[S];if(!T)return;const O=n.some(U=>U.type===T.type&&U.value===T.value);s(O?n.filter(U=>!(U.type===T.type&&U.value===T.value)):[...n.filter(U=>U.type!==T.type),T])},u=(S,R,T)=>{const O=n.some(U=>U.type===S&&U.value===R);s(O?n.filter(U=>!(U.type===S&&U.value===R)):[...n,{type:S,value:R,label:T}])},f=S=>{s(n.filter(R=>!(R.type===S.type&&R.value===S.value)))},m=()=>{s([])},v=j.useMemo(()=>n.length===0?dl:dl.filter(S=>n.every(R=>R.type==="status"?R.value==="needs-attention"?S.status==="warning"||S.status==="disconnected":S.status===R.value:R.type==="category"?S.category===R.value:R.type==="owner"?S.owner===R.value:R.type==="environment"?S.environment===R.value:R.type==="type"?S.connectorName===R.value:!0)),[n]),g={total:dl.length,connected:dl.filter(S=>S.status==="connected").length,needsAttention:dl.filter(S=>S.status!=="connected").length},b=S=>{l({...S,nextSync:"In 4 hours",errors:S.status==="disconnected"?1:0,warnings:S.status==="warning"?1:0,jobs:Zbe}),i(!0)},x=()=>{o&&(i(!1),t(`/integrations/${o.id}`))},y=[{value:"connected",label:"Connected"},{value:"warning",label:"Warning"},{value:"disconnected",label:"Disconnected"},{value:"syncing",label:"Syncing"}],A=[{value:"IDP",label:"IdP"},{value:"HRIS",label:"HRIS"},{value:"SAAS",label:"SaaS"},{value:"CLOUD",label:"Cloud"},{value:"DIRECTORY",label:"Directory"}],E=[{value:"prod",label:"Production"},{value:"sandbox",label:"Sandbox"},{value:"dev",label:"Development"},{value:"gov",label:"Government"}],C=[...new Set(dl.map(S=>S.connectorName).filter(Boolean))].map(S=>({value:S,label:S})),w=[...new Set(dl.map(S=>S.owner).filter(Boolean))].map(S=>({value:S,label:S})),k=n.length;return r?e.jsx(dB,{}):e.jsxs("div",{className:"p-4 lg:p-6 max-w-[1440px] mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"var(--text-display)",lineHeight:"var(--line-height-display)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"8px"},children:"Integrations"}),e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--muted-foreground)"},children:"Manage connections to your identity sources and applications"})]}),e.jsxs(L,{onClick:()=>t("/integrations/new"),children:[e.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Integration"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs(se,{className:"p-4 cursor-pointer transition-all duration-150 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",style:{backgroundColor:"var(--surface)",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)"},onClick:()=>m(),tabIndex:0,role:"button","aria-label":"Show all integrations",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Total Integrations"}),e.jsx("div",{style:{fontSize:"var(--text-3xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:g.total})]}),e.jsxs(se,{className:"p-4 cursor-pointer transition-all duration-150 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",style:{backgroundColor:n.some(S=>S.value==="connected")?"var(--success-bg)":"var(--surface)",border:n.some(S=>S.value==="connected")?"2px solid var(--success-border)":"1px solid var(--border)",borderRadius:"var(--radius-lg)"},onClick:()=>d("connected"),tabIndex:0,role:"button","aria-label":"Filter by connected integrations",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Connected"}),e.jsx("div",{style:{fontSize:"var(--text-3xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--success)"},children:g.connected})]}),e.jsxs(se,{className:"p-4 cursor-pointer transition-all duration-150 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",style:{backgroundColor:n.some(S=>S.value==="needs-attention")?"var(--danger-bg)":"var(--surface)",border:n.some(S=>S.value==="needs-attention")?"2px solid var(--danger-border)":"1px solid var(--border)",borderRadius:"var(--radius-lg)"},onClick:()=>d("needs-attention"),tabIndex:0,role:"button","aria-label":"Filter by integrations needing attention",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Needs Attention"}),e.jsx("div",{style:{fontSize:"var(--text-3xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--danger)"},children:g.needsAttention})]})]}),n.length>0&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-4",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Active filters:"}),n.map((S,R)=>e.jsx(Cl,{label:S.label,onRemove:()=>f(S)},`${S.type}-${S.value}-${R}`)),e.jsx(L,{variant:"ghost",size:"sm",onClick:m,className:"h-7 text-xs",children:"Clear all"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",fontWeight:"var(--font-weight-medium)"},children:"Status:"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:y.map(S=>{const R=n.some(T=>T.type==="status"&&T.value===S.value);return e.jsx(J,{variant:R?"default":"outline",className:"cursor-pointer transition-all duration-120 hover:shadow-sm",onClick:()=>u("status",S.value,`Status: ${S.label}`),style:{fontSize:"var(--text-xs)"},children:S.label},S.value)})})]}),e.jsx("div",{className:"h-6 w-px",style:{backgroundColor:"var(--border)"}}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",fontWeight:"var(--font-weight-medium)"},children:"Category:"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:A.map(S=>{const R=n.some(T=>T.type==="category"&&T.value===S.value);return e.jsx(J,{variant:R?"default":"outline",className:"cursor-pointer transition-all duration-120 hover:shadow-sm",onClick:()=>u("category",S.value,`Category: ${S.label}`),style:{fontSize:"var(--text-xs)"},children:S.label},S.value)})})]}),e.jsx("div",{className:"h-6 w-px",style:{backgroundColor:"var(--border)"}}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",fontWeight:"var(--font-weight-medium)"},children:"Environment:"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:E.map(S=>{const R=n.some(T=>T.type==="environment"&&T.value===S.value);return e.jsx(J,{variant:R?"default":"outline",className:"cursor-pointer transition-all duration-120 hover:shadow-sm",onClick:()=>u("environment",S.value,`Env: ${S.label}`),style:{fontSize:"var(--text-xs)"},children:S.label},S.value)})})]}),e.jsx("div",{className:"h-6 w-px",style:{backgroundColor:"var(--border)"}}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",fontWeight:"var(--font-weight-medium)"},children:"Type:"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:C.slice(0,5).map(S=>{const R=n.some(T=>T.type==="type"&&T.value===S.value);return e.jsx(J,{variant:R?"default":"outline",className:"cursor-pointer transition-all duration-120 hover:shadow-sm",onClick:()=>u("type",S.value,`Type: ${S.label}`),style:{fontSize:"var(--text-xs)"},children:S.label},S.value)})})]}),e.jsx("div",{className:"h-6 w-px",style:{backgroundColor:"var(--border)"}}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",fontWeight:"var(--font-weight-medium)"},children:"Owner:"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:w.slice(0,4).map(S=>{const R=n.some(T=>T.type==="owner"&&T.value===S.value);return e.jsx(J,{variant:R?"default":"outline",className:"cursor-pointer transition-all duration-120 hover:shadow-sm",onClick:()=>u("owner",S.value,`Owner: ${S.label}`),style:{fontSize:"var(--text-xs)"},children:S.label},S.value)})})]}),k>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-6 w-px",style:{backgroundColor:"var(--border)"}}),e.jsxs(J,{variant:"secondary",children:[e.jsx(ns,{className:"w-3 h-3 mr-1"}),k]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-5",children:v.map(S=>e.jsx(vbe,{integration:S,onClick:()=>b(S),onSync:()=>Ae.success(`Syncing ${S.name}...`),onTest:()=>Ae.info(`Testing connection to ${S.name}...`),onSettings:()=>t(`/integrations/${S.id}`),onRename:R=>{Ae.success(`Renamed integration to "${R}"`)},onDuplicate:()=>{Ae.success(`Duplicating ${S.name}...`)},onDisable:()=>{const R=S.status==="disconnected"?"enabled":"disabled";Ae.success(`Integration ${R}`)},onDelete:()=>{Ae.success(`Integration "${S.name}" deleted`)}},S.id))}),v.length===0&&e.jsxs("div",{className:"text-center py-12",style:{color:"var(--muted-foreground)"},children:[e.jsx("p",{style:{fontSize:"var(--text-body)"},children:"No integrations match your filters."}),e.jsx(L,{variant:"link",onClick:m,className:"mt-2",children:"Clear all filters"})]}),e.jsx(Pbe,{open:a,onOpenChange:i,integration:o,onOpenDetails:x,onSync:()=>{Ae.success(`Syncing ${o?.name}...`),i(!1)},onTest:()=>{Ae.info(`Testing connection to ${o?.name}...`)},onReconnect:()=>{Ae.info(`Reconnecting ${o?.name}...`),i(!1)}})]})}var uB=["PageUp","PageDown"],hB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],mB={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},lu="Slider",[gk,Qbe,eje]=Nx(lu),[fB]=rn(lu,[eje]),[tje,Pg]=fB(lu),pB=j.forwardRef((t,r)=>{const{name:n,min:s=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:u=[s],value:f,onValueChange:m=()=>{},onValueCommit:v=()=>{},inverted:g=!1,form:b,...x}=t,y=j.useRef(new Set),A=j.useRef(0),C=o==="horizontal"?rje:nje,[w=[],k]=Ns({prop:f,defaultProp:u,onChange:D=>{[...y.current][A.current]?.focus(),m(D)}}),S=j.useRef(w);function R(D){const I=lje(w,D);U(D,I)}function T(D){U(D,A.current)}function O(){const D=S.current[A.current];w[A.current]!==D&&v(w)}function U(D,I,{commit:B}={commit:!1}){const M=hje(i),W=mje(Math.round((D-s)/i)*i+s,M),V=km(W,[s,a]);k((Q=[])=>{const H=ije(Q,V,I);if(uje(H,d*i)){A.current=H.indexOf(V);const X=String(H)!==String(Q);return X&&B&&v(H),X?H:Q}else return Q})}return e.jsx(tje,{scope:t.__scopeSlider,name:n,disabled:l,min:s,max:a,valueIndexToChangeRef:A,thumbs:y.current,values:w,orientation:o,form:b,children:e.jsx(gk.Provider,{scope:t.__scopeSlider,children:e.jsx(gk.Slot,{scope:t.__scopeSlider,children:e.jsx(C,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:r,onPointerDown:Re(x.onPointerDown,()=>{l||(S.current=w)}),min:s,max:a,inverted:g,onSlideStart:l?void 0:R,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:O,onHomeKeyDown:()=>!l&&U(s,0,{commit:!0}),onEndKeyDown:()=>!l&&U(a,w.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:I})=>{if(!l){const W=uB.includes(D.key)||D.shiftKey&&hB.includes(D.key)?10:1,V=A.current,Q=w[V],H=i*W*I;U(Q+H,V,{commit:!0})}}})})})})});pB.displayName=lu;var[vB,xB]=fB(lu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),rje=j.forwardRef((t,r)=>{const{min:n,max:s,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:u,...f}=t,[m,v]=j.useState(null),g=st(r,C=>v(C)),b=j.useRef(void 0),x=$l(a),y=x==="ltr",A=y&&!i||!y&&i;function E(C){const w=b.current||m.getBoundingClientRect(),k=[0,w.width],R=_2(k,A?[n,s]:[s,n]);return b.current=w,R(C-w.left)}return e.jsx(vB,{scope:t.__scopeSlider,startEdge:A?"left":"right",endEdge:A?"right":"left",direction:A?1:-1,size:"width",children:e.jsx(gB,{dir:x,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const w=E(C.clientX);o?.(w)},onSlideMove:C=>{const w=E(C.clientX);l?.(w)},onSlideEnd:()=>{b.current=void 0,d?.()},onStepKeyDown:C=>{const k=mB[A?"from-left":"from-right"].includes(C.key);u?.({event:C,direction:k?-1:1})}})})}),nje=j.forwardRef((t,r)=>{const{min:n,max:s,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:d,...u}=t,f=j.useRef(null),m=st(r,f),v=j.useRef(void 0),g=!a;function b(x){const y=v.current||f.current.getBoundingClientRect(),A=[0,y.height],C=_2(A,g?[s,n]:[n,s]);return v.current=y,C(x-y.top)}return e.jsx(vB,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:e.jsx(gB,{"data-orientation":"vertical",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const y=b(x.clientY);i?.(y)},onSlideMove:x=>{const y=b(x.clientY);o?.(y)},onSlideEnd:()=>{v.current=void 0,l?.()},onStepKeyDown:x=>{const A=mB[g?"from-bottom":"from-top"].includes(x.key);d?.({event:x,direction:A?-1:1})}})})}),gB=j.forwardRef((t,r)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...u}=t,f=Pg(lu,n);return e.jsx(Fe.span,{...u,ref:r,onKeyDown:Re(t.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):uB.concat(hB).includes(m.key)&&(d(m),m.preventDefault())}),onPointerDown:Re(t.onPointerDown,m=>{const v=m.target;v.setPointerCapture(m.pointerId),m.preventDefault(),f.thumbs.has(v)?v.focus():s(m)}),onPointerMove:Re(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&a(m)}),onPointerUp:Re(t.onPointerUp,m=>{const v=m.target;v.hasPointerCapture(m.pointerId)&&(v.releasePointerCapture(m.pointerId),i(m))})})}),yB="SliderTrack",bB=j.forwardRef((t,r)=>{const{__scopeSlider:n,...s}=t,a=Pg(yB,n);return e.jsx(Fe.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:r})});bB.displayName=yB;var yk="SliderRange",jB=j.forwardRef((t,r)=>{const{__scopeSlider:n,...s}=t,a=Pg(yk,n),i=xB(yk,n),o=j.useRef(null),l=st(r,o),d=a.values.length,u=a.values.map(v=>SB(v,a.min,a.max)),f=d>1?Math.min(...u):0,m=100-Math.max(...u);return e.jsx(Fe.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:l,style:{...t.style,[i.startEdge]:f+"%",[i.endEdge]:m+"%"}})});jB.displayName=yk;var bk="SliderThumb",wB=j.forwardRef((t,r)=>{const n=Qbe(t.__scopeSlider),[s,a]=j.useState(null),i=st(r,l=>a(l)),o=j.useMemo(()=>s?n().findIndex(l=>l.ref.current===s):-1,[n,s]);return e.jsx(sje,{...t,ref:i,index:o})}),sje=j.forwardRef((t,r)=>{const{__scopeSlider:n,index:s,name:a,...i}=t,o=Pg(bk,n),l=xB(bk,n),[d,u]=j.useState(null),f=st(r,E=>u(E)),m=d?o.form||!!d.closest("form"):!0,v=Tm(d),g=o.values[s],b=g===void 0?0:SB(g,o.min,o.max),x=oje(s,o.values.length),y=v?.[l.size],A=y?cje(y,b,l.direction):0;return j.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${b}% + ${A}px)`},children:[e.jsx(gk.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(Fe.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:f,style:g===void 0?{display:"none"}:t.style,onFocus:Re(t.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),m&&e.jsx(NB,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},s)]})});wB.displayName=bk;var aje="RadioBubbleInput",NB=j.forwardRef(({__scopeSlider:t,value:r,...n},s)=>{const a=j.useRef(null),i=st(a,s),o=Rm(r);return j.useEffect(()=>{const l=a.current;if(!l)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&f){const m=new Event("input",{bubbles:!0});f.call(l,r),l.dispatchEvent(m)}},[o,r]),e.jsx(Fe.input,{style:{display:"none"},...n,ref:i,defaultValue:r})});NB.displayName=aje;function ije(t=[],r,n){const s=[...t];return s[n]=r,s.sort((a,i)=>a-i)}function SB(t,r,n){const i=100/(n-r)*(t-r);return km(i,[0,100])}function oje(t,r){return r>2?`Value ${t+1} of ${r}`:r===2?["Minimum","Maximum"][t]:void 0}function lje(t,r){if(t.length===1)return 0;const n=t.map(a=>Math.abs(a-r)),s=Math.min(...n);return n.indexOf(s)}function cje(t,r,n){const s=t/2,i=_2([0,50],[0,s]);return(s-i(r)*n)*n}function dje(t){return t.slice(0,-1).map((r,n)=>t[n+1]-r)}function uje(t,r){if(r>0){const n=dje(t);return Math.min(...n)>=r}return!0}function _2(t,r){return n=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const s=(r[1]-r[0])/(t[1]-t[0]);return r[0]+s*(n-t[0])}}function hje(t){return(String(t).split(".")[1]||"").length}function mje(t,r){const n=Math.pow(10,r);return Math.round(t*n)/n}var fje=pB,pje=bB,vje=jB,xje=wB;function Dd({className:t,defaultValue:r,value:n,min:s=0,max:a=100,...i}){const o=j.useMemo(()=>Array.isArray(n)?n:Array.isArray(r)?r:[s,a],[n,r,s,a]);return e.jsxs(fje,{"data-slot":"slider",defaultValue:r,value:n,min:s,max:a,className:We("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...i,children:[e.jsx(pje,{"data-slot":"slider-track",className:We("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(vje,{"data-slot":"slider-range",className:We("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(l,d)=>e.jsx(xje,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},d))]})}function gje(){const[t,r]=$.useState({organization:{name:"Acme Corporation",domain:"acme.com",timezone:"pacific",industry:"technology",soxCompliance:!0,gdprCompliance:!0,iso27001:!1,hipaaCompliance:!1,pciCompliance:!1,nistCompliance:!0,customCompliance:"",dataRetentionPolicy:"7years",privacyPolicyUrl:"https://acme.com/privacy",termsOfServiceUrl:"https://acme.com/terms"},identity:{mfaEnabled:!0,ssoEnabled:!0,passwordlessAuth:!1,minPasswordLength:12,sessionTimeout:8,highRiskApproval:!0,passwordComplexity:"high",accountLockoutThreshold:5,lockoutDuration:30,passwordHistory:12,passwordExpiry:90,biometricAuth:!1,hardwareTokenAuth:!0,adaptiveAuth:!0,riskBasedAuth:!0},security:{sodValidation:!0,exceptionApproval:!0,sodRiskThreshold:75,continuousRiskMonitoring:!0,privilegedAccessMonitoring:!0,riskReviewInterval:"30",encryptionAtRest:!0,encryptionInTransit:!0,dataMasking:!0,auditTrailRetention:2555,incidentResponsePlan:!0,securityTrainingRequired:!0,penetrationTesting:"quarterly",vulnerabilityScanning:"weekly"},workflows:{autoProvisionUsers:!0,managerChangeWorkflows:!0,autoDisableDormant:!0,dormantThreshold:90,defaultApprovalLevels:"2",escalationRules:!0,escalationTime:24,parallelApprovals:!1,autoApprovalThreshold:25,emergencyAccessWorkflow:!0,bulkOperationsEnabled:!0,workflowTemplates:!0,customWorkflows:!1},integrations:{autoDiscovery:!0,healthMonitoring:!0,errorRecovery:!0,syncInterval:6,primaryHrSystem:"workday",cmdbSource:"servicenow",conflictResolution:!0,correlationKey:"email",apiRateLimit:1e3,connectionTimeout:30,retryAttempts:3,dataValidation:!0,schemaValidation:!0,customConnectors:!1},ai:{aiPoweredInsights:!0,peerGroupAnalysis:!0,autoSuggestReviewers:!0,riskScoreThreshold:75,behavioralAnalytics:!0,anomalyDetection:!0,predictiveAnalytics:!1,naturalLanguageProcessing:!0,machineLearningModels:"standard",dataPrivacyCompliance:!0,aiAuditLogging:!0},notifications:{emailNotifications:!0,slackIntegration:!1,weeklyDigest:!0,criticalAlerts:!0,teamsIntegration:!1,webhookNotifications:!1,smsNotifications:!1,pushNotifications:!0,digestFrequency:"weekly",alertSeverityLevels:["low","medium","high","critical"],customNotificationTemplates:!1},system:{auditLogRetention:7,backupFrequency:"daily",maintenanceMode:!1,performanceMonitoring:!0,systemHealthChecks:!0,autoScaling:!1,loadBalancing:!0,disasterRecovery:!0,highAvailability:!0,systemMaintenanceWindow:"sunday-2am",logLevel:"info",debugMode:!1,apiVersioning:!0,rateLimiting:!0},advanced:{customFields:!0,workflowEngine:!0,reportingEngine:!0,apiAccess:!0,sdkAccess:!1,webhookSupport:!0,bulkImportExport:!0,dataArchiving:!0,performanceOptimization:!0,customBranding:!1,whiteLabeling:!1,multiTenancy:!1}}),[n,s]=$.useState(!1),[a,i]=$.useState("governance"),[o,l]=$.useState({cpuUsage:45,memoryUsage:62,diskUsage:38,networkLatency:12,activeConnections:1247,uptime:"99.9%",lastBackup:"2024-01-15 02:00:00",nextMaintenance:"2024-01-21 02:00:00"}),[d,u]=$.useState([{id:1,action:"Settings updated",user:"admin@acme.com",timestamp:"2 minutes ago",type:"info"},{id:2,action:"New integration added",user:"system",timestamp:"1 hour ago",type:"success"},{id:3,action:"Security policy modified",user:"security@acme.com",timestamp:"3 hours ago",type:"warning"},{id:4,action:"Backup completed",user:"system",timestamp:"6 hours ago",type:"info"},{id:5,action:"User permissions updated",user:"hr@acme.com",timestamp:"1 day ago",type:"info"}]),f=(x,y)=>{r(A=>{const E={...A},C=x.split(".");let w=E;for(let k=0;k<C.length-1;k++)w=w[C[k]];return w[C[C.length-1]]=y,E}),s(!0)},m=()=>{localStorage.setItem("iga-settings",JSON.stringify(t)),Ae.success("Settings saved successfully"),s(!1);const x={id:Date.now(),action:"Settings updated",user:"admin@acme.com",timestamp:"Just now",type:"info"};u(y=>[x,...y.slice(0,4)])},v=()=>{const x=JSON.stringify(t,null,2),y=new Blob([x],{type:"application/json"}),A=URL.createObjectURL(y),E=document.createElement("a");E.href=A,E.download=`iga-settings-${new Date().toISOString().split("T")[0]}.json`,E.click(),URL.revokeObjectURL(A),Ae.success("Settings exported successfully")},g=x=>{const y=x.target.files?.[0];if(y){const A=new FileReader;A.onload=E=>{try{const C=JSON.parse(E.target?.result);r(C),s(!0),Ae.success("Settings imported successfully")}catch{Ae.error("Invalid settings file")}},A.readAsText(y)}},b=()=>{r({organization:{name:"Acme Corporation",domain:"acme.com",timezone:"pacific",industry:"technology",soxCompliance:!0,gdprCompliance:!0,iso27001:!1,hipaaCompliance:!1},identity:{mfaEnabled:!0,ssoEnabled:!0,passwordlessAuth:!1,minPasswordLength:12,sessionTimeout:8,highRiskApproval:!0},security:{sodValidation:!0,exceptionApproval:!0,sodRiskThreshold:75,continuousRiskMonitoring:!0,privilegedAccessMonitoring:!0,riskReviewInterval:"30"},workflows:{autoProvisionUsers:!0,managerChangeWorkflows:!0,autoDisableDormant:!0,dormantThreshold:90,defaultApprovalLevels:"2",escalationRules:!0,escalationTime:24,parallelApprovals:!1},integrations:{autoDiscovery:!0,healthMonitoring:!0,errorRecovery:!0,syncInterval:6,primaryHrSystem:"workday",cmdbSource:"servicenow",conflictResolution:!0,correlationKey:"email"},ai:{aiPoweredInsights:!0,peerGroupAnalysis:!0,autoSuggestReviewers:!0,riskScoreThreshold:75,behavioralAnalytics:!0},notifications:{emailNotifications:!0,slackIntegration:!1,weeklyDigest:!0,criticalAlerts:!0},system:{auditLogRetention:7,backupFrequency:"daily",maintenanceMode:!1,performanceMonitoring:!0}}),Ae.info("Settings reset to defaults"),s(!1)};return $.useEffect(()=>{const x=localStorage.getItem("iga-settings");if(x)try{r(JSON.parse(x))}catch(y){console.error("Failed to load settings:",y)}},[]),e.jsxs("div",{className:"p-6 lg:p-8 max-w-[1600px] mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"tracking-tight",style:{fontSize:"36px",lineHeight:"1.2",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"8px"},children:"Platform Settings"}),e.jsx("p",{style:{fontSize:"var(--text-lg)",color:"var(--text-secondary)",lineHeight:"var(--line-height-normal)"},children:"Configure your IGA platform governance, security, and operational settings"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[n&&e.jsxs(J,{variant:"outline",className:"text-orange-600 border-orange-200 animate-pulse",children:[e.jsx(sr,{className:"w-3 h-3 mr-1"}),"Unsaved Changes"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"file",accept:".json",onChange:g,className:"hidden",id:"import-settings"}),e.jsx("label",{htmlFor:"import-settings",children:e.jsxs(L,{variant:"outline",className:"gap-2 cursor-pointer",children:[e.jsx(Oi,{className:"w-4 h-4"}),"Import"]})}),e.jsxs(L,{variant:"outline",onClick:v,className:"gap-2",children:[e.jsx(xr,{className:"w-4 h-4"}),"Export"]}),e.jsxs(L,{variant:"outline",onClick:b,className:"gap-2",children:[e.jsx(Pm,{className:"w-4 h-4"}),"Reset"]}),e.jsxs(L,{onClick:m,className:"gap-2",style:{backgroundColor:"var(--primary)"},children:[e.jsx(N5,{className:"w-4 h-4"}),"Save Changes"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"System Uptime"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.uptime})]}),e.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:e.jsx(cr,{className:"w-5 h-5 text-green-600"})})]})}),e.jsxs(se,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"CPU Usage"}),e.jsxs("p",{className:"text-2xl font-bold",children:[o.cpuUsage,"%"]})]}),e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(nK,{className:"w-5 h-5 text-blue-600"})})]}),e.jsx(Nr,{value:o.cpuUsage,className:"mt-2"})]}),e.jsxs(se,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Memory Usage"}),e.jsxs("p",{className:"text-2xl font-bold",children:[o.memoryUsage,"%"]})]}),e.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:e.jsx(qK,{className:"w-5 h-5 text-purple-600"})})]}),e.jsx(Nr,{value:o.memoryUsage,className:"mt-2"})]}),e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Connections"}),e.jsx("p",{className:"text-2xl font-bold",children:o.activeConnections.toLocaleString()})]}),e.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:e.jsx(uR,{className:"w-5 h-5 text-orange-600"})})]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(va,{className:"w-4 h-4"}),"Refresh Health"]}),e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(dR,{className:"w-4 h-4"}),"System Logs"]}),e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(y5,{className:"w-4 h-4"}),"Backup Status"]}),e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Ss,{className:"w-4 h-4"}),"Performance Metrics"]})]})]}),e.jsx(se,{className:"transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-sm)"},children:e.jsxs(pn,{value:a,onValueChange:i,className:"w-full",children:[e.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:e.jsxs(sn,{className:"w-full justify-start rounded-none h-auto p-0 overflow-x-auto",style:{backgroundColor:"transparent"},children:[e.jsxs(Ie,{value:"governance",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold whitespace-nowrap transition-all duration-200",style:{padding:"16px 20px"},children:[e.jsx(Gc,{className:"w-4 h-4 mr-2"}),"Organization & Governance"]}),e.jsxs(Ie,{value:"iam",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold whitespace-nowrap transition-all duration-200",style:{padding:"16px 20px"},children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),"Identity & Access"]}),e.jsxs(Ie,{value:"security",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold whitespace-nowrap transition-all duration-200",style:{padding:"16px 20px"},children:[e.jsx(k5,{className:"w-4 h-4 mr-2"}),"Security & Compliance"]}),e.jsxs(Ie,{value:"workflows",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold whitespace-nowrap transition-all duration-200",style:{padding:"16px 20px"},children:[e.jsx(nY,{className:"w-4 h-4 mr-2"}),"Workflows & Automation"]}),e.jsxs(Ie,{value:"integrations",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold whitespace-nowrap transition-all duration-200",style:{padding:"16px 20px"},children:[e.jsx(Fa,{className:"w-4 h-4 mr-2"}),"Integrations & Connectors"]}),e.jsxs(Ie,{value:"ai",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold whitespace-nowrap transition-all duration-200",style:{padding:"16px 20px"},children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),"AI & Analytics"]}),e.jsxs(Ie,{value:"notifications",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold whitespace-nowrap transition-all duration-200",style:{padding:"16px 20px"},children:[e.jsx(m5,{className:"w-4 h-4 mr-2"}),"Notifications & Alerts"]}),e.jsxs(Ie,{value:"system",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold whitespace-nowrap transition-all duration-200",style:{padding:"16px 20px"},children:[e.jsx(Fk,{className:"w-4 h-4 mr-2"}),"System Administration"]}),e.jsxs(Ie,{value:"advanced",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold whitespace-nowrap transition-all duration-200",style:{padding:"16px 20px"},children:[e.jsx(XG,{className:"w-4 h-4 mr-2"}),"Advanced Features"]}),e.jsxs(Ie,{value:"monitoring",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:font-semibold whitespace-nowrap transition-all duration-200",style:{padding:"16px 20px"},children:[e.jsx(j5,{className:"w-4 h-4 mr-2"}),"Monitoring & Logs"]})]})}),e.jsx(De,{value:"governance",className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Organization Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"org-name",children:"Organization Name"}),e.jsx(pe,{id:"org-name",value:t.organization.name,className:"mt-2",style:{backgroundColor:"var(--background)"},onChange:x=>f("organization.name",x.target.value)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"org-domain",children:"Primary Domain"}),e.jsx(pe,{id:"org-domain",value:t.organization.domain,className:"mt-2",style:{backgroundColor:"var(--background)"},onChange:x=>f("organization.domain",x.target.value)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"org-timezone",children:"Timezone"}),e.jsxs(Me,{value:t.organization.timezone,onValueChange:x=>f("organization.timezone",x),children:[e.jsx(ze,{className:"mt-2",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"pacific",children:"UTC-8 (Pacific Time)"}),e.jsx(Z,{value:"mountain",children:"UTC-7 (Mountain Time)"}),e.jsx(Z,{value:"central",children:"UTC-6 (Central Time)"}),e.jsx(Z,{value:"eastern",children:"UTC-5 (Eastern Time)"}),e.jsx(Z,{value:"utc",children:"UTC (Coordinated Universal Time)"})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"org-industry",children:"Industry"}),e.jsxs(Me,{value:t.organization.industry,onValueChange:x=>f("organization.industry",x),children:[e.jsx(ze,{className:"mt-2",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"technology",children:"Technology"}),e.jsx(Z,{value:"finance",children:"Financial Services"}),e.jsx(Z,{value:"healthcare",children:"Healthcare"}),e.jsx(Z,{value:"manufacturing",children:"Manufacturing"}),e.jsx(Z,{value:"retail",children:"Retail"}),e.jsx(Z,{value:"government",children:"Government"})]})]})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Compliance Framework"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"SOX Compliance"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Sarbanes-Oxley Act compliance controls"})]}),e.jsx(Pe,{checked:t.organization.soxCompliance,onCheckedChange:x=>f("organization.soxCompliance",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"GDPR Compliance"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"General Data Protection Regulation"})]}),e.jsx(Pe,{checked:t.organization.gdprCompliance,onCheckedChange:x=>f("organization.gdprCompliance",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"ISO 27001"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Information Security Management"})]}),e.jsx(Pe,{checked:t.organization.iso27001,onCheckedChange:x=>f("organization.iso27001",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"HIPAA Compliance"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Health Insurance Portability and Accountability Act"})]}),e.jsx(Pe,{checked:t.organization.hipaaCompliance,onCheckedChange:x=>f("organization.hipaaCompliance",x)})]})]})]})})]})}),e.jsx(De,{value:"iam",className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Authentication Methods"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Multi-Factor Authentication (MFA)"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Require MFA for all users"})]}),e.jsx(Pe,{checked:t.identity.mfaEnabled,onCheckedChange:x=>f("identity.mfaEnabled",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Single Sign-On (SSO)"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Enable SAML-based SSO"})]}),e.jsx(Pe,{checked:t.identity.ssoEnabled,onCheckedChange:x=>f("identity.ssoEnabled",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Passwordless Authentication"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Allow biometric and hardware key auth"})]}),e.jsx(Pe,{checked:t.identity.passwordlessAuth,onCheckedChange:x=>f("identity.passwordlessAuth",x)})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Access Policies"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"password-min",children:"Minimum Password Length"}),e.jsx(pe,{id:"password-min",type:"number",value:t.identity.minPasswordLength,className:"mt-2",style:{backgroundColor:"var(--background)"},onChange:x=>f("identity.minPasswordLength",parseInt(x.target.value)||12)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"session-timeout",children:"Session Timeout (minutes)"}),e.jsx(pe,{id:"session-timeout",type:"number",value:t.identity.sessionTimeout,className:"mt-2",style:{backgroundColor:"var(--background)"},onChange:x=>f("identity.sessionTimeout",parseInt(x.target.value)||8)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Require Approval for High-Risk Access"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Automatically escalate high-risk requests"})]}),e.jsx(Pe,{checked:t.identity.highRiskApproval,onCheckedChange:x=>f("identity.highRiskApproval",x)})]})]})]})})]})}),e.jsx(De,{value:"security",className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Separation of Duties (SoD)"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Enable SoD Validation"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Automatically detect and prevent SoD violations"})]}),e.jsx(Pe,{checked:t.security.sodValidation,onCheckedChange:x=>f("security.sodValidation",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Require Exception Approval"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"All SoD exceptions require manager approval"})]}),e.jsx(Pe,{checked:t.security.exceptionApproval,onCheckedChange:x=>f("security.exceptionApproval",x)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"sod-threshold",children:"SoD Risk Threshold"}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsx(Dd,{value:[t.security.sodRiskThreshold],max:100,step:1,className:"flex-1",onValueChange:x=>f("security.sodRiskThreshold",x[0])}),e.jsx("span",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",minWidth:"50px"},children:t.security.sodRiskThreshold})]}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"8px"},children:"Violations above this score require immediate attention"})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Risk Management"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Continuous Risk Monitoring"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Real-time risk scoring and alerting"})]}),e.jsx(Pe,{checked:t.security.continuousRiskMonitoring,onCheckedChange:x=>f("security.continuousRiskMonitoring",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Privileged Access Monitoring"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Monitor and audit privileged account usage"})]}),e.jsx(Pe,{checked:t.security.privilegedAccessMonitoring,onCheckedChange:x=>f("security.privilegedAccessMonitoring",x)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"risk-review-interval",children:"Risk Review Interval (days)"}),e.jsxs(Me,{value:t.security.riskReviewInterval,onValueChange:x=>f("security.riskReviewInterval",x),children:[e.jsx(ze,{className:"mt-2",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"7",children:"7 days"}),e.jsx(Z,{value:"14",children:"14 days"}),e.jsx(Z,{value:"30",children:"30 days"}),e.jsx(Z,{value:"60",children:"60 days"}),e.jsx(Z,{value:"90",children:"90 days"})]})]})]})]})]})})]})}),e.jsx(De,{value:"integrations",className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Connector Management"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Auto-Discovery"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Automatically discover new integrations"})]}),e.jsx(Pe,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Health Monitoring"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Continuous connector health checks"})]}),e.jsx(Pe,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Error Recovery"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Automatic retry and recovery mechanisms"})]}),e.jsx(Pe,{defaultChecked:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"sync-interval",children:"Default Sync Interval (hours)"}),e.jsx(pe,{id:"sync-interval",type:"number",defaultValue:"6",className:"mt-2",style:{backgroundColor:"var(--background)"}})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Authoritative Sources"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"hr-source",children:"Primary HR System"}),e.jsxs(Me,{defaultValue:"workday",children:[e.jsx(ze,{className:"mt-2",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"workday",children:"Workday"}),e.jsx(Z,{value:"successfactors",children:"SAP SuccessFactors"}),e.jsx(Z,{value:"bamboohr",children:"BambooHR"}),e.jsx(Z,{value:"adp",children:"ADP Workforce Now"}),e.jsx(Z,{value:"custom",children:"Custom HR System"})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"cmdb-source",children:"CMDB Source"}),e.jsxs(Me,{defaultValue:"servicenow",children:[e.jsx(ze,{className:"mt-2",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"servicenow",children:"ServiceNow"}),e.jsx(Z,{value:"jira",children:"Jira Service Management"}),e.jsx(Z,{value:"custom",children:"Custom CMDB"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Conflict Resolution"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Automatically resolve data conflicts"})]}),e.jsx(Pe,{defaultChecked:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"correlation-key",children:"Primary Correlation Key"}),e.jsxs(Me,{defaultValue:"email",children:[e.jsx(ze,{className:"mt-2",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"email",children:"Email Address"}),e.jsx(Z,{value:"employee-id",children:"Employee ID"}),e.jsx(Z,{value:"username",children:"Username"}),e.jsx(Z,{value:"custom",children:"Custom Field"})]})]})]})]})]})})]})}),e.jsx(De,{value:"workflows",className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"JML (Joiner-Mover-Leaver) Workflows"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Auto-Provision New Users"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Automatically create accounts from HR system"})]}),e.jsx(Pe,{checked:t.workflows.autoProvisionUsers,onCheckedChange:x=>f("workflows.autoProvisionUsers",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Manager Change Workflows"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Trigger access review on manager changes"})]}),e.jsx(Pe,{checked:t.workflows.managerChangeWorkflows,onCheckedChange:x=>f("workflows.managerChangeWorkflows",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Auto-Disable Dormant Accounts"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Disable accounts inactive for 90+ days"})]}),e.jsx(Pe,{checked:t.workflows.autoDisableDormant,onCheckedChange:x=>f("workflows.autoDisableDormant",x)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"dormant-threshold",children:"Dormant Account Threshold (days)"}),e.jsx(pe,{id:"dormant-threshold",type:"number",value:t.workflows.dormantThreshold,className:"mt-2",style:{backgroundColor:"var(--background)"},onChange:x=>f("workflows.dormantThreshold",parseInt(x.target.value)||90)})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Approval Matrices"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"approval-levels",children:"Default Approval Levels"}),e.jsxs(Me,{value:t.workflows.defaultApprovalLevels,onValueChange:x=>f("workflows.defaultApprovalLevels",x),children:[e.jsx(ze,{className:"mt-2",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"1",children:"Single Level"}),e.jsx(Z,{value:"2",children:"Two Levels"}),e.jsx(Z,{value:"3",children:"Three Levels"}),e.jsx(Z,{value:"custom",children:"Custom Matrix"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Escalation Rules"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Automatically escalate overdue approvals"})]}),e.jsx(Pe,{checked:t.workflows.escalationRules,onCheckedChange:x=>f("workflows.escalationRules",x)})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"escalation-time",children:"Escalation Time (hours)"}),e.jsx(pe,{id:"escalation-time",type:"number",value:t.workflows.escalationTime,className:"mt-2",style:{backgroundColor:"var(--background)"},onChange:x=>f("workflows.escalationTime",parseInt(x.target.value)||24)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Parallel Approvals"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Allow multiple approvers at same level"})]}),e.jsx(Pe,{checked:t.workflows.parallelApprovals,onCheckedChange:x=>f("workflows.parallelApprovals",x)})]})]})]})})]})}),e.jsx(De,{value:"ai",className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"AI & Machine Learning"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"AI-Powered Insights"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Enable intelligent recommendations and anomaly detection"})]}),e.jsx(Pe,{checked:t.ai.aiPoweredInsights,onCheckedChange:x=>f("ai.aiPoweredInsights",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Peer Group Analysis"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Compare access patterns with similar roles"})]}),e.jsx(Pe,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Auto-Suggest Reviewers"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Recommend optimal reviewers for access campaigns"})]}),e.jsx(Pe,{defaultChecked:!0})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Risk Scoring Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{children:"Risk Score Threshold"}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsx(Dd,{value:[t.ai.riskScoreThreshold],onValueChange:x=>f("ai.riskScoreThreshold",x[0]),max:100,step:1,className:"flex-1"}),e.jsx("span",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",minWidth:"50px"},children:t.ai.riskScoreThreshold})]}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"8px"},children:"Requests above this score will be flagged for review"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Behavioral Analytics"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Analyze user behavior patterns for risk assessment"})]}),e.jsx(Pe,{defaultChecked:!0})]})]})]})})]})}),e.jsx(De,{value:"notifications",className:"p-8",children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Notification Preferences"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Email Notifications"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Receive email alerts for important events"})]}),e.jsx(Pe,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Slack Integration"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Send notifications to Slack channels"})]}),e.jsx(Pe,{})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Weekly Digest"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Receive weekly summary of platform activity"})]}),e.jsx(Pe,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Critical Alerts"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Immediate notifications for security incidents"})]}),e.jsx(Pe,{defaultChecked:!0})]})]})]})})}),e.jsx(De,{value:"system",className:"p-8",children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"System Administration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"audit-retention",children:"Audit Log Retention (days)"}),e.jsx(pe,{id:"audit-retention",type:"number",defaultValue:"2555",className:"mt-2",style:{backgroundColor:"var(--background)"}})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"backup-frequency",children:"Backup Frequency"}),e.jsxs(Me,{defaultValue:"daily",children:[e.jsx(ze,{className:"mt-2",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"hourly",children:"Hourly"}),e.jsx(Z,{value:"daily",children:"Daily"}),e.jsx(Z,{value:"weekly",children:"Weekly"}),e.jsx(Z,{value:"monthly",children:"Monthly"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Maintenance Mode"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Enable maintenance mode for system updates"})]}),e.jsx(Pe,{})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Performance Monitoring"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Enable detailed performance metrics collection"})]}),e.jsx(Pe,{defaultChecked:!0})]})]})]})]})})}),e.jsx(De,{value:"advanced",className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Platform Features"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Custom Fields"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Enable custom attribute fields"})]}),e.jsx(Pe,{checked:t.advanced.customFields,onCheckedChange:x=>f("advanced.customFields",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Workflow Engine"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Advanced workflow orchestration"})]}),e.jsx(Pe,{checked:t.advanced.workflowEngine,onCheckedChange:x=>f("advanced.workflowEngine",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Reporting Engine"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Advanced reporting and analytics"})]}),e.jsx(Pe,{checked:t.advanced.reportingEngine,onCheckedChange:x=>f("advanced.reportingEngine",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Bulk Import/Export"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Enable bulk data operations"})]}),e.jsx(Pe,{checked:t.advanced.bulkImportExport,onCheckedChange:x=>f("advanced.bulkImportExport",x)})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"API & Integration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"API Access"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Enable REST API access"})]}),e.jsx(Pe,{checked:t.advanced.apiAccess,onCheckedChange:x=>f("advanced.apiAccess",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Webhook Support"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Enable webhook notifications"})]}),e.jsx(Pe,{checked:t.advanced.webhookSupport,onCheckedChange:x=>f("advanced.webhookSupport",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"SDK Access"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Enable SDK for developers"})]}),e.jsx(Pe,{checked:t.advanced.sdkAccess,onCheckedChange:x=>f("advanced.sdkAccess",x)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--background)",border:"1px solid var(--border)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)",marginBottom:"4px"},children:"Custom Branding"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Allow custom branding and themes"})]}),e.jsx(Pe,{checked:t.advanced.customBranding,onCheckedChange:x=>f("advanced.customBranding",x)})]})]})]})})]})}),e.jsxs(De,{value:"monitoring",className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"System Monitoring"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(se,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"CPU Usage"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[o.cpuUsage,"%"]})]}),e.jsx(Nr,{value:o.cpuUsage,className:"mb-2"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(Sa,{className:"w-3 h-3"}),e.jsx("span",{children:"+2% from last hour"})]})]}),e.jsxs(se,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Memory Usage"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[o.memoryUsage,"%"]})]}),e.jsx(Nr,{value:o.memoryUsage,className:"mb-2"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(qd,{className:"w-3 h-3"}),e.jsx("span",{children:"-1% from last hour"})]})]}),e.jsxs(se,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Disk Usage"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[o.diskUsage,"%"]})]}),e.jsx(Nr,{value:o.diskUsage,className:"mb-2"}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:e.jsx("span",{children:"2.1 TB used of 5.5 TB"})})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:d.map(x=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",style:{backgroundColor:"var(--background)",borderColor:"var(--border)"},children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${x.type==="success"?"bg-green-500":x.type==="warning"?"bg-yellow-500":x.type==="error"?"bg-red-500":"bg-blue-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:x.action}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.user,"  ",x.timestamp]})]})]},x.id))})]})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"mb-6",style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"System Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(dR,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Last Backup"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o.lastBackup})]})]})}),e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:e.jsx(BJ,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Next Maintenance"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o.nextMaintenance})]})]})}),e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:e.jsx(uR,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Network Latency"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.networkLatency,"ms"]})]})]})}),e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:e.jsx(Ss,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Active Sessions"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o.activeConnections})]})]})})]})]})]})]})})]})}var yje=(t,r,n,s,a,i,o,l)=>{let d=document.documentElement,u=["light","dark"];function f(g){(Array.isArray(t)?t:[t]).forEach(b=>{let x=b==="class",y=x&&i?a.map(A=>i[A]||A):a;x?(d.classList.remove(...y),d.classList.add(i&&i[g]?i[g]:g)):d.setAttribute(b,g)}),m(g)}function m(g){l&&u.includes(g)&&(d.style.colorScheme=g)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)f(s);else try{let g=localStorage.getItem(r)||n,b=o&&g==="system"?v():g;f(b)}catch{}},bje=j.createContext(void 0),jje={setTheme:t=>{},themes:[]},wje=()=>{var t;return(t=j.useContext(bje))!=null?t:jje};j.memo(({forcedTheme:t,storageKey:r,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:d,scriptProps:u})=>{let f=JSON.stringify([n,r,i,t,l,o,s,a]).slice(1,-1);return j.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${yje.toString()})(${f})`}})});const Nje=({...t})=>{const{theme:r="system"}=wje();return e.jsx(Kee,{theme:r,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function kB({tabs:t,value:r,onChange:n,className:s=""}){return e.jsx("div",{className:`inline-flex items-center gap-1 p-1 rounded-lg ${s}`,style:{backgroundColor:"var(--surface)",border:"1px solid var(--border)"},children:t.map(a=>{const i=r===a.value;return e.jsxs("button",{onClick:()=>n(a.value),className:"px-4 py-1.5 rounded-md transition-all duration-150 flex items-center gap-2",style:{backgroundColor:i?"var(--bg)":"transparent",color:i?"var(--text)":"var(--muted-foreground)",fontWeight:i?"var(--font-weight-medium)":"var(--font-weight-normal)",fontSize:"var(--text-sm)",boxShadow:i?"var(--shadow-xs)":"none"},children:[a.label,a.count!==void 0&&e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[11px]",style:{backgroundColor:i?"var(--primary)":"var(--surface)",color:i?"white":"var(--muted-foreground)",fontWeight:"var(--font-weight-semibold)"},children:a.count})]},a.value)})})}const Sje=j.lazy(()=>Mo(()=>import("./EnhancedApprovalDrawer-BwcNsn69.js"),[]).then(t=>({default:t.EnhancedApprovalDrawer})));function HM(){const{requests:t}=r8(),[r,n]=j.useState("pending"),[s,a]=j.useState(""),[i,o]=j.useState(new Set),[l,d]=j.useState(null),[u,f]=j.useState(!1),[m,v]=j.useState([]),[g,b]=j.useState(!1),[x,y]=j.useState([]),[A,E]=j.useState([]),[C,w]=j.useState([]),k=j.useMemo(()=>[{value:"pending",label:"Pending",count:t.filter(K=>K.status==="Pending").length},{value:"approved",label:"Approved",count:t.filter(K=>K.status==="Approved").length},{value:"rejected",label:"Rejected",count:t.filter(K=>K.status==="Rejected").length},{value:"high-risk",label:"High Risk",count:t.filter(K=>["High","Critical"].includes(K.risk)).length}],[t]),S=t.filter(K=>!(r==="pending"&&K.status!=="Pending"||r==="approved"&&K.status!=="Approved"||r==="rejected"&&K.status!=="Rejected"||r==="high-risk"&&!["High","Critical"].includes(K.risk)||x.length>0&&!x.includes(K.status)||A.length>0&&!A.includes(K.risk)||C.length>0&&!C.includes(K.requester.department)||s&&!K.id.toLowerCase().includes(s.toLowerCase())&&!K.requester.name.toLowerCase().includes(s.toLowerCase())&&!K.item.name.toLowerCase().includes(s.toLowerCase()))),R=K=>{o(K?new Set(S.map(z=>z.id)):new Set)},T=(K,z)=>{o(q=>{const ee=new Set(q);return z?ee.add(K):ee.delete(K),ee})},O=K=>{d(K),f(!0)},U=(K,z)=>{const q=z?"Request approved with modifications":"Request approved successfully";Ae.success(q,{description:`${K} has been approved and will be provisioned shortly.`}),f(!1),d(null)},D=(K,z)=>{Ae.error("Request rejected",{description:`${K} has been rejected. The requester will be notified.`}),f(!1),d(null)},I=(K,z)=>{Ae.info("Request delegated",{description:`${K} has been delegated to another approver.`}),f(!1),d(null)},B=()=>{Ae.success(`${i.size} requests approved`,{description:"The selected requests have been approved."}),o(new Set)},M=()=>{Ae.error(`${i.size} requests rejected`,{description:"The selected requests have been rejected."}),o(new Set)},W=x.length+A.length+C.length,V=(K,z)=>{const q={status:y,risk:E,department:w},ee={status:x,risk:A,department:C},oe=q[K],ce=ee[K];ce.includes(z)?oe(ce.filter(ye=>ye!==z)):oe([...ce,z])},Q=()=>{y([]),E([]),w([])},H=K=>{switch(K){case"Critical":return"var(--danger)";case"High":return"var(--warning)";case"Medium":return"var(--info)";default:return"var(--success)"}},X=K=>K==="Critical"||K==="High"?e.jsx(et,{className:"w-3 h-3"}):e.jsx(S5,{className:"w-3 h-3"});return e.jsxs("div",{className:"h-full flex flex-col",style:{backgroundColor:"var(--bg)"},children:[e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"p-4 lg:p-8 max-w-[1320px] mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"var(--text-display)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Approvals"}),e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--muted-foreground)",marginTop:"4px"},children:"Review and approve pending access requests"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",onClick:B,disabled:i.size===0,className:"gap-2",children:[e.jsx(sv,{className:"w-4 h-4"}),"Bulk Approve"]}),e.jsxs(L,{variant:"outline",onClick:M,disabled:i.size===0,className:"gap-2",style:{borderColor:i.size>0?"var(--danger)":void 0,color:i.size>0?"var(--danger)":void 0},children:[e.jsx(PJ,{className:"w-4 h-4"}),"Bulk Deny"]}),e.jsxs(L,{variant:"outline",onClick:()=>b(!0),className:"gap-2",children:[e.jsx(ns,{className:"w-4 h-4"}),"Filters",W>0&&e.jsx(J,{className:"ml-1 px-1.5 py-0.5 h-5",style:{backgroundColor:"var(--primary)",color:"white"},children:W})]}),e.jsxs(L,{variant:"outline",className:"gap-2",children:[e.jsx(xr,{className:"w-4 h-4"}),"Export"]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx(kB,{tabs:k,value:r,onChange:n})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(Lr,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",style:{color:"var(--muted-foreground)"}}),e.jsx(pe,{placeholder:"Search requests...",value:s,onChange:K=>a(K.target.value),className:"pl-9",style:{backgroundColor:"var(--input-background)"}})]}),m.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.map((K,z)=>e.jsx(Cl,{label:K.label,value:K.value,onRemove:()=>{v(m.filter((q,ee)=>ee!==z))}},z)),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>v([]),style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Clear all"})]})]})]}),e.jsx("div",{className:"rounded-lg border overflow-hidden",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",boxShadow:"var(--shadow-sm)"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{className:"border-b hover:bg-transparent",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",height:"44px"},children:[e.jsx(we,{className:"sticky left-0",style:{backgroundColor:"var(--surface)",width:"48px",minWidth:"48px",maxWidth:"48px",zIndex:15},children:e.jsx(Zt,{checked:i.size===S.length&&S.length>0,onCheckedChange:R,"aria-label":"Select all"})}),e.jsx(we,{className:"sticky",style:{backgroundColor:"var(--surface)",left:"48px",width:"120px",minWidth:"120px",maxWidth:"120px",boxShadow:"2px 0 4px -2px rgba(0, 0, 0, 0.1)",zIndex:15,overflow:"hidden"},children:"ID"}),e.jsx(we,{style:{minWidth:"200px"},children:"Requester"}),e.jsx(we,{style:{minWidth:"180px"},children:"Item"}),e.jsx(we,{style:{minWidth:"120px"},children:"Type"}),e.jsx(we,{style:{minWidth:"100px"},children:"Status"}),e.jsx(we,{style:{minWidth:"110px"},children:"Risk"}),e.jsx(we,{style:{minWidth:"100px"},children:"Age/SLA"}),e.jsx(we,{style:{minWidth:"120px"},children:"Submitted"}),e.jsx(we,{className:"w-12"})]})}),e.jsx(kn,{children:S.map(K=>e.jsxs(St,{onClick:()=>O(K),className:"cursor-pointer transition-all duration-150 border-b",style:{borderColor:"var(--border)",height:"46px"},onMouseEnter:z=>{z.currentTarget.style.backgroundColor="var(--accent)",z.currentTarget.style.boxShadow="var(--shadow-xs)"},onMouseLeave:z=>{z.currentTarget.style.backgroundColor="transparent",z.currentTarget.style.boxShadow="none"},children:[e.jsx(be,{onClick:z=>z.stopPropagation(),className:"sticky left-0",style:{backgroundColor:"var(--bg)",width:"48px",minWidth:"48px",maxWidth:"48px",zIndex:15},children:e.jsx(Zt,{checked:i.has(K.id),onCheckedChange:z=>T(K.id,z),"aria-label":`Select ${K.id}`})}),e.jsx(be,{className:"sticky",style:{backgroundColor:"var(--bg)",left:"48px",width:"120px",minWidth:"120px",maxWidth:"120px",boxShadow:"2px 0 4px -2px rgba(0, 0, 0, 0.1)",zIndex:15,overflow:"hidden"},children:e.jsx("span",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--primary)"},children:K.id})}),e.jsx(be,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mn,{className:"w-8 h-8",children:e.jsx(Ln,{style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)",color:"white",fontSize:"var(--text-xs)"},children:K.requester.name.split(" ").map(z=>z[0]).join("")})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:K.requester.name}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:K.requester.department})]})]})}),e.jsx(be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-5 h-5 flex items-center justify-center flex-shrink-0",style:{fontSize:"16px"},children:K.item.icon}),e.jsx("span",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:K.item.name})]})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:K.item.type})}),e.jsx(be,{children:e.jsx(J,{variant:"outline",style:{borderColor:K.status==="Pending"?"var(--warning)":"var(--border)",color:K.status==="Pending"?"var(--warning)":"var(--text)",fontSize:"var(--text-xs)"},children:K.status})}),e.jsx(be,{children:e.jsxs(J,{variant:"outline",className:"gap-1",style:{borderColor:H(K.risk),color:H(K.risk),fontSize:"var(--text-xs)"},children:[X(K.risk),K.risk]})}),e.jsx(be,{children:e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:K.age}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:K.slaRemaining.includes("left")?"var(--warning)":"var(--muted-foreground)"},children:K.slaRemaining})]})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:K.submittedAt})}),e.jsx(be,{onClick:z=>z.stopPropagation(),children:e.jsx(L,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>O(K),children:e.jsx(ir,{className:"w-4 h-4"})})})]},K.id))})]})})}),S.length===0&&e.jsxs("div",{className:"py-16 text-center",children:[e.jsx(sv,{className:"w-12 h-12 mx-auto mb-4",style:{color:"var(--muted-foreground)",opacity:.5}}),e.jsx("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"8px"},children:"No approvals found"}),e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--muted-foreground)",marginBottom:"16px"},children:s?"Try adjusting your search or filters":"All caught up! No pending approvals at the moment."}),r!=="pending"&&e.jsx(L,{variant:"outline",onClick:()=>n("pending"),children:"View Pending Approvals"})]})]})}),u&&l&&e.jsx(j.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 flex items-center justify-center",children:e.jsx("div",{className:"text-white",children:"Loading..."})}),children:e.jsx(Sje,{request:l,open:u,onClose:()=>{f(!1),d(null)},onApprove:U,onReject:D,onDelegate:I})}),e.jsx(Ed,{open:g,onOpenChange:b,children:e.jsxs(_d,{style:{backgroundColor:"var(--bg)",borderLeft:"1px solid var(--border)",width:"100%",maxWidth:"400px",padding:"24px"},children:[e.jsxs(bg,{style:{marginBottom:"24px"},children:[e.jsx(Rd,{style:{color:"var(--text)",fontSize:"20px",fontWeight:"600"},children:"Filters"}),e.jsx(Td,{style:{fontSize:"13px"},children:"Filter approvals by status, risk level, and department"}),W>0&&e.jsx("div",{className:"pt-2",children:e.jsxs(L,{variant:"ghost",onClick:Q,style:{height:"32px",fontSize:"13px",color:"var(--primary)"},children:["Clear All (",W,")"]})})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--text)",marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Status"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:["Pending","Approved","Rejected"].map(K=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"4px 0"},children:[e.jsx(Zt,{id:`status-${K}`,checked:x.includes(K),onCheckedChange:()=>V("status",K)}),e.jsx(G,{htmlFor:`status-${K}`,style:{fontSize:"13px",color:"var(--text)",cursor:"pointer",flex:1},children:K}),e.jsx("span",{style:{fontSize:"11px",color:"var(--muted-foreground)",backgroundColor:"var(--accent)",padding:"2px 6px",borderRadius:"4px"},children:t.filter(z=>z.status===K).length})]},K))})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--text)",marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Risk Level"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:["Critical","High","Medium","Low"].map(K=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"4px 0"},children:[e.jsx(Zt,{id:`risk-${K}`,checked:A.includes(K),onCheckedChange:()=>V("risk",K)}),e.jsxs(G,{htmlFor:`risk-${K}`,style:{fontSize:"13px",color:"var(--text)",cursor:"pointer",flex:1,display:"flex",alignItems:"center",gap:"6px"},children:[X(K),K]}),e.jsx("span",{style:{fontSize:"11px",color:"var(--muted-foreground)",backgroundColor:"var(--accent)",padding:"2px 6px",borderRadius:"4px"},children:t.filter(z=>z.risk===K).length})]},K))})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"13px",fontWeight:"600",color:"var(--text)",marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Department"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:["Engineering","Finance","Sales","HR","Security"].map(K=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"4px 0"},children:[e.jsx(Zt,{id:`dept-${K}`,checked:C.includes(K),onCheckedChange:()=>V("department",K)}),e.jsx(G,{htmlFor:`dept-${K}`,style:{fontSize:"13px",color:"var(--text)",cursor:"pointer",flex:1},children:K}),e.jsx("span",{style:{fontSize:"11px",color:"var(--muted-foreground)",backgroundColor:"var(--accent)",padding:"2px 6px",borderRadius:"4px"},children:t.filter(z=>z.requester.department===K).length})]},K))})]})]}),W>0&&e.jsxs("div",{style:{marginTop:"32px",padding:"16px",backgroundColor:"var(--accent)",borderRadius:"10px",border:"1px solid var(--border)"},children:[e.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"var(--muted-foreground)",marginBottom:"8px",textTransform:"uppercase"},children:"Active Filters"}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:[x.map(K=>e.jsxs(J,{variant:"secondary",style:{fontSize:"11px",height:"24px"},children:["Status: ",K]},K)),A.map(K=>e.jsxs(J,{variant:"secondary",style:{fontSize:"11px",height:"24px"},children:["Risk: ",K]},K)),C.map(K=>e.jsxs(J,{variant:"secondary",style:{fontSize:"11px",height:"24px"},children:["Dept: ",K]},K))]})]})]})})]})}function kje({app:t,onClick:r}){const n=()=>{switch(t.connectorStatus){case"connected":return e.jsx(cr,{className:"w-4 h-4",style:{color:"var(--success)"}});case"error":return e.jsx(Cr,{className:"w-4 h-4",style:{color:"var(--danger)"}});case"pending":return e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-dashed",style:{borderColor:"var(--warning)"}})}},s=()=>{switch(t.connectorStatus){case"connected":return"Connected";case"error":return"Error";case"pending":return"Pending"}},a=()=>{switch(t.connectorStatus){case"connected":return"var(--success)";case"error":return"var(--danger)";case"pending":return"var(--warning)"}};return e.jsxs("button",{onClick:r,className:"p-4 rounded-lg border text-left transition-all hover:shadow-md w-full",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--accent)",fontSize:"24px"},children:t.icon}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:t.name}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"2px"},children:t.category})]})]}),e.jsx(mr,{risk:t.risk,size:"sm"})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t",style:{borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(zt,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:t.users.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(bt,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:t.roles})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-1.5",children:[n(),e.jsx("span",{style:{fontSize:"var(--text-xs)",color:a()},children:s()})]})]})]})}function Cje(t){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const CB=$.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Xm=()=>{const t=$.useContext(CB);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Cje(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Aje(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function Eje(){return R2(/^Mac/)}function _je(){return R2(/^iPhone/)}function VM(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Rje(){return R2(/^iPad/)||Eje()&&navigator.maxTouchPoints>1}function AB(){return _je()||Rje()}function R2(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Tje=24,Pje=typeof window<"u"?j.useLayoutEffect:j.useEffect;function GM(...t){return(...r)=>{for(let n of t)typeof n=="function"&&n(...r)}}const rN=typeof document<"u"&&window.visualViewport;function KM(t){let r=window.getComputedStyle(t);return/(auto|scroll)/.test(r.overflow+r.overflowX+r.overflowY)}function EB(t){for(KM(t)&&(t=t.parentElement);t&&!KM(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Oje=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Mp=0,nN;function Ije(t={}){let{isDisabled:r}=t;Pje(()=>{if(!r)return Mp++,Mp===1&&AB()&&(nN=Dje()),()=>{Mp--,Mp===0&&nN?.()}},[r])}function Dje(){let t,r=0,n=m=>{t=EB(m.target),!(t===document.documentElement&&t===document.body)&&(r=m.changedTouches[0].pageY)},s=m=>{if(!t||t===document.documentElement||t===document.body){m.preventDefault();return}let v=m.changedTouches[0].pageY,g=t.scrollTop,b=t.scrollHeight-t.clientHeight;b!==0&&((g<=0&&v>r||g>=b&&v<r)&&m.preventDefault(),r=v)},a=m=>{let v=m.target;jk(v)&&v!==document.activeElement&&(m.preventDefault(),v.style.transform="translateY(-2000px)",v.focus(),requestAnimationFrame(()=>{v.style.transform=""}))},i=m=>{let v=m.target;jk(v)&&(v.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{v.style.transform="",rN&&(rN.height<window.innerHeight?requestAnimationFrame(()=>{JM(v)}):rN.addEventListener("resize",()=>JM(v),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,d=window.pageYOffset,u=GM(Mje(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=GM(sh(document,"touchstart",n,{passive:!1,capture:!0}),sh(document,"touchmove",s,{passive:!1,capture:!0}),sh(document,"touchend",a,{passive:!1,capture:!0}),sh(document,"focus",i,!0),sh(window,"scroll",o));return()=>{u(),f(),window.scrollTo(l,d)}}function Mje(t,r,n){let s=t.style[r];return t.style[r]=n,()=>{t.style[r]=s}}function sh(t,r,n,s){return t.addEventListener(r,n,s),()=>{t.removeEventListener(r,n,s)}}function JM(t){let r=document.scrollingElement||document.documentElement;for(;t&&t!==r;){let n=EB(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let s=n.getBoundingClientRect().top,a=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+Tje;i>o&&(n.scrollTop+=a-s)}t=n.parentElement}}function jk(t){return t instanceof HTMLInputElement&&!Oje.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Lje(t,r){typeof t=="function"?t(r):t!=null&&(t.current=r)}function zje(...t){return r=>t.forEach(n=>Lje(n,r))}function _B(...t){return j.useCallback(zje(...t),t)}const RB=new WeakMap;function Yr(t,r,n=!1){if(!t||!(t instanceof HTMLElement))return;let s={};Object.entries(r).forEach(([a,i])=>{if(a.startsWith("--")){t.style.setProperty(a,i);return}s[a]=t.style[a],t.style[a]=i}),!n&&RB.set(t,s)}function $je(t,r){if(!t||!(t instanceof HTMLElement))return;let n=RB.get(t);n&&(t.style[r]=n[r])}const Pr=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function Lp(t,r){if(!t)return null;const n=window.getComputedStyle(t),s=n.transform||n.webkitTransform||n.mozTransform;let a=s.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Pr(r)?13:12]):(a=s.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Pr(r)?5:4]):null)}function Fje(t){return 8*(Math.log(t+1)-2)}function sN(t,r){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,r),()=>{t.style.cssText=n}}function Bje(...t){return(...r)=>{for(const n of t)typeof n=="function"&&n(...r)}}const hr={DURATION:.5,EASE:[.32,.72,0,1]},TB=.4,Wje=.25,Uje=100,PB=8,ul=16,wk=26,aN="vaul-dragging";function OB(t){const r=$.useRef(t);return $.useEffect(()=>{r.current=t}),$.useMemo(()=>(...n)=>r.current==null?void 0:r.current.call(r,...n),[])}function qje({defaultProp:t,onChange:r}){const n=$.useState(t),[s]=n,a=$.useRef(s),i=OB(r);return $.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),n}function IB({prop:t,defaultProp:r,onChange:n=()=>{}}){const[s,a]=qje({defaultProp:r,onChange:n}),i=t!==void 0,o=i?t:s,l=OB(n),d=$.useCallback(u=>{if(i){const m=typeof u=="function"?u(t):u;m!==t&&l(m)}else a(u)},[i,t,a,l]);return[o,d]}function Hje({activeSnapPointProp:t,setActiveSnapPointProp:r,snapPoints:n,drawerRef:s,overlayRef:a,fadeFromIndex:i,onSnapPointChange:o,direction:l="bottom",container:d,snapToSequentialPoint:u}){const[f,m]=IB({prop:t,defaultProp:n?.[0],onChange:r}),[v,g]=$.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);$.useEffect(()=>{function R(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const b=$.useMemo(()=>f===n?.[n.length-1]||null,[n,f]),x=$.useMemo(()=>{var R;return(R=n?.findIndex(T=>T===f))!=null?R:null},[n,f]),y=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===f||!n,A=$.useMemo(()=>{const R=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var T;return(T=n?.map(O=>{const U=typeof O=="string";let D=0;if(U&&(D=parseInt(O,10)),Pr(l)){const B=U?D:v?O*R.height:0;return v?l==="bottom"?R.height-B:-R.height+B:B}const I=U?D:v?O*R.width:0;return v?l==="right"?R.width-I:-R.width+I:I}))!=null?T:[]},[n,v,d]),E=$.useMemo(()=>x!==null?A?.[x]:null,[A,x]),C=$.useCallback(R=>{var T;const O=(T=A?.findIndex(U=>U===R))!=null?T:null;o(O),Yr(s.current,{transition:`transform ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`,transform:Pr(l)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`}),A&&O!==A.length-1&&i!==void 0&&O!==i&&O<i?Yr(a.current,{transition:`opacity ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`,opacity:"0"}):Yr(a.current,{transition:`opacity ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`,opacity:"1"}),m(n?.[Math.max(O,0)])},[s.current,n,A,i,a,m]);$.useEffect(()=>{if(f||t){var R;const T=(R=n?.findIndex(O=>O===t||O===f))!=null?R:-1;A&&T!==-1&&typeof A[T]=="number"&&C(A[T])}},[f,t,n,A,C]);function w({draggedDistance:R,closeDrawer:T,velocity:O,dismissible:U}){if(i===void 0)return;const D=l==="bottom"||l==="right"?(E??0)-R:(E??0)+R,I=x===i-1,B=x===0,M=R>0;if(I&&Yr(a.current,{transition:`opacity ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`}),!u&&O>2&&!M){U?T():C(A[0]);return}if(!u&&O>2&&M&&A&&n){C(A[n.length-1]);return}const W=A?.reduce((Q,H)=>typeof Q!="number"||typeof H!="number"?Q:Math.abs(H-D)<Math.abs(Q-D)?H:Q),V=Pr(l)?window.innerHeight:window.innerWidth;if(O>TB&&Math.abs(R)<V*.4){const Q=M?1:-1;if(Q>0&&b&&n){C(A[n.length-1]);return}if(B&&Q<0&&U&&T(),x===null)return;C(A[x+Q]);return}C(W)}function k({draggedDistance:R}){if(E===null)return;const T=l==="bottom"||l==="right"?E-R:E+R;(l==="bottom"||l==="right")&&T<A[A.length-1]||(l==="top"||l==="left")&&T>A[A.length-1]||Yr(s.current,{transform:Pr(l)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`})}function S(R,T){if(!n||typeof x!="number"||!A||i===void 0)return null;const O=x===i-1;if(x>=i&&T)return 0;if(O&&!T)return 1;if(!y&&!O)return null;const D=O?x+1:x-1,I=O?A[D]-A[D-1]:A[D+1]-A[D],B=R/Math.abs(I);return O?1-B:B}return{isLastSnapPoint:b,activeSnapPoint:f,shouldFade:y,getPercentageDragged:S,setActiveSnapPoint:m,activeSnapPointIndex:x,onRelease:w,onDrag:k,snapPointsOffset:A}}const Vje=()=>()=>{};function Gje(){const{direction:t,isOpen:r,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:a}=Xm(),i=$.useRef(null),o=j.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-wk)/window.innerWidth}$.useEffect(()=>{if(r&&n){i.current&&clearTimeout(i.current);const d=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!d)return;Bje(s&&!a?sN(document.body,{background:"black"}):Vje,sN(d,{transformOrigin:Pr(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${hr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${hr.EASE.join(",")})`}));const u=sN(d,{borderRadius:`${PB}px`,overflow:"hidden",...Pr(t)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),i.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},hr.DURATION*1e3)}}},[r,n,o])}let ah=null;function Kje({isOpen:t,modal:r,nested:n,hasBeenOpened:s,preventScrollRestoration:a,noBodyStyles:i}){const[o,l]=$.useState(()=>typeof window<"u"?window.location.href:""),d=$.useRef(0),u=$.useCallback(()=>{if(VM()&&ah===null&&t&&!i){ah={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:v}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=v-window.innerHeight;g&&d.current>=v&&(document.body.style.top=`${-(d.current+g)}px`)}),300)}},[t]),f=$.useCallback(()=>{if(VM()&&ah!==null&&!i){const m=-parseInt(document.body.style.top,10),v=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ah),window.requestAnimationFrame(()=>{if(a&&o!==window.location.href){l(window.location.href);return}window.scrollTo(v,m)}),ah=null}},[o]);return $.useEffect(()=>{function m(){d.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),$.useEffect(()=>{if(r)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||f()}},[r,f]),$.useEffect(()=>{n||!s||(t?(!window.matchMedia("(display-mode: standalone)").matches&&u(),r||window.setTimeout(()=>{f()},500)):f())},[t,s,o,r,n,u,f]),{restorePositionSetting:f}}function Jje({open:t,onOpenChange:r,children:n,onDrag:s,onRelease:a,snapPoints:i,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:d=Wje,scrollLockTimeout:u=Uje,dismissible:f=!0,handleOnly:m=!1,fadeFromIndex:v=i&&i.length-1,activeSnapPoint:g,setActiveSnapPoint:b,fixed:x,modal:y=!0,onClose:A,nested:E,noBodyStyles:C=!1,direction:w="bottom",defaultOpen:k=!1,disablePreventScroll:S=!0,snapToSequentialPoint:R=!1,preventScrollRestoration:T=!1,repositionInputs:O=!0,onAnimationEnd:U,container:D,autoFocus:I=!1}){var B,M;const[W=!1,V]=IB({defaultProp:k,prop:t,onChange:Ze=>{r?.(Ze),!Ze&&!E&&ti(),setTimeout(()=>{U?.(Ze)},hr.DURATION*1e3),Ze&&!y&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Ze||(document.body.style.pointerEvents="auto")}}),[Q,H]=$.useState(!1),[X,K]=$.useState(!1),[z,q]=$.useState(!1),ee=$.useRef(null),oe=$.useRef(null),ce=$.useRef(null),ye=$.useRef(null),de=$.useRef(null),fe=$.useRef(!1),he=$.useRef(null),re=$.useRef(0),ge=$.useRef(!1),le=$.useRef(!k),Ye=$.useRef(0),_e=$.useRef(null),Et=$.useRef(((B=_e.current)==null?void 0:B.getBoundingClientRect().height)||0),kt=$.useRef(((M=_e.current)==null?void 0:M.getBoundingClientRect().width)||0),jt=$.useRef(0),Br=$.useCallback(Ze=>{i&&Ze===br.length-1&&(oe.current=new Date)},[]),{activeSnapPoint:er,activeSnapPointIndex:gr,setActiveSnapPoint:yr,onRelease:It,snapPointsOffset:br,onDrag:Zs,shouldFade:Cs,getPercentageDragged:Xs}=Hje({snapPoints:i,activeSnapPointProp:g,setActiveSnapPointProp:b,drawerRef:_e,fadeFromIndex:v,overlayRef:ee,onSnapPointChange:Br,direction:w,container:D,snapToSequentialPoint:R});Ije({isDisabled:!W||X||!y||z||!Q||!O||!S});const{restorePositionSetting:ti}=Kje({isOpen:W,modal:y,nested:E??!1,hasBeenOpened:Q,preventScrollRestoration:T,noBodyStyles:C});function Hn(){return(window.innerWidth-wk)/window.innerWidth}function zn(Ze){var wt,Nt;!f&&!i||_e.current&&!_e.current.contains(Ze.target)||(Et.current=((wt=_e.current)==null?void 0:wt.getBoundingClientRect().height)||0,kt.current=((Nt=_e.current)==null?void 0:Nt.getBoundingClientRect().width)||0,K(!0),ce.current=new Date,AB()&&window.addEventListener("touchend",()=>fe.current=!1,{once:!0}),Ze.target.setPointerCapture(Ze.pointerId),re.current=Pr(w)?Ze.pageY:Ze.pageX)}function Wr(Ze,wt){var Nt;let ct=Ze;const Ht=(Nt=window.getSelection())==null?void 0:Nt.toString(),Qe=_e.current?Lp(_e.current,w):null,xt=new Date;if(ct.tagName==="SELECT"||ct.hasAttribute("data-vaul-no-drag")||ct.closest("[data-vaul-no-drag]"))return!1;if(w==="right"||w==="left")return!0;if(oe.current&&xt.getTime()-oe.current.getTime()<500)return!1;if(Qe!==null&&(w==="bottom"?Qe>0:Qe<0))return!0;if(Ht&&Ht.length>0)return!1;if(de.current&&xt.getTime()-de.current.getTime()<u&&Qe===0||wt)return de.current=xt,!1;for(;ct;){if(ct.scrollHeight>ct.clientHeight){if(ct.scrollTop!==0)return de.current=new Date,!1;if(ct.getAttribute("role")==="dialog")return!0}ct=ct.parentNode}return!0}function Vn(Ze){if(_e.current&&X){const wt=w==="bottom"||w==="right"?1:-1,Nt=(re.current-(Pr(w)?Ze.pageY:Ze.pageX))*wt,ct=Nt>0,Ht=i&&!f&&!ct;if(Ht&&gr===0)return;const Qe=Math.abs(Nt),xt=document.querySelector("[data-vaul-drawer-wrapper]"),Bt=w==="bottom"||w==="top"?Et.current:kt.current;let Wt=Qe/Bt;const Cn=Xs(Qe,ct);if(Cn!==null&&(Wt=Cn),Ht&&Wt>=1||!fe.current&&!Wr(Ze.target,ct))return;if(_e.current.classList.add(aN),fe.current=!0,Yr(_e.current,{transition:"none"}),Yr(ee.current,{transition:"none"}),i&&Zs({draggedDistance:Nt}),ct&&!i){const Mt=Fje(Nt),as=Math.min(Mt*-1,0)*wt;Yr(_e.current,{transform:Pr(w)?`translate3d(0, ${as}px, 0)`:`translate3d(${as}px, 0, 0)`});return}const Dt=1-Wt;if((Cs||v&&gr===v-1)&&(s?.(Ze,Wt),Yr(ee.current,{opacity:`${Dt}`,transition:"none"},!0)),xt&&ee.current&&o){const Mt=Math.min(Hn()+Wt*(1-Hn()),1),as=8-Wt*8,Ar=Math.max(0,14-Wt*14);Yr(xt,{borderRadius:`${as}px`,transform:Pr(w)?`scale(${Mt}) translate3d(0, ${Ar}px, 0)`:`scale(${Mt}) translate3d(${Ar}px, 0, 0)`,transition:"none"},!0)}if(!i){const Mt=Qe*wt;Yr(_e.current,{transform:Pr(w)?`translate3d(0, ${Mt}px, 0)`:`translate3d(${Mt}px, 0, 0)`})}}}$.useEffect(()=>{window.requestAnimationFrame(()=>{le.current=!0})},[]),$.useEffect(()=>{var Ze;function wt(){if(!_e.current||!O)return;const Nt=document.activeElement;if(jk(Nt)||ge.current){var ct;const Ht=((ct=window.visualViewport)==null?void 0:ct.height)||0,Qe=window.innerHeight;let xt=Qe-Ht;const Bt=_e.current.getBoundingClientRect().height||0,Wt=Bt>Qe*.8;jt.current||(jt.current=Bt);const Cn=_e.current.getBoundingClientRect().top;if(Math.abs(Ye.current-xt)>60&&(ge.current=!ge.current),i&&i.length>0&&br&&gr){const Dt=br[gr]||0;xt+=Dt}if(Ye.current=xt,Bt>Ht||ge.current){const Dt=_e.current.getBoundingClientRect().height;let Mt=Dt;Dt>Ht&&(Mt=Ht-(Wt?Cn:wk)),x?_e.current.style.height=`${Dt-Math.max(xt,0)}px`:_e.current.style.height=`${Math.max(Mt,Ht-Cn)}px`}else Aje()||(_e.current.style.height=`${jt.current}px`);i&&i.length>0&&!ge.current?_e.current.style.bottom="0px":_e.current.style.bottom=`${Math.max(xt,0)}px`}}return(Ze=window.visualViewport)==null||Ze.addEventListener("resize",wt),()=>{var Nt;return(Nt=window.visualViewport)==null?void 0:Nt.removeEventListener("resize",wt)}},[gr,i,br]);function qt(Ze){ft(),A?.(),Ze||V(!1),setTimeout(()=>{i&&yr(i[0])},hr.DURATION*1e3)}function ae(){if(!_e.current)return;const Ze=document.querySelector("[data-vaul-drawer-wrapper]"),wt=Lp(_e.current,w);Yr(_e.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`}),Yr(ee.current,{transition:`opacity ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`,opacity:"1"}),o&&wt&&wt>0&&W&&Yr(Ze,{borderRadius:`${PB}px`,overflow:"hidden",...Pr(w)?{transform:`scale(${Hn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Hn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${hr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${hr.EASE.join(",")})`},!0)}function ft(){!X||!_e.current||(_e.current.classList.remove(aN),fe.current=!1,K(!1),ye.current=new Date)}function lt(Ze){if(!X||!_e.current)return;_e.current.classList.remove(aN),fe.current=!1,K(!1),ye.current=new Date;const wt=Lp(_e.current,w);if(!Ze||!Wr(Ze.target,!1)||!wt||Number.isNaN(wt)||ce.current===null)return;const Nt=ye.current.getTime()-ce.current.getTime(),ct=re.current-(Pr(w)?Ze.pageY:Ze.pageX),Ht=Math.abs(ct)/Nt;if(Ht>.05&&(q(!0),setTimeout(()=>{q(!1)},200)),i){It({draggedDistance:ct*(w==="bottom"||w==="right"?1:-1),closeDrawer:qt,velocity:Ht,dismissible:f}),a?.(Ze,!0);return}if(w==="bottom"||w==="right"?ct>0:ct<0){ae(),a?.(Ze,!0);return}if(Ht>TB){qt(),a?.(Ze,!1);return}var Qe;const xt=Math.min((Qe=_e.current.getBoundingClientRect().height)!=null?Qe:0,window.innerHeight);var Bt;const Wt=Math.min((Bt=_e.current.getBoundingClientRect().width)!=null?Bt:0,window.innerWidth),Cn=w==="left"||w==="right";if(Math.abs(wt)>=(Cn?Wt:xt)*d){qt(),a?.(Ze,!1);return}a?.(Ze,!0),ae()}$.useEffect(()=>(W&&(Yr(document.documentElement,{scrollBehavior:"auto"}),oe.current=new Date),()=>{$je(document.documentElement,"scrollBehavior")}),[W]);function Ur(Ze){const wt=Ze?(window.innerWidth-ul)/window.innerWidth:1,Nt=Ze?-ul:0;he.current&&window.clearTimeout(he.current),Yr(_e.current,{transition:`transform ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`,transform:Pr(w)?`scale(${wt}) translate3d(0, ${Nt}px, 0)`:`scale(${wt}) translate3d(${Nt}px, 0, 0)`}),!Ze&&_e.current&&(he.current=setTimeout(()=>{const ct=Lp(_e.current,w);Yr(_e.current,{transition:"none",transform:Pr(w)?`translate3d(0, ${ct}px, 0)`:`translate3d(${ct}px, 0, 0)`})},500))}function As(Ze,wt){if(wt<0)return;const Nt=(window.innerWidth-ul)/window.innerWidth,ct=Nt+wt*(1-Nt),Ht=-ul+wt*ul;Yr(_e.current,{transform:Pr(w)?`scale(${ct}) translate3d(0, ${Ht}px, 0)`:`scale(${ct}) translate3d(${Ht}px, 0, 0)`,transition:"none"})}function Es(Ze,wt){const Nt=Pr(w)?window.innerHeight:window.innerWidth,ct=wt?(Nt-ul)/Nt:1,Ht=wt?-ul:0;wt&&Yr(_e.current,{transition:`transform ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`,transform:Pr(w)?`scale(${ct}) translate3d(0, ${Ht}px, 0)`:`scale(${ct}) translate3d(${Ht}px, 0, 0)`})}return $.useEffect(()=>{y||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[y]),$.createElement(vg,{defaultOpen:k,onOpenChange:Ze=>{!f&&!Ze||(Ze?H(!0):qt(!0),V(Ze))},open:W},$.createElement(CB.Provider,{value:{activeSnapPoint:er,snapPoints:i,setActiveSnapPoint:yr,drawerRef:_e,overlayRef:ee,onOpenChange:r,onPress:zn,onRelease:lt,onDrag:Vn,dismissible:f,shouldAnimate:le,handleOnly:m,isOpen:W,isDragging:X,shouldFade:Cs,closeDrawer:qt,onNestedDrag:As,onNestedOpenChange:Ur,onNestedRelease:Es,keyboardIsOpen:ge,modal:y,snapPointsOffset:br,activeSnapPointIndex:gr,direction:w,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:C,container:D,autoFocus:I}},n))}const DB=$.forwardRef(function({...t},r){const{overlayRef:n,snapPoints:s,onRelease:a,shouldFade:i,isOpen:o,modal:l,shouldAnimate:d}=Xm(),u=_B(r,n),f=s&&s.length>0;if(!l)return null;const m=$.useCallback(v=>a(v),[a]);return $.createElement(Gm,{onMouseUp:m,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":o&&f?"true":"false","data-vaul-snap-points-overlay":o&&i?"true":"false","data-vaul-animate":d?.current?"true":"false",...t})});DB.displayName="Drawer.Overlay";const MB=$.forwardRef(function({onPointerDownOutside:t,style:r,onOpenAutoFocus:n,...s},a){const{drawerRef:i,onPress:o,onRelease:l,onDrag:d,keyboardIsOpen:u,snapPointsOffset:f,activeSnapPointIndex:m,modal:v,isOpen:g,direction:b,snapPoints:x,container:y,handleOnly:A,shouldAnimate:E,autoFocus:C}=Xm(),[w,k]=$.useState(!1),S=_B(a,i),R=$.useRef(null),T=$.useRef(null),O=$.useRef(!1),U=x&&x.length>0;Gje();const D=(B,M,W=0)=>{if(O.current)return!0;const V=Math.abs(B.y),Q=Math.abs(B.x),H=Q>V,X=["bottom","right"].includes(M)?1:-1;if(M==="left"||M==="right"){if(!(B.x*X<0)&&Q>=0&&Q<=W)return H}else if(!(B.y*X<0)&&V>=0&&V<=W)return!H;return O.current=!0,!0};$.useEffect(()=>{U&&window.requestAnimationFrame(()=>{k(!0)})},[]);function I(B){R.current=null,O.current=!1,l(B)}return $.createElement(Km,{"data-vaul-drawer-direction":b,"data-vaul-drawer":"","data-vaul-delayed-snap-points":w?"true":"false","data-vaul-snap-points":g&&U?"true":"false","data-vaul-custom-container":y?"true":"false","data-vaul-animate":E?.current?"true":"false",...s,ref:S,style:f&&f.length>0?{"--snap-point-height":`${f[m??0]}px`,...r}:r,onPointerDown:B=>{A||(s.onPointerDown==null||s.onPointerDown.call(s,B),R.current={x:B.pageX,y:B.pageY},o(B))},onOpenAutoFocus:B=>{n?.(B),C||B.preventDefault()},onPointerDownOutside:B=>{if(t?.(B),!v||B.defaultPrevented){B.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:B=>{if(!v){B.preventDefault();return}},onPointerMove:B=>{if(T.current=B,A||(s.onPointerMove==null||s.onPointerMove.call(s,B),!R.current))return;const M=B.pageY-R.current.y,W=B.pageX-R.current.x,V=B.pointerType==="touch"?10:2;D({x:W,y:M},b,V)?d(B):(Math.abs(W)>V||Math.abs(M)>V)&&(R.current=null)},onPointerUp:B=>{s.onPointerUp==null||s.onPointerUp.call(s,B),R.current=null,O.current=!1,l(B)},onPointerOut:B=>{s.onPointerOut==null||s.onPointerOut.call(s,B),I(T.current)},onContextMenu:B=>{s.onContextMenu==null||s.onContextMenu.call(s,B),T.current&&I(T.current)}})});MB.displayName="Drawer.Content";const Yje=250,Zje=120,Xje=$.forwardRef(function({preventCycle:t=!1,children:r,...n},s){const{closeDrawer:a,isDragging:i,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:d,dismissible:u,handleOnly:f,isOpen:m,onPress:v,onDrag:g}=Xm(),b=$.useRef(null),x=$.useRef(!1);function y(){if(x.current){C();return}window.setTimeout(()=>{A()},Zje)}function A(){if(i||t||x.current){C();return}if(C(),!o||o.length===0){u||a();return}if(l===o[o.length-1]&&u){a();return}const k=o.findIndex(R=>R===l);if(k===-1)return;const S=o[k+1];d(S)}function E(){b.current=window.setTimeout(()=>{x.current=!0},Yje)}function C(){b.current&&window.clearTimeout(b.current),x.current=!1}return $.createElement("div",{onClick:y,onPointerCancel:C,onPointerDown:w=>{f&&v(w),E()},onPointerMove:w=>{f&&g(w)},ref:s,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},$.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},r))});Xje.displayName="Drawer.Handle";function Qje(t){const r=Xm(),{container:n=r.container,...s}=t;return $.createElement(xg,{container:n,...s})}const cu={Root:Jje,Content:MB,Overlay:DB,Portal:Qje,Title:gg,Description:yg};function Og({...t}){return e.jsx(cu.Root,{"data-slot":"drawer",...t})}function ewe({...t}){return e.jsx(cu.Portal,{"data-slot":"drawer-portal",...t})}const LB=j.forwardRef(({className:t,...r},n)=>e.jsx(cu.Overlay,{ref:n,"data-slot":"drawer-overlay",className:We("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r}));LB.displayName="DrawerOverlay";function Ig({className:t,children:r,...n}){return e.jsxs(ewe,{"data-slot":"drawer-portal",children:[e.jsx(LB,{}),e.jsxs(cu.Content,{"data-slot":"drawer-content",className:We("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...n,children:[e.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),r]})]})}function T2({className:t,...r}){return e.jsx("div",{"data-slot":"drawer-header",className:We("flex flex-col gap-1.5 p-4",t),...r})}function zB({className:t,...r}){return e.jsx("div",{"data-slot":"drawer-footer",className:We("mt-auto flex flex-col gap-2 p-4",t),...r})}function Dg({className:t,...r}){return e.jsx(cu.Title,{"data-slot":"drawer-title",className:We("text-foreground font-semibold",t),...r})}function Mg({className:t,...r}){return e.jsx(cu.Description,{"data-slot":"drawer-description",className:We("text-muted-foreground text-sm",t),...r})}const twe=t=>({status:"Active",tags:["Finance","Privileged"],isPrivileged:!0,riskScore:72,riskReason:"Contains high-risk entitlements with financial impact",topEntitlements:[{id:"E-1",name:"AP Write",icon:"",app:"Procurement",lastUsedPercent:95,risk:"High"},{id:"E-2",name:"Payment Approval",icon:"",app:"QuickBooks",lastUsedPercent:87,risk:"High"},{id:"E-3",name:"GL Modify",icon:"",app:"Treasury",lastUsedPercent:62,risk:"Medium"}],sodConflictDetails:{pair:"AP Write  Payment Approver",affectedUsers:3},recentChanges:[{type:"add",description:"Added 2 members",time:"2h ago",icon:hn},{type:"risk",description:"Risk increased from 68 to 72",time:"1d ago",icon:Sa},{type:"remove",description:"Removed 1 entitlement",time:"2d ago",icon:Cr}],aiSuggestions:[{id:"ai-1",title:"Remove seldom-used entitlement",description:"GL Modify has only 2% usage in last 90 days",confidence:92,applied:!1},{id:"ai-2",title:"Split role by organization",description:"Members span 3 different departments",confidence:78,applied:!1}],metrics:{membersChange:2,appsChange:0,sodChange:-1}});function rwe({role:t,open:r,onOpenChange:n,onViewDetails:s,onEdit:a,onAddMember:i,onStartReview:o,onExport:l,onDisable:d}){const[u,f]=j.useState(!1),[m,v]=j.useState([]),[g,b]=j.useState([]),[x,y]=j.useState(!1),A=$.useCallback(async()=>{if(t)try{y(!0);const{RBACService:T}=await Mo(async()=>{const{RBACService:U}=await Promise.resolve().then(()=>owe);return{RBACService:U}},void 0),O=await T.getRolePermissions(t.id);b(O)}catch(T){console.error("Failed to load permissions:",T)}finally{y(!1)}},[t]);if($.useEffect(()=>{r&&t&&A()},[r,t,A]),!t)return null;const E=()=>{if(t.created_at){const T=new Date(t.created_at),U=Math.floor((new Date().getTime()-T.getTime())/(1e3*60*60));return U<1?"Just now":U<24?`${U}h ago`:`${Math.floor(U/24)}d ago`}return t.updated},C=twe(t.id),w=()=>{navigator.clipboard.writeText(t.id),f(!0),Ae.success("Role ID copied"),setTimeout(()=>f(!1),2e3)},k=T=>{v([...m,T]),Ae.success("Suggestion applied")},S=()=>{n(!1)},R=T=>{T.key==="Escape"&&S()};return e.jsx(Og,{open:r,onOpenChange:n,direction:"right",children:e.jsxs(Ig,{className:"max-h-screen",style:{maxWidth:"900px",width:"100%"},onKeyDown:R,children:[e.jsxs(Dg,{className:"sr-only",children:["Role Quick View: ",t.name]}),e.jsxs(Mg,{className:"sr-only",children:["Quick overview and actions for ",t.name]}),e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[e.jsxs("header",{className:"px-6 pt-4 pb-2.5 space-y-2.5 border-b flex-shrink-0",style:{borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"mr-2",style:{fontSize:"var(--text-lg)",lineHeight:"var(--line-height-snug)"},children:t.name}),e.jsxs(J,{variant:"outline",className:"gap-1.5 h-6",style:{borderColor:"var(--border)"},children:[e.jsx(zt,{className:"w-3 h-3"}),t.owner.name]}),e.jsx(mr,{risk:t.risk}),e.jsx(J,{className:"h-6",style:{backgroundColor:"var(--success-bg)",color:"var(--success)",borderColor:"var(--success-border)"},children:C.status}),e.jsxs("span",{className:"ml-auto text-xs",style:{color:"var(--muted)"},children:["Updated ",E()]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap text-sm",style:{color:"var(--text-secondary)"},children:[e.jsx("span",{className:"line-clamp-1",children:t.description}),e.jsx("div",{className:"flex items-center gap-1.5 ml-2",children:C.tags.map(T=>e.jsx(J,{variant:"secondary",className:"h-5 text-xs",style:{backgroundColor:"var(--surface)"},children:T},T))}),e.jsx("button",{onClick:w,className:"ml-auto flex items-center gap-1.5 px-2 py-1 rounded-md text-xs transition-colors hover:bg-slate-100 dark:hover:bg-slate-800",style:{color:"var(--muted)"},"aria-label":"Copy role ID",children:u?e.jsxs(e.Fragment,{children:[e.jsx(cr,{className:"w-3 h-3",style:{color:"var(--success)"}}),e.jsx("span",{style:{color:"var(--success)"},children:"Copied"})]}):e.jsxs(e.Fragment,{children:[e.jsx(fa,{className:"w-3 h-3"}),"ID: ",t.id]})})]}),m.length>0&&e.jsxs("div",{className:"flex items-center gap-1.5 pt-0.5",children:[e.jsx("span",{className:"text-xs",style:{color:"var(--muted)"},children:"Applied:"}),m.map(T=>{const O=C.aiSuggestions.find(U=>U.id===T);return e.jsxs(J,{className:"h-5 text-xs gap-1",style:{backgroundColor:"var(--info-bg)",color:"var(--info)",borderColor:"var(--info-border)"},children:[e.jsx(Qt,{className:"w-3 h-3"}),O?.title.split(" ").slice(0,3).join(" ")]},T)})]})]}),e.jsxs("section",{className:"grid grid-cols-5 gap-2.5 px-6 py-3 border-b flex-shrink-0",style:{borderColor:"var(--border)"},children:[e.jsx(iN,{label:"Members",value:t.members,delta:C.metrics.membersChange,icon:zt,color:"var(--primary)"}),e.jsx(iN,{label:"Apps",value:t.applications.length,delta:C.metrics.appsChange,icon:So,color:"var(--info)"}),e.jsx(iN,{label:"SoD Conflicts",value:t.sodConflicts,delta:C.metrics.sodChange,icon:et,color:"var(--warning)"}),e.jsxs("div",{className:"flex flex-col justify-center px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("div",{className:"text-xs mb-0.5",style:{color:"var(--muted)"},children:"Privileged?"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(bt,{className:"w-4 h-4",style:{color:"var(--primary)"}}),e.jsx("span",{className:"font-semibold",style:{color:"var(--text)"},children:"Yes"})]})]}),e.jsx(Do,{children:e.jsxs(Ai,{children:[e.jsx(Ei,{asChild:!0,children:e.jsxs("div",{className:"flex flex-col justify-center px-3 py-2 rounded-lg border cursor-help",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs mb-0.5",style:{color:"var(--muted)"},children:["Risk Score",e.jsx(wx,{className:"w-3 h-3"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold",style:{color:"var(--text)"},children:[C.riskScore,"/100"]}),e.jsx(Nr,{value:C.riskScore,className:"h-1.5 flex-1"})]})]})}),e.jsx(_i,{side:"bottom",className:"max-w-xs",children:e.jsx("p",{className:"text-xs",children:C.riskReason})})]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 px-6 py-3 pb-3",children:[e.jsx(zp,{title:"Composition",icon:So,children:e.jsxs("div",{className:"space-y-1.5",children:[x?e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"Loading permissions..."})}):g.length>0?g.map(T=>e.jsxs("div",{className:"flex items-center gap-2.5 p-2 rounded-lg border transition-colors hover:bg-slate-50 dark:hover:bg-slate-900/50",style:{borderColor:"var(--border)"},children:[e.jsx(So,{className:"w-4 h-4",style:{color:"var(--primary)"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm truncate",style:{color:"var(--text)"},children:T.key.replace(/_/g," ").replace(/\b\w/g,O=>O.toUpperCase())}),e.jsx(mr,{risk:"Medium"})]}),e.jsx("div",{className:"text-xs mt-0.5",style:{color:"var(--muted)"},children:T.description||"No description"})]})]},T.id)):e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"text-sm",style:{color:"var(--muted-foreground)"},children:"No permissions assigned"})}),e.jsxs("button",{className:"w-full flex items-center justify-center gap-1.5 py-1.5 text-sm rounded-md transition-colors hover:bg-slate-50 dark:hover:bg-slate-900/50 mt-1",style:{color:"var(--primary)"},onClick:s,children:["View all entitlements",e.jsx(Ka,{className:"w-4 h-4"})]})]})}),e.jsx(zp,{title:"SoD Conflicts",icon:et,iconColor:"var(--warning)",children:t.sodConflicts>0?e.jsxs("div",{className:"space-y-2.5",children:[e.jsx("div",{className:"p-2.5 rounded-lg border",style:{backgroundColor:"var(--warning-bg)",borderColor:"var(--warning-border)"},children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(et,{className:"w-4 h-4 mt-0.5",style:{color:"var(--warning)"}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm",style:{color:"var(--text)"},children:C.sodConflictDetails.pair}),e.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--muted)"},children:["Affects ",C.sodConflictDetails.affectedUsers," user","s"]})]})]})}),e.jsxs(L,{variant:"outline",size:"sm",className:"w-full gap-2",onClick:()=>Ae.info("Opening SoD conflicts..."),children:[e.jsx(ir,{className:"w-4 h-4"}),"Review conflicts"]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-4 text-center",children:[e.jsx(cr,{className:"w-7 h-7 mb-1.5",style:{color:"var(--success)"}}),e.jsx("p",{className:"text-sm",style:{color:"var(--muted)"},children:"No SoD conflicts detected"})]})}),e.jsx(zp,{title:"Recent Changes (7d)",icon:Ss,children:e.jsxs("div",{className:"space-y-1.5",children:[C.recentChanges.map((T,O)=>e.jsxs("div",{className:"flex items-start gap-2.5 p-1.5 rounded-md",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center mt-0.5 flex-shrink-0",style:{backgroundColor:"var(--surface)"},children:e.jsx(T.icon,{className:"w-3.5 h-3.5",style:{color:"var(--muted)"}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm",style:{color:"var(--text)"},children:T.description}),e.jsx("div",{className:"text-xs mt-0.5",style:{color:"var(--muted)"},children:T.time})]})]},O)),e.jsxs("button",{className:"w-full flex items-center justify-center gap-1.5 py-1.5 text-sm rounded-md transition-colors hover:bg-slate-50 dark:hover:bg-slate-900/50 mt-1",style:{color:"var(--primary)"},onClick:()=>Ae.info("Opening audit log..."),children:["View full audit log",e.jsx(Ka,{className:"w-4 h-4"})]})]})}),e.jsx(zp,{title:"AI Suggestions",icon:Qt,iconColor:"var(--primary)",children:e.jsx("div",{className:"space-y-2",children:C.aiSuggestions.map(T=>{const O=m.includes(T.id);return e.jsxs("div",{className:"p-2.5 rounded-lg border",style:{backgroundColor:O?"var(--info-bg)":"var(--surface)",borderColor:O?"var(--info-border)":"var(--border)"},children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1.5",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm mb-0.5",style:{color:"var(--text)"},children:T.title}),e.jsx("div",{className:"text-xs",style:{color:"var(--muted)"},children:T.description})]}),e.jsxs(J,{variant:"outline",className:"h-5 text-xs shrink-0",style:{borderColor:"var(--border)"},children:[T.confidence,"%"]})]}),!O&&e.jsx(L,{size:"sm",variant:"outline",className:"w-full h-7 text-xs",onClick:()=>k(T.id),children:"Apply"}),O&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs",style:{color:"var(--info)"},children:[e.jsx(cr,{className:"w-3.5 h-3.5"}),"Applied"]})]},T.id)})})})]})}),e.jsxs("footer",{className:"border-t backdrop-blur-sm p-2.5 flex flex-wrap gap-2 bg-white/80 dark:bg-slate-950/80 flex-shrink-0",style:{borderColor:"var(--border)"},role:"group","aria-label":"Role actions",children:[e.jsxs(L,{onClick:a,size:"sm",className:"flex-1 min-w-[120px]",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Edit Role"]}),e.jsxs(L,{variant:"outline",onClick:i,size:"sm",className:"flex-1 min-w-[120px]",children:[e.jsx(hn,{className:"w-4 h-4 mr-2"}),"Add Member"]}),e.jsxs(L,{variant:"outline",onClick:o,size:"sm",className:"flex-1 min-w-[120px]",children:[e.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Start Review"]}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[l&&e.jsxs(L,{variant:"outline",onClick:l,size:"sm",children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Export"]}),d&&e.jsxs(L,{variant:"outline",onClick:d,size:"sm",className:"border-red-200 dark:border-red-900 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950",children:[e.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Disable"]})]})]})]})]})})}function iN({label:t,value:r,delta:n,icon:s,color:a}){return e.jsxs("div",{className:"flex flex-col justify-center px-2.5 py-1.5 rounded-lg border",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("div",{className:"text-xs mb-0.5",style:{color:"var(--muted)"},children:t}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(s,{className:"w-4 h-4",style:{color:a}}),e.jsx("span",{className:"font-semibold",style:{color:"var(--text)"},children:r}),n!==0&&e.jsxs("span",{className:"text-xs flex items-center gap-0.5",style:{color:n>0?"var(--success)":"var(--danger)"},children:[n>0?e.jsx(Sa,{className:"w-3 h-3"}):e.jsx(qd,{className:"w-3 h-3"}),Math.abs(n)]})]})]})}function zp({title:t,icon:r,iconColor:n="var(--text)",children:s}){return e.jsxs("div",{className:"p-3 rounded-lg border",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[e.jsx(r,{className:"w-4 h-4",style:{color:n}}),e.jsx("h4",{className:"text-sm",style:{color:"var(--text)"},children:t})]}),s]})}var Lg="Collapsible",[nwe]=rn(Lg),[swe,P2]=nwe(Lg),$B=j.forwardRef((t,r)=>{const{__scopeCollapsible:n,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=t,[d,u]=Ns({prop:s,defaultProp:a??!1,onChange:o,caller:Lg});return e.jsx(swe,{scope:n,disabled:i,contentId:tn(),open:d,onOpenToggle:j.useCallback(()=>u(f=>!f),[u]),children:e.jsx(Fe.div,{"data-state":I2(d),"data-disabled":i?"":void 0,...l,ref:r})})});$B.displayName=Lg;var FB="CollapsibleTrigger",BB=j.forwardRef((t,r)=>{const{__scopeCollapsible:n,...s}=t,a=P2(FB,n);return e.jsx(Fe.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":I2(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:r,onClick:Re(t.onClick,a.onOpenToggle)})});BB.displayName=FB;var O2="CollapsibleContent",WB=j.forwardRef((t,r)=>{const{forceMount:n,...s}=t,a=P2(O2,t.__scopeCollapsible);return e.jsx(Fr,{present:n||a.open,children:({present:i})=>e.jsx(awe,{...s,ref:r,present:i})})});WB.displayName=O2;var awe=j.forwardRef((t,r)=>{const{__scopeCollapsible:n,present:s,children:a,...i}=t,o=P2(O2,n),[l,d]=j.useState(s),u=j.useRef(null),f=st(r,u),m=j.useRef(0),v=m.current,g=j.useRef(0),b=g.current,x=o.open||l,y=j.useRef(x),A=j.useRef(void 0);return j.useEffect(()=>{const E=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(E)},[]),kr(()=>{const E=u.current;if(E){A.current=A.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const C=E.getBoundingClientRect();m.current=C.height,g.current=C.width,y.current||(E.style.transitionDuration=A.current.transitionDuration,E.style.animationName=A.current.animationName),d(s)}},[o.open,s]),e.jsx(Fe.div,{"data-state":I2(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...i,ref:f,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:x&&a})});function I2(t){return t?"open":"closed"}var iwe=$B;function oN({...t}){return e.jsx(iwe,{"data-slot":"collapsible",...t})}function lN({...t}){return e.jsx(BB,{"data-slot":"collapsible-trigger",...t})}function cN({...t}){return e.jsx(WB,{"data-slot":"collapsible-content",...t})}class vx{static async getPermissions(){try{const{data:r,error:n}=await vt.functions.invoke("role-management",{body:{action:"get_permissions"}});if(n)throw console.error("Error fetching permissions:",n),n;return r?.permissions||[]}catch(r){return console.error("Failed to fetch permissions:",r),r.message?.includes("403")||r.message?.includes("Forbidden")?(console.log("Edge Function not available, using direct database approach for permissions"),await this.getPermissionsDirect()):this.getMockPermissions()}}static async getPermissionsDirect(){try{const{data:r,error:n}=await vt.from("permissions").select("id, key, description").order("key");if(n)throw n;return r||[]}catch(r){return console.error("Failed to fetch permissions directly:",r),this.getMockPermissions()}}static async getRoles(){try{console.log(" Fetching roles from database...");const{data:r,error:n}=await vt.from("roles").select("*").order("name",{ascending:!0});if(console.log(" Raw data from query:",r),n){console.error(" Error fetching roles from database:",n);try{console.log(" Trying Edge Function as fallback...");const{data:s,error:a}=await vt.functions.invoke("role-management",{body:{action:"get_roles"}});return a?(console.error(" Error fetching roles from Edge Function:",a),[]):(console.log(" Edge Function returned:",s?.roles||s?.data||[]),s?.roles||s?.data||[])}catch(s){return console.error(" Failed to fetch roles from Edge Function:",s),[]}}return console.log(" Database query successful, found:",r?.length||0,"roles"),console.log(" Roles:",r),r||[]}catch(r){return console.error(" Failed to fetch roles:",r),[]}}static async createRole(r){try{const{data:n,error:s}=await vt.rpc("handle_create_role",{p_name:r.name,p_description:r.description,p_permission_keys:r.permissions});if(s)throw console.error("RPC error:",s),s.message?.includes("permission denied")||s.message?.includes("Forbidden")?new Error("You do not have permission to create roles. Please contact your administrator."):s.message?.includes("User is not authenticated")?new Error("You must be logged in to create roles."):s.message?.includes("not found")?new Error("Required database function not found. Please run database migrations."):new Error(`Failed to create role: ${s.message}`);if(!n)throw new Error("Role creation failed: No data returned from server.");return{id:n,name:r.name,description:r.description,permissions:r.permissions,created_at:new Date().toISOString()}}catch(n){throw console.error("Failed to create role:",n),n}}static async assignRole(r,n){try{const{error:s}=await vt.functions.invoke("role-management",{body:{action:"assign_role",user_id:r,role_id:n}});if(s)throw console.error("Error assigning role:",s),s}catch(s){throw console.error("Failed to assign role:",s),s}}static async removeRoleAssignment(r){try{const{error:n}=await vt.functions.invoke("role-management",{body:{action:"remove_role_assignment",assignment_id:r}});if(n)throw console.error("Error removing role assignment:",n),n}catch(n){throw console.error("Failed to remove role assignment:",n),n}}static getMockPermissions(){return[{id:"1",key:"invite_create",description:"Create user invitations",category:"User Management"},{id:"2",key:"identity_view",description:"View user identities",category:"User Management"},{id:"3",key:"identity_edit",description:"Edit user identities",category:"User Management"},{id:"4",key:"identity_delete",description:"Delete user identities",category:"User Management"},{id:"5",key:"audit_view",description:"View audit logs",category:"Audit & Compliance"},{id:"6",key:"audit_export",description:"Export audit logs",category:"Audit & Compliance"},{id:"7",key:"role_manage",description:"Manage roles and permissions",category:"Role Management"},{id:"8",key:"role_assign",description:"Assign roles to users",category:"Role Management"},{id:"9",key:"org_settings_edit",description:"Edit organization settings",category:"Organization"},{id:"10",key:"org_settings_view",description:"View organization settings",category:"Organization"},{id:"11",key:"certification_manage",description:"Manage certifications",category:"Certification"},{id:"12",key:"certification_review",description:"Review certifications",category:"Certification"}]}static async getPermissionsByCategory(){const r=await this.getPermissions(),n={};return r.forEach(s=>{const a=s.category||"Other";n[a]||(n[a]=[]),n[a].push(s)}),n}static async getRolePermissions(r){try{console.log(" Fetching permissions for role:",r);const{data:n,error:s}=await vt.from("role_permissions").select(`
          permission_id,
          permissions:permission_id (
            id,
            key,
            description
          )
        `).eq("role_id",r);if(s)return console.error(" Error fetching role permissions:",s),[];const a=(n||[]).filter(i=>i.permissions).map(i=>({id:i.permissions.id,key:i.permissions.key,description:i.permissions.description||""}));return console.log(" Found permissions for role:",a),a}catch(n){return console.error(" Failed to fetch role permissions:",n),[]}}}const owe=Object.freeze(Object.defineProperty({__proto__:null,RBACService:vx},Symbol.toStringTag,{value:"Module"})),Bc=[{id:"identity-1",employeeId:"EMP00123",email:"john.smith@acme.com",firstName:"John",lastName:"Smith",displayName:"John Smith",managerId:"identity-5",managerName:"Sarah Johnson",company:"ACME Corp",division:"Technology",department:"Engineering",location:"San Francisco",employmentType:"PERMANENT",startDate:"2023-01-15",status:"ACTIVE",riskScore:25,riskLevel:"LOW",attributes:{clearance:"Standard",badge:"A123"},createdAt:"2023-01-15T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"identity-2",employeeId:"EMP00124",email:"jane.doe@acme.com",firstName:"Jane",lastName:"Doe",displayName:"Jane Doe",managerId:"identity-6",managerName:"Mike Chen",company:"ACME Corp",division:"Finance",department:"Finance",location:"New York",employmentType:"PERMANENT",startDate:"2023-03-01",status:"ACTIVE",riskScore:35,riskLevel:"MEDIUM",attributes:{clearance:"Financial",badge:"F456"},createdAt:"2023-03-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"identity-3",employeeId:"EMP00125",email:"bob.wilson@acme.com",firstName:"Bob",lastName:"Wilson",displayName:"Bob Wilson",managerId:"identity-7",managerName:"Lisa Brown",company:"ACME Corp",division:"Sales",department:"Sales",location:"Chicago",employmentType:"PERMANENT",startDate:"2023-06-15",status:"ACTIVE",riskScore:20,riskLevel:"LOW",attributes:{clearance:"Standard",badge:"S789"},createdAt:"2023-06-15T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"identity-4",employeeId:"EMP00126",email:"alice.garcia@acme.com",firstName:"Alice",lastName:"Garcia",displayName:"Alice Garcia",managerId:"identity-5",managerName:"Sarah Johnson",company:"ACME Corp",division:"Technology",department:"Engineering",location:"San Francisco",employmentType:"INTERN",startDate:"2024-01-01",status:"ACTIVE",riskScore:15,riskLevel:"LOW",attributes:{clearance:"Limited",badge:"I012"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"identity-5",employeeId:"EMP00127",email:"sarah.johnson@acme.com",firstName:"Sarah",lastName:"Johnson",displayName:"Sarah Johnson",managerId:"identity-8",managerName:"David Lee",company:"ACME Corp",division:"Technology",department:"Engineering",location:"San Francisco",employmentType:"PERMANENT",startDate:"2022-08-01",status:"ACTIVE",riskScore:45,riskLevel:"MEDIUM",attributes:{clearance:"Manager",badge:"M345"},createdAt:"2022-08-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"identity-6",employeeId:"EMP00128",email:"mike.chen@acme.com",firstName:"Mike",lastName:"Chen",displayName:"Mike Chen",managerId:"identity-9",managerName:"Jennifer Wang",company:"ACME Corp",division:"Finance",department:"Finance",location:"New York",employmentType:"PERMANENT",startDate:"2022-05-15",status:"ACTIVE",riskScore:55,riskLevel:"HIGH",attributes:{clearance:"Financial Manager",badge:"FM678"},createdAt:"2022-05-15T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"identity-7",employeeId:"EMP00129",email:"lisa.brown@acme.com",firstName:"Lisa",lastName:"Brown",displayName:"Lisa Brown",managerId:"identity-10",managerName:"Robert Taylor",company:"ACME Corp",division:"Sales",department:"Sales",location:"Chicago",employmentType:"PERMANENT",startDate:"2022-11-01",status:"ACTIVE",riskScore:30,riskLevel:"MEDIUM",attributes:{clearance:"Sales Manager",badge:"SM901"},createdAt:"2022-11-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"identity-8",employeeId:"EMP00130",email:"david.lee@acme.com",firstName:"David",lastName:"Lee",displayName:"David Lee",managerId:"identity-11",managerName:"CEO Office",company:"ACME Corp",division:"Technology",department:"Engineering",location:"San Francisco",employmentType:"PERMANENT",startDate:"2021-03-01",status:"ACTIVE",riskScore:65,riskLevel:"HIGH",attributes:{clearance:"Director",badge:"D234"},createdAt:"2021-03-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"identity-9",employeeId:"EMP00131",email:"jennifer.wang@acme.com",firstName:"Jennifer",lastName:"Wang",displayName:"Jennifer Wang",managerId:"identity-11",managerName:"CEO Office",company:"ACME Corp",division:"Finance",department:"Finance",location:"New York",employmentType:"PERMANENT",startDate:"2021-06-01",status:"ACTIVE",riskScore:70,riskLevel:"HIGH",attributes:{clearance:"CFO",badge:"CFO567"},createdAt:"2021-06-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"identity-10",employeeId:"EMP00132",email:"robert.taylor@acme.com",firstName:"Robert",lastName:"Taylor",displayName:"Robert Taylor",managerId:"identity-11",managerName:"CEO Office",company:"ACME Corp",division:"Sales",department:"Sales",location:"Chicago",employmentType:"PERMANENT",startDate:"2021-09-01",status:"ACTIVE",riskScore:60,riskLevel:"HIGH",attributes:{clearance:"VP Sales",badge:"VS890"},createdAt:"2021-09-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"identity-11",employeeId:"EMP00133",email:"ceo@acme.com",firstName:"CEO",lastName:"Office",displayName:"CEO Office",company:"ACME Corp",division:"Executive",department:"Executive",location:"San Francisco",employmentType:"PERMANENT",startDate:"2020-01-01",status:"ACTIVE",riskScore:90,riskLevel:"CRITICAL",attributes:{clearance:"Executive",badge:"CEO123"},createdAt:"2020-01-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"identity-12",employeeId:"EMP00134",email:"contractor@acme.com",firstName:"Contractor",lastName:"Smith",displayName:"Contractor Smith",managerId:"identity-5",managerName:"Sarah Johnson",company:"ACME Corp",division:"Technology",department:"Engineering",location:"Remote",employmentType:"CONTRACTOR",startDate:"2023-12-01",endDate:"2024-06-01",status:"ACTIVE",riskScore:40,riskLevel:"MEDIUM",attributes:{clearance:"Contractor",badge:"C456"},createdAt:"2023-12-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"}],lwe=[{id:"role-1",name:"Software Engineer",description:"Standard engineering role with development tools access",criticality:"MEDIUM",isBirthright:!0,category:"Engineering",owner:"identity-5",createdAt:"2023-01-01T00:00:00Z"},{id:"role-2",name:"Senior Software Engineer",description:"Advanced engineering role with production access",criticality:"HIGH",isBirthright:!1,category:"Engineering",owner:"identity-5",createdAt:"2023-01-01T00:00:00Z"},{id:"role-3",name:"Finance Analyst",description:"Financial systems and reporting access",criticality:"HIGH",isBirthright:!0,category:"Finance",owner:"identity-6",createdAt:"2023-01-01T00:00:00Z"},{id:"role-4",name:"Sales Representative",description:"CRM and sales tools access",criticality:"MEDIUM",isBirthright:!0,category:"Sales",owner:"identity-7",createdAt:"2023-01-01T00:00:00Z"},{id:"role-5",name:"Manager",description:"Management tools and team oversight access",criticality:"HIGH",isBirthright:!1,category:"Management",owner:"identity-8",createdAt:"2023-01-01T00:00:00Z"},{id:"role-6",name:"System Administrator",description:"System administration and infrastructure access",criticality:"CRITICAL",isBirthright:!1,category:"IT",owner:"identity-8",createdAt:"2023-01-01T00:00:00Z"}],cwe=[{id:"app-1",name:"GitHub",type:"Development",owner:"identity-5",description:"Code repository and collaboration platform",isActive:!0,connectorType:"OAuth2",createdAt:"2023-01-01T00:00:00Z"},{id:"app-2",name:"Salesforce",type:"CRM",owner:"identity-7",description:"Customer relationship management platform",isActive:!0,connectorType:"SAML",createdAt:"2023-01-01T00:00:00Z"},{id:"app-3",name:"Workday",type:"HRIS",owner:"identity-9",description:"Human resources information system",isActive:!0,connectorType:"SCIM",createdAt:"2023-01-01T00:00:00Z"},{id:"app-4",name:"AWS",type:"Cloud",owner:"identity-8",description:"Amazon Web Services cloud platform",isActive:!0,connectorType:"API",createdAt:"2023-01-01T00:00:00Z"},{id:"app-5",name:"Microsoft 365",type:"Productivity",owner:"identity-8",description:"Office productivity suite",isActive:!0,connectorType:"Azure AD",createdAt:"2023-01-01T00:00:00Z"}],dwe=[{id:"ent-1",applicationId:"app-1",applicationName:"GitHub",name:"Developer Access",path:"/repos/read",description:"Read access to repositories",riskLevel:"LOW",category:"Development",owner:"identity-5",isPrivileged:!1,createdAt:"2023-01-01T00:00:00Z"},{id:"ent-2",applicationId:"app-1",applicationName:"GitHub",name:"Admin Access",path:"/repos/admin",description:"Administrative access to repositories",riskLevel:"HIGH",category:"Development",owner:"identity-5",isPrivileged:!0,createdAt:"2023-01-01T00:00:00Z"},{id:"ent-3",applicationId:"app-2",applicationName:"Salesforce",name:"Sales User",path:"/sales/user",description:"Standard sales user access",riskLevel:"MEDIUM",category:"Sales",owner:"identity-7",isPrivileged:!1,createdAt:"2023-01-01T00:00:00Z"},{id:"ent-4",applicationId:"app-2",applicationName:"Salesforce",name:"Sales Admin",path:"/sales/admin",description:"Salesforce administrator access",riskLevel:"HIGH",category:"Sales",owner:"identity-7",isPrivileged:!0,createdAt:"2023-01-01T00:00:00Z"},{id:"ent-5",applicationId:"app-3",applicationName:"Workday",name:"Employee Self Service",path:"/ess",description:"Employee self-service portal",riskLevel:"LOW",category:"HR",owner:"identity-9",isPrivileged:!1,createdAt:"2023-01-01T00:00:00Z"},{id:"ent-6",applicationId:"app-3",applicationName:"Workday",name:"HR Admin",path:"/hr/admin",description:"HR administrative access",riskLevel:"HIGH",category:"HR",owner:"identity-9",isPrivileged:!0,createdAt:"2023-01-01T00:00:00Z"},{id:"ent-7",applicationId:"app-4",applicationName:"AWS",name:"Developer Access",path:"/dev",description:"AWS developer environment access",riskLevel:"MEDIUM",category:"Cloud",owner:"identity-8",isPrivileged:!1,createdAt:"2023-01-01T00:00:00Z"},{id:"ent-8",applicationId:"app-4",applicationName:"AWS",name:"Production Admin",path:"/prod/admin",description:"AWS production environment admin access",riskLevel:"CRITICAL",category:"Cloud",owner:"identity-8",isPrivileged:!0,createdAt:"2023-01-01T00:00:00Z"},{id:"ent-9",applicationId:"app-5",applicationName:"Microsoft 365",name:"Standard User",path:"/office/user",description:"Standard Office 365 user access",riskLevel:"LOW",category:"Productivity",owner:"identity-8",isPrivileged:!1,createdAt:"2023-01-01T00:00:00Z"},{id:"ent-10",applicationId:"app-5",applicationName:"Microsoft 365",name:"Global Admin",path:"/office/admin",description:"Microsoft 365 global administrator access",riskLevel:"CRITICAL",category:"Productivity",owner:"identity-8",isPrivileged:!0,createdAt:"2023-01-01T00:00:00Z"},{id:"ent-11",applicationId:"app-2",applicationName:"Salesforce",name:"Finance User",path:"/finance/user",description:"Financial reporting access in Salesforce",riskLevel:"HIGH",category:"Finance",owner:"identity-6",isPrivileged:!1,createdAt:"2023-01-01T00:00:00Z"},{id:"ent-12",applicationId:"app-4",applicationName:"AWS",name:"Security Auditor",path:"/security/audit",description:"AWS security auditing access",riskLevel:"HIGH",category:"Security",owner:"identity-8",isPrivileged:!0,createdAt:"2023-01-01T00:00:00Z"}],uwe=[{id:"jml-1",type:"JOINER",identityRef:"identity-1",identity:Bc[0],submittedBy:"identity-5",submittedByName:"Sarah Johnson",submittedAt:"2024-01-15T09:00:00Z",effectiveDate:"2024-01-20",effectiveTime:"09:00",status:"COMPLETED",riskScore:25,riskLevel:"LOW",approvals:[{id:"approval-1",step:1,approverId:"identity-5",approverName:"Sarah Johnson",approverRole:"Manager",state:"APPROVED",comments:"Approved for standard engineering access",submittedAt:"2024-01-15T10:30:00Z",dueDate:"2024-01-17T17:00:00Z",escalationLevel:0,isRequired:!0,createdAt:"2024-01-15T09:00:00Z"}],tasks:[{id:"task-1",connectorId:"app-1",connectorName:"GitHub",action:"CREATE_USER",target:"john.smith@acme.com",state:"COMPLETED",message:"User created successfully",retryCount:0,maxRetries:3,startedAt:"2024-01-20T09:00:00Z",completedAt:"2024-01-20T09:05:00Z",correlationId:"corr-1",createdAt:"2024-01-20T09:00:00Z"}],aiHints:{suggestions:[],anomalies:[],explanation:"Standard joiner process completed successfully",confidence:.95,generatedAt:"2024-01-15T09:00:00Z"},changeSet:{addedRoles:["role-1"],removedRoles:[],addedEntitlements:["ent-1","ent-9"],removedEntitlements:[],modifiedAttributes:{}},comments:"New engineering hire onboarding",correlationId:"corr-1",slaDueDate:"2024-01-22T17:00:00Z",slaBreached:!1,createdAt:"2024-01-15T09:00:00Z",updatedAt:"2024-01-20T09:05:00Z"},{id:"jml-2",type:"MOVER",identityRef:"identity-2",identity:Bc[1],submittedBy:"identity-6",submittedByName:"Mike Chen",submittedAt:"2024-01-16T14:00:00Z",effectiveDate:"2024-01-22",effectiveTime:"08:00",status:"IN_PROGRESS",riskScore:45,riskLevel:"MEDIUM",approvals:[{id:"approval-2",step:1,approverId:"identity-6",approverName:"Mike Chen",approverRole:"Manager",state:"APPROVED",comments:"Approved department transfer",submittedAt:"2024-01-16T15:30:00Z",dueDate:"2024-01-18T17:00:00Z",escalationLevel:0,isRequired:!0,createdAt:"2024-01-16T14:00:00Z"}],tasks:[{id:"task-2",connectorId:"app-2",connectorName:"Salesforce",action:"REMOVE_ACCESS",target:"jane.doe@acme.com",state:"COMPLETED",message:"Sales access removed",retryCount:0,maxRetries:3,startedAt:"2024-01-22T08:00:00Z",completedAt:"2024-01-22T08:03:00Z",correlationId:"corr-2",createdAt:"2024-01-22T08:00:00Z"},{id:"task-3",connectorId:"app-3",connectorName:"Workday",action:"UPDATE_DEPARTMENT",target:"jane.doe@acme.com",state:"IN_PROGRESS",message:"Updating department information",retryCount:0,maxRetries:3,startedAt:"2024-01-22T08:05:00Z",correlationId:"corr-2",createdAt:"2024-01-22T08:05:00Z"}],aiHints:{suggestions:[],anomalies:[{id:"anomaly-1",type:"PEER_DEVIATION",severity:"MEDIUM",title:"Cross-functional department transfer",description:"Unusual transfer between Finance and Engineering departments",signal:"Departments with different access patterns and controls",recommendation:"Verify transfer legitimacy and review access requirements",confidence:.65}],explanation:"Department transfer requires careful access review",confidence:.78,generatedAt:"2024-01-16T14:00:00Z"},changeSet:{addedRoles:["role-1"],removedRoles:["role-3"],addedEntitlements:["ent-1"],removedEntitlements:["ent-3"],modifiedAttributes:{department:{before:"Finance",after:"Engineering"}}},comments:"Department transfer from Finance to Engineering",correlationId:"corr-2",slaDueDate:"2024-01-24T17:00:00Z",slaBreached:!1,createdAt:"2024-01-16T14:00:00Z",updatedAt:"2024-01-22T08:05:00Z"},{id:"jml-3",type:"LEAVER",identityRef:"identity-3",identity:Bc[2],submittedBy:"identity-7",submittedByName:"Lisa Brown",submittedAt:"2024-01-17T16:00:00Z",effectiveDate:"2024-01-19",effectiveTime:"17:00",status:"COMPLETED",riskScore:20,riskLevel:"LOW",approvals:[{id:"approval-3",step:1,approverId:"identity-7",approverName:"Lisa Brown",approverRole:"Manager",state:"APPROVED",comments:"Approved voluntary termination",submittedAt:"2024-01-17T17:30:00Z",dueDate:"2024-01-19T17:00:00Z",escalationLevel:0,isRequired:!0,createdAt:"2024-01-17T16:00:00Z"}],tasks:[{id:"task-4",connectorId:"app-2",connectorName:"Salesforce",action:"DISABLE_USER",target:"bob.wilson@acme.com",state:"COMPLETED",message:"User disabled successfully",retryCount:0,maxRetries:3,startedAt:"2024-01-19T17:00:00Z",completedAt:"2024-01-19T17:02:00Z",correlationId:"corr-3",createdAt:"2024-01-19T17:00:00Z"},{id:"task-5",connectorId:"app-5",connectorName:"Microsoft 365",action:"REMOVE_LICENSE",target:"bob.wilson@acme.com",state:"COMPLETED",message:"License removed successfully",retryCount:0,maxRetries:3,startedAt:"2024-01-19T17:05:00Z",completedAt:"2024-01-19T17:07:00Z",correlationId:"corr-3",createdAt:"2024-01-19T17:05:00Z"}],aiHints:{suggestions:[],anomalies:[],explanation:"Standard leaver process completed successfully",confidence:.92,generatedAt:"2024-01-17T16:00:00Z"},changeSet:{addedRoles:[],removedRoles:["role-4"],addedEntitlements:[],removedEntitlements:["ent-3","ent-9"],modifiedAttributes:{status:{before:"ACTIVE",after:"TERMINATED"}}},comments:"Voluntary termination - standard offboarding",correlationId:"corr-3",slaDueDate:"2024-01-21T17:00:00Z",slaBreached:!1,createdAt:"2024-01-17T16:00:00Z",updatedAt:"2024-01-19T17:07:00Z"},{id:"jml-4",type:"JOINER",identityRef:"identity-4",identity:Bc[3],submittedBy:"identity-5",submittedByName:"Sarah Johnson",submittedAt:"2024-01-18T10:00:00Z",effectiveDate:"2024-01-22",effectiveTime:"09:00",status:"PENDING_APPROVAL",riskScore:15,riskLevel:"LOW",approvals:[{id:"approval-4",step:1,approverId:"identity-5",approverName:"Sarah Johnson",approverRole:"Manager",state:"PENDING",dueDate:"2024-01-20T17:00:00Z",escalationLevel:0,isRequired:!0,createdAt:"2024-01-18T10:00:00Z"}],tasks:[],aiHints:{suggestions:[{id:"suggest-1",type:"ROLE",title:"Intern Developer Role",description:"Limited development access for intern",confidence:.88,rationale:"Intern-specific role with restricted access",riskLevel:"LOW",peerComparison:{similarIdentities:8,averageAccess:["GitHub Read","Jira Basic"]}}],anomalies:[],explanation:"Intern onboarding with limited access",confidence:.88,generatedAt:"2024-01-18T10:00:00Z"},changeSet:{addedRoles:["role-1"],removedRoles:[],addedEntitlements:["ent-1"],removedEntitlements:[],modifiedAttributes:{}},comments:"Intern onboarding for engineering department",correlationId:"corr-4",slaDueDate:"2024-01-24T17:00:00Z",slaBreached:!1,createdAt:"2024-01-18T10:00:00Z",updatedAt:"2024-01-18T10:00:00Z"},{id:"jml-5",type:"JOINER",identityRef:"identity-12",identity:Bc[11],submittedBy:"identity-5",submittedByName:"Sarah Johnson",submittedAt:"2024-01-19T11:00:00Z",effectiveDate:"2024-01-25",effectiveTime:"09:00",status:"FAILED",riskScore:40,riskLevel:"MEDIUM",approvals:[{id:"approval-5",step:1,approverId:"identity-5",approverName:"Sarah Johnson",approverRole:"Manager",state:"APPROVED",comments:"Approved contractor access",submittedAt:"2024-01-19T12:30:00Z",dueDate:"2024-01-21T17:00:00Z",escalationLevel:0,isRequired:!0,createdAt:"2024-01-19T11:00:00Z"}],tasks:[{id:"task-6",connectorId:"app-1",connectorName:"GitHub",action:"CREATE_USER",target:"contractor@acme.com",state:"FAILED",message:"Failed to create user: Email domain not authorized",retryCount:2,maxRetries:3,startedAt:"2024-01-25T09:00:00Z",errorDetails:"Contractor email domain not in allowed list",correlationId:"corr-5",createdAt:"2024-01-25T09:00:00Z"}],aiHints:{suggestions:[],anomalies:[{id:"anomaly-2",type:"ACCESS_RISK",severity:"MEDIUM",title:"Contractor with elevated access",description:"Contractor requesting access typically reserved for permanent employees",signal:"Employment type vs. requested access mismatch",recommendation:"Review contractor access policies",confidence:.75}],explanation:"Contractor onboarding requires special approval",confidence:.75,generatedAt:"2024-01-19T11:00:00Z"},changeSet:{addedRoles:["role-1"],removedRoles:[],addedEntitlements:["ent-1"],removedEntitlements:[],modifiedAttributes:{}},comments:"Contractor onboarding - requires special handling",correlationId:"corr-5",slaDueDate:"2024-01-27T17:00:00Z",slaBreached:!1,createdAt:"2024-01-19T11:00:00Z",updatedAt:"2024-01-25T09:15:00Z"}],hwe=[{id:"policy-1",name:"Engineering Birthright",type:"BIRTHRIGHT",description:"Standard access for engineering department employees",rule:{conditions:[{field:"department",operator:"EQUALS",value:"Engineering"},{field:"employmentType",operator:"EQUALS",value:"PERMANENT",logicalOperator:"AND"}],actions:[{type:"GRANT_ROLE",target:"role-1"},{type:"GRANT_ENTITLEMENT",target:"ent-1"}],priority:1},isActive:!0,owner:"identity-5",createdAt:"2023-01-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"policy-2",name:"Finance Birthright",type:"BIRTHRIGHT",description:"Standard access for finance department employees",rule:{conditions:[{field:"department",operator:"EQUALS",value:"Finance"},{field:"employmentType",operator:"EQUALS",value:"PERMANENT",logicalOperator:"AND"}],actions:[{type:"GRANT_ROLE",target:"role-3"},{type:"GRANT_ENTITLEMENT",target:"ent-5"}],priority:1},isActive:!0,owner:"identity-6",createdAt:"2023-01-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"policy-3",name:"SoD - Finance Approver + Payment Processor",type:"SOD",description:"Prevent finance approvers from processing payments",rule:{conditions:[{field:"roles",operator:"CONTAINS",value:"Finance Approver"},{field:"entitlements",operator:"CONTAINS",value:"Payment Processor",logicalOperator:"AND"}],actions:[{type:"DENY_ACCESS",target:"Payment Processor"}],priority:1},isActive:!0,owner:"identity-9",createdAt:"2023-01-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"policy-4",name:"SoD - Production Admin + Security Auditor",type:"SOD",description:"Prevent production admins from auditing their own changes",rule:{conditions:[{field:"entitlements",operator:"CONTAINS",value:"Production Admin"},{field:"entitlements",operator:"CONTAINS",value:"Security Auditor",logicalOperator:"AND"}],actions:[{type:"DENY_ACCESS",target:"Security Auditor"}],priority:1},isActive:!0,owner:"identity-8",createdAt:"2023-01-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"}],mwe=[{id:"sod-1",ruleId:"policy-3",ruleName:"SoD - Finance Approver + Payment Processor",conflictingRoles:["Finance Approver"],conflictingEntitlements:["Payment Processor"],severity:"HIGH",description:"Finance approvers cannot process payments",mitigationOptions:["Require additional approval","Implement dual control","Use automated approval"],isActive:!0},{id:"sod-2",ruleId:"policy-4",ruleName:"SoD - Production Admin + Security Auditor",conflictingRoles:[],conflictingEntitlements:["Production Admin","Security Auditor"],severity:"CRITICAL",description:"Production admins cannot audit their own changes",mitigationOptions:["Separate audit role","Implement automated auditing","Require external review"],isActive:!0}],fwe={totalRequests:47,pendingApprovals:8,inProgressTasks:12,averageCycleTime:2.3,openFailures:3,highRiskJoiners:2,slaBreaches:1,sodViolations:2},pwe=[{date:"2024-01-08",joiners:3,movers:2,leavers:1,riskDistribution:{LOW:4,MEDIUM:2,HIGH:0,CRITICAL:0},slaBreaches:0},{date:"2024-01-09",joiners:2,movers:1,leavers:2,riskDistribution:{LOW:3,MEDIUM:2,HIGH:0,CRITICAL:0},slaBreaches:0},{date:"2024-01-10",joiners:4,movers:3,leavers:1,riskDistribution:{LOW:5,MEDIUM:3,HIGH:0,CRITICAL:0},slaBreaches:0},{date:"2024-01-11",joiners:1,movers:2,leavers:3,riskDistribution:{LOW:4,MEDIUM:2,HIGH:0,CRITICAL:0},slaBreaches:0},{date:"2024-01-12",joiners:3,movers:1,leavers:2,riskDistribution:{LOW:4,MEDIUM:2,HIGH:0,CRITICAL:0},slaBreaches:0},{date:"2024-01-13",joiners:2,movers:4,leavers:1,riskDistribution:{LOW:5,MEDIUM:2,HIGH:0,CRITICAL:0},slaBreaches:0},{date:"2024-01-14",joiners:5,movers:2,leavers:2,riskDistribution:{LOW:6,MEDIUM:3,HIGH:0,CRITICAL:0},slaBreaches:1}];class vwe{identities=[...Bc];roles=[...lwe];entitlements=[...dwe];applications=[...cwe];jmlRequests=[...uwe];policies=[...hwe];sodConflicts=[...mwe];getIdentities(){return this.identities}getIdentity(r){return this.identities.find(n=>n.id===r)}getRoles(){return this.roles}getRole(r){return this.roles.find(n=>n.id===r)}getEntitlements(){return this.entitlements}getEntitlement(r){return this.entitlements.find(n=>n.id===r)}getApplications(){return this.applications}getApplication(r){return this.applications.find(n=>n.id===r)}getJmlRequests(){return this.jmlRequests}getJmlRequest(r){return this.jmlRequests.find(n=>n.id===r)}createJmlRequest(r){const n={...r,id:`jml-${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.jmlRequests.push(n),n}updateJmlRequest(r,n){const s=this.jmlRequests.findIndex(a=>a.id===r);if(s!==-1)return this.jmlRequests[s]={...this.jmlRequests[s],...n,updatedAt:new Date().toISOString()},this.jmlRequests[s]}getPolicies(){return this.policies}getPolicy(r){return this.policies.find(n=>n.id===r)}getSodConflicts(){return this.sodConflicts}getMetrics(){return fwe}getTrends(){return pwe}}async function xwe(){const{data:t,error:r}=await vt.from("v_entitlements").select("*").order("app");if(r)throw r;return t||[]}async function gwe(){const{data:t,error:r}=await vt.from("v_applications").select("*").order("name");if(r)throw r;return t||[]}const Qr=new vwe,ywe=[{title:"Total Roles",value:"247",change:"+12",changeType:"positive",trend:"up",icon:bt,sparklineData:[10,15,12,18,22,19,24]},{title:"Entitlements",value:"1,834",change:"+43",changeType:"positive",trend:"up",icon:So,sparklineData:[120,135,142,138,155,162,183]},{title:"Applications",value:"89",change:"+5",changeType:"positive",trend:"up",icon:js,sparklineData:[75,78,81,83,85,87,89]},{title:"SoD Conflicts",value:"14",change:"-3",changeType:"positive",trend:"down",icon:et,iconColor:"var(--warning)",sparklineData:[22,20,18,17,16,15,14]}],dN=[{id:"R-1001",name:"Financial Controller",description:"Full financial system access with approval authority",owner:{name:"Sarah Johnson",avatar:"SJ"},members:12,applications:["Procurement","QuickBooks","Treasury"],risk:"High",sodConflicts:3,updated:"2 days ago"},{id:"R-1002",name:"Engineering Lead",description:"Development and production environment access",owner:{name:"Michael Chen",avatar:"MC"},members:45,applications:["GitHub","AWS","Jenkins"],risk:"Medium",sodConflicts:0,updated:"1 week ago"},{id:"R-1003",name:"HR Manager",description:"Human resources management and payroll access",owner:{name:"Emily Davis",avatar:"ED"},members:8,applications:["Workday","BambooHR","ADP"],risk:"Medium",sodConflicts:1,updated:"3 days ago"},{id:"R-1004",name:"Auditor",description:"Read-only access to all systems for compliance",owner:{name:"James Wilson",avatar:"JW"},members:6,applications:["Splunk","QuickBooks","SharePoint"],risk:"Low",sodConflicts:0,updated:"1 day ago"}],YM=[{id:"U-101",name:"Carol White",email:"carol.white@company.com",dept:"Finance",lastUsed:"3 days ago"},{id:"U-102",name:"Edward Kim",email:"edward.kim@company.com",dept:"Procurement",lastUsed:"1 hour ago"},{id:"U-103",name:"Fiona Green",email:"fiona.green@company.com",dept:"Finance",lastUsed:"5 hours ago"},{id:"U-104",name:"George Harris",email:"george.harris@company.com",dept:"Operations",lastUsed:"2 days ago"},{id:"U-105",name:"Hannah Lee",email:"hannah.lee@company.com",dept:"Finance",lastUsed:"3 hours ago"},{id:"U-106",name:"Ian Rodriguez",email:"ian.rodriguez@company.com",dept:"Procurement",lastUsed:"1 day ago"},{id:"U-107",name:"Julia Thompson",email:"julia.thompson@company.com",dept:"Finance",lastUsed:"4 hours ago"},{id:"U-108",name:"Kevin Wright",email:"kevin.wright@company.com",dept:"Operations",lastUsed:"6 hours ago"}],ZM={"Financial Controller":[{id:"U-201",name:"Alice Cooper",email:"alice.cooper@company.com",dept:"Finance",lastUsed:"2 hours ago"},{id:"U-202",name:"David Brown",email:"david.brown@company.com",dept:"Finance",lastUsed:"5 hours ago"},{id:"U-203",name:"Laura Martinez",email:"laura.martinez@company.com",dept:"Finance",lastUsed:"1 day ago"},{id:"U-204",name:"Marcus Johnson",email:"marcus.johnson@company.com",dept:"Finance",lastUsed:"3 hours ago"},{id:"U-205",name:"Nina Patel",email:"nina.patel@company.com",dept:"Finance",lastUsed:"7 hours ago"},{id:"U-206",name:"Oliver Chen",email:"oliver.chen@company.com",dept:"Finance",lastUsed:"2 days ago"},{id:"U-207",name:"Patricia Davis",email:"patricia.davis@company.com",dept:"Finance",lastUsed:"4 hours ago"},{id:"U-208",name:"Quinn Roberts",email:"quinn.roberts@company.com",dept:"Finance",lastUsed:"1 hour ago"},{id:"U-209",name:"Rachel Kim",email:"rachel.kim@company.com",dept:"Finance",lastUsed:"5 hours ago"},{id:"U-210",name:"Steven Lee",email:"steven.lee@company.com",dept:"Finance",lastUsed:"8 hours ago"},{id:"U-211",name:"Tina Wang",email:"tina.wang@company.com",dept:"Finance",lastUsed:"3 days ago"},{id:"U-212",name:"Uma Singh",email:"uma.singh@company.com",dept:"Finance",lastUsed:"6 hours ago"}],"Procurement Manager":[{id:"U-301",name:"Bob Martinez",email:"bob.martinez@company.com",dept:"Procurement",lastUsed:"1 day ago"},{id:"U-302",name:"Victor Brown",email:"victor.brown@company.com",dept:"Procurement",lastUsed:"2 hours ago"},{id:"U-303",name:"Wendy Clark",email:"wendy.clark@company.com",dept:"Procurement",lastUsed:"4 hours ago"},{id:"U-304",name:"Xavier Moore",email:"xavier.moore@company.com",dept:"Procurement",lastUsed:"1 hour ago"},{id:"U-305",name:"Yolanda Taylor",email:"yolanda.taylor@company.com",dept:"Procurement",lastUsed:"3 hours ago"},{id:"U-306",name:"Zachary White",email:"zachary.white@company.com",dept:"Procurement",lastUsed:"5 hours ago"},{id:"U-307",name:"Amy Wilson",email:"amy.wilson@company.com",dept:"Procurement",lastUsed:"2 days ago"},{id:"U-308",name:"Brian Anderson",email:"brian.anderson@company.com",dept:"Procurement",lastUsed:"6 hours ago"},{id:"U-309",name:"Catherine Lewis",email:"catherine.lewis@company.com",dept:"Procurement",lastUsed:"1 day ago"},{id:"U-310",name:"Daniel Harris",email:"daniel.harris@company.com",dept:"Procurement",lastUsed:"7 hours ago"},{id:"U-311",name:"Emma Thompson",email:"emma.thompson@company.com",dept:"Procurement",lastUsed:"3 hours ago"},{id:"U-312",name:"Frank Garcia",email:"frank.garcia@company.com",dept:"Procurement",lastUsed:"8 hours ago"},{id:"U-313",name:"Grace Miller",email:"grace.miller@company.com",dept:"Procurement",lastUsed:"4 hours ago"},{id:"U-314",name:"Henry Davis",email:"henry.davis@company.com",dept:"Procurement",lastUsed:"2 hours ago"},{id:"U-315",name:"Iris Martinez",email:"iris.martinez@company.com",dept:"Procurement",lastUsed:"5 hours ago"},{id:"U-316",name:"Jack Robinson",email:"jack.robinson@company.com",dept:"Procurement",lastUsed:"1 day ago"},{id:"U-317",name:"Kelly Young",email:"kelly.young@company.com",dept:"Procurement",lastUsed:"9 hours ago"},{id:"U-318",name:"Luke Walker",email:"luke.walker@company.com",dept:"Procurement",lastUsed:"6 hours ago"}]};function $p(){const t=$r(),r=ks(),[n,s]=j.useState(dN),[a,i]=j.useState(!1),o=j.useMemo(()=>{const ae=r.pathname;return ae==="/access/entitlements"?"entitlements":ae.startsWith("/access/apps")?"applications":"roles"},[r.pathname]);$.useEffect(()=>{o==="roles"?l():o==="entitlements"?d():o==="applications"&&u()},[o]);const l=async()=>{try{console.log(" Loading roles..."),i(!0);const ae=await vx.getRoles();if(console.log(" Roles data received:",ae),ae&&ae.length>0){console.log(` Found ${ae.length} roles`);const ft=ae.map(lt=>{console.log(" Processing role:",lt);let Ur="System",As="SY";return(lt.created_by||lt.created_by_id)&&(Ur="You",As="YO"),{id:lt.id,name:lt.name||"Unnamed Role",description:lt.description||"",owner:{name:Ur,avatar:As},members:lt.assigned_user_count||lt.members||0,applications:[],risk:"Medium",sodConflicts:0,updated:"Just now",created_at:lt.created_at}});console.log(" Transformed roles:",ft),s(ft)}else console.log(" No roles found in database, using mockRoles"),s(dN)}catch(ae){console.error(" Failed to load roles:",ae),s(dN)}finally{i(!1)}},d=async()=>{try{x(!0);const ae=await xwe();g(ae)}catch(ae){console.error(" Failed to load entitlements:",ae),g([])}finally{x(!1)}},u=async()=>{try{C(!0);const ae=await gwe();A(ae)}catch(ae){console.error(" Failed to load applications:",ae),A([])}finally{C(!1)}},[f,m]=j.useState(""),[v,g]=j.useState([]),[b,x]=j.useState(!1),[y,A]=j.useState([]),[E,C]=j.useState(!1),[w,k]=j.useState(null),[S,R]=j.useState(!1),[T,O]=j.useState(!1),[U,D]=j.useState({owner:[],risk:[],app:[],updated:[]}),[I,B]=j.useState(!1),[M,W]=j.useState(!1),[V,Q]=j.useState(!1),[H,X]=j.useState(!1),[K,z]=j.useState(null),[q,ee]=j.useState(!1),[oe,ce]=j.useState(!1),[ye,de]=j.useState(!1),[fe,he]=j.useState(null),[re,ge]=j.useState({reviewType:"quarterly",assignedTo:"",dueDate:""}),[le,Ye]=j.useState(""),_e=ae=>{ae==="roles"?t("/access/roles"):ae==="entitlements"?t("/access/entitlements"):ae==="applications"&&t("/access/apps")},Et=ae=>{k(ae),R(!0)},kt=()=>{R(!1),setTimeout(()=>{w&&t(`/access/roles/${w.id}`)},100)},jt=ae=>{z(ae),B(!0)},Br=ae=>{z(ae),W(!0)},er=ae=>{z(ae),ge({reviewType:"quarterly",assignedTo:"",dueDate:""}),Q(!0)},gr=ae=>{z(ae),Ye(""),X(!0)},yr=()=>{Ae.success("Role updated successfully",{description:`Changes to "${K?.name}" have been saved`}),B(!1)},It=()=>{Ae.success("Members added successfully",{description:`New members have been added to "${K?.name}"`}),W(!1)},br=()=>{Ae.success("Access review created",{description:`Review campaign for "${K?.name}" has been scheduled`}),Q(!1)},Zs=()=>{le===K?.name&&(Ae.success("Role deleted successfully",{description:`"${K?.name}" has been removed`}),X(!1))},Cs=ae=>{t(`/access/entitlements/${ae.id}`)},Xs=ae=>{he(ae),ce(!0)},ti=ae=>{he(ae),de(!0)},Hn=()=>{Ae.success("Entitlement decommissioned",{description:`"${fe?.name}" has been removed from all users`}),de(!1)},zn=(ae,ft)=>{D(lt=>{const Ur=lt[ae]||[],As=Ur.includes(ft);return{...lt,[ae]:As?Ur.filter(Es=>Es!==ft):[...Ur,ft]}})},Wr=(ae,ft)=>{D(lt=>({...lt,[ae]:(lt[ae]||[]).filter(Ur=>Ur!==ft)}))},Vn=()=>{D({owner:[],risk:[],app:[],updated:[]})},qt=j.useMemo(()=>Object.values(U).flat().length,[U]);return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-4 lg:p-6 max-w-[1320px] mx-auto w-full",children:[e.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"var(--text-display)",lineHeight:"var(--line-height-display)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Roles & Entitlements"}),e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--muted-foreground)",marginTop:"8px"},children:"Manage roles, entitlements, and application access"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:ywe.map((ae,ft)=>e.jsx(xi,{title:ae.title,value:ae.value,change:ae.change,changeType:ae.changeType,trend:ae.trend,icon:ae.icon,iconColor:ae.iconColor,sparklineData:ae.sparklineData},ft))}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[e.jsx(kB,{value:o,onChange:_e,tabs:[{value:"roles",label:"Roles"},{value:"entitlements",label:"Entitlements"},{value:"applications",label:"Applications"}]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Oi,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Import"})]}),e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(xr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),e.jsxs(L,{size:"sm",className:"gap-2",onClick:()=>t("/access/roles/new"),children:[e.jsx(At,{className:"w-4 h-4"}),"New Role"]})]})]})]}),o==="roles"&&e.jsxs("div",{className:"flex flex-col gap-4",children:[a&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Loading roles..."})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx(pe,{placeholder:"Search roles...",value:f,onChange:ae=>m(ae.target.value),className:"pl-9"})]}),e.jsxs(Si,{open:T,onOpenChange:O,children:[e.jsx(ki,{asChild:!0,children:e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(ns,{className:"w-4 h-4"}),"Filters",qt>0&&e.jsx(J,{variant:"secondary",children:qt})]})}),e.jsx(Ci,{className:"w-80",align:"end",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Filters"}),qt>0&&e.jsx(L,{variant:"ghost",size:"sm",onClick:Vn,className:"h-auto py-1 px-2 text-xs",children:"Clear all"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-xs text-muted-foreground mb-2 block",children:"Risk Level"}),e.jsx("div",{className:"flex flex-col gap-2",children:["Critical","High","Medium","Low"].map(ae=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{id:`risk-${ae}`,checked:U.risk?.includes(ae),onCheckedChange:()=>zn("risk",ae)}),e.jsx(G,{htmlFor:`risk-${ae}`,className:"text-sm cursor-pointer",children:ae})]},ae))})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-xs text-muted-foreground mb-2 block",children:"Owner"}),e.jsx("div",{className:"flex flex-col gap-2",children:["Sarah Johnson","Michael Chen","Emily Davis","James Wilson"].map(ae=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{id:`owner-${ae}`,checked:U.owner?.includes(ae),onCheckedChange:()=>zn("owner",ae)}),e.jsx(G,{htmlFor:`owner-${ae}`,className:"text-sm cursor-pointer",children:ae})]},ae))})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-xs text-muted-foreground mb-2 block",children:"Application"}),e.jsx("div",{className:"flex flex-col gap-2",children:["AWS","GitHub","Workday","QuickBooks","Salesforce"].map(ae=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{id:`app-${ae}`,checked:U.app?.includes(ae),onCheckedChange:()=>zn("app",ae)}),e.jsx(G,{htmlFor:`app-${ae}`,className:"text-sm cursor-pointer",children:ae})]},ae))})]})]})]})})]})]}),qt>0&&e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:Object.entries(U).map(([ae,ft])=>ft.map(lt=>e.jsx(Cl,{label:lt,onRemove:()=>Wr(ae,lt)},`${ae}-${lt}`)))})]}),e.jsx("div",{className:"rounded-lg border overflow-hidden",style:{borderColor:"var(--border)"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{style:{minWidth:"300px"},children:"Role"}),e.jsx(we,{style:{minWidth:"140px"},children:"Owner"}),e.jsx(we,{style:{minWidth:"100px"},children:"Members"}),e.jsx(we,{style:{minWidth:"140px"},children:"Applications"}),e.jsx(we,{style:{minWidth:"100px"},children:"Risk"}),e.jsx(we,{style:{minWidth:"100px"},children:"SoD"}),e.jsx(we,{style:{minWidth:"120px"},children:"Updated"}),e.jsx(we,{className:"w-12"})]})}),e.jsx(kn,{children:n.map(ae=>e.jsxs(St,{onClick:()=>Et(ae),className:"cursor-pointer hover:bg-accent/50 transition-colors",children:[e.jsx(be,{children:e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:ae.name}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginTop:"2px"},children:ae.description})]})}),e.jsx(be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mn,{className:"w-7 h-7",children:e.jsx(Ln,{style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)",color:"white",fontSize:"var(--text-xs)"},children:ae.owner.avatar})}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:ae.owner.name.split(" ")[0]})]})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:ae.members})}),e.jsx(be,{children:e.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[ae.applications.slice(0,2).map((ft,lt)=>e.jsx(J,{variant:"secondary",style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-medium)"},children:ft},lt)),ae.applications.length>2&&e.jsxs(J,{variant:"outline",style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:["+",ae.applications.length-2]})]})}),e.jsx(be,{children:e.jsx(mr,{risk:ae.risk,size:"sm"})}),e.jsx(be,{children:ae.sodConflicts>0?e.jsx(dx,{count:ae.sodConflicts}):e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"None"})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:ae.updated})}),e.jsx(be,{onClick:ft=>ft.stopPropagation(),children:e.jsxs(ya,{children:[e.jsx(ba,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(rv,{className:"w-4 h-4"})})}),e.jsxs(ja,{align:"end",children:[e.jsxs(Ct,{onSelect:()=>t(`/access/roles/${ae.id}`),children:[e.jsx(ir,{className:"w-4 h-4 mr-2"}),"View Details"]}),e.jsxs(Ct,{onSelect:()=>jt(ae),children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Edit Role"]}),e.jsxs(Ct,{onSelect:()=>Br(ae),children:[e.jsx(hn,{className:"w-4 h-4 mr-2"}),"Add Member"]}),e.jsxs(Ct,{onSelect:()=>er(ae),children:[e.jsx(GG,{className:"w-4 h-4 mr-2"}),"Start Review"]}),e.jsx(Mi,{}),e.jsxs(Ct,{className:"text-destructive",onSelect:()=>gr(ae),children:[e.jsx(Al,{className:"w-4 h-4 mr-2"}),"Delete Role"]})]})]})})]},ae.id))})]})})})]}),o==="entitlements"&&e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx(pe,{placeholder:"Search entitlements...",value:f,onChange:ae=>m(ae.target.value),className:"pl-9"})]}),e.jsxs(Si,{open:T,onOpenChange:O,children:[e.jsx(ki,{asChild:!0,children:e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(ns,{className:"w-4 h-4"}),"Filters",qt>0&&e.jsx(J,{variant:"secondary",children:qt})]})}),e.jsx(Ci,{className:"w-80",align:"end",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Filters"}),qt>0&&e.jsx(L,{variant:"ghost",size:"sm",onClick:Vn,className:"h-auto py-1 px-2 text-xs",children:"Clear all"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-xs text-muted-foreground mb-2 block",children:"Risk Level"}),e.jsx("div",{className:"flex flex-col gap-2",children:["Critical","High","Medium","Low"].map(ae=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{id:`risk-${ae}`,checked:U.risk?.includes(ae),onCheckedChange:()=>zn("risk",ae)}),e.jsx(G,{htmlFor:`risk-${ae}`,className:"text-sm cursor-pointer",children:ae})]},ae))})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-xs text-muted-foreground mb-2 block",children:"Application"}),e.jsx("div",{className:"flex flex-col gap-2",children:["AWS","Workday","Procurement","Splunk"].map(ae=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{id:`app-${ae}`,checked:U.app?.includes(ae),onCheckedChange:()=>zn("app",ae)}),e.jsx(G,{htmlFor:`app-${ae}`,className:"text-sm cursor-pointer",children:ae})]},ae))})]})]})]})})]})]}),qt>0&&e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:Object.entries(U).map(([ae,ft])=>ft.map(lt=>e.jsx(Cl,{label:lt,onRemove:()=>Wr(ae,lt)},`${ae}-${lt}`)))})]}),e.jsx("div",{className:"rounded-lg border overflow-hidden",style:{borderColor:"var(--border)"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{style:{minWidth:"250px"},children:"Entitlement"}),e.jsx(we,{style:{minWidth:"140px"},children:"Application"}),e.jsx(we,{style:{minWidth:"100px"},children:"Assigned"}),e.jsx(we,{style:{minWidth:"120px"},children:"Last Used"}),e.jsx(we,{style:{minWidth:"140px"},children:"Owner"}),e.jsx(we,{style:{minWidth:"100px"},children:"Risk"}),e.jsx(we,{style:{minWidth:"100px"},children:"SoD"}),e.jsx(we,{className:"w-12"})]})}),e.jsx(kn,{children:(b?[]:v).map(ae=>e.jsxs(St,{className:"cursor-pointer hover:bg-accent/50",children:[e.jsx(be,{children:e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:ae.key?.replace(/_/g," ").replace(/\b\w/g,ft=>ft.toUpperCase())||ae.name})}),e.jsx(be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{style:{fontSize:"16px"},children:ae.app_icon||""}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:ae.app})]})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:ae.assigned||0})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:ae.lastUsed||""})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:ae.owner||""})}),e.jsx(be,{children:e.jsx(mr,{risk:ae.risk||"Medium",size:"sm"})}),e.jsx(be,{children:(ae.sod_conflicts||ae.sodConflicts)>0?e.jsx(dx,{count:ae.sod_conflicts||ae.sodConflicts}):e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"None"})}),e.jsx(be,{children:e.jsxs(ya,{children:[e.jsx(ba,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(rv,{className:"w-4 h-4"})})}),e.jsxs(ja,{align:"end",children:[e.jsxs(Ct,{onSelect:()=>Cs(ae),children:[e.jsx(ir,{className:"w-4 h-4 mr-2"}),"View Details"]}),e.jsxs(Ct,{onSelect:()=>Xs(ae),children:[e.jsx(Ba,{className:"w-4 h-4 mr-2"}),"View Access Paths"]}),e.jsx(Mi,{}),e.jsxs(Ct,{className:"text-destructive",onSelect:()=>ti(ae),children:[e.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Decommission"]})]})]})})]},ae.id))})]})})})]}),o==="applications"&&e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx(pe,{placeholder:"Search applications...",value:f,onChange:ae=>m(ae.target.value),className:"pl-9"})]}),e.jsxs(Si,{open:T,onOpenChange:O,children:[e.jsx(ki,{asChild:!0,children:e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(ns,{className:"w-4 h-4"}),"Filters",qt>0&&e.jsx(J,{variant:"secondary",children:qt})]})}),e.jsx(Ci,{className:"w-80",align:"end",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Filters"}),qt>0&&e.jsx(L,{variant:"ghost",size:"sm",onClick:Vn,className:"h-auto py-1 px-2 text-xs",children:"Clear all"})]}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs("div",{children:[e.jsx(G,{className:"text-xs text-muted-foreground mb-2 block",children:"Risk Level"}),e.jsx("div",{className:"flex flex-col gap-2",children:["Critical","High","Medium","Low"].map(ae=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{id:`risk-${ae}`,checked:U.risk?.includes(ae),onCheckedChange:()=>zn("risk",ae)}),e.jsx(G,{htmlFor:`risk-${ae}`,className:"text-sm cursor-pointer",children:ae})]},ae))})]})})]})})]})]}),qt>0&&e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:Object.entries(U).map(([ae,ft])=>ft.map(lt=>e.jsx(Cl,{label:lt,onRemove:()=>Wr(ae,lt)},`${ae}-${lt}`)))})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(E?[]:y).map(ae=>e.jsx(kje,{app:ae,onClick:()=>t(`/access/apps/${ae.id}`)},ae.id))})]})]}),e.jsx(rwe,{role:w,open:S,onOpenChange:R,onViewDetails:kt,onEdit:()=>{w&&(jt(w),R(!1))},onAddMember:()=>{w&&(Br(w),R(!1))},onStartReview:()=>{w&&(er(w),R(!1))},onExport:()=>{Ae.success("Exporting role members...")},onDisable:()=>{w&&Ae.info(`Disabling role: ${w.name}`)}}),e.jsx(Zr,{open:I,onOpenChange:B,children:e.jsxs(Or,{children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Edit Role"}),e.jsxs(Mr,{children:['Update role details for "',K?.name,'"']})]}),e.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(G,{htmlFor:"role-name",children:"Role Name"}),e.jsx(pe,{id:"role-name",defaultValue:K?.name})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(G,{htmlFor:"role-description",children:"Description"}),e.jsx(mn,{id:"role-description",defaultValue:K?.description,rows:3})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(G,{htmlFor:"role-owner",children:"Owner"}),e.jsxs(Me,{defaultValue:K?.owner.name,children:[e.jsx(ze,{id:"role-owner",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"Sarah Johnson",children:"Sarah Johnson"}),e.jsx(Z,{value:"Michael Chen",children:"Michael Chen"}),e.jsx(Z,{value:"Emily Davis",children:"Emily Davis"}),e.jsx(Z,{value:"James Wilson",children:"James Wilson"})]})]})]})]}),e.jsxs(yn,{children:[e.jsx(L,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),e.jsx(L,{onClick:yr,children:"Save Changes"})]})]})}),e.jsx(Zr,{open:M,onOpenChange:W,children:e.jsxs(Or,{children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Add Members"}),e.jsxs(Mr,{children:['Add users to "',K?.name,'"']})]}),e.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(G,{htmlFor:"search-users",children:"Search Users"}),e.jsx(pe,{id:"search-users",placeholder:"Search by name, email, or department..."})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(G,{children:"Select Users"}),e.jsx("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)",maxHeight:"240px",overflowY:"auto"},children:e.jsx("div",{className:"flex flex-col gap-3",children:["Alice Cooper","Bob Martinez","Carol White","David Brown"].map((ae,ft)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{id:`user-${ft}`}),e.jsx(G,{htmlFor:`user-${ft}`,className:"flex-1 cursor-pointer",children:ae})]},ft))})})]})]}),e.jsxs(yn,{children:[e.jsx(L,{variant:"outline",onClick:()=>W(!1),children:"Cancel"}),e.jsx(L,{onClick:It,children:"Add Members"})]})]})}),e.jsx(Zr,{open:V,onOpenChange:Q,children:e.jsxs(Or,{children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Start Access Review"}),e.jsxs(Mr,{children:['Create an access review campaign for "',K?.name,'"']})]}),e.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(G,{htmlFor:"review-type",children:"Review Type"}),e.jsxs(Me,{value:re.reviewType,onValueChange:ae=>ge({...re,reviewType:ae}),children:[e.jsx(ze,{id:"review-type",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"quarterly",children:"Quarterly Review"}),e.jsx(Z,{value:"annual",children:"Annual Review"}),e.jsx(Z,{value:"adhoc",children:"Ad-hoc Review"}),e.jsx(Z,{value:"certification",children:"Certification Campaign"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(G,{htmlFor:"assigned-to",children:"Assigned To"}),e.jsxs(Me,{value:re.assignedTo,onValueChange:ae=>ge({...re,assignedTo:ae}),children:[e.jsx(ze,{id:"assigned-to",children:e.jsx(Le,{placeholder:"Select reviewer"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"sarah",children:"Sarah Johnson (Manager)"}),e.jsx(Z,{value:"michael",children:"Michael Chen (Security Lead)"}),e.jsx(Z,{value:"emily",children:"Emily Davis (Compliance Officer)"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(G,{htmlFor:"due-date",children:"Due Date"}),e.jsx(pe,{id:"due-date",type:"date",value:re.dueDate,onChange:ae=>ge({...re,dueDate:ae.target.value})})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--accent)"},children:e.jsxs("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:["This review will include ",K?.members," members across ",K?.applications.length," applications."]})})]}),e.jsxs(yn,{children:[e.jsx(L,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),e.jsx(L,{onClick:br,disabled:!re.assignedTo||!re.dueDate,children:"Create Review"})]})]})}),e.jsx(Zr,{open:H,onOpenChange:X,children:e.jsxs(Or,{children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Delete Role"}),e.jsx(Mr,{children:"This action cannot be undone. This will permanently delete the role and remove access for all members."})]}),e.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--danger-bg)",borderLeft:"3px solid var(--danger)"},children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(et,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--danger)"}}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:"Warning: Critical Action"}),e.jsxs("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:["Deleting this role will affect ",K?.members," users and remove ",K?.applications.length," application assignments."]})]})]})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(G,{htmlFor:"delete-confirm",children:["Type ",e.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:K?.name})," to confirm"]}),e.jsx(pe,{id:"delete-confirm",value:le,onChange:ae=>Ye(ae.target.value),placeholder:"Type role name to confirm"})]})]}),e.jsxs(yn,{children:[e.jsx(L,{variant:"outline",onClick:()=>X(!1),children:"Cancel"}),e.jsx(L,{variant:"destructive",onClick:Zs,disabled:le!==K?.name,children:"Delete Role Permanently"})]})]})}),e.jsx(Zr,{open:q,onOpenChange:ee,children:e.jsxs(Or,{className:"max-w-2xl",children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Entitlement Details"}),e.jsxs(Mr,{children:['Detailed information about "',fe?.name,'"']})]}),e.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Application"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{style:{fontSize:"16px"},children:fe?.appIcon}),e.jsx("span",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:fe?.app})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Type"}),e.jsx(J,{variant:"outline",children:fe?.type})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Users Assigned"}),e.jsx("span",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:fe?.assigned})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Last Used"}),e.jsx("span",{style:{fontSize:"var(--text-body)",color:"var(--text-secondary)"},children:fe?.lastUsed})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Owner"}),e.jsx("span",{style:{fontSize:"var(--text-body)",color:"var(--text-secondary)"},children:fe?.owner})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Risk Level"}),e.jsx(mr,{risk:fe?.risk||"Low",size:"sm"})]})]}),fe&&fe.sodConflicts>0&&e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--warning-bg)",borderLeft:"3px solid var(--warning)"},children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(et,{className:"w-4 h-4 flex-shrink-0 mt-0.5",style:{color:"var(--warning)"}}),e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:["This entitlement has ",fe.sodConflicts," Segregation of Duties conflict",fe.sodConflicts!==1?"s":"","."]})]})})]}),e.jsx(yn,{children:e.jsx(L,{onClick:()=>ee(!1),children:"Close"})})]})}),e.jsx(Zr,{open:oe,onOpenChange:ce,children:e.jsxs(Or,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Access Paths"}),e.jsxs(Mr,{children:['Visual representation of how users can access "',fe?.name,'"']})]}),e.jsxs("div",{className:"flex flex-col gap-4 py-4 overflow-y-auto",children:[e.jsx(oN,{defaultOpen:!0,children:e.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsx(lN,{className:"w-full",children:e.jsxs("div",{className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--primary)",color:"white"},children:e.jsx(zt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:"Direct Assignment"}),e.jsxs("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:[YM.length," users have direct access"]})]}),e.jsx(Ga,{className:"w-5 h-5 transition-transform [[data-state=open]>&]:rotate-180",style:{color:"var(--text-secondary)"}})]})}),e.jsx(cN,{children:e.jsx("div",{className:"mt-4 pt-4 border-t",style:{borderColor:"var(--border)"},children:e.jsx("div",{className:"flex flex-col gap-2",children:YM.map(ae=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-accent/50 transition-colors",style:{backgroundColor:"var(--accent)"},children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(Mn,{className:"w-8 h-8",children:e.jsx(Ln,{style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)",color:"white",fontSize:"var(--text-xs)"},children:ae.name.split(" ").map(ft=>ft[0]).join("")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:ae.name}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:ae.email})]})]}),e.jsx("div",{className:"flex items-center gap-3 text-right",children:e.jsxs("div",{children:[e.jsx(J,{variant:"outline",className:"mb-1",children:ae.dept}),e.jsxs("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:["Used ",ae.lastUsed]})]})})]},ae.id))})})})]})}),e.jsx(oN,{defaultOpen:!0,children:e.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsx(lN,{className:"w-full",children:e.jsxs("div",{className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--info)",color:"white"},children:e.jsx(bt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:"Via Roles"}),e.jsxs("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:[Object.values(ZM).flat().length," users through role membership"]})]}),e.jsx(Ga,{className:"w-5 h-5 transition-transform [[data-state=open]>&]:rotate-180",style:{color:"var(--text-secondary)"}})]})}),e.jsx(cN,{children:e.jsx("div",{className:"mt-4 pt-4 border-t flex flex-col gap-3",style:{borderColor:"var(--border)"},children:Object.entries(ZM).map(([ae,ft])=>e.jsx(oN,{children:e.jsxs("div",{className:"rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--accent)"},children:[e.jsx(lN,{className:"w-full p-3",children:e.jsxs("div",{className:"flex items-center justify-between hover:opacity-80 transition-opacity",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-4 h-4",style:{color:"var(--info)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:ae})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:[ft.length," users"]}),e.jsx(Ka,{className:"w-4 h-4 transition-transform [[data-state=open]>&]:rotate-90",style:{color:"var(--text-secondary)"}})]})]})}),e.jsx(cN,{children:e.jsx("div",{className:"px-3 pb-3 pt-2 flex flex-col gap-2",children:ft.map(lt=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded hover:bg-accent transition-colors",style:{backgroundColor:"var(--background)"},children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx(Mn,{className:"w-7 h-7",children:e.jsx(Ln,{style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)",color:"white",fontSize:"var(--text-xs)"},children:lt.name.split(" ").map(Ur=>Ur[0]).join("")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:lt.name}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:lt.email})]})]}),e.jsxs("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:["Used ",lt.lastUsed]})]},lt.id))})})]})},ae))})})]})})]}),e.jsx(yn,{children:e.jsx(L,{onClick:()=>ce(!1),children:"Close"})})]})}),e.jsx(Zr,{open:ye,onOpenChange:de,children:e.jsxs(Or,{children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Decommission Entitlement"}),e.jsxs(Mr,{children:['Remove "',fe?.name,'" from all users and roles']})]}),e.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--danger-bg)",borderLeft:"3px solid var(--danger)"},children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(et,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--danger)"}}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:["Warning: This action will affect ",fe?.assigned," users"]}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:"All users will immediately lose access to this entitlement. This action cannot be undone."})]})]})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(G,{htmlFor:"decommission-reason",children:"Reason for Decommissioning"}),e.jsx(mn,{id:"decommission-reason",placeholder:"Provide a reason for removing this entitlement...",rows:3})]})]}),e.jsxs(yn,{children:[e.jsx(L,{variant:"outline",onClick:()=>de(!1),children:"Cancel"}),e.jsx(L,{variant:"destructive",onClick:Hn,children:"Decommission Entitlement"})]})]})})]})}const $s={name:"Financial Controller",description:"Full financial system access with approval authority",purpose:"This role provides comprehensive access to financial systems including accounting, procurement, and budgeting. Members can create and approve financial transactions up to $100,000.",owner:{name:"Sarah Johnson"},risk:"High",members:12,entitlements:24,applications:[" Procurement"," QuickBooks"," Treasury"],createdDate:"Jan 15, 2024",lastModified:"2 days ago"},bwe=[{id:"U-1",name:"Alice Martinez",email:"alice.m@company.com",dept:"Finance",manager:"Sarah Johnson",lastUsed:"2 hours ago",risk:"Low"},{id:"U-2",name:"Bob Smith",email:"bob.s@company.com",dept:"Finance",manager:"Sarah Johnson",lastUsed:"1 day ago",risk:"Low"},{id:"U-3",name:"Carol White",email:"carol.w@company.com",dept:"Accounting",manager:"David Lee",lastUsed:"5 days ago",risk:"Medium"},{id:"U-4",name:"David Chen",email:"david.c@company.com",dept:"Treasury",manager:"Sarah Johnson",lastUsed:"3 hours ago",risk:"Low"}],jwe=[{id:"E-1",name:"Create Purchase Orders",app:"Procurement",appIcon:"",type:"Permission",risk:"High",lastUsed:87},{id:"E-3",name:"View Financial Reports",app:"QuickBooks",appIcon:"",type:"Data Access",risk:"Medium",lastUsed:95}];function wwe(){const t=$r(),{roleId:r}=$d(),[n,s]=j.useState("overview");return e.jsxs("div",{className:"flex flex-col h-full",style:{backgroundColor:"var(--bg)"},children:[e.jsx("div",{className:"border-b",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:e.jsxs("div",{className:"p-4 lg:p-6 max-w-[1440px] mx-auto",children:[e.jsx("div",{className:"flex items-center gap-4 mb-6",children:e.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>t("/access/roles"),children:[e.jsx(Va,{className:"w-4 h-4 mr-2"}),"Back to Roles"]})}),e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{style:{fontSize:"var(--text-display)",lineHeight:"var(--line-height-display)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:$s.name}),e.jsx(mr,{risk:$s.risk})]}),e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--text-secondary)"},children:$s.description}),e.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4",style:{color:"var(--muted)"}}),e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:[$s.members," members"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(So,{className:"w-4 h-4",style:{color:"var(--muted)"}}),e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:[$s.entitlements," entitlements"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(sr,{className:"w-4 h-4",style:{color:"var(--muted)"}}),e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:["Modified ",$s.lastModified]})]})]})]}),e.jsx(L,{children:"Edit Role"})]})]})}),e.jsxs(pn,{value:n,onValueChange:s,className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:e.jsx("div",{className:"px-4 lg:px-6 max-w-[1440px] mx-auto",children:e.jsxs(sn,{className:"h-12 bg-transparent border-0 p-0 gap-6",children:[e.jsx(Ie,{value:"overview",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none bg-transparent px-0",children:"Overview"}),e.jsx(Ie,{value:"members",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none bg-transparent px-0",children:"Members"}),e.jsx(Ie,{value:"entitlements",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none bg-transparent px-0",children:"Entitlements"}),e.jsx(Ie,{value:"activity",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none bg-transparent px-0",children:"Activity"})]})})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"p-4 lg:p-6 max-w-[1440px] mx-auto",children:[e.jsx(De,{value:"overview",className:"mt-0",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsx("h2",{style:{fontSize:"var(--text-h2)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"16px"},children:"Role Information"}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted)",marginBottom:"4px"},children:"Purpose"}),e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--text)"},children:$s.purpose})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted)",marginBottom:"4px"},children:"Owner"}),e.jsx("div",{style:{fontSize:"var(--text-body)",color:"var(--text)"},children:$s.owner.name})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted)",marginBottom:"4px"},children:"Created"}),e.jsx("div",{style:{fontSize:"var(--text-body)",color:"var(--text)"},children:$s.createdDate})]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted)",marginBottom:"8px"},children:"Applications"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:$s.applications.map((a,i)=>e.jsx(J,{variant:"outline",children:a},i))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(zt,{className:"w-4 h-4",style:{color:"var(--primary)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:"Members"})]}),e.jsx("div",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:$s.members})]}),e.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(So,{className:"w-4 h-4",style:{color:"var(--primary)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:"Entitlements"})]}),e.jsx("div",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:$s.entitlements})]}),e.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ss,{className:"w-4 h-4",style:{color:"var(--success)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:"Avg Usage"})]}),e.jsx("div",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"91%"})]})]})]})}),e.jsx(De,{value:"members",className:"mt-0",children:e.jsx("div",{className:"border rounded-lg",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{children:"Member"}),e.jsx(we,{children:"Department"}),e.jsx(we,{children:"Manager"}),e.jsx(we,{children:"Last Used"}),e.jsx(we,{children:"Risk"})]})}),e.jsx(kn,{children:bwe.map(a=>e.jsxs(St,{children:[e.jsx(be,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mn,{className:"w-8 h-8",children:e.jsx(Ln,{style:{fontSize:"11px"},children:a.name.split(" ").map(i=>i[0]).join("")})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:a.name}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--muted)"},children:a.email})]})]})}),e.jsx(be,{children:a.dept}),e.jsx(be,{children:a.manager}),e.jsx(be,{children:a.lastUsed}),e.jsx(be,{children:e.jsx(mr,{risk:a.risk,size:"sm"})})]},a.id))})]})})}),e.jsx(De,{value:"entitlements",className:"mt-0",children:e.jsx("div",{className:"border rounded-lg",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{children:"Entitlement"}),e.jsx(we,{children:"Application"}),e.jsx(we,{children:"Type"}),e.jsx(we,{children:"Usage"}),e.jsx(we,{children:"Risk"})]})}),e.jsx(kn,{children:jwe.map(a=>e.jsxs(St,{children:[e.jsx(be,{children:e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:a.name})}),e.jsx(be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:a.appIcon}),e.jsx("span",{children:a.app})]})}),e.jsx(be,{children:a.type}),e.jsxs(be,{children:[a.lastUsed,"%"]}),e.jsx(be,{children:e.jsx(mr,{risk:a.risk,size:"sm"})})]},a.id))})]})})}),e.jsx(De,{value:"activity",className:"mt-0",children:e.jsx("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--muted)",textAlign:"center"},children:"Activity timeline coming soon"})})})]})})]})]})}function UB({steps:t,currentStep:r}){return e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"flex items-center justify-between",children:t.map((n,s)=>e.jsx($.Fragment,{children:e.jsx("div",{className:"flex flex-col items-center flex-1",children:e.jsxs("div",{className:"flex items-center w-full",children:[e.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center transition-all",style:{backgroundColor:s<r?"var(--success)":s===r?"var(--primary)":"var(--surface)",border:s<=r?"none":"2px solid var(--border)",color:s<=r?"white":"var(--muted-foreground)"},children:s<r?e.jsx(Xr,{className:"w-5 h-5"}):e.jsx("span",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)"},children:s+1})}),e.jsxs("div",{className:"mt-2 text-center",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:s<=r?"var(--text)":"var(--muted-foreground)"},children:n.label}),n.description&&e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginTop:"2px"},children:n.description})]})]}),s<t.length-1&&e.jsx("div",{className:"flex-1 h-0.5 mx-4",style:{backgroundColor:s<r?"var(--success)":"var(--border)"}})]})})},n.id))})})}function Nwe({membersAffected:t,entitlementsChanged:r,riskChange:n="none",onViewDetails:s}){return e.jsx("div",{className:"sticky bottom-0 left-0 right-0 p-4 border-t backdrop-blur-sm",style:{backgroundColor:"var(--overlay)",borderColor:"var(--border)",boxShadow:"var(--shadow-lg)"},children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 max-w-[1320px] mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Impact Preview"}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginTop:"2px"},children:"Changes will affect the following"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4",style:{color:"var(--primary)"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:t.toLocaleString()}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Members"})]})]}),e.jsx("div",{className:"w-px h-8",style:{backgroundColor:"var(--border)"}}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fr,{className:"w-4 h-4",style:{color:"var(--info)"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:r}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Entitlements"})]})]}),n!=="none"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-8",style:{backgroundColor:"var(--border)"}}),e.jsxs("div",{className:"flex items-center gap-2",children:[n==="increase"?e.jsx(Sa,{className:"w-4 h-4",style:{color:"var(--danger)"}}):e.jsx(qd,{className:"w-4 h-4",style:{color:"var(--success)"}}),e.jsx("div",{children:e.jsxs("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:n==="increase"?"var(--danger)":"var(--success)"},children:["Risk ",n==="increase"?"Increase":"Decrease"]})})]})]})]})]}),s&&e.jsx(L,{onClick:s,variant:"outline",size:"sm",children:"View Details"})]})})}class Swe{static async getIdentities(){try{console.log("1. Attempting Edge Function for identities...");const{data:r,error:n}=await vt.functions.invoke("identities",{body:{action:"get_identities",page:1,pageSize:100}});if(n)throw console.error("2. Edge Function error:",n),n;if(console.log("3. Edge Function response:",r),r?.data&&r.data.length>0)return console.log("4. Returning Edge Function data"),r.data;throw console.log("5. Edge Function returned empty, trying direct DB..."),new Error("Edge Function returned empty data")}catch(r){console.error("6. Caught error, trying fallback:",r);try{return await this.getIdentitiesDirect()}catch{return console.error("7. Direct DB also failed, using mock data"),this.getMockIdentities()}}}static async getIdentitiesDirect(){console.log("8. Attempting direct database query for identities...");try{const{data:{user:r}}=await vt.auth.getUser();if(!r)return console.error("9. User not authenticated"),this.getMockIdentities();console.log("10. User authenticated:",r.id);const{data:n,error:s}=await vt.from("profiles").select("id, full_name, email, status").limit(10);if(console.log("11. Simple profiles query result:",{count:n?.length,error:s}),s)return console.error("12. Database error:",s),this.getMockIdentities();if(!n||n.length===0)return console.log("13. No profiles found in database, using mock data"),this.getMockIdentities();const a=n.map(i=>({id:i.id,name:i.full_name||i.email,email:i.email,status:i.status||"active"}));return console.log("14. Returning profiles from database:",a.length),a}catch(r){return console.error("15. Failed to fetch identities directly:",r),this.getMockIdentities()}}static getMockIdentities(){return console.log("Using mock identities as fallback"),[{id:"mock-1",name:"John Doe",email:"john.doe@company.com",status:"active"},{id:"mock-2",name:"Jane Smith",email:"jane.smith@company.com",status:"active"},{id:"mock-3",name:"Mike Johnson",email:"mike.johnson@company.com",status:"active"},{id:"mock-4",name:"Sarah Wilson",email:"sarah.wilson@company.com",status:"active"},{id:"mock-5",name:"David Brown",email:"david.brown@company.com",status:"active"},{id:"mock-6",name:"Emily Davis",email:"emily.davis@company.com",status:"active"},{id:"mock-7",name:"Robert Miller",email:"robert.miller@company.com",status:"active"},{id:"mock-8",name:"Lisa Garcia",email:"lisa.garcia@company.com",status:"active"}]}}const uN=[{id:"basics",label:"Basics",description:"Role information"},{id:"entitlements",label:"Entitlements",description:"Add permissions"},{id:"rules",label:"Rules",description:"Membership criteria"},{id:"review",label:"Review",description:"Confirm & create"}],kwe={"User Management":{icon:zt,color:"blue"},"Role Management":{icon:bt,color:"purple"},"Audit & Compliance":{icon:Pi,color:"green"},Organization:{icon:js,color:"orange"},Certification:{icon:KJ,color:"red"},Other:{icon:So,color:"gray"}},XM=[{value:"company",label:"Company"},{value:"division",label:"Division"},{value:"department",label:"Department"},{value:"jobTitle",label:"Job Title"},{value:"manager",label:"Manager"},{value:"location",label:"Location"},{value:"employeeType",label:"Employee Type"}],Cwe={company:["Acme Corp","Acme Industries","Acme Global","Acme Technologies"],division:["Engineering","Sales","Marketing","Finance","HR","Operations"],department:["IT","Security","Infrastructure","Development","QA","DevOps","Support","Accounting","Payroll"],jobTitle:["Software Engineer","Senior Engineer","Engineering Manager","Director","VP","Analyst","Specialist","Coordinator"],manager:["Sarah Chen","Michael Roberts","Emily Parker","David Kim","Jennifer Wu","Robert Martinez"],location:["San Francisco, CA","New York, NY","Austin, TX","Seattle, WA","Boston, MA","Remote"],employeeType:["Full-time","Part-time","Contractor","Intern"]};function Awe(){const t=$r(),[r,n]=j.useState(0),[s,a]=j.useState(""),[i,o]=j.useState(""),[l,d]=j.useState(""),[u,f]=j.useState("Medium"),[m,v]=j.useState([]),[g,b]=j.useState(!0),[x,y]=j.useState(""),[A,E]=j.useState([]),[C,w]=j.useState({}),[k,S]=j.useState(new Set),[R,T]=j.useState("all"),[O,U]=j.useState(!0),[D,I]=j.useState([]),[B,M]=j.useState(!1);j.useEffect(()=>{W(),V()},[]);const W=async()=>{try{U(!0);const re=await vx.getPermissionsByCategory();w(re);const ge=Object.values(re).flat();E(ge)}catch(re){console.error("Failed to load permissions:",re),Ae.error("Failed to load permissions. Using fallback data.")}finally{U(!1)}},V=async()=>{try{b(!0),console.log("Loading identities...");const re=await Swe.getIdentities();console.log("Identities loaded:",re),v(re)}catch(re){console.error("Failed to load identities:",re),Ae.error("Failed to load identities. Using fallback data.")}finally{b(!1)}},Q=Object.keys(C),H=R==="all"?A:C[R]||[],X=A.filter(re=>k.has(re.key)),K=24,z=()=>{r<uN.length-1&&n(r+1)},q=()=>{r>0&&n(r-1)},ee=async()=>{try{M(!0);const re={name:s,description:i,permissions:Array.from(k)},ge=await vx.createRole(re);Ae.success(`Role "${s}" created successfully!`),t("/access/roles")}catch(re){console.error("Failed to create role:",re);const ge=re.message||"Failed to create role. Please try again.";Ae.error(ge),re.details&&console.error("Error details:",re.details),re.hint&&console.error("Error hint:",re.hint)}finally{M(!1)}},oe=re=>{const ge=new Set(k);ge.has(re)?ge.delete(re):ge.add(re),S(ge)},ce=()=>{const re={id:`rule-${Date.now()}`,type:"",value:"",estimatedUsers:0};I([...D,re])},ye=(re,ge)=>{I(D.map(le=>le.id===re?{...le,type:ge,value:"",estimatedUsers:0}:le))},de=(re,ge)=>{const le=Math.floor(Math.random()*20)+5;I(D.map(Ye=>Ye.id===re?{...Ye,value:ge,estimatedUsers:le}:Ye))},fe=re=>{I(D.filter(ge=>ge.id!==re))},he=()=>{switch(r){case 0:return s&&i&&l;case 1:return k.size>0;case 2:case 3:return!0;default:return!1}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"border-b",style:{backgroundColor:"var(--bg)",borderColor:"var(--border)"},children:e.jsxs("div",{className:"p-4 lg:p-6 max-w-[1320px] mx-auto w-full",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>t("/access/roles"),className:"gap-2",children:[e.jsx(Va,{className:"w-4 h-4"}),"Cancel"]}),e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"var(--text-h1)",lineHeight:"var(--line-height-h1)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Create New Role"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"4px"},children:"Define a new role with entitlements and membership rules"})]})]}),e.jsx(UB,{steps:uN,currentStep:r})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"p-4 lg:p-6 max-w-[900px] mx-auto w-full",children:[r===0&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"roleName",children:"Role Name *"}),e.jsx(pe,{id:"roleName",value:s,onChange:re=>a(re.target.value),placeholder:"e.g., Financial Controller",className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description",children:"Description *"}),e.jsx(mn,{id:"description",value:i,onChange:re=>o(re.target.value),placeholder:"Describe the purpose and responsibilities of this role...",className:"mt-2",rows:4})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(G,{htmlFor:"owner",children:"Owner *"}),e.jsx(L,{type:"button",variant:"ghost",size:"sm",onClick:V,disabled:g,className:"text-xs",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin mr-1"}),"Loading..."]}):"Refresh"})]}),e.jsxs(Me,{value:l,onValueChange:d,children:[e.jsx(ze,{className:"mt-2",children:e.jsx(Le,{placeholder:"Select or enter owner email"})}),e.jsx($e,{children:g?e.jsx(Z,{value:"loading",disabled:!0,children:"Loading identities..."}):m.length===0?e.jsxs(e.Fragment,{children:[e.jsx(Z,{value:"no-identities",disabled:!0,children:"No identities found"}),e.jsx(Z,{value:"manual-input",children:"Enter email manually"})]}):e.jsxs(e.Fragment,{children:[m.map(re=>e.jsx(Z,{value:re.email,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:re.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:re.email})]})},re.id)),e.jsx(Z,{value:"manual-input",children:"Enter email manually"})]})})]}),l==="manual-input"&&e.jsx(pe,{placeholder:"Enter owner email",value:x,onChange:re=>{y(re.target.value),d(re.target.value)},className:"mt-2"}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginTop:"8px"},children:"The owner is responsible for reviewing and maintaining this role"})]}),e.jsxs("div",{children:[e.jsx(G,{children:"Risk Category"}),e.jsx("div",{className:"flex gap-2 mt-2",children:["Low","Medium","High","Critical"].map(re=>e.jsx("button",{onClick:()=>f(re),className:"px-4 py-2 rounded-md border transition-all",style:{borderColor:u===re?"var(--primary)":"var(--border)",backgroundColor:u===re?"var(--accent)":"transparent"},children:e.jsx(mr,{risk:re,size:"sm"})},re))})]})]})}),r===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Select Permissions"}),e.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"4px"},children:[k.size," permissions selected"]})]}),e.jsxs(Me,{value:R,onValueChange:T,children:[e.jsx(ze,{className:"w-[200px]",children:e.jsx(Le,{placeholder:"Filter by category"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"all",children:"All Categories"}),Q.map(re=>e.jsx(Z,{value:re,children:re},re))]})]})]}),O?e.jsx("div",{className:"flex items-center justify-center h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Loading permissions..."})]})}):e.jsx(ou,{className:"h-[500px]",children:e.jsx("div",{className:"space-y-4 pr-4",children:R==="all"?Q.map(re=>{const ge=C[re]||[];if(ge.length===0)return null;const le=kwe[re]?.icon||So;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:re}),e.jsx(J,{variant:"secondary",className:"text-xs",children:ge.length})]}),e.jsx("div",{className:"space-y-2",children:ge.map(Ye=>e.jsxs("div",{onClick:()=>oe(Ye.key),className:"flex items-center gap-3 p-3 rounded-lg border text-left transition-all hover:shadow-sm cursor-pointer",style:{borderColor:k.has(Ye.key)?"var(--primary)":"var(--border)",backgroundColor:k.has(Ye.key)?"var(--accent)":"var(--surface)"},children:[e.jsx(Zt,{checked:k.has(Ye.key),onCheckedChange:()=>oe(Ye.key)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:Ye.key.replace(/_/g," ").replace(/\b\w/g,_e=>_e.toUpperCase())}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:Ye.description})]})]},Ye.key))})]},re)}):e.jsx("div",{className:"space-y-2",children:H.map(re=>e.jsxs("div",{onClick:()=>oe(re.key),className:"flex items-center gap-3 p-3 rounded-lg border text-left transition-all hover:shadow-sm cursor-pointer",style:{borderColor:k.has(re.key)?"var(--primary)":"var(--border)",backgroundColor:k.has(re.key)?"var(--accent)":"var(--surface)"},children:[e.jsx(Zt,{checked:k.has(re.key),onCheckedChange:()=>oe(re.key)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:re.key.replace(/_/g," ").replace(/\b\w/g,ge=>ge.toUpperCase())}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:re.description})]})]},re.key))})})})]}),r===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Membership Rules (Optional)"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"4px"},children:"Define criteria to automatically assign users to this role"})]}),e.jsxs("div",{className:"space-y-3",children:[D.map((re,ge)=>e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg border",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(G,{style:{fontSize:"var(--text-sm)"},children:"Rule Type"}),e.jsxs(Me,{value:re.type,onValueChange:le=>ye(re.id,le),children:[e.jsx(ze,{className:"mt-1.5",children:e.jsx(Le,{placeholder:"Select rule type..."})}),e.jsx($e,{children:XM.map(le=>e.jsx(Z,{value:le.value,children:le.label},le.value))})]})]}),e.jsxs("div",{children:[e.jsx(G,{style:{fontSize:"var(--text-sm)"},children:"Value"}),e.jsxs(Me,{value:re.value,onValueChange:le=>de(re.id,le),disabled:!re.type,children:[e.jsx(ze,{className:"mt-1.5",children:e.jsx(Le,{placeholder:re.type?"Select value...":"Select rule type first"})}),e.jsx($e,{children:re.type&&Cwe[re.type]?.map(le=>e.jsx(Z,{value:le,children:le},le))})]})]})]}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>fe(re.id),className:"mt-6",style:{color:"var(--muted-foreground)"},children:e.jsx($t,{className:"w-4 h-4"})})]},re.id)),e.jsxs(L,{variant:"outline",onClick:ce,className:"w-full gap-2",style:{borderStyle:"dashed",borderColor:"var(--border)"},children:[e.jsx(At,{className:"w-4 h-4"}),"Add Membership Rule"]})]}),e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--info-bg)",borderColor:"var(--info-border)",border:"1px solid"},children:e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:" Leave fields empty to manually manage role membership"})}),D.filter(re=>re.type&&re.value).length>0&&e.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(zt,{className:"w-4 h-4",style:{color:"var(--primary)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:"Estimated Impact"})]}),e.jsxs("div",{className:"space-y-2",children:[D.filter(re=>re.type&&re.value).map(re=>{const ge=XM.find(le=>le.value===re.type)?.label;return e.jsxs("div",{className:"flex items-center justify-between text-sm",style:{color:"var(--text-secondary)"},children:[e.jsxs("span",{children:[ge,": ",re.value]}),e.jsxs(J,{variant:"secondary",style:{fontSize:"var(--text-xs)"},children:["~",re.estimatedUsers," users"]})]},re.id)}),e.jsx("div",{className:"pt-2 mt-2 border-t",style:{borderColor:"var(--border)"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:"Total Estimated Members"}),e.jsxs(J,{style:{fontSize:"var(--text-sm)"},children:["~",D.filter(re=>re.type&&re.value).reduce((re,ge)=>re+ge.estimatedUsers,0)," users"]})]})})]})]})]}),r===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Review & Create"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"4px"},children:"Review the role configuration before creating"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(zt,{className:"w-4 h-4",style:{color:"var(--primary)"}}),e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Initial Members"})]}),e.jsx("div",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:K})]}),e.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(bt,{className:"w-4 h-4",style:{color:"var(--info)"}}),e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Permissions"})]}),e.jsx("div",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:k.size})]}),e.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(et,{className:"w-4 h-4",style:{color:"var(--warning)"}}),e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Risk Level"})]}),e.jsx(mr,{risk:u})]})]}),e.jsxs("div",{className:"p-6 rounded-lg border space-y-4",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Role Name"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)",marginTop:"4px"},children:s})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Description"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)",marginTop:"4px"},children:i})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Owner"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)",marginTop:"4px"},children:l})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginBottom:"8px"},children:"Selected Permissions"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(re=>e.jsx(J,{variant:"outline",children:re.key.replace(/_/g," ").replace(/\b\w/g,ge=>ge.toUpperCase())},re.key))})]})]})]})]})}),e.jsx("div",{className:"sticky bottom-0 left-0 right-0 p-4 border-t backdrop-blur-sm",style:{backgroundColor:"var(--overlay)",borderColor:"var(--border)",boxShadow:"var(--shadow-lg)"},children:e.jsxs("div",{className:"flex items-center justify-between max-w-[1320px] mx-auto",children:[e.jsxs(L,{variant:"outline",onClick:q,disabled:r===0,className:"gap-2",children:[e.jsx(Va,{className:"w-4 h-4"}),"Back"]}),e.jsx("div",{className:"flex items-center gap-2",children:r===uN.length-1?e.jsx(L,{onClick:ee,disabled:!he()||B,className:"gap-2",children:B?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4"}),"Create Role"]})}):e.jsxs(L,{onClick:z,disabled:!he(),className:"gap-2",children:["Next",e.jsx(Dn,{className:"w-4 h-4"})]})})]})}),r===3&&e.jsx(Nwe,{membersAffected:K,entitlementsChanged:k.size,riskChange:u==="High"||u==="Critical"?"increase":"none"})]})}const Kt={name:"Create Purchase Orders",app:"Procurement",appIcon:"",type:"Permission",description:"Allows users to create and submit purchase orders up to $100,000. This entitlement provides access to the procurement workflow system and enables initiating purchasing processes.",owner:{name:"Sarah Johnson",avatar:"SJ"},assigned:45,lastUsed:"2 hours ago",risk:"High",sodConflicts:2,created:"Jan 15, 2024",lastModified:"2 days ago",lastReview:"30 days ago",category:"Financial Operations",criticality:"High",dataAccess:["Financial Records","Vendor Information","Budget Data"],relatedRoles:["Financial Controller","Procurement Manager","Treasury Analyst"]},QM=[{id:"U-1",name:"Alice Cooper",email:"alice.cooper@company.com",dept:"Finance",role:"Financial Controller",grantedDate:"Jan 20, 2024",lastUsed:"2 hours ago",risk:"Medium",accessType:"role",grantedVia:"Financial Controller"},{id:"U-2",name:"Bob Martinez",email:"bob.martinez@company.com",dept:"Procurement",role:"Procurement Manager",grantedDate:"Feb 5, 2024",lastUsed:"1 day ago",risk:"Low",accessType:"role",grantedVia:"Procurement Manager"},{id:"U-3",name:"Carol White",email:"carol.white@company.com",dept:"Finance",role:"Financial Analyst",grantedDate:"Mar 12, 2024",lastUsed:"3 days ago",risk:"Medium",accessType:"direct",grantedVia:"Direct Assignment"},{id:"U-4",name:"David Brown",email:"david.brown@company.com",dept:"Operations",role:"Operations Lead",grantedDate:"Jan 8, 2024",lastUsed:"5 hours ago",risk:"High",accessType:"role",grantedVia:"Financial Controller"}],ih=[{id:"SOD-1",ruleName:"Create & Approve Purchase Orders",ruleDescription:"Users should not be able to both create and approve purchase orders to prevent fraud",severity:"High",conflictingEntitlements:[{name:"Create Purchase Orders",app:"Procurement"},{name:"Approve Purchase Orders",app:"Procurement"}],affectedUsers:8,policy:"FIN-SOD-001"},{id:"SOD-2",ruleName:"Vendor Management & Payment Processing",ruleDescription:"Separating vendor setup from payment processing reduces risk of fraudulent payments",severity:"Medium",conflictingEntitlements:[{name:"Create Purchase Orders",app:"Procurement"},{name:"Process Vendor Payments",app:"Treasury"}],affectedUsers:3,policy:"FIN-SOD-003"}],Ewe=[{dept:"Finance",usage:145},{dept:"Procurement",usage:98},{dept:"Operations",usage:67},{dept:"IT",usage:23}],_we=[{date:"May",usage:120},{date:"Jun",usage:135},{date:"Jul",usage:128},{date:"Aug",usage:155},{date:"Sep",usage:148},{date:"Oct",usage:167}],Rwe=[{id:"AI-1",type:"optimize",title:"Unused Entitlement Detected",description:"12 users haven't used this entitlement in the last 90 days. Consider revoking to reduce risk exposure.",impact:"Medium",confidence:92,actions:["Review Usage","Revoke Access"]},{id:"AI-2",type:"risk",title:"SoD Conflict Mitigation",description:"Implement compensating controls for users with conflicting permissions. Consider splitting into separate roles.",impact:"High",confidence:88,actions:["View Conflicts","Create Mitigation"]},{id:"AI-3",type:"suggestion",title:"Access Pattern Anomaly",description:"Usage spike detected in Operations department. This may indicate business process changes.",impact:"Low",confidence:75,actions:["Investigate","Approve"]}];function Twe(){const t=$r(),{entitlementId:r}=$d(),[n,s]=j.useState("overview"),[a,i]=j.useState(!1),o=()=>{Ae.success("Entitlement decommissioned",{description:`"${Kt.name}" has been removed from all users`}),i(!1),t("/access/entitlements")};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{style:{borderBottom:"1px solid var(--border)",backgroundColor:"var(--surface)"},children:e.jsxs("div",{className:"p-4 lg:p-6 max-w-[1320px] mx-auto w-full",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[e.jsxs(L,{variant:"ghost",size:"sm",className:"gap-2",onClick:()=>{n!=="overview"?s("overview"):t("/access/entitlements")},children:[e.jsx(Va,{className:"w-4 h-4"}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ya,{children:[e.jsx(ba,{asChild:!0,children:e.jsxs(L,{variant:"outline",className:"gap-2",children:[e.jsx(Ga,{className:"w-4 h-4"}),"Actions"]})}),e.jsxs(ja,{align:"end",children:[e.jsxs(Ct,{onClick:()=>Ae.info("Edit functionality coming soon"),children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Edit Details"]}),e.jsxs(Ct,{onClick:()=>Ae.info("View access paths"),children:[e.jsx(Ba,{className:"w-4 h-4 mr-2"}),"View Access Paths"]}),e.jsx(Mi,{}),e.jsxs(Ct,{className:"text-destructive",onClick:()=>i(!0),children:[e.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Decommission"]})]})]}),e.jsxs(L,{className:"gap-2",children:[e.jsx(N5,{className:"w-4 h-4"}),"Save"]})]})]}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--primary)",fontSize:"24px"},children:Kt.appIcon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{style:{fontSize:"var(--text-display)",lineHeight:"var(--line-height-display)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:Kt.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mn,{className:"w-6 h-6",children:e.jsx(Ln,{style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)",color:"white",fontSize:"var(--text-xs)"},children:Kt.owner.avatar})}),e.jsx("span",{style:{fontSize:"var(--text-body)",color:"var(--text-secondary)"},children:Kt.owner.name})]}),e.jsx(mr,{risk:Kt.risk}),e.jsx(J,{variant:"outline",children:Kt.app}),e.jsx(J,{variant:"secondary",children:Kt.type})]})]})]})})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsx("div",{className:"p-4 lg:p-6 max-w-[1320px] mx-auto w-full",children:e.jsxs(pn,{value:n,onValueChange:s,children:[e.jsxs(sn,{className:"mb-6",children:[e.jsx(Ie,{value:"overview",children:"Overview"}),e.jsx(Ie,{value:"users",children:"Assigned Users"}),e.jsx(Ie,{value:"roles",children:"Roles"}),e.jsx(Ie,{value:"usage",children:"Usage"}),e.jsxs(Ie,{value:"sod",children:["SoD Conflicts",ih.length>0&&e.jsx(J,{variant:"destructive",className:"ml-2",children:ih.length})]}),e.jsxs(Ie,{value:"ai",children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),"AI Insights"]})]}),e.jsx(De,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"p-6 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Description"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)",lineHeight:"var(--line-height-relaxed)"},children:Kt.description})]}),e.jsxs("div",{className:"p-6 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"16px"},children:"Data Access"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Kt.dataAccess.map((l,d)=>e.jsx(J,{variant:"outline",children:l},d))})]}),e.jsxs("div",{className:"p-6 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"16px"},children:"Related Roles"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Kt.relatedRoles.map((l,d)=>e.jsxs(J,{variant:"secondary",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),l]},d))})]}),e.jsxs("div",{className:"p-6 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"16px"},children:"Audit Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Created"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:Kt.created})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Last Modified"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:Kt.lastModified})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Owner"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:Kt.owner.name})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Last Review"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:Kt.lastReview})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Category"}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:Kt.category})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginBottom:"4px"},children:"Criticality"}),e.jsx(J,{variant:"outline",children:Kt.criticality})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},onClick:()=>s("users"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(zt,{className:"w-4 h-4",style:{color:"var(--primary)"}}),e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Assigned Users"})]}),e.jsx("div",{style:{fontSize:"var(--text-3xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:Kt.assigned})]}),e.jsxs("div",{className:"p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},onClick:()=>s("roles"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(bt,{className:"w-4 h-4",style:{color:"var(--info)"}}),e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Related Roles"})]}),e.jsx("div",{style:{fontSize:"var(--text-3xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:Kt.relatedRoles.length})]}),e.jsxs("div",{className:"p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},onClick:()=>s("usage"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ss,{className:"w-4 h-4",style:{color:"var(--success)"}}),e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Last Used"})]}),e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:Kt.lastUsed})]}),e.jsxs("div",{className:"p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},onClick:()=>s("sod"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(et,{className:"w-4 h-4",style:{color:"var(--warning)"}}),e.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"SoD Conflicts"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{style:{fontSize:"var(--text-3xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:Kt.sodConflicts}),e.jsx(mr,{risk:Kt.risk})]})]})]})]})}),e.jsxs(De,{value:"users",className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Assigned Users"}),e.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"4px"},children:[QM.length," users have access to this entitlement"]})]})}),e.jsx("div",{className:"rounded-lg border overflow-hidden",style:{borderColor:"var(--border)"},children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{children:"User"}),e.jsx(we,{children:"Department"}),e.jsx(we,{children:"Role"}),e.jsx(we,{children:"Granted Date"}),e.jsx(we,{children:"Last Used"}),e.jsx(we,{children:"Risk"}),e.jsx(we,{className:"w-12"})]})}),e.jsx(kn,{children:QM.map(l=>e.jsxs(St,{children:[e.jsx(be,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mn,{className:"w-8 h-8",children:e.jsx(Ln,{style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)",color:"white",fontSize:"var(--text-xs)"},children:l.name.split(" ").map(d=>d[0]).join("")})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:l.name}),e.jsx("div",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:l.email})]})]})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:l.dept})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:l.role})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:l.grantedDate})}),e.jsx(be,{children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:l.lastUsed})}),e.jsx(be,{children:e.jsx(mr,{risk:l.risk,size:"sm"})}),e.jsx(be,{children:e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>Ae.info("Revoke access"),children:e.jsx($t,{className:"w-4 h-4"})})})]},l.id))})]})})]}),e.jsxs(De,{value:"roles",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Roles with this Entitlement"}),e.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"4px"},children:[Kt.relatedRoles.length," roles include this entitlement"]})]}),e.jsx("div",{className:"flex flex-col gap-3",children:Kt.relatedRoles.map((l,d)=>e.jsx("div",{className:"p-4 rounded-lg border cursor-pointer hover:shadow-md transition-all",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},onClick:()=>t(`/access/roles/R-100${d+1}`),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--primary)",color:"white"},children:e.jsx(bt,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:l}),e.jsxs("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)",marginTop:"2px"},children:[12+d*3," members"]})]})]}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(td,{className:"w-4 h-4"})})]})},d))})]}),e.jsx(De,{value:"usage",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"16px"},children:"Usage by Department"}),e.jsx(Po,{width:"100%",height:300,children:e.jsxs(mg,{data:Ewe,children:[e.jsx(Oo,{strokeDasharray:"3 3",stroke:"var(--border)"}),e.jsx(Vs,{dataKey:"dept",style:{fontSize:"var(--text-xs)"}}),e.jsx(Gs,{style:{fontSize:"var(--text-xs)"}}),e.jsx(Pn,{}),e.jsx(wa,{dataKey:"usage",fill:"var(--primary)",radius:[8,8,0,0]})]})})]}),e.jsxs("div",{className:"p-6 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"16px"},children:"Usage Trend (Last 6 Months)"}),e.jsx(Po,{width:"100%",height:300,children:e.jsxs(h2,{data:_we,children:[e.jsx(Oo,{strokeDasharray:"3 3",stroke:"var(--border)"}),e.jsx(Vs,{dataKey:"date",style:{fontSize:"var(--text-xs)"}}),e.jsx(Gs,{style:{fontSize:"var(--text-xs)"}}),e.jsx(Pn,{}),e.jsx(Kl,{type:"monotone",dataKey:"usage",stroke:"var(--primary)",strokeWidth:2})]})})]})]})}),e.jsxs(De,{value:"sod",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Segregation of Duties Conflicts"}),e.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"4px"},children:[ih.length," conflict",ih.length!==1?"s":""," detected"]})]}),e.jsx("div",{className:"flex flex-col gap-4",children:ih.map(l=>e.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:[e.jsx("div",{className:"flex items-start justify-between gap-3 mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:l.ruleName}),e.jsx(mr,{risk:l.severity,size:"sm"})]}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:l.ruleDescription})]})}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--muted-foreground)",marginBottom:"8px"},children:"Conflicting Entitlements"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.conflictingEntitlements.map((d,u)=>e.jsxs(J,{variant:"outline",children:[d.name," (",d.app,")"]},u))})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",style:{borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:[l.affectedUsers," user",l.affectedUsers!==1?"s":""," affected"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"ghost",size:"sm",className:"gap-2",children:["View Policy",e.jsx(td,{className:"w-3 h-3"})]}),e.jsx(L,{variant:"outline",size:"sm",children:"Simulate Fix"})]})]})]})]},l.id))})]}),e.jsxs(De,{value:"ai",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"AI-Powered Insights"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginTop:"4px"},children:"Recommendations based on usage patterns and risk analysis"})]}),e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Qt,{className:"w-4 h-4"}),"Refresh Insights"]})]}),e.jsx("div",{className:"flex flex-col gap-4",children:Rwe.map(l=>e.jsx("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)"},children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)",color:"white"},children:e.jsx(Qt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{style:{fontSize:"var(--text-body)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:l.title}),e.jsxs(J,{variant:"outline",children:[l.impact," Impact"]}),e.jsxs(J,{variant:"secondary",children:[l.confidence,"% confidence"]})]}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)",marginBottom:"12px"},children:l.description}),e.jsx("div",{className:"flex gap-2",children:l.actions.map((d,u)=>e.jsx(L,{variant:"outline",size:"sm",children:d},u))})]})]})},l.id))})]})]})})}),e.jsx(Zr,{open:a,onOpenChange:i,children:e.jsxs(Or,{children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Decommission Entitlement"}),e.jsxs(Mr,{children:['Remove "',Kt.name,'" from all users and roles']})]}),e.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--danger-bg)",borderLeft:"3px solid var(--danger)"},children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(et,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--danger)"}}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:["Warning: This action will affect ",Kt.assigned," users"]}),e.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:"All users will immediately lose access to this entitlement. This action cannot be undone."})]})]})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(G,{htmlFor:"decommission-reason",children:"Reason for Decommissioning"}),e.jsx(mn,{id:"decommission-reason",placeholder:"Provide a reason for removing this entitlement...",rows:3})]})]}),e.jsxs(yn,{children:[e.jsx(L,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(L,{variant:"destructive",onClick:o,children:"Decommission Entitlement"})]})]})})]})}function Pwe({connector:t,onClick:r}){const s={directory:{bg:"var(--info-bg)",border:"var(--info-border)",text:"var(--info)"},idp:{bg:"var(--primary)",border:"var(--primary-light)",text:"var(--primary)"},hris:{bg:"var(--success-bg)",border:"var(--success-border)",text:"var(--success)"},saas:{bg:"var(--warning-bg)",border:"var(--warning-border)",text:"var(--warning)"},cloud:{bg:"var(--info-bg)",border:"var(--info-border)",text:"var(--info)"},pam:{bg:"var(--danger-bg)",border:"var(--danger-border)",text:"var(--danger)"}}[t.category];return e.jsxs(se,{className:"p-5 cursor-pointer transition-all duration-150 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring group",style:{backgroundColor:"var(--surface)",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)"},onClick:r,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),r())},tabIndex:0,role:"button","aria-label":`Configure ${t.name} integration`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx(k2,{connectorType:t.id,fallbackIcon:t.icon,size:"xl",backgroundOpacity:.12,showBorder:!0,borderOpacity:.2,className:"transition-transform duration-150 group-hover:scale-105"}),e.jsx(J,{variant:"outline",style:{backgroundColor:s.bg,borderColor:s.border,color:s.text,fontSize:"var(--text-xs)",textTransform:"uppercase"},children:t.category})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:t.name}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",lineHeight:"var(--line-height-normal)"},children:t.description})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.capabilities.map(a=>e.jsx(J,{variant:"secondary",style:{fontSize:"var(--text-xs)",backgroundColor:"var(--secondary)",color:"var(--secondary-foreground)"},children:a.label},a.id))})]})}const vo=[{id:"azure-ad",name:"Azure AD",description:"Microsoft Azure Active Directory identity provider with Graph API support",category:"idp",icon:No,capabilities:[{id:"oauth",label:"OAuth2"},{id:"graph",label:"Graph API"},{id:"provisioning",label:"Provisioning"},{id:"delta",label:"Delta Sync"}],docsUrl:"https://learn.microsoft.com/en-us/azure/active-directory/",steps:[{id:"connection",title:"Connection Details",description:"Configure your Azure AD tenant connection",fields:[{type:"text",key:"tenantId",label:"Tenant ID",required:!0,placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",helper:"Your Azure AD tenant identifier (GUID)"},{type:"text",key:"primaryDomain",label:"Primary Domain",required:!0,placeholder:"contoso.onmicrosoft.com",helper:"Primary verified domain for your tenant"},{type:"select",key:"environment",label:"Azure Environment",required:!0,defaultValue:"public",options:[{label:"Azure Public Cloud",value:"public"},{label:"Azure US Government",value:"gov"},{label:"Azure China (21Vianet)",value:"china"}]}]},{id:"authentication",title:"Authentication",description:"Configure app registration and credentials",fields:[{type:"text",key:"clientId",label:"Application (Client) ID",required:!0,placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",helper:"From your Azure AD App Registration"},{type:"text",key:"directoryId",label:"Directory (Tenant) ID",required:!0,placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"},{type:"text",key:"clientSecret",label:"Client Secret",secret:!0,placeholder:"Enter client secret or upload certificate below",helper:"Client secret from app registration (or use certificate)"},{type:"file",key:"certificate",label:"Certificate (Optional)",accept:".pfx,.pem,.cer",helper:"Upload X.509 certificate as alternative to client secret"},{type:"multiselect",key:"permissions",label:"Required Permissions",required:!0,helper:"Ensure these are granted in Azure portal",options:[{label:"User.Read.All",value:"User.Read.All"},{label:"Group.Read.All",value:"Group.Read.All"},{label:"Directory.Read.All",value:"Directory.Read.All"},{label:"Directory.ReadWrite.All",value:"Directory.ReadWrite.All"}],defaultValue:["User.Read.All","Group.Read.All"]}]},{id:"scope",title:"Scope & Discovery",description:"Define what to sync from Azure AD",render:"scope"},{id:"mapping",title:"Attribute Mapping",description:"Map Azure AD attributes to your identity model",render:"mapping"},{id:"provisioning",title:"Provisioning Options",description:"Configure user lifecycle management",fields:[{type:"toggle",key:"createUsers",label:"Create Users",defaultValue:!0,helper:"Automatically create new users discovered in Azure AD"},{type:"toggle",key:"updateUsers",label:"Update Users",defaultValue:!0,helper:"Update existing user attributes on sync"},{type:"toggle",key:"disableUsers",label:"Disable Users (Soft Delete)",defaultValue:!0,helper:"Disable users removed from Azure AD instead of deleting"},{type:"toggle",key:"groupWriteback",label:"Group Writeback",defaultValue:!1,helper:"Write group memberships back to Azure AD"},{type:"select",key:"conflictPolicy",label:"Conflict Resolution",defaultValue:"source-wins",options:[{label:"Source Wins (Azure AD)",value:"source-wins"},{label:"Target Wins (IAM)",value:"target-wins"},{label:"Manual Review",value:"manual"}]}]},{id:"schedule",title:"Sync & Scheduling",description:"Configure sync frequency and options",render:"schedule"},{id:"preflight",title:"Test & Preflight",description:"Validate connection and permissions",render:"preflight"},{id:"summary",title:"Review & Create",description:"Review configuration and create integration",render:"summary"}]},{id:"workday",name:"Workday",description:"Workday HCM system with SOAP/RaaS integration",category:"hris",icon:Gc,capabilities:[{id:"soap",label:"SOAP/RaaS"},{id:"effective-dated",label:"Effective-dated"},{id:"org-data",label:"Org Data"}],docsUrl:"https://community.workday.com/integration",steps:[{id:"connection",title:"Connection Details",description:"Configure Workday tenant connection",fields:[{type:"text",key:"tenant",label:"Tenant Name",required:!0,placeholder:"acme_d",helper:"Your Workday tenant identifier"},{type:"text",key:"host",label:"Workday Host",required:!0,placeholder:"services1.myworkday.com",helper:"Workday services hostname"},{type:"select",key:"environment",label:"Environment",required:!0,defaultValue:"prod",options:[{label:"Production",value:"prod"},{label:"Sandbox",value:"sbx"},{label:"Implementation",value:"impl"}]}]},{id:"authentication",title:"Authentication",description:"Configure ISU or OAuth credentials",fields:[{type:"select",key:"authMethod",label:"Authentication Method",required:!0,defaultValue:"oauth",options:[{label:"OAuth 2.0 (Recommended)",value:"oauth"},{label:"ISU (Integration System User)",value:"isu"}]},{type:"text",key:"clientId",label:"Client ID",placeholder:"For OAuth authentication"},{type:"text",key:"clientSecret",label:"Client Secret",secret:!0,placeholder:"For OAuth authentication"},{type:"text",key:"isuUsername",label:"ISU Username",placeholder:"For ISU authentication"},{type:"text",key:"isuPassword",label:"ISU Password",secret:!0,placeholder:"For ISU authentication"},{type:"text",key:"raasPeopleUrl",label:"RaaS People Report URL",placeholder:"https://[tenant].workday.com/ccx/service/...",helper:"Custom report URL for worker data"},{type:"text",key:"raasOrgUrl",label:"RaaS Organization Report URL",placeholder:"https://[tenant].workday.com/ccx/service/...",helper:"Custom report URL for org structure"}]},{id:"scope",title:"Scope & Discovery",description:"Define organizational scope and filters",render:"scope"},{id:"mapping",title:"Attribute Mapping",description:"Map Workday worker attributes",render:"mapping"},{id:"provisioning",title:"Provisioning Options",description:"Configure worker lifecycle handling",fields:[{type:"toggle",key:"preHire",label:"Create Pre-hire Identities",defaultValue:!1,helper:"Create identities for workers with future start dates"},{type:"toggle",key:"rehire",label:"Detect and Merge Rehires",defaultValue:!0,helper:"Reactivate existing identities for rehired workers"},{type:"toggle",key:"futureTerminate",label:"Honor Future-dated Terminations",defaultValue:!0,helper:"Schedule deactivation based on termination date"},{type:"text",key:"effectiveDateWindow",label:"Effective Date Window (Days)",defaultValue:"90",helper:"Look ahead/behind for effective-dated changes"}]},{id:"schedule",title:"Sync & Scheduling",description:"Configure sync frequency",render:"schedule"},{id:"preflight",title:"Test & Preflight",description:"Validate connection and permissions",render:"preflight"},{id:"summary",title:"Review & Create",description:"Review configuration",render:"summary"}]},{id:"active-directory",name:"Active Directory",description:"On-premises Active Directory via LDAP/LDAPS",category:"directory",icon:Fa,capabilities:[{id:"ldap",label:"LDAP"},{id:"ldaps",label:"LDAPS"},{id:"agent",label:"Agent-based"}],steps:[{id:"connection",title:"Connection Details",fields:[{type:"text",key:"host",label:"LDAP Host",required:!0,placeholder:"ldap.company.com"},{type:"text",key:"port",label:"Port",required:!0,defaultValue:"389",placeholder:"389 (LDAP) or 636 (LDAPS)"},{type:"toggle",key:"useSSL",label:"Use SSL/TLS (LDAPS)",defaultValue:!0,helper:"Recommended for secure connections"},{type:"text",key:"baseDN",label:"Base DN",required:!0,placeholder:"DC=company,DC=com"}]},{id:"authentication",title:"Authentication",fields:[{type:"text",key:"bindDN",label:"Bind DN",required:!0,placeholder:"CN=Service Account,OU=Users,DC=company,DC=com"},{type:"text",key:"bindPassword",label:"Bind Password",required:!0,secret:!0}]},{id:"scope",title:"Scope & Discovery",render:"scope"},{id:"mapping",title:"Attribute Mapping",render:"mapping"},{id:"provisioning",title:"Provisioning Options",fields:[{type:"toggle",key:"createUsers",label:"Create Users",defaultValue:!0},{type:"toggle",key:"updateUsers",label:"Update Users",defaultValue:!0},{type:"toggle",key:"disableUsers",label:"Disable Users",defaultValue:!0}]},{id:"schedule",title:"Sync & Scheduling",render:"schedule"},{id:"preflight",title:"Test & Preflight",render:"preflight"},{id:"summary",title:"Review & Create",render:"summary"}]},{id:"microsoft-365",name:"Microsoft 365",description:"Microsoft 365 tenant with license management",category:"saas",icon:zt,capabilities:[{id:"graph",label:"Graph API"},{id:"licenses",label:"License Mgmt"},{id:"provisioning",label:"Provisioning"}],steps:[{id:"connection",title:"Connection Details",fields:[{type:"text",key:"tenantId",label:"Tenant ID",required:!0}]},{id:"authentication",title:"Authentication",fields:[{type:"text",key:"clientId",label:"Application (Client) ID",required:!0},{type:"text",key:"clientSecret",label:"Client Secret",required:!0,secret:!0}]},{id:"scope",title:"Scope & Discovery",render:"scope"},{id:"mapping",title:"Attribute Mapping",render:"mapping"},{id:"provisioning",title:"Provisioning Options",fields:[{type:"toggle",key:"assignLicenses",label:"Auto-assign Licenses",defaultValue:!0},{type:"toggle",key:"createMailboxes",label:"Create Exchange Mailboxes",defaultValue:!0}]},{id:"schedule",title:"Sync & Scheduling",render:"schedule"},{id:"preflight",title:"Test & Preflight",render:"preflight"},{id:"summary",title:"Review & Create",render:"summary"}]},{id:"salesforce",name:"Salesforce",description:"Salesforce CRM with profiles and permission sets",category:"saas",icon:DN,capabilities:[{id:"rest",label:"REST API"},{id:"oauth",label:"OAuth"},{id:"profiles",label:"Profiles/PermSets"}],steps:[{id:"connection",title:"Connection Details",fields:[{type:"text",key:"instanceUrl",label:"Instance URL",required:!0,placeholder:"https://yourinstance.my.salesforce.com"},{type:"select",key:"environment",label:"Environment",defaultValue:"production",options:[{label:"Production",value:"production"},{label:"Sandbox",value:"sandbox"}]}]},{id:"authentication",title:"Authentication",fields:[{type:"text",key:"clientId",label:"Consumer Key",required:!0},{type:"text",key:"clientSecret",label:"Consumer Secret",required:!0,secret:!0}]},{id:"scope",title:"Scope & Discovery",render:"scope"},{id:"mapping",title:"Attribute Mapping",render:"mapping"},{id:"provisioning",title:"Provisioning Options",fields:[{type:"toggle",key:"assignProfiles",label:"Manage Profiles",defaultValue:!0},{type:"toggle",key:"assignPermissionSets",label:"Manage Permission Sets",defaultValue:!0}]},{id:"schedule",title:"Sync & Scheduling",render:"schedule"},{id:"preflight",title:"Test & Preflight",render:"preflight"},{id:"summary",title:"Review & Create",render:"summary"}]},{id:"aws",name:"AWS",description:"Amazon Web Services with IAM role assumption",category:"cloud",icon:No,capabilities:[{id:"assume-role",label:"AssumeRole"},{id:"iam",label:"IAM"},{id:"multi-account",label:"Multi-account"}],steps:[{id:"connection",title:"Connection Details",fields:[{type:"text",key:"roleArn",label:"IAM Role ARN",required:!0,placeholder:"arn:aws:iam::123456789012:role/IAMIntegrationRole",helper:"Role ARN to assume for API access"},{type:"text",key:"externalId",label:"External ID",required:!0,placeholder:"Unique identifier for secure role assumption"},{type:"select",key:"region",label:"Primary Region",defaultValue:"us-east-1",options:[{label:"US East (N. Virginia)",value:"us-east-1"},{label:"US West (Oregon)",value:"us-west-2"},{label:"EU (Ireland)",value:"eu-west-1"},{label:"Asia Pacific (Singapore)",value:"ap-southeast-1"}]}]},{id:"scope",title:"Scope & Discovery",render:"scope"},{id:"mapping",title:"Attribute Mapping",render:"mapping"},{id:"provisioning",title:"Provisioning Options",fields:[{type:"toggle",key:"manageIAMUsers",label:"Manage IAM Users",defaultValue:!0},{type:"toggle",key:"manageIAMGroups",label:"Manage IAM Groups",defaultValue:!0},{type:"toggle",key:"timeBoundElevation",label:"Enable Time-bound Elevation",defaultValue:!1}]},{id:"schedule",title:"Sync & Scheduling",render:"schedule"},{id:"preflight",title:"Test & Preflight",render:"preflight"},{id:"summary",title:"Review & Create",render:"summary"}]},{id:"okta",name:"Okta",description:"Okta identity platform with SCIM provisioning",category:"idp",icon:bt,capabilities:[{id:"scim",label:"SCIM"},{id:"oauth",label:"OAuth"},{id:"groups",label:"Groups"}],steps:[{id:"connection",title:"Connection Details",fields:[{type:"text",key:"domain",label:"Okta Domain",required:!0,placeholder:"dev-123456.okta.com"}]},{id:"authentication",title:"Authentication",fields:[{type:"text",key:"apiToken",label:"API Token",required:!0,secret:!0,helper:"Create an API token in Okta Admin Console"}]},{id:"scope",title:"Scope & Discovery",render:"scope"},{id:"mapping",title:"Attribute Mapping",render:"mapping"},{id:"provisioning",title:"Provisioning Options",fields:[{type:"toggle",key:"createUsers",label:"Create Users",defaultValue:!0},{type:"toggle",key:"updateUsers",label:"Update Users",defaultValue:!0},{type:"toggle",key:"deactivateUsers",label:"Deactivate Users",defaultValue:!0}]},{id:"schedule",title:"Sync & Scheduling",render:"schedule"},{id:"preflight",title:"Test & Preflight",render:"preflight"},{id:"summary",title:"Review & Create",render:"summary"}]},{id:"servicenow",name:"ServiceNow",description:"ServiceNow ITSM platform with roles and groups",category:"saas",icon:Pi,capabilities:[{id:"rest",label:"REST API"},{id:"roles",label:"Roles/Groups"},{id:"itsm",label:"ITSM"}],steps:[{id:"connection",title:"Connection Details",fields:[{type:"text",key:"instanceUrl",label:"Instance URL",required:!0,placeholder:"https://dev12345.service-now.com"}]},{id:"authentication",title:"Authentication",fields:[{type:"text",key:"username",label:"Username",required:!0},{type:"text",key:"password",label:"Password",required:!0,secret:!0}]},{id:"scope",title:"Scope & Discovery",render:"scope"},{id:"mapping",title:"Attribute Mapping",render:"mapping"},{id:"provisioning",title:"Provisioning Options",fields:[{type:"toggle",key:"manageRoles",label:"Manage Roles",defaultValue:!0},{type:"toggle",key:"manageGroups",label:"Manage Groups",defaultValue:!0}]},{id:"schedule",title:"Sync & Scheduling",render:"schedule"},{id:"preflight",title:"Test & Preflight",render:"preflight"},{id:"summary",title:"Review & Create",render:"summary"}]},{id:"jira",name:"Jira",description:"Atlassian Jira with project and role management",category:"saas",icon:Sr,capabilities:[{id:"rest",label:"REST API"},{id:"projects",label:"Projects/Roles"}],steps:[{id:"connection",title:"Connection Details",fields:[{type:"text",key:"siteUrl",label:"Jira Site URL",required:!0,placeholder:"https://yourcompany.atlassian.net"}]},{id:"authentication",title:"Authentication",fields:[{type:"text",key:"email",label:"Email",required:!0},{type:"text",key:"apiToken",label:"API Token",required:!0,secret:!0}]},{id:"scope",title:"Scope & Discovery",render:"scope"},{id:"mapping",title:"Attribute Mapping",render:"mapping"},{id:"provisioning",title:"Provisioning Options",fields:[{type:"toggle",key:"manageProjects",label:"Manage Project Access",defaultValue:!0}]},{id:"schedule",title:"Sync & Scheduling",render:"schedule"},{id:"preflight",title:"Test & Preflight",render:"preflight"},{id:"summary",title:"Review & Create",render:"summary"}]}];function e3(t){return vo.find(r=>r.id===t)}const Owe={"azure-ad":[{source:"userPrincipalName",target:"username"},{source:"givenName",target:"firstName"},{source:"surname",target:"lastName"},{source:"mail",target:"email"},{source:"displayName",target:"displayName"},{source:"department",target:"department"},{source:"jobTitle",target:"jobTitle"},{source:"manager",target:"managerId"}],workday:[{source:"WorkerID",target:"employeeId"},{source:"PrimaryWorkEmail",target:"email"},{source:"LegalFirstName",target:"firstName"},{source:"LegalLastName",target:"lastName"},{source:"PreferredName",target:"displayName"},{source:"ManagerReference",target:"managerId"},{source:"CostCenter",target:"costCenter"},{source:"Location",target:"location"},{source:"JobProfile",target:"jobTitle"}],"active-directory":[{source:"sAMAccountName",target:"username"},{source:"mail",target:"email"},{source:"givenName",target:"firstName"},{source:"sn",target:"lastName"},{source:"displayName",target:"displayName"},{source:"department",target:"department"},{source:"title",target:"jobTitle"},{source:"manager",target:"managerId"}]};function Iwe({onSelect:t,onCancel:r}){const[n,s]=j.useState(""),[a,i]=j.useState("all"),o=[{value:"all",label:"All",count:vo.length},{value:"directory",label:"Directory",count:vo.filter(d=>d.category==="directory").length},{value:"idp",label:"IdP",count:vo.filter(d=>d.category==="idp").length},{value:"hris",label:"HRIS",count:vo.filter(d=>d.category==="hris").length},{value:"saas",label:"SaaS",count:vo.filter(d=>d.category==="saas").length},{value:"cloud",label:"Cloud",count:vo.filter(d=>d.category==="cloud").length}],l=j.useMemo(()=>{let d=vo;if(a!=="all"&&(d=d.filter(u=>u.category===a)),n){const u=n.toLowerCase();d=d.filter(f=>f.name.toLowerCase().includes(u)||f.description.toLowerCase().includes(u)||f.capabilities.some(m=>m.label.toLowerCase().includes(u)))}return d},[n,a]);return e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"8px"},children:"Choose a Connector"}),e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--muted-foreground)"},children:"Select the system you want to integrate with your IAM platform"})]}),e.jsx(L,{variant:"ghost",size:"sm",onClick:r,children:e.jsx($t,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx(pe,{placeholder:"Search connectors...",value:n,onChange:d=>s(d.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(ns,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Category:"}),o.map(d=>e.jsxs(J,{variant:a===d.value?"default":"outline",className:"cursor-pointer transition-all duration-120 hover:shadow-sm",onClick:()=>i(d.value),style:{fontSize:"var(--text-xs)"},children:[d.label," (",d.count,")"]},d.value))]})]}),l.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(d=>e.jsx(Pwe,{connector:d,onClick:()=>t(d.id)},d.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{style:{fontSize:"var(--text-body)",color:"var(--muted-foreground)"},children:"No connectors found matching your criteria."}),e.jsx(L,{variant:"link",onClick:()=>{s(""),i("all")},className:"mt-2",children:"Clear filters"})]})]})}function Dwe({field:t,value:r,onChange:n,error:s}){const[a,i]=j.useState(!1),[o,l]=j.useState(""),d=m=>{const v=m.target.files?.[0];v&&(l(v.name),n(v))},u=m=>{const v=r||[],g=v.includes(m)?v.filter(b=>b!==m):[...v,m];n(g)},f=()=>{switch(t.type){case"text":return e.jsxs("div",{className:"relative",children:[e.jsx(pe,{type:t.secret&&!a?"password":"text",placeholder:t.placeholder,value:r||"",onChange:m=>n(m.target.value),className:s?"border-destructive":""}),t.secret&&e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>i(!a),"aria-label":a?"Hide password":"Show password",children:a?e.jsx(v5,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}}):e.jsx(ir,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}})})]});case"textarea":return e.jsx(mn,{placeholder:t.placeholder,value:r||"",onChange:m=>n(m.target.value),rows:4,className:s?"border-destructive":""});case"select":return e.jsxs(Me,{value:r||t.defaultValue,onValueChange:n,children:[e.jsx(ze,{className:s?"border-destructive":"",children:e.jsx(Le,{placeholder:t.placeholder||"Select an option"})}),e.jsx($e,{children:t.options?.map(m=>e.jsx(Z,{value:m.value,children:m.label},m.value))})]});case"toggle":return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Pe,{checked:r!==void 0?r:t.defaultValue,onCheckedChange:n,id:t.key}),e.jsx(G,{htmlFor:t.key,className:"cursor-pointer",style:{marginBottom:0},children:e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:t.label})})]});case"multiselect":return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex flex-wrap gap-2 p-3 rounded-md border",style:{borderColor:"var(--border)"},children:t.options?.map(m=>{const v=(r||t.defaultValue||[]).includes(m.value);return e.jsxs(J,{variant:v?"default":"outline",className:"cursor-pointer transition-all duration-120",onClick:()=>u(m.value),children:[m.label,v&&e.jsx($t,{className:"w-3 h-3 ml-1"})]},m.value)})}),(r||t.defaultValue||[]).length===0&&e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Click to select one or more options"})]});case"file":return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors hover:border-primary/50 cursor-pointer",style:{borderColor:s?"var(--destructive)":"var(--border)"},onClick:()=>document.getElementById(`file-${t.key}`)?.click(),children:[e.jsx(Oi,{className:"w-8 h-8 mx-auto mb-2",style:{color:"var(--muted-foreground)"}}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--text)",marginBottom:"4px"},children:o||"Click to upload or drag and drop"}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:t.accept||"Any file type"}),e.jsx("input",{id:`file-${t.key}`,type:"file",accept:t.accept,onChange:d,className:"hidden"})]}),o&&e.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",style:{borderColor:"var(--border)"},children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:o}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>{l(""),n(null)},children:e.jsx($t,{className:"w-4 h-4"})})]})]});default:return null}};return t.type==="toggle"?e.jsxs("div",{className:"space-y-2",children:[f(),t.helper&&e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:t.helper}),s&&e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--destructive)"},children:s})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(G,{htmlFor:t.key,children:[t.label,t.required&&e.jsx("span",{style:{color:"var(--destructive)"},children:" *"})]}),t.helper&&e.jsx(Do,{delayDuration:200,children:e.jsxs(Ai,{children:[e.jsx(Ei,{asChild:!0,children:e.jsx("button",{type:"button",className:"inline-flex",children:e.jsx(wx,{className:"w-3.5 h-3.5",style:{color:"var(--muted-foreground)"}})})}),e.jsx(_i,{children:e.jsx("p",{className:"max-w-xs",children:t.helper})})]})})]}),f(),!t.helper&&s&&e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--destructive)"},children:s})]})}function Mwe({connectorName:t,value:r,onChange:n,onSuggestName:s}){const[a,i]=j.useState(""),o=()=>{a&&!r.tags.includes(a)&&(n({tags:[...r.tags,a]}),i(""))},l=d=>{n({tags:r.tags.filter(u=>u!==d)})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(se,{className:"p-4",style:{backgroundColor:"var(--info-bg)",border:"1px solid var(--info-border)"},children:e.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--info)"},children:[e.jsx("strong",{children:"Multiple Instances:"}),' You can create multiple integrations of the same type with different names. For example: "',t,'  Corp Prod", "',t,'  M&A Tenant", etc.']})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{htmlFor:"instanceName",children:["Instance Name ",e.jsx("span",{style:{color:"var(--destructive)"},children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(pe,{id:"instanceName",value:r.instanceName,onChange:d=>n({instanceName:d.target.value}),placeholder:`${t}  Production`}),e.jsxs(L,{variant:"outline",size:"sm",onClick:s,className:"gap-2 whitespace-nowrap",children:[e.jsx(Qt,{className:"w-4 h-4"}),"Suggest"]})]}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Choose a unique, descriptive name. This will be shown throughout the UI."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{htmlFor:"environment",children:["Environment ",e.jsx("span",{style:{color:"var(--destructive)"},children:"*"})]}),e.jsxs(Me,{value:r.environment,onValueChange:d=>n({environment:d}),children:[e.jsx(ze,{id:"environment",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"prod",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"var(--success)"}}),"Production"]})}),e.jsx(Z,{value:"sandbox",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"var(--warning)"}}),"Sandbox"]})}),e.jsx(Z,{value:"dev",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"var(--info)"}}),"Development"]})}),e.jsx(Z,{value:"gov",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"var(--primary)"}}),"Government"]})})]})]}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Select the environment tier for this integration"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{htmlFor:"owner",children:["Owner ",e.jsx("span",{style:{color:"var(--destructive)"},children:"*"})]}),e.jsx(pe,{id:"owner",value:r.owner,onChange:d=>n({owner:d.target.value}),placeholder:"e.g., IdM Team, IT Operations"}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Team or person responsible for this integration"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{htmlFor:"newTag",children:["Tags ",e.jsx("span",{style:{fontSize:"var(--text-xs)",fontWeight:"normal",color:"var(--muted-foreground)"},children:"(Optional)"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(pe,{id:"newTag",value:a,onChange:d=>i(d.target.value),onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),o())},placeholder:"e.g., production, critical, sso"}),e.jsx(L,{variant:"outline",size:"sm",onClick:o,children:e.jsx(MJ,{className:"w-4 h-4"})})]}),r.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.tags.map(d=>e.jsxs(J,{variant:"secondary",className:"gap-1",children:[d,e.jsx("button",{onClick:()=>l(d),className:"hover:text-destructive",children:e.jsx($t,{className:"w-3 h-3"})})]},d))}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Add tags to organize and filter integrations"})]}),r.instanceName&&e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:r.instanceName}),e.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:[t,"  ",r.environment.charAt(0).toUpperCase()+r.environment.slice(1)]})]}),e.jsx(J,{variant:"outline",style:{backgroundColor:r.environment==="prod"?"var(--success-bg)":r.environment==="sandbox"?"var(--warning-bg)":"var(--info-bg)",borderColor:r.environment==="prod"?"var(--success-border)":r.environment==="sandbox"?"var(--warning-border)":"var(--info-border)",color:r.environment==="prod"?"var(--success)":r.environment==="sandbox"?"var(--warning)":"var(--info)"},children:r.environment.toUpperCase()})]}),r.owner&&e.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)",marginTop:"8px"},children:["Owner: ",r.owner]}),r.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:r.tags.map(d=>e.jsx(J,{variant:"secondary",style:{fontSize:"var(--text-xs)"},children:d},d))})]})]})}const Lwe=[{value:"none",label:"None (Direct)"},{value:"toLowerCase",label:"Lowercase"},{value:"toUpperCase",label:"Uppercase"},{value:"trim",label:"Trim Whitespace"},{value:"formatPhone",label:"Format Phone"},{value:"formatDate",label:"Format Date"},{value:"concat",label:"Concatenate"},{value:"split",label:"Split"}];function zwe({connectorId:t,value:r,onChange:n}){const[s,a]=j.useState(null),i=()=>{const d={id:`mapping-${Date.now()}`,source:"",target:"",transform:"none"};n([...r,d]),a(d.id)},o=(d,u,f)=>{n(r.map(m=>m.id===d?{...m,[u]:f}:m))},l=d=>{n(r.filter(u=>u.id!==d))};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:"Attribute Mappings"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Map source attributes to your identity model"})]}),e.jsxs(L,{onClick:i,size:"sm",variant:"outline",className:"gap-2",children:[e.jsx(At,{className:"w-4 h-4"}),"Add Mapping"]})]}),e.jsx("div",{className:"border rounded-lg",style:{borderColor:"var(--border)"},children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{style:{width:"35%"},children:"Source Attribute"}),e.jsx(we,{style:{width:"5%"},className:"text-center"}),e.jsx(we,{style:{width:"35%"},children:"Target Attribute"}),e.jsx(we,{style:{width:"20%"},children:"Transform"}),e.jsx(we,{style:{width:"5%"}})]})}),e.jsx(kn,{children:r.length===0?e.jsx(St,{children:e.jsx(be,{colSpan:5,className:"text-center py-8",children:e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:'No attribute mappings configured yet. Click "Add Mapping" to get started.'})})}):r.map(d=>e.jsxs(St,{children:[e.jsx(be,{children:e.jsx(pe,{value:d.source,onChange:u=>o(d.id,"source",u.target.value),placeholder:"e.g., userPrincipalName",className:"font-mono",style:{fontSize:"var(--text-sm)"}})}),e.jsx(be,{className:"text-center",children:e.jsx(Dn,{className:"w-4 h-4 mx-auto",style:{color:"var(--muted-foreground)"}})}),e.jsx(be,{children:e.jsx(pe,{value:d.target,onChange:u=>o(d.id,"target",u.target.value),placeholder:"e.g., username",className:"font-mono",style:{fontSize:"var(--text-sm)"}})}),e.jsx(be,{children:e.jsxs(Me,{value:d.transform||"none",onValueChange:u=>o(d.id,"transform",u),children:[e.jsx(ze,{children:e.jsx(Le,{})}),e.jsx($e,{children:Lwe.map(u=>e.jsx(Z,{value:u.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[u.value!=="none"&&e.jsx(IN,{className:"w-3 h-3"}),u.label]})},u.value))})]})}),e.jsx(be,{children:e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>l(d.id),className:"w-8 h-8 p-0",children:e.jsx(Al,{className:"w-4 h-4",style:{color:"var(--destructive)"}})})})]},d.id))})]})}),r.length>0&&e.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-md",style:{backgroundColor:"var(--info-bg)",border:"1px solid var(--info-border)"},children:[e.jsx(IN,{className:"w-4 h-4 mt-0.5",style:{color:"var(--info)"}}),e.jsxs("div",{children:[e.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--info)",marginBottom:"4px"},children:[e.jsx("strong",{children:"Tip:"})," Use transforms to normalize data"]}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--info)"},children:"You can test these mappings in the next step before creating the integration."})]})]})]})}function $we({connectorId:t,value:r,onChange:n}){const[s,a]=j.useState(""),[i,o]=j.useState(""),l=()=>{const b={id:`rule-${Date.now()}`,type:"include",field:"department",operator:"equals",value:""};n({...r,rules:[...r.rules||[],b]})},d=(b,x)=>{n({...r,rules:r.rules?.map(y=>y.id===b?{...y,...x}:y)||[]})},u=b=>{n({...r,rules:r.rules?.filter(x=>x.id!==b)||[]})},f=()=>{s&&!r.domains?.includes(s)&&(n({...r,domains:[...r.domains||[],s]}),a(""))},m=b=>{n({...r,domains:r.domains?.filter(x=>x!==b)||[]})},v=()=>{i&&!r.organizationalUnits?.includes(i)&&(n({...r,organizationalUnits:[...r.organizationalUnits||[],i]}),o(""))},g=b=>{n({...r,organizationalUnits:r.organizationalUnits?.filter(x=>x!==b)||[]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"What to Sync"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(G,{htmlFor:"sync-users",className:"cursor-pointer",style:{marginBottom:0},children:"Sync Users"}),e.jsx(Pe,{id:"sync-users",checked:r.syncUsers!==!1,onCheckedChange:b=>n({...r,syncUsers:b})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(G,{htmlFor:"sync-groups",className:"cursor-pointer",style:{marginBottom:0},children:"Sync Groups"}),e.jsx(Pe,{id:"sync-groups",checked:r.syncGroups!==!1,onCheckedChange:b=>n({...r,syncGroups:b})})]})]})]}),t.includes("ad")&&e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Domain Filters"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(pe,{placeholder:"e.g., contoso.com",value:s,onChange:b=>a(b.target.value),onKeyDown:b=>b.key==="Enter"&&f()}),e.jsx(L,{onClick:f,size:"sm",variant:"outline",children:e.jsx(At,{className:"w-4 h-4"})})]}),r.domains&&r.domains.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:r.domains.map(b=>e.jsxs(J,{variant:"secondary",className:"gap-1",children:[b,e.jsx("button",{onClick:()=>m(b),children:e.jsx($t,{className:"w-3 h-3"})})]},b))})]})]}),t==="active-directory"&&e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Organizational Units"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(pe,{placeholder:"e.g., OU=Users,DC=company,DC=com",value:i,onChange:b=>o(b.target.value),onKeyDown:b=>b.key==="Enter"&&v(),className:"font-mono",style:{fontSize:"var(--text-sm)"}}),e.jsx(L,{onClick:v,size:"sm",variant:"outline",children:e.jsx(At,{className:"w-4 h-4"})})]}),r.organizationalUnits&&r.organizationalUnits.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:r.organizationalUnits.map(b=>e.jsxs(J,{variant:"secondary",className:"gap-1 font-mono text-xs",children:[b,e.jsx("button",{onClick:()=>g(b),children:e.jsx($t,{className:"w-3 h-3"})})]},b))})]})]}),e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Advanced Filter Rules"}),e.jsxs(L,{onClick:l,size:"sm",variant:"outline",className:"gap-2",children:[e.jsx(At,{className:"w-4 h-4"}),"Add Rule"]})]}),r.rules&&r.rules.length>0?e.jsx("div",{className:"space-y-3",children:r.rules.map(b=>e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md border",style:{borderColor:"var(--border)"},children:[e.jsx(ns,{className:"w-4 h-4",style:{color:"var(--muted-foreground)"}}),e.jsxs("select",{value:b.type,onChange:x=>d(b.id,{type:x.target.value}),className:"px-2 py-1 rounded border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",color:"var(--text)",fontSize:"var(--text-sm)"},children:[e.jsx("option",{value:"include",children:"Include"}),e.jsx("option",{value:"exclude",children:"Exclude"})]}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"where"}),e.jsx(pe,{placeholder:"field",value:b.field,onChange:x=>d(b.id,{field:x.target.value}),className:"w-32"}),e.jsxs("select",{value:b.operator,onChange:x=>d(b.id,{operator:x.target.value}),className:"px-2 py-1 rounded border",style:{borderColor:"var(--border)",backgroundColor:"var(--surface)",color:"var(--text)",fontSize:"var(--text-sm)"},children:[e.jsx("option",{value:"equals",children:"equals"}),e.jsx("option",{value:"contains",children:"contains"}),e.jsx("option",{value:"startsWith",children:"starts with"}),e.jsx("option",{value:"endsWith",children:"ends with"})]}),e.jsx(pe,{placeholder:"value",value:b.value,onChange:x=>d(b.id,{value:x.target.value}),className:"flex-1"}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>u(b.id),className:"w-8 h-8 p-0",children:e.jsx($t,{className:"w-4 h-4",style:{color:"var(--destructive)"}})})]},b.id))}):e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"No filter rules configured. All users and groups matching the above criteria will be synced."})]})]})}function Fwe({connectorId:t,value:r,onChange:n}){const[s,a]=j.useState(r.mode||"interval"),i=["azure-ad","microsoft-365","okta"].includes(t),o=[{value:15,unit:"minutes",label:"Every 15 minutes"},{value:30,unit:"minutes",label:"Every 30 minutes"},{value:1,unit:"hours",label:"Every hour"},{value:6,unit:"hours",label:"Every 6 hours"},{value:12,unit:"hours",label:"Every 12 hours"},{value:1,unit:"days",label:"Daily"}],l=[{value:"0 */6 * * *",label:"Every 6 hours"},{value:"0 0 * * *",label:"Daily at midnight"},{value:"0 2 * * *",label:"Daily at 2 AM"},{value:"0 0 * * 0",label:"Weekly (Sunday)"},{value:"0 0 1 * *",label:"Monthly (1st)"}],d=u=>{a(u),n({...r,mode:u,...u==="interval"&&!r.interval?{interval:{value:6,unit:"hours"}}:{},...u==="cron"&&!r.cron?{cron:"0 */6 * * *"}:{}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{className:"cursor-pointer",style:{marginBottom:"4px"},children:"Enable Automatic Sync"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Run sync jobs automatically on a schedule"})]}),e.jsx(Pe,{checked:r.enabled!==!1,onCheckedChange:u=>n({...r,enabled:u})})]})}),r.enabled!==!1&&e.jsxs(e.Fragment,{children:[i&&e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Sync Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${r.syncType==="delta"?"border-primary":""}`,style:{borderColor:r.syncType==="delta"?"var(--primary)":"var(--border)",backgroundColor:r.syncType==="delta"?"var(--primary)10":"transparent"},onClick:()=>n({...r,syncType:"delta"}),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Sr,{className:"w-4 h-4",style:{color:"var(--primary)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Delta Sync"}),e.jsx(J,{variant:"secondary",style:{fontSize:"var(--text-xs)"},children:"Recommended"})]}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Only sync changes since last run. Faster and more efficient."})]}),e.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${r.syncType==="full"?"border-primary":""}`,style:{borderColor:r.syncType==="full"?"var(--primary)":"var(--border)",backgroundColor:r.syncType==="full"?"var(--primary)10":"transparent"},onClick:()=>n({...r,syncType:"full"}),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Wn,{className:"w-4 h-4",style:{color:"var(--text)"}}),e.jsx("span",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Full Sync"})]}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Sync all users and groups on every run. More thorough but slower."})]})]})]}),e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Schedule"}),e.jsxs(pn,{value:s,onValueChange:u=>d(u),children:[e.jsxs(sn,{className:"grid w-full grid-cols-2 mb-4",children:[e.jsxs(Ie,{value:"interval",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"}),"Interval"]}),e.jsxs(Ie,{value:"cron",children:[e.jsx(Wn,{className:"w-4 h-4 mr-2"}),"CRON"]})]}),e.jsx(De,{value:"interval",className:"space-y-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Run every"}),e.jsxs(Me,{value:`${r.interval?.value}-${r.interval?.unit}`,onValueChange:u=>{const[f,m]=u.split("-");n({...r,interval:{value:parseInt(f),unit:m}})},children:[e.jsx(ze,{children:e.jsx(Le,{})}),e.jsx($e,{children:o.map(u=>e.jsx(Z,{value:`${u.value}-${u.unit}`,children:u.label},`${u.value}-${u.unit}`))})]})]})}),e.jsxs(De,{value:"cron",className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"CRON Expression"}),e.jsxs(Me,{value:r.cron||"0 */6 * * *",onValueChange:u=>n({...r,cron:u}),children:[e.jsx(ze,{children:e.jsx(Le,{})}),e.jsx($e,{children:l.map(u=>e.jsx(Z,{value:u.value,children:e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"var(--text-sm)"},children:u.label}),e.jsx("code",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",fontFamily:"monospace"},children:u.value})]})},u.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Custom CRON"}),e.jsx(pe,{value:r.cron||"",onChange:u=>n({...r,cron:u.target.value}),placeholder:"0 */6 * * *",className:"font-mono"}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:"Format: minute hour day month weekday"})]})]})]})]}),e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"12px"},children:"Retry Policy"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Max Retries"}),e.jsx(pe,{type:"number",min:"0",max:"10",value:r.retryPolicy?.maxRetries||3,onChange:u=>n({...r,retryPolicy:{...r.retryPolicy||{backoffMultiplier:2},maxRetries:parseInt(u.target.value)||0}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Backoff Multiplier"}),e.jsx(pe,{type:"number",min:"1",max:"10",step:"0.1",value:r.retryPolicy?.backoffMultiplier||2,onChange:u=>n({...r,retryPolicy:{...r.retryPolicy||{maxRetries:3},backoffMultiplier:parseFloat(u.target.value)||1}})})]})]}),e.jsx("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginTop:"8px"},children:"If a sync job fails, it will be retried with exponential backoff"})]})]})]})}function Bwe({connectorId:t,config:r,onComplete:n}){const[s,a]=j.useState([]),[i,o]=j.useState(!1),[l,d]=j.useState(!1);j.useEffect(()=>{a([{id:"connection",name:"Connection Test",description:"Verify network connectivity to the service",status:"pending"},{id:"authentication",name:"Authentication",description:"Validate credentials and permissions",status:"pending"},{id:"permissions",name:"Permission Check",description:"Ensure required API permissions are granted",status:"pending"},{id:"discovery",name:"Discovery Test",description:"Attempt to discover users and groups",status:"pending"},{id:"mapping",name:"Attribute Mapping",description:"Verify attribute mappings are valid",status:"pending"}])},[t]);const u=async()=>{o(!0),d(!0);for(let b=0;b<s.length;b++){const x=s[b];a(C=>C.map(w=>w.id===x.id?{...w,status:"running"}:w)),await new Promise(C=>setTimeout(C,800+Math.random()*1200));const y=Math.random()>.15,A=!y&&Math.random()>.5;let E="";x.id==="connection"?E=y?"Successfully connected to the service":"Connection timeout - check network settings":x.id==="authentication"?E=y?"Credentials validated successfully":"Authentication failed - verify client ID and secret":x.id==="permissions"?E=y?"All required permissions are granted":A?"Some optional permissions are missing - functionality may be limited":"Missing required permissions - grant User.Read.All":x.id==="discovery"?E=y?"Successfully discovered 5 users and 3 groups":"Unable to query users - check scope configuration":x.id==="mapping"&&(E=y?"All attribute mappings are valid":A?"2 optional attributes are missing in source":'Required attribute "email" not found in source'),a(C=>C.map(w=>w.id===x.id?{...w,status:y?"passed":A?"warning":"failed",message:E,duration:Math.floor(800+Math.random()*1200)}:w))}o(!1);const g=s.every(b=>b.status==="passed"||b.status==="warning");n?.(g)},f=g=>{switch(g){case"pending":return e.jsx("div",{className:"w-5 h-5 rounded-full border-2",style:{borderColor:"var(--border)"}});case"running":return e.jsx(Lh,{className:"w-5 h-5 animate-spin",style:{color:"var(--primary)"}});case"passed":return e.jsx(cr,{className:"w-5 h-5",style:{color:"var(--success)"}});case"warning":return e.jsx(et,{className:"w-5 h-5",style:{color:"var(--warning)"}});case"failed":return e.jsx(Cr,{className:"w-5 h-5",style:{color:"var(--danger)"}})}},m=s.filter(g=>g.status==="passed").length,v=l?m/s.length*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:"Connection Validation"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Run pre-flight checks to validate your configuration before creating the integration"})]}),e.jsxs(L,{onClick:u,disabled:i,className:"gap-2",children:[e.jsx(ts,{className:"w-4 h-4"}),i?"Running Tests...":l?"Run Again":"Run Tests"]})]}),l&&e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)"},children:[m," of ",s.length," tests passed"]}),e.jsxs("span",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text)"},children:[Math.round(v),"%"]})]}),e.jsx(Nr,{value:v,className:"h-2"})]}),e.jsx("div",{className:"space-y-3",children:s.map((g,b)=>e.jsx(se,{className:"p-4 transition-all duration-200",style:{backgroundColor:"var(--surface)",borderColor:g.status==="passed"?"var(--success-border)":g.status==="failed"?"var(--danger-border)":g.status==="warning"?"var(--warning-border)":"var(--border)",opacity:g.status==="pending"&&l?.6:1},children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"mt-0.5",children:f(g.status)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:g.name}),g.duration&&e.jsxs("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:[g.duration,"ms"]})]}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"4px"},children:g.description}),g.message&&e.jsx("p",{style:{fontSize:"var(--text-sm)",color:g.status==="passed"?"var(--success)":g.status==="warning"?"var(--warning)":g.status==="failed"?"var(--danger)":"var(--text)",marginTop:"8px"},children:g.message})]})]})},g.id))}),l&&!i&&e.jsx(se,{className:"p-4",style:{backgroundColor:s.some(g=>g.status==="failed")?"var(--danger-bg)":s.some(g=>g.status==="warning")?"var(--warning-bg)":"var(--success-bg)",border:`1px solid ${s.some(g=>g.status==="failed")?"var(--danger-border)":s.some(g=>g.status==="warning")?"var(--warning-border)":"var(--success-border)"}`},children:e.jsx("p",{style:{fontSize:"var(--text-sm)",color:s.some(g=>g.status==="failed")?"var(--danger)":s.some(g=>g.status==="warning")?"var(--warning)":"var(--success)"},children:s.some(g=>g.status==="failed")?" Some tests failed. Please review and fix the issues before proceeding.":s.some(g=>g.status==="warning")?" All critical tests passed with some warnings. You can proceed, but review the warnings.":" All tests passed successfully! Your integration is ready to be created."})})]})}function Wwe({connector:t,config:r,onRunTestSync:n}){const[s,a]=$.useState(!1),i=t.icon,o=(l,d,u)=>{const f=u.filter(m=>m.value!==void 0&&m.value!==null&&m.value!=="");return f.length===0?null:e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d,e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:l})]}),e.jsx("div",{className:"space-y-2",children:f.map((m,v)=>e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:m.label}),e.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--text)",fontWeight:"var(--font-weight-medium)",textAlign:"right",wordBreak:"break-word"},children:typeof m.value=="boolean"?e.jsx(J,{variant:m.value?"default":"secondary",children:m.value?"Enabled":"Disabled"}):Array.isArray(m.value)?e.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:m.value.map((g,b)=>e.jsx(J,{variant:"secondary",children:g},b))}):String(m.value)})]},v))})]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:"Review Configuration"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Review your integration settings before creating"})]}),e.jsx(se,{className:"p-5",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--primary)",opacity:.1},children:e.jsx(i,{className:"w-6 h-6",style:{color:"var(--primary)"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{style:{fontSize:"var(--text-md)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:t.name}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)",marginBottom:"8px"},children:t.description}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.capabilities.map(l=>e.jsx(J,{variant:"secondary",style:{fontSize:"var(--text-xs)"},children:l.label},l.id))})]}),e.jsx(cr,{className:"w-5 h-5",style:{color:"var(--success)"}})]})}),o("Connection",e.jsx(js,{className:"w-4 h-4",style:{color:"var(--primary)"}}),[{label:"Tenant ID",value:r.tenantId},{label:"Domain",value:r.primaryDomain},{label:"Environment",value:r.environment},{label:"Host",value:r.host},{label:"Instance URL",value:r.instanceUrl},{label:"Site URL",value:r.siteUrl},{label:"Role ARN",value:r.roleArn},{label:"Region",value:r.region}]),o("Authentication",e.jsx(J,{className:"w-4 h-4 p-0",variant:"outline"}),[{label:"Client ID",value:r.clientId?"":void 0},{label:"Client Secret",value:r.clientSecret?"Configured":void 0},{label:"Certificate",value:r.certificate?"Uploaded":void 0},{label:"API Token",value:r.apiToken?"Configured":void 0},{label:"Permissions",value:r.permissions}]),(r.scope||r.syncUsers!==void 0)&&o("Scope & Discovery",e.jsx(ns,{className:"w-4 h-4",style:{color:"var(--primary)"}}),[{label:"Sync Users",value:r.scope?.syncUsers??r.syncUsers},{label:"Sync Groups",value:r.scope?.syncGroups??r.syncGroups},{label:"Domains",value:r.scope?.domains},{label:"OUs",value:r.scope?.organizationalUnits},{label:"Filter Rules",value:r.scope?.rules?.length>0?`${r.scope.rules.length} rules`:void 0}]),r.mappings&&r.mappings.length>0&&e.jsxs(se,{className:"p-4",style:{backgroundColor:"var(--surface)",borderColor:"var(--border)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(WK,{className:"w-4 h-4",style:{color:"var(--primary)"}}),e.jsx("h4",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)"},children:"Attribute Mappings"})]}),e.jsxs("div",{className:"space-y-2",children:[r.mappings.slice(0,5).map((l,d)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("code",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--secondary)",fontSize:"var(--text-xs)",fontFamily:"monospace"},children:l.source}),e.jsx("span",{style:{color:"var(--muted-foreground)"},children:""}),e.jsx("code",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--secondary)",fontSize:"var(--text-xs)",fontFamily:"monospace"},children:l.target}),l.transform&&l.transform!=="none"&&e.jsx(J,{variant:"outline",style:{fontSize:"var(--text-xs)"},children:l.transform})]},d)),r.mappings.length>5&&e.jsxs("p",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)",marginTop:"8px"},children:["+ ",r.mappings.length-5," more mappings"]})]})]}),o("Provisioning",e.jsx(zt,{className:"w-4 h-4",style:{color:"var(--primary)"}}),[{label:"Create Users",value:r.createUsers},{label:"Update Users",value:r.updateUsers},{label:"Disable Users",value:r.disableUsers},{label:"Group Writeback",value:r.groupWriteback},{label:"Pre-hire Handling",value:r.preHire},{label:"Rehire Detection",value:r.rehire},{label:"Conflict Policy",value:r.conflictPolicy}]),r.schedule&&o("Sync Schedule",e.jsx(sr,{className:"w-4 h-4",style:{color:"var(--primary)"}}),[{label:"Enabled",value:r.schedule.enabled},{label:"Sync Type",value:r.schedule.syncType},{label:"Frequency",value:r.schedule.mode==="interval"?`Every ${r.schedule.interval?.value} ${r.schedule.interval?.unit}`:r.schedule.cron},{label:"Max Retries",value:r.schedule.retryPolicy?.maxRetries}]),e.jsx(Sm,{}),e.jsx(se,{className:"p-4",style:{backgroundColor:"var(--info-bg)",border:"1px solid var(--info-border)"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx(Wn,{className:"w-5 h-5 mt-0.5",style:{color:"var(--info)"}}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"test-sync",className:"cursor-pointer",style:{marginBottom:"4px",color:"var(--info)"},children:"Run test sync after creation"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--info)"},children:"Execute an initial sync job to verify the integration works correctly"})]})]}),e.jsx(Pe,{id:"test-sync",checked:s,onCheckedChange:l=>{a(l),n?.(l)}})]})}),e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--success-bg)",border:"1px solid var(--success-border)"},children:e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--success)"},children:' Configuration is complete and ready. Click "Create Integration" to finish setup.'})})]})}function Uwe({currentStep:t,totalSteps:r,canGoNext:n,canGoBack:s,onBack:a,onNext:i,onCancel:o,isLastStep:l,isCreating:d}){return e.jsx("div",{className:"sticky bottom-0 border-t backdrop-blur-sm",style:{backgroundColor:"var(--bg)",borderColor:"var(--border)",marginTop:"auto"},children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:s?e.jsxs(L,{variant:"outline",onClick:a,className:"gap-2",children:[e.jsx(Va,{className:"w-4 h-4"}),"Back"]}):e.jsx(L,{variant:"ghost",onClick:o,children:"Cancel"})}),e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsxs("span",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:["Step ",t+1," of ",r]}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:r}).map((u,f)=>e.jsx("div",{className:"w-2 h-2 rounded-full transition-all duration-200",style:{backgroundColor:f===t?"var(--primary)":f<t?"var(--success)":"var(--border)"}},f))})]}),e.jsx(L,{onClick:i,disabled:!n||d,className:"gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):l?e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4"}),"Create Integration"]}):e.jsxs(e.Fragment,{children:["Next",e.jsx(Dn,{className:"w-4 h-4"})]})})]}),e.jsxs("div",{className:"md:hidden mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:["Step ",t+1," of ",r]}),e.jsxs("span",{style:{fontSize:"var(--text-xs)",color:"var(--muted-foreground)"},children:[Math.round((t+1)/r*100),"%"]})]}),e.jsx("div",{className:"w-full h-1 rounded-full",style:{backgroundColor:"var(--border)"},children:e.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{backgroundColor:"var(--primary)",width:`${(t+1)/r*100}%`}})})]})]})})}const qwe=Dk("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function gs({className:t,variant:r,...n}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:We(qwe({variant:r}),t),...n})}function ys({className:t,...r}){return e.jsx("div",{"data-slot":"alert-description",className:We("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...r})}class Hwe{isrs=[];triggerRules=[];attributeDeltas=[];constructor(){this.initializeMockData()}initializeMockData(){this.isrs=[{id:"isr-hris",name:"Workday HRIS",description:"Primary HR system for employee data",applicationId:"app-workday",isActive:!0,enabledAt:"2024-01-01T00:00:00Z",scope:{masteredAttributes:["employmentStatus","startDate","endDate","company","division","department","location","managerId","title","email","employeeId"],organizationalScope:{companies:["ACME Corp"],divisions:["Product","Sales","Finance","HR","IT"]},populationTypes:["PERMANENT","CONTRACTOR"],environments:["PROD"]},attributeMastership:[{attribute:"employmentStatus",sourceField:"emp_status",mastershipType:"EXCLUSIVE_MASTER",precedence:1,trustLevel:95,nullPolicy:"REJECT"},{attribute:"startDate",sourceField:"start_date",mastershipType:"EXCLUSIVE_MASTER",precedence:1,trustLevel:95,nullPolicy:"REJECT"},{attribute:"department",sourceField:"dept_code",mastershipType:"PREFERRED_MASTER",precedence:1,trustLevel:90,nullPolicy:"ACCEPT"}],precedenceStrategy:{type:"PRIORITY_NUMBER",config:{defaultPriority:100},conflictResolution:"HIGHEST_PRIORITY"},validators:[{attribute:"employmentStatus",validatorType:"ENUM",config:{enum:["ACTIVE","INACTIVE","TERMINATED","PENDING"]},errorMessage:"Invalid employment status",severity:"ERROR"},{attribute:"startDate",validatorType:"DATE_LOGIC",config:{before:"endDate"},errorMessage:"Start date must be before end date",severity:"ERROR"}],dataQualityRules:[{id:"dq-001",name:"Manager Reference Check",description:"Ensure manager exists in system",condition:"managerId != null && managerExists(managerId)",action:"FLAG",config:{severity:"WARNING"}}],ingestionMode:{type:"POLLING",config:{interval:3600,watermark:"last_updated",deduplicationKey:"employeeId",idempotencyToken:"batch_id"}},changeDetection:{enabled:!0,deltaDetection:!0,batchProcessing:!0,realTimeProcessing:!1,correlationIdField:"batch_id",timestampField:"last_updated"},aiAssistEnabled:!0,aiSuggestions:[],createdAt:"2024-01-01T00:00:00Z",createdBy:"system",updatedAt:"2024-01-01T00:00:00Z",updatedBy:"system",correlationId:"init-isr-hris"}],this.triggerRules=[{id:"trigger-joiner-hire",name:"Joiner - Employee Hire",description:"Triggered when employment status changes to ACTIVE",isActive:!0,priority:1,conditions:[{id:"cond-1",attribute:"employmentStatus",operator:"TRANSITION",beforeValue:"PENDING",afterValue:"ACTIVE",logicalOperator:"AND"},{id:"cond-2",attribute:"startDate",operator:"WITHIN_WINDOW",windowDays:14}],outputs:{type:"JOINER",effectiveDate:"startDate",autoSubmit:!1,requireManagerApproval:!0,sodPreCheck:!0,notes:"New employee onboarding triggered by HRIS status change"},createdAt:"2024-01-01T00:00:00Z",createdBy:"system",updatedAt:"2024-01-01T00:00:00Z",triggerCount:0},{id:"trigger-mover-org-change",name:"Mover - Organizational Change",description:"Triggered when department or location changes",isActive:!0,priority:2,conditions:[{id:"cond-1",attribute:"department",operator:"TRANSITION",logicalOperator:"OR"},{id:"cond-2",attribute:"location",operator:"TRANSITION",logicalOperator:"OR"}],outputs:{type:"MOVER",effectiveDate:"next_business_day",effectiveTime:"08:30",autoSubmit:!1,requireManagerApproval:!0,sodPreCheck:!0,notes:"Organizational change detected - access review required"},createdAt:"2024-01-01T00:00:00Z",createdBy:"system",updatedAt:"2024-01-01T00:00:00Z",triggerCount:0},{id:"trigger-leaver-termination",name:"Leaver - Termination",description:"Triggered when employment status changes to TERMINATED",isActive:!0,priority:1,conditions:[{id:"cond-1",attribute:"employmentStatus",operator:"TRANSITION",afterValue:"TERMINATED",logicalOperator:"OR"},{id:"cond-2",attribute:"endDate",operator:"BEFORE",value:"today"}],outputs:{type:"LEAVER",immediate:!0,autoSubmit:!0,requireManagerApproval:!1,retentionPeriod:30,notes:"Employee termination - immediate access revocation"},createdAt:"2024-01-01T00:00:00Z",createdBy:"system",updatedAt:"2024-01-01T00:00:00Z",triggerCount:0}]}async createISR(r){const n={id:`isr-${Date.now()}`,name:r.name||"New ISR",description:r.description||"",applicationId:r.applicationId||"",isActive:!1,scope:r.scope||{masteredAttributes:[]},attributeMastership:r.attributeMastership||[],precedenceStrategy:r.precedenceStrategy||{type:"PRIORITY_NUMBER",config:{},conflictResolution:"HIGHEST_PRIORITY"},validators:r.validators||[],dataQualityRules:r.dataQualityRules||[],ingestionMode:r.ingestionMode||{type:"POLLING",config:{}},changeDetection:r.changeDetection||{enabled:!0,deltaDetection:!0,batchProcessing:!0,realTimeProcessing:!1},aiAssistEnabled:r.aiAssistEnabled||!1,aiSuggestions:r.aiSuggestions||[],createdAt:new Date().toISOString(),createdBy:"current-user",updatedAt:new Date().toISOString(),updatedBy:"current-user",correlationId:`create-${Date.now()}`};return this.isrs.push(n),n}async validateISR(r,n){const s=[],a=[],i=[];return r.name||s.push({field:"name",message:"ISR name is required",severity:"ERROR"}),r.scope?.masteredAttributes?.length||s.push({field:"masteredAttributes",message:"At least one attribute must be mastered",severity:"ERROR"}),n.forEach((o,l)=>{const d=[],u=[];r.scope?.masteredAttributes?.forEach(f=>{const m=r.attributeMastership?.find(v=>v.attribute===f);m?.nullPolicy==="REJECT"&&!o[m.sourceField]&&d.push({field:m.sourceField,message:`${f} is required`,severity:"ERROR",row:l})}),i.push({row:l,data:o,isValid:d.length===0,errors:d,warnings:u})}),{isValid:s.length===0,errors:s,warnings:a,sampleResults:i}}async enableISR(r){const n=this.isrs.find(s=>s.id===r);if(!n)throw new Error("ISR not found");return n.isActive=!0,n.enabledAt=new Date().toISOString(),n.updatedAt=new Date().toISOString(),n.updatedBy="current-user",n}async disableISR(r){const n=this.isrs.find(s=>s.id===r);if(!n)throw new Error("ISR not found");return n.isActive=!1,n.disabledAt=new Date().toISOString(),n.updatedAt=new Date().toISOString(),n.updatedBy="current-user",n}async listISRs(){return[...this.isrs]}async getISR(r){return this.isrs.find(n=>n.id===r)||null}async updateISR(r,n){const s=this.isrs.find(a=>a.id===r);if(!s)throw new Error("ISR not found");return Object.assign(s,n),s.updatedAt=new Date().toISOString(),s.updatedBy="current-user",s}async evaluateDelta(r,n){const s=[],a=[],i=[];this.attributeDeltas.push(n);for(const o of this.triggerRules.filter(l=>l.isActive))this.evaluateTriggerRule(o,n)?(s.push(o),i.push(o.outputs),o.triggerCount++,o.lastTriggered=new Date().toISOString()):a.push(o);return{triggeredRules:s,suppressedRules:a,jmlActions:i,correlationId:n.correlationId}}evaluateTriggerRule(r,n){for(const s of r.conditions)if(s.attribute===n.attribute)switch(s.operator){case"TRANSITION":if(s.beforeValue&&s.afterValue)return n.before===s.beforeValue&&n.after===s.afterValue;break;case"EQUALS":return n.after===s.value;case"NOT_EQUALS":return n.after!==s.value}return!1}async createJmlFromTrigger(r,n,s){return{id:`jml-trigger-${Date.now()}`,type:n.type,identityRef:s.identityId,submittedBy:"system",submittedAt:new Date().toISOString(),effectiveDate:n.effectiveDate||new Date().toISOString(),status:n.autoSubmit?"PENDING_APPROVAL":"DRAFT",riskScore:0,approvals:[],tasks:[],aiHints:{suggestions:[],anomalies:[],explanation:`Triggered by ${r}: ${n.notes}`,summary:`Auto-generated ${n.type} request from ISR trigger`},changeSet:{addedRoles:[],addedEntitlements:[],attributeChanges:{[s.delta.attribute]:{oldValue:s.delta.before,newValue:s.delta.after}}},justification:`Automatically triggered by ISR rule: ${r}`,correlationId:s.correlationId}}async listTriggerRules(){return[...this.triggerRules]}async createTriggerRule(r){const n={id:`trigger-${Date.now()}`,name:r.name||"New Trigger Rule",description:r.description||"",isActive:r.isActive||!1,priority:r.priority||100,conditions:r.conditions||[],outputs:r.outputs||{type:"JOINER",autoSubmit:!1},createdAt:new Date().toISOString(),createdBy:"current-user",updatedAt:new Date().toISOString(),triggerCount:0};return this.triggerRules.push(n),n}async updateTriggerRule(r,n){const s=this.triggerRules.find(a=>a.id===r);if(!s)throw new Error("Trigger rule not found");return Object.assign(s,n),s.updatedAt=new Date().toISOString(),s}async suggestMappings(r){return[{sourceField:"emp_id",targetAttribute:"employeeId",confidence:.95,rationale:"Field name and format match employee ID pattern",transform:{type:"DIRECT",config:{}}},{sourceField:"dept_name",targetAttribute:"department",confidence:.85,rationale:"Department name field maps to department attribute",transform:{type:"LOOKUP",config:{lookupTable:"departments"}}}]}async detectConflicts(r){const n=[],s=this.isrs.filter(a=>a.id!==r.id);return r.scope?.masteredAttributes?.forEach(a=>{const i=s.find(o=>o.scope.masteredAttributes.includes(a));i&&n.push({type:"ATTRIBUTE_CONFLICT",description:`Attribute ${a} is already mastered by ${i.name}`,severity:"HIGH",resolution:"Consider precedence rules or exclusive mastership"})}),n}async explainMastership(r,n){return`Attribute ${r} is mastered by ${n.mastershipType} with precedence ${n.precedence} and trust level ${n.trustLevel}%. This means ${n.mastershipType==="EXCLUSIVE_MASTER"?"only this ISR can provide values":"this ISR is preferred but others may override"}.`}async explainTrigger(r){return`Triggered because ${r.delta.attribute} changed from "${r.delta.before}" to "${r.delta.after}" at ${r.timestamp}. This change was detected by ISR ${r.isrId} and matched trigger conditions.`}}const Da=new Hwe;function Vwe({applicationId:t,onSave:r,onCancel:n}){const[s,a]=j.useState(!1),[i,o]=j.useState("scope"),[l,d]=j.useState(!1),[u,f]=j.useState(null),[m,v]=j.useState([]),[g,b]=j.useState([]),[x,y]=j.useState({name:"",description:"",applicationId:t,scope:{masteredAttributes:[],organizationalScope:{},populationTypes:[],environments:["PROD"]},attributeMastership:[],precedenceStrategy:{type:"PRIORITY_NUMBER",config:{},conflictResolution:"HIGHEST_PRIORITY"},validators:[],dataQualityRules:[],ingestionMode:{type:"POLLING",config:{}},changeDetection:{enabled:!0,deltaDetection:!0,batchProcessing:!0,realTimeProcessing:!1},aiAssistEnabled:!0}),[A,E]=j.useState([]);j.useEffect(()=>{s&&(C(),w())},[s]);const C=async()=>{if(A.length>0){const M=await Da.suggestMappings(A);v(M)}},w=async()=>{const M=await Da.detectConflicts(x);b(M)},k=async()=>{if(A.length===0){alert("Please provide sample data for validation");return}d(!0);try{const M=await Da.validateISR(x,A);f(M)}catch(M){console.error("Validation failed:",M)}finally{d(!1)}},S=()=>{r(x)},R=()=>{const M={attribute:"",sourceField:"",mastershipType:"PREFERRED_MASTER",precedence:100,trustLevel:80,nullPolicy:"ACCEPT"};y(W=>({...W,attributeMastership:[...W.attributeMastership||[],M]}))},T=(M,W)=>{y(V=>({...V,attributeMastership:V.attributeMastership?.map((Q,H)=>H===M?{...Q,...W}:Q)||[]}))},O=M=>{y(W=>({...W,attributeMastership:W.attributeMastership?.filter((V,Q)=>Q!==M)||[]}))},U=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Attribute Scope"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select which attributes this ISR will master"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{children:"Mastered Attributes"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:["employmentStatus","startDate","endDate","company","division","department","location","managerId","title","email","employeeId","phone","address","grade","costCenter"].map(M=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zt,{id:M,checked:x.scope?.masteredAttributes?.includes(M)||!1,onCheckedChange:W=>{const V=x.scope?.masteredAttributes||[],Q=W?[...V,M]:V.filter(H=>H!==M);y(H=>({...H,scope:{...H.scope,masteredAttributes:Q}}))}}),e.jsx(G,{htmlFor:M,className:"text-sm",children:M})]},M))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{children:"Organizational Scope"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-xs",children:"Companies"}),e.jsx(pe,{placeholder:"ACME Corp, Subsidiary Inc",value:x.scope?.organizationalScope?.companies?.join(", ")||"",onChange:M=>y(W=>({...W,scope:{...W.scope,organizationalScope:{...W.scope?.organizationalScope,companies:M.target.value.split(",").map(V=>V.trim()).filter(Boolean)}}}))})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-xs",children:"Divisions"}),e.jsx(pe,{placeholder:"Product, Sales, Finance",value:x.scope?.organizationalScope?.divisions?.join(", ")||"",onChange:M=>y(W=>({...W,scope:{...W.scope,organizationalScope:{...W.scope?.organizationalScope,divisions:M.target.value.split(",").map(V=>V.trim()).filter(Boolean)}}}))})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{children:"Population Types"}),e.jsx("div",{className:"space-y-2 mt-2",children:["PERMANENT","CONTRACTOR","INTERN","VENDOR"].map(M=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zt,{id:M,checked:x.scope?.populationTypes?.includes(M)||!1,onCheckedChange:W=>{const V=x.scope?.populationTypes||[],Q=W?[...V,M]:V.filter(H=>H!==M);y(H=>({...H,scope:{...H.scope,populationTypes:Q}}))}}),e.jsx(G,{htmlFor:M,className:"text-sm",children:M})]},M))})]})]})]})]}),D=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Attribute Mastership"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Define how each attribute is mastered and precedence rules"})]}),e.jsxs(L,{onClick:R,size:"sm",children:[e.jsx(At,{className:"w-4 h-4 mr-1"}),"Add Attribute"]})]}),e.jsx("div",{className:"space-y-4",children:x.attributeMastership?.map((M,W)=>e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Se,{className:"text-base",children:"Attribute Mapping"}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>O(W),children:e.jsx(Al,{className:"w-4 h-4"})})]})}),e.jsx(je,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Attribute"}),e.jsxs(Me,{value:M.attribute,onValueChange:V=>T(W,{attribute:V}),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select attribute"})}),e.jsx($e,{children:x.scope?.masteredAttributes?.map(V=>e.jsx(Z,{value:V,children:V},V))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Source Field"}),e.jsx(pe,{value:M.sourceField,onChange:V=>T(W,{sourceField:V.target.value}),placeholder:"e.g., emp_status"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Mastership Type"}),e.jsxs(Me,{value:M.mastershipType,onValueChange:V=>T(W,{mastershipType:V}),children:[e.jsx(ze,{children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"EXCLUSIVE_MASTER",children:"Exclusive Master"}),e.jsx(Z,{value:"PREFERRED_MASTER",children:"Preferred Master"}),e.jsx(Z,{value:"FALLBACK",children:"Fallback"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Precedence"}),e.jsx(pe,{type:"number",value:M.precedence,onChange:V=>T(W,{precedence:parseInt(V.target.value)}),placeholder:"1-100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Trust Level"}),e.jsx(pe,{type:"number",min:"0",max:"100",value:M.trustLevel,onChange:V=>T(W,{trustLevel:parseInt(V.target.value)}),placeholder:"0-100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Null Policy"}),e.jsxs(Me,{value:M.nullPolicy,onValueChange:V=>T(W,{nullPolicy:V}),children:[e.jsx(ze,{children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"REJECT",children:"Reject"}),e.jsx(Z,{value:"ACCEPT",children:"Accept"}),e.jsx(Z,{value:"DEFAULT",children:"Use Default"})]})]})]})]})})]},W))}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Precedence Strategy"}),e.jsx(Be,{children:"How to resolve conflicts between ISRs"})]}),e.jsx(je,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Strategy Type"}),e.jsxs(Me,{value:x.precedenceStrategy?.type,onValueChange:M=>y(W=>({...W,precedenceStrategy:{...W.precedenceStrategy,type:M}})),children:[e.jsx(ze,{children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"PRIORITY_NUMBER",children:"Priority Number"}),e.jsx(Z,{value:"TIMESTAMP_FRESHNESS",children:"Timestamp Freshness"}),e.jsx(Z,{value:"TRUST_SCORE",children:"Trust Score"}),e.jsx(Z,{value:"CUSTOM_RULE",children:"Custom Rule"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Conflict Resolution"}),e.jsxs(Me,{value:x.precedenceStrategy?.conflictResolution,onValueChange:M=>y(W=>({...W,precedenceStrategy:{...W.precedenceStrategy,conflictResolution:M}})),children:[e.jsx(ze,{children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"HIGHEST_PRIORITY",children:"Highest Priority"}),e.jsx(Z,{value:"MOST_RECENT",children:"Most Recent"}),e.jsx(Z,{value:"HIGHEST_TRUST",children:"Highest Trust"}),e.jsx(Z,{value:"CUSTOM",children:"Custom"})]})]})]})]})})]})]}),I=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Change Detection"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure how changes are detected and processed"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Ingestion Mode"}),e.jsx(Be,{children:"How data is ingested from the ISR"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Mode Type"}),e.jsxs(Me,{value:x.ingestionMode?.type,onValueChange:M=>y(W=>({...W,ingestionMode:{...W.ingestionMode,type:M}})),children:[e.jsx(ze,{children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"POLLING",children:"Polling"}),e.jsx(Z,{value:"WEBHOOK",children:"Webhook"}),e.jsx(Z,{value:"FILE_DROP",children:"File Drop"}),e.jsx(Z,{value:"API_PUSH",children:"API Push"})]})]})]}),x.ingestionMode?.type==="POLLING"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Polling Interval (seconds)"}),e.jsx(pe,{type:"number",value:x.ingestionMode?.config?.interval||3600,onChange:M=>y(W=>({...W,ingestionMode:{...W.ingestionMode,config:{...W.ingestionMode?.config,interval:parseInt(M.target.value)}}}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Watermark Field"}),e.jsx(pe,{value:x.ingestionMode?.config?.watermark||"last_updated",onChange:M=>y(W=>({...W,ingestionMode:{...W.ingestionMode,config:{...W.ingestionMode?.config,watermark:M.target.value}}}))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Deduplication Key"}),e.jsx(pe,{value:x.ingestionMode?.config?.deduplicationKey||"employeeId",onChange:M=>y(W=>({...W,ingestionMode:{...W.ingestionMode,config:{...W.ingestionMode?.config,deduplicationKey:M.target.value}}}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Idempotency Token Field"}),e.jsx(pe,{value:x.ingestionMode?.config?.idempotencyToken||"batch_id",onChange:M=>y(W=>({...W,ingestionMode:{...W.ingestionMode,config:{...W.ingestionMode?.config,idempotencyToken:M.target.value}}}))})]})]})]})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Change Detection Settings"}),e.jsx(Be,{children:"Configure how changes are detected and processed"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Enable Change Detection"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Automatically detect and process attribute changes"})]}),e.jsx(Pe,{checked:x.changeDetection?.enabled,onCheckedChange:M=>y(W=>({...W,changeDetection:{...W.changeDetection,enabled:M}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Delta Detection"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Track before/after values for changes"})]}),e.jsx(Pe,{checked:x.changeDetection?.deltaDetection,onCheckedChange:M=>y(W=>({...W,changeDetection:{...W.changeDetection,deltaDetection:M}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Batch Processing"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Process changes in batches for efficiency"})]}),e.jsx(Pe,{checked:x.changeDetection?.batchProcessing,onCheckedChange:M=>y(W=>({...W,changeDetection:{...W.changeDetection,batchProcessing:M}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Real-time Processing"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Process changes immediately as they occur"})]}),e.jsx(Pe,{checked:x.changeDetection?.realTimeProcessing,onCheckedChange:M=>y(W=>({...W,changeDetection:{...W.changeDetection,realTimeProcessing:M}}))})]})]})})]})]})]}),B=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Validation & Testing"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Test your ISR configuration with sample data"})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Sample Data"}),e.jsx(Be,{children:"Provide sample data to validate your configuration"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{children:"Sample Data (JSON)"}),e.jsx(mn,{placeholder:'[{"employeeId": "EMP001", "emp_status": "ACTIVE", "dept_code": "ENG", "start_date": "2024-01-01"}]',value:JSON.stringify(A,null,2),onChange:M=>{try{const W=JSON.parse(M.target.value);E(Array.isArray(W)?W:[])}catch{}},className:"min-h-[200px] font-mono text-sm"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(L,{onClick:k,disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(sr,{className:"w-4 h-4 mr-1 animate-spin"}),"Validating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(jn,{className:"w-4 h-4 mr-1"}),"Validate Configuration"]})})})]})})]}),u&&e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsxs(Se,{className:"flex items-center gap-2",children:[u.isValid?e.jsx(jn,{className:"w-5 h-5 text-green-600"}):e.jsx(Cr,{className:"w-5 h-5 text-red-600"}),"Validation Results"]})}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[u.errors.length>0&&e.jsxs(gs,{className:"border-red-200 bg-red-50",children:[e.jsx(et,{className:"h-4 w-4 text-red-600"}),e.jsxs(ys,{className:"text-red-800",children:[e.jsxs("div",{className:"font-medium mb-2",children:["Errors (",u.errors.length,")"]}),e.jsx("ul",{className:"space-y-1",children:u.errors.map((M,W)=>e.jsxs("li",{className:"text-sm",children:[" ",M.field,": ",M.message]},W))})]})]}),u.warnings.length>0&&e.jsxs(gs,{className:"border-yellow-200 bg-yellow-50",children:[e.jsx(et,{className:"h-4 w-4 text-yellow-600"}),e.jsxs(ys,{className:"text-yellow-800",children:[e.jsxs("div",{className:"font-medium mb-2",children:["Warnings (",u.warnings.length,")"]}),e.jsx("ul",{className:"space-y-1",children:u.warnings.map((M,W)=>e.jsxs("li",{className:"text-sm",children:[" ",M.field,": ",M.message]},W))})]})]}),u.isValid&&e.jsxs(gs,{className:"border-green-200 bg-green-50",children:[e.jsx(jn,{className:"h-4 w-4 text-green-600"}),e.jsx(ys,{className:"text-green-800",children:"Configuration is valid! Ready to enable ISR."})]})]})})]}),m.length>0&&e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"w-5 h-5 text-purple-600"}),"AI Suggestions"]}),e.jsx(Be,{children:"AI-recommended attribute mappings"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:m.map((M,W)=>e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(J,{variant:"outline",className:"text-xs",children:[M.sourceField,"  ",M.targetAttribute]}),e.jsxs(J,{variant:"outline",className:`text-xs ${M.confidence>.8?"text-green-600 bg-green-100":M.confidence>.6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100"}`,children:[Math.round(M.confidence*100),"% confidence"]})]}),e.jsx(L,{variant:"outline",size:"sm",children:"Apply"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:M.rationale})]},W))})})]}),g.length>0&&e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-5 h-5 text-orange-600"}),"Detected Conflicts"]}),e.jsx(Be,{children:"Potential conflicts with existing ISRs"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:g.map((M,W)=>e.jsxs(gs,{className:`border-${M.severity==="HIGH"?"red":M.severity==="MEDIUM"?"orange":"yellow"}-200 bg-${M.severity==="HIGH"?"red":M.severity==="MEDIUM"?"orange":"yellow"}-50`,children:[e.jsx(et,{className:`h-4 w-4 text-${M.severity==="HIGH"?"red":M.severity==="MEDIUM"?"orange":"yellow"}-600`}),e.jsxs(ys,{className:`text-${M.severity==="HIGH"?"red":M.severity==="MEDIUM"?"orange":"yellow"}-800`,children:[e.jsx("div",{className:"font-medium",children:M.description}),e.jsx("p",{className:"text-sm mt-1",children:M.resolution})]})]},W))})})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-5 h-5 text-blue-600"}),"Identity System of Record (ISR)"]}),e.jsx(Be,{children:"Designate this application as an authoritative source for identity attributes"})]}),e.jsx(je,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Enable ISR"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"This application will be designated as a system of record for identity data"})]}),e.jsx(Pe,{checked:s,onCheckedChange:a})]})})]}),s&&e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"ISR Configuration"}),e.jsx(Be,{children:"Configure attribute mastership and change detection"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"ISR Name"}),e.jsx(pe,{value:x.name,onChange:M=>y(W=>({...W,name:M.target.value})),placeholder:"e.g., Workday HRIS"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Description"}),e.jsx(pe,{value:x.description,onChange:M=>y(W=>({...W,description:M.target.value})),placeholder:"Brief description of this ISR"})]})]}),e.jsxs(pn,{value:i,onValueChange:o,children:[e.jsxs(sn,{className:"grid w-full grid-cols-4",children:[e.jsx(Ie,{value:"scope",children:"Scope"}),e.jsx(Ie,{value:"mastership",children:"Mastership"}),e.jsx(Ie,{value:"detection",children:"Change Detection"}),e.jsx(Ie,{value:"validation",children:"Validation"})]}),e.jsx(De,{value:"scope",children:e.jsx(U,{})}),e.jsx(De,{value:"mastership",children:e.jsx(D,{})}),e.jsx(De,{value:"detection",children:e.jsx(I,{})}),e.jsx(De,{value:"validation",children:e.jsx(B,{})})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{variant:"outline",onClick:n,children:"Cancel"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",onClick:k,disabled:!s,children:[e.jsx(jn,{className:"w-4 h-4 mr-1"}),"Validate"]}),e.jsxs(L,{onClick:S,disabled:!s,children:[e.jsx(bt,{className:"w-4 h-4 mr-1"}),"Save ISR Configuration"]})]})]})]})}function Gwe({onClose:t,preselectedConnectorId:r}){const n=$r(),[s,a]=j.useState(r||null),[i,o]=j.useState(0),[l,d]=j.useState({}),[u,f]=j.useState(!1),m=s?e3(s):null,v=S=>{a(S);const R=e3(S);if(R){const T=R.defaults||{},O=Owe[S]||[],U=`${R.name}  Production`;d({...T,instanceName:U,environment:"prod",owner:"",tags:[],mappings:O.map((D,I)=>({...D,id:`mapping-${I}`})),scope:{syncUsers:!0,syncGroups:!0,rules:[],domains:[],organizationalUnits:[]},schedule:{mode:"interval",interval:{value:6,unit:"hours"},syncType:"delta",enabled:!0,retryPolicy:{maxRetries:3,backoffMultiplier:2}}})}},g=(S,R)=>{d(T=>({...T,[S]:R}))},b=m?[{id:"instance-basics",title:"Instance Basics"},{id:"isr-configuration",title:"ISR Configuration"},...m.steps.map(S=>({id:S.id,title:S.title}))]:[],x=m?.steps[i-2],y=i===0,A=i===1,E=j.useMemo(()=>y?!!(l.instanceName&&l.environment&&l.owner):A||!x||!x.fields?!0:x.fields.every(S=>{if(!S.required)return!0;const R=l[S.key];return S.type==="toggle"||S.type==="multiselect"?!0:R!=null&&R!==""}),[x,l,y]),C=async()=>{m&&(i===b.length-1?(f(!0),await new Promise(S=>setTimeout(S,1500)),Ae.success(`Integration "${l.instanceName}" created successfully!`),n("/integrations")):o(S=>S+1))},w=()=>{i===0?(a(null),d({})):o(S=>S-1)},k=()=>{confirm("Are you sure you want to cancel? All progress will be lost.")&&t()};return m?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx("div",{className:"sticky top-0 z-10 border-b backdrop-blur-sm",style:{backgroundColor:"var(--bg)",borderColor:"var(--border)"},children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6 py-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h1",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:["Configure ",m.name]}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:m.description})]}),e.jsx(UB,{steps:b,currentStep:i,onStepClick:S=>{S<i&&o(S)}})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6 py-6",children:[y&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:"Instance Basics"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Give this integration a unique name and configure basic settings"})]}),e.jsx(Mwe,{connectorName:m.name,value:{instanceName:l.instanceName||"",environment:l.environment||"prod",owner:l.owner||"",tags:l.tags||[]},onChange:S=>d(R=>({...R,...S})),onSuggestName:()=>{const S=cbe(m.name,l.tenantId||l.tenant,l.primaryDomain||l.domain,l.environment);d(R=>({...R,instanceName:S}))}})]}),A&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:"ISR Configuration"}),e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Optionally designate this integration as an Identity System of Record (ISR)"})]}),e.jsx(Vwe,{applicationId:l.instanceName||"",onSave:S=>{g("isrConfig",S)},onCancel:()=>{o(2)}})]}),!y&&!A&&x&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--text)",marginBottom:"4px"},children:x.title}),x.description&&e.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:x.description})]})}),!y&&x?.render==="mapping"&&e.jsx(zwe,{connectorId:m.id,value:l.mappings||[],onChange:S=>g("mappings",S)}),!y&&x?.render==="scope"&&e.jsx($we,{connectorId:m.id,value:l.scope||{syncUsers:!0,syncGroups:!0,rules:[]},onChange:S=>g("scope",S)}),!y&&x?.render==="schedule"&&e.jsx(Fwe,{connectorId:m.id,value:l.schedule||{mode:"interval",interval:{value:6,unit:"hours"},syncType:"delta",enabled:!0},onChange:S=>g("schedule",S)}),!y&&x?.render==="preflight"&&e.jsx(Bwe,{connectorId:m.id,config:l}),!y&&x?.render==="summary"&&e.jsx(Wwe,{connector:m,config:l}),!y&&x?.fields&&e.jsx("div",{className:"space-y-6",children:x.fields.map(S=>e.jsx(Dwe,{field:S,value:l[S.key],onChange:R=>g(S.key,R)},S.key))}),m.docsUrl&&e.jsx("div",{className:"mt-6 p-4 rounded-lg",style:{backgroundColor:"var(--info-bg)",border:"1px solid var(--info-border)"},children:e.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--info)"},children:[" Need help?"," ",e.jsxs("a",{href:m.docsUrl,target:"_blank",rel:"noopener noreferrer",className:"underline",style:{color:"var(--info)"},children:["View ",m.name," documentation"]})]})})]})}),e.jsx(Uwe,{currentStep:i,totalSteps:b.length,canGoNext:E,canGoBack:!0,onBack:w,onNext:C,onCancel:k,isLastStep:i===b.length-1,isCreating:u})]}):e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsx("div",{className:"flex-1 p-4 lg:p-6",children:e.jsx(Iwe,{onSelect:v,onCancel:t})})})}function Fp({title:t,value:r,delta:n,sparkline:s,variant:a="default",onClick:i}){const o={default:"border-border",warning:"border-warning/20 bg-warning/5",danger:"border-danger/20 bg-danger/5",success:"border-success/20 bg-success/5"};return e.jsx("button",{onClick:i,disabled:!i,className:`rounded-xl border bg-slate-50 dark:bg-slate-800 p-5 transition-all text-left w-full shadow-sm ${i?"hover:shadow-md hover:scale-[1.02] cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary/50":"hover:shadow-sm"} ${o[a]}`,style:{borderColor:a==="default"?"var(--border)":void 0},children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t}),e.jsx("p",{className:"text-3xl",style:{fontWeight:"var(--font-weight-semibold)"},children:r}),n&&e.jsxs("div",{className:"flex items-center gap-1",children:[n.trend==="up"?e.jsx(Sa,{className:"w-3.5 h-3.5 text-success"}):e.jsx(qd,{className:"w-3.5 h-3.5 text-danger"}),e.jsxs("span",{className:`text-xs ${n.trend==="up"?"text-success":"text-danger"}`,children:[Math.abs(n.value),"%"]}),e.jsx("span",{className:"text-xs text-slate-500",children:"vs last period"})]}),s&&s.length>0&&e.jsx("div",{className:"pt-2 -mx-2",children:e.jsx(Kwe,{data:s,variant:a})})]})})}function Kwe({data:t,variant:r}){const n=Math.max(...t),s=Math.min(...t),a=n-s||1,i=100,o=32,l=2,d=t.map((f,m)=>{const v=l+m/(t.length-1)*(i-l*2),g=l+(o-l*2)-(f-s)/a*(o-l*2);return`${v},${g}`}).join(" "),u={default:"var(--primary)",warning:"var(--warning)",danger:"var(--danger)",success:"var(--success)"}[r];return e.jsx("svg",{width:"100%",height:o,viewBox:`0 0 ${i} ${o}`,preserveAspectRatio:"none",className:"opacity-80",children:e.jsx("polyline",{points:d,fill:"none",stroke:u,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",vectorEffect:"non-scaling-stroke"})})}function Jwe({name:t,type:r,scope:n,itemCount:s,reviewerCount:a,status:i,progress:o,dueDate:l,riskCount:d=0,onClick:u,onEdit:f,onDelete:m,onRemind:v}){const b={Draft:{color:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",icon:sr},Active:{color:"bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-300",icon:sr},Completed:{color:"bg-emerald-50 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-300",icon:cr},Overdue:{color:"bg-rose-50 text-rose-700 dark:bg-rose-950 dark:text-rose-300",icon:fr}}[i],x=b.icon;return e.jsxs("div",{className:"rounded-xl border border-border bg-slate-50 dark:bg-slate-800 p-5 hover:shadow-md transition-all cursor-pointer shadow-sm",onClick:u,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-medium",children:t}),e.jsx(J,{variant:"outline",className:"text-xs",children:r})]}),e.jsx("p",{className:"text-sm text-slate-500",children:n})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`px-2 py-1 rounded-md text-xs flex items-center gap-1 ${b.color}`,children:[e.jsx(x,{className:"w-3 h-3"}),i]}),e.jsxs(ya,{children:[e.jsx(ba,{asChild:!0,onClick:y=>y.stopPropagation(),children:e.jsx(L,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(YK,{className:"w-4 h-4"})})}),e.jsxs(ja,{align:"end",children:[f&&e.jsx(Ct,{onClick:y=>{y.stopPropagation(),f()},children:"Edit"}),v&&e.jsx(Ct,{onClick:y=>{y.stopPropagation(),v()},children:"Send reminder"}),m&&e.jsx(Ct,{onClick:y=>{y.stopPropagation(),m()},className:"text-danger",children:"Delete"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 pb-4 border-b border-border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Items"}),e.jsx("div",{className:"text-lg font-medium",children:s.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Reviewers"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(zt,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-lg font-medium",children:a})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Due Date"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wn,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm",children:l})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progress"}),e.jsxs("span",{className:"font-medium",children:[o,"%"]})]}),e.jsx(Nr,{value:o,className:"h-2"}),d>0&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-warning mt-2",children:[e.jsx(fr,{className:"w-3.5 h-3.5"}),d," high-risk items flagged"]})]})]})}const Ywe=[{id:"1",subject:"Jessica Smith",department:"Finance",itemCount:12,risk:"High",campaign:"Q1 2025 User Access Review",dueDate:"2025-10-05",progress:58},{id:"2",subject:"Michael Chen",department:"Engineering",itemCount:8,risk:"Medium",campaign:"Q1 2025 User Access Review",dueDate:"2025-10-05",progress:75},{id:"3",subject:"Sarah Johnson",department:"Operations",itemCount:5,risk:"Low",campaign:"Q1 2025 User Access Review",dueDate:"2025-10-05",progress:100}],Zwe=[{id:"1",name:"Q1 2025 User Access Review",type:"User",scope:"All departments",itemCount:1247,reviewerCount:24,status:"Active",progress:67,dueDate:"Oct 5, 2025",riskCount:34},{id:"2",name:"Salesforce Access Review",type:"Application",scope:"Salesforce users",itemCount:456,reviewerCount:8,status:"Active",progress:42,dueDate:"Oct 12, 2025",riskCount:12},{id:"3",name:"Privileged Access Review",type:"Privileged",scope:"Elevated permissions",itemCount:89,reviewerCount:3,status:"Overdue",progress:23,dueDate:"Sep 28, 2025",riskCount:28},{id:"4",name:"Annual Role Certification",type:"Role",scope:"All business roles",itemCount:234,reviewerCount:12,status:"Completed",progress:100,dueDate:"Sep 15, 2025",riskCount:0}];function Xwe(){const t=$r(),{currentRole:r}=Wl(),[n,s]=j.useState(""),[a,i]=j.useState(r==="end-user"?"my-tasks":"campaigns"),o=r==="administrator",l=r==="approver";return j.useEffect(()=>{const d=u=>{if(u.key==="c"&&!u.metaKey&&!u.ctrlKey&&!u.shiftKey&&!u.altKey){const f=u.target;f.tagName!=="INPUT"&&f.tagName!=="TEXTAREA"&&(u.preventDefault(),(o||l)&&t("/reviews/new"))}};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[t,o,l]),e.jsxs("div",{className:"p-4 lg:p-6 max-w-[1600px] mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-display",children:"Access Reviews"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Create and manage periodic access review campaigns"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Import"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Export"]}),(o||l)&&e.jsxs(L,{onClick:()=>t("/reviews/new"),size:"default",className:"shadow-sm",children:[e.jsx(At,{className:"w-4 h-4 mr-2"}),"Create Campaign",e.jsx("kbd",{className:"ml-2 px-1.5 py-0.5 rounded bg-white/20 text-xs font-mono",children:"C"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Fp,{title:"My Pending",value:o?"":3,delta:o?void 0:{value:25,trend:"down"},sparkline:[12,8,15,10,6,3],variant:"warning"}),e.jsx(Fp,{title:"Active Campaigns",value:o?3:1,delta:{value:50,trend:"up"},sparkline:[2,2,1,2,3,3]}),e.jsx(Fp,{title:"Due in 7 Days",value:o?1247:25,delta:{value:12,trend:"up"},sparkline:[800,900,1e3,1100,1200,1247],variant:"warning"}),e.jsx(Fp,{title:"AI-Flagged Risks",value:o?74:8,delta:{value:18,trend:"down"},sparkline:[120,110,95,88,79,74],variant:"danger"})]})]}),e.jsxs(pn,{value:a,onValueChange:i,children:[e.jsx("div",{className:"flex flex-col gap-4 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs(sn,{className:"inline-flex w-auto",children:[e.jsxs(Ie,{value:"my-tasks",children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),"My Tasks",!o&&e.jsx(J,{variant:"secondary",className:"ml-2",children:"3"})]}),e.jsxs(Ie,{value:"campaigns",children:[e.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Campaigns",o&&e.jsx(J,{variant:"secondary",className:"ml-2",children:"3 Active"})]}),o&&e.jsxs(Ie,{value:"templates",children:[e.jsx(g5,{className:"w-4 h-4 mr-2"}),"Templates"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-80",children:[e.jsx(Lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(pe,{placeholder:"Search...",value:n,onChange:d=>s(d.target.value),className:"pl-9 w-full h-10"})]}),e.jsxs(L,{variant:"outline",size:"default",className:"h-10",children:[e.jsx(nv,{className:"w-4 h-4 mr-2"}),"Filters"]})]})]})}),e.jsx(De,{value:"my-tasks",className:"mt-0",children:e.jsx(Qwe,{tasks:Ywe,onOpenWorkbench:d=>t("/reviews/campaign-1/workbench")})}),e.jsx(De,{value:"campaigns",className:"mt-0",children:e.jsx(e1e,{campaigns:Zwe,onViewCampaign:d=>t(`/reviews/${d}/workbench`)})}),o&&e.jsx(De,{value:"templates",className:"mt-0",children:e.jsx(t1e,{})})]})]})}function Qwe({tasks:t,onOpenWorkbench:r}){return e.jsxs("div",{className:"rounded-xl border border-border overflow-hidden bg-white dark:bg-slate-900",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-white/5 border-b border-border",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-slate-600 dark:text-slate-300",children:"Subject"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-slate-600 dark:text-slate-300",children:"Items"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-slate-600 dark:text-slate-300",children:"Risk"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-slate-600 dark:text-slate-300",children:"Campaign"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-slate-600 dark:text-slate-300",children:"Due Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-slate-600 dark:text-slate-300",children:"Progress"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-slate-600 dark:text-slate-300"})]})}),e.jsx("tbody",{children:t.map(n=>e.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-slate-50/50 dark:hover:bg-white/5 cursor-pointer",onClick:()=>r(n.id),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:n.subject}),e.jsx("div",{className:"text-sm text-slate-500",children:n.department})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs(J,{variant:"outline",children:[n.itemCount," items"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(mr,{risk:n.risk,size:"sm"})}),e.jsx("td",{className:"px-6 py-4 text-sm",children:n.campaign}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wn,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm",children:n.dueDate})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 min-w-[100px]",children:e.jsx(Nr,{value:n.progress,className:"h-2"})}),e.jsxs("span",{className:"text-sm font-medium min-w-[40px] text-right",children:[n.progress,"%"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(L,{variant:"ghost",size:"sm",children:"Open"})})]},n.id))})]})}),t.length===0&&e.jsxs("div",{className:"p-12 text-center text-slate-500",children:[e.jsx(zt,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),e.jsx("p",{children:"No pending review tasks"})]})]})}function e1e({campaigns:t,onViewCampaign:r}){const n=$r();return t.length===0?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 rounded-full bg-indigo-50 dark:bg-indigo-950/20",children:e.jsx(Qt,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),e.jsx("h3",{className:"text-xl mb-2",style:{fontWeight:"var(--font-weight-semibold)"},children:"No campaigns yet"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Create your first access review campaign to certify user permissions, validate role assignments, and ensure compliance."}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsxs(L,{onClick:()=>n("/reviews/new"),size:"lg",children:[e.jsx(At,{className:"w-4 h-4 mr-2"}),"Create Campaign"]}),e.jsxs(L,{variant:"outline",size:"lg",children:[e.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Import Campaign"]})]}),e.jsxs("div",{className:"mt-6 p-4 rounded-lg bg-slate-50 dark:bg-white/5 border border-border text-left",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Quick start"}),e.jsxs("ul",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[e.jsx("li",{children:" Choose review type (User, Application, Role, or Privileged)"}),e.jsx("li",{children:" Define scope and select reviewers"}),e.jsx("li",{children:" Set schedule and enable AI assistance"}),e.jsx("li",{children:" Launch and track progress in real-time"})]})]})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:t.map(s=>e.jsx(Jwe,{...s,onClick:()=>r(s.id),onEdit:()=>{},onDelete:()=>{},onRemind:()=>{}},s.id))})}function t1e(){const t=[{id:"1",name:"Quarterly User Access Review",description:"Review all user access across departments",frequency:"Quarterly",lastUsed:"Sep 15, 2025"},{id:"2",name:"Annual Privileged Access Certification",description:"Certify all elevated and admin access",frequency:"Yearly",lastUsed:"Jan 1, 2025"},{id:"3",name:"Application-Specific Review",description:"Review access for critical applications",frequency:"Monthly",lastUsed:"Oct 1, 2025"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map(r=>e.jsxs("div",{className:"rounded-xl border border-border bg-white dark:bg-slate-900 p-5 hover:shadow-md transition-all cursor-pointer",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium mb-1",children:r.name}),e.jsx("p",{className:"text-sm text-slate-500",children:r.description})]})}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400 mt-4 pt-4 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wn,{className:"w-4 h-4"}),r.frequency]}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Last used: ",r.lastUsed]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(L,{variant:"outline",size:"sm",className:"flex-1",children:"Use Template"}),e.jsx(L,{variant:"ghost",size:"sm",children:"Edit"})]})]},r.id)),e.jsxs("button",{className:"rounded-xl border-2 border-dashed border-border bg-white dark:bg-slate-900 p-5 hover:border-primary hover:bg-slate-50 dark:hover:bg-white/5 transition-all flex flex-col items-center justify-center min-h-[200px]",children:[e.jsx(At,{className:"w-8 h-8 text-slate-400 mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Create New Template"})]})]})}function r1e({value:t,max:r,size:n="md",showLabel:s=!0,className:a=""}){const i=Math.round(t/r*100)||0,l={sm:{container:40,stroke:4,text:"text-xs"},md:{container:56,stroke:5,text:"text-sm"},lg:{container:80,stroke:6,text:"text-base"}}[n],d=(l.container-l.stroke)/2,u=2*Math.PI*d,f=u-i/100*u,m=()=>i>=80?"var(--success)":i>=50?"var(--warning)":"var(--muted)";return e.jsxs("div",{className:`inline-flex items-center justify-center ${a}`,children:[e.jsxs("svg",{width:l.container,height:l.container,className:"transform -rotate-90",children:[e.jsx("circle",{cx:l.container/2,cy:l.container/2,r:d,fill:"none",stroke:"var(--border)",strokeWidth:l.stroke}),e.jsx("circle",{cx:l.container/2,cy:l.container/2,r:d,fill:"none",stroke:m(),strokeWidth:l.stroke,strokeDasharray:u,strokeDashoffset:f,strokeLinecap:"round",style:{transition:"stroke-dashoffset 300ms ease"}})]}),s&&e.jsxs("div",{className:`absolute ${l.text}`,style:{fontWeight:"var(--font-weight-semibold)"},children:[i,"%"]})]})}function t3({name:t,department:r,risk:n,total:s,reviewed:a,isActive:i,onClick:o,slaRemaining:l}){const d=t.split(" ").map(u=>u[0]).join("").toUpperCase();return e.jsxs("button",{onClick:o,className:`w-full text-left px-3 py-3 flex items-center gap-3 transition-all border-l-2 ${i?"bg-primary/10 dark:bg-primary/20 border-l-primary shadow-sm":"border-l-transparent hover:bg-slate-50 dark:hover:bg-slate-800"}`,style:{minHeight:"56px"},children:[e.jsx(Mn,{className:"h-9 w-9",children:e.jsx(Ln,{className:"text-xs bg-primary/10 text-primary",children:d})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold truncate mb-0.5",children:t}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 truncate mb-1",children:r}),e.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[e.jsx(mr,{risk:n,size:"sm"}),e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[a,"/",s]}),l&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 font-medium",children:l})]})]}),e.jsx(r1e,{value:a,max:s,size:"sm",showLabel:!1})]})}function n1e({recommendations:t,onApplyAll:r,onFilterRisky:n,onPreview:s,onApply:a}){const i={keep:e.jsx(cr,{className:"w-4 h-4 text-success"}),revoke:e.jsx(et,{className:"w-4 h-4 text-danger"}),"time-bound":e.jsx(sr,{className:"w-4 h-4 text-warning"}),flag:e.jsx(bt,{className:"w-4 h-4 text-info"})},o={keep:"Keep",revoke:"Revoke","time-bound":"Time-bound",flag:"Flag for review"};return e.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"w-4 h-4 text-primary"}),e.jsx("h3",{className:"font-semibold text-sm",children:"AI Recommendations"})]})}),e.jsx("div",{className:"p-4 space-y-3",children:t.map(l=>e.jsxs("div",{className:"p-3 rounded-lg bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-primary/30 transition-colors",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[i[l.type],e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-semibold",children:o[l.type]}),e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[l.itemCount," ",l.itemCount===1?"item":"items"]})]}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:l.reason})]}),e.jsxs("div",{className:"flex flex-col items-end gap-0.5 flex-shrink-0",children:[e.jsxs("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300",children:[l.confidence,"%"]}),e.jsx("div",{className:"w-12 h-1.5 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${l.confidence}%`}})})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",className:"h-7 text-xs px-3",onClick:()=>s?.(l),children:[e.jsx(ir,{className:"w-3 h-3 mr-1.5"}),"Preview"]}),e.jsxs(L,{variant:"default",size:"sm",className:"h-7 text-xs px-3",onClick:()=>a?.(l),children:[e.jsx(Xr,{className:"w-3 h-3 mr-1.5"}),"Apply"]})]})]},l.id))}),e.jsxs("div",{className:"px-4 pb-4 pt-3 border-t border-slate-200 dark:border-slate-800 space-y-2",children:[e.jsxs(L,{onClick:r,variant:"outline",className:"w-full justify-start",size:"sm",children:[e.jsx(Qt,{className:"w-3.5 h-3.5 mr-2"}),"Apply all safe recommendations"]}),e.jsxs(L,{onClick:n,variant:"outline",className:"w-full justify-start",size:"sm",children:[e.jsx(et,{className:"w-3.5 h-3.5 mr-2"}),"Show only risky/unused items"]})]})]})}const s1e=[{id:"u1",name:"Jessica Smith",dept:"Finance",risk:"High",slaRemaining:"2d",items:[{id:"1",app:"Oracle ERP",item:"AP Write",type:"Role",lastUsedPct:3,risk:"High",ai:"Time-bound",elevated:!0},{id:"2",app:"M365",item:"Global Reader",type:"Role",lastUsedPct:78,risk:"Low",ai:"Keep"},{id:"3",app:"Salesforce",item:"System Admin",type:"Role",lastUsedPct:0,risk:"Critical",ai:"Revoke",sodConflict:!0},{id:"4",app:"Workday",item:"Payroll Admin",type:"Entitlement",lastUsedPct:45,risk:"Medium",ai:"Keep"}],reviewed:{}},{id:"u2",name:"Michael Chen",dept:"Engineering",risk:"Medium",slaRemaining:"5d",items:[{id:"5",app:"GitHub",item:"Org Owner",type:"Role",lastUsedPct:92,risk:"High",ai:"Keep"},{id:"6",app:"AWS",item:"Production Admin",type:"Role",lastUsedPct:67,risk:"High",ai:"Keep"},{id:"7",app:"Datadog",item:"Admin",type:"Role",lastUsedPct:12,risk:"Low",ai:"Time-bound"}],reviewed:{}},{id:"u3",name:"Sarah Johnson",dept:"Operations",risk:"Low",slaRemaining:"7d",items:[{id:"8",app:"Jira",item:"Project Admin",type:"Role",lastUsedPct:89,risk:"Low",ai:"Keep"},{id:"9",app:"Confluence",item:"Space Admin",type:"Role",lastUsedPct:71,risk:"Low",ai:"Keep"}],reviewed:{}}],a1e=[{id:"1",type:"revoke",confidence:95,reason:"Not used in 90+ days",itemCount:1},{id:"2",type:"time-bound",confidence:82,reason:"Low usage, high privilege",itemCount:2},{id:"3",type:"keep",confidence:88,reason:"Regular usage, low risk",itemCount:4},{id:"4",type:"flag",confidence:91,reason:"SoD conflict detected",itemCount:1}],Nk=64,qB=64,Mc=Nk+qB;function i1e(){const t=$r(),{campaignId:r}=$d(),[n,s]=j.useState(s1e),[a,i]=j.useState(0),[o,l]=j.useState(!0),[d,u]=j.useState(!1),[f,m]=j.useState(""),[v,g]=j.useState(null),[b,x]=j.useState([]),y=n[a],A=j.useMemo(()=>{const I=y.items.length,B=Object.values(y.reviewed).filter(Boolean).length;return{total:I,decided:B,pct:Math.round(B/I*100)||0}},[y]),E=j.useMemo(()=>{let I=0,B=0,M=0;return n.forEach(W=>{I+=W.items.length,B+=Object.values(W.reviewed).filter(Boolean).length,W.items.forEach(V=>{V.risk==="Critical"&&!W.reviewed[V.id]&&M++})}),{total:I,decided:B,pct:Math.round(B/I*100)||0,criticalRemaining:M}},[n]);function C(I,B){s(M=>{const W=[...M];return W[a]={...M[a],reviewed:{...M[a].reviewed,[I]:B}},W}),Ae.success(`Decision recorded: ${B}`)}function w(I,B){I.forEach(M=>C(M.id,B))}function k(){a<n.length-1?i(a+1):Ae.success("All subjects reviewed!")}function S(){Ae.success("Decisions submitted successfully"),t("/reviews")}function R(){Ae.info("Exporting decisions to CSV...")}j.useEffect(()=>{const I=B=>{if(B.target instanceof HTMLInputElement||B.target instanceof HTMLTextAreaElement)return;const M=B.key.toLowerCase();if(v)switch(M){case"k":C(v,"Keep");break;case"r":C(v,"Revoke");break;case"d":C(v,"Delegate");break;case"t":C(v,"Time-bound");break}};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[v]);const T=n.filter(I=>I.name.toLowerCase().includes(f.toLowerCase())||I.dept.toLowerCase().includes(f.toLowerCase())),O=I=>({revoke:y.items.filter(M=>M.ai==="Revoke").map(M=>M.id),"time-bound":y.items.filter(M=>M.ai==="Time-bound").map(M=>M.id),keep:y.items.filter(M=>M.ai==="Keep").map(M=>M.id),flag:y.items.filter(M=>M.sodConflict).map(M=>M.id)})[I]||[],U=I=>{const B=O(I.type);x(B),B.length>0&&(document.getElementById(`item-row-${B[0]}`)?.scrollIntoView({behavior:"smooth",block:"center"}),Ae.info(`Highlighting ${B.length} item${B.length!==1?"s":""} for ${I.type}`)),setTimeout(()=>x([]),3e3)},D=I=>{const B=O(I.type),M=I.type==="time-bound"?"Time-bound":I.type==="revoke"?"Revoke":"Keep";s(W=>W.map((V,Q)=>Q===a?{...V,reviewed:{...V.reviewed,...Object.fromEntries(B.map(H=>[H,M]))}}:V)),Ae.success(`Applied ${I.type} recommendation to ${B.length} item${B.length!==1?"s":""}`)};return e.jsxs("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-950",children:[e.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-slate-900/95 border-b border-slate-200 dark:border-slate-800 backdrop-blur-sm z-50",style:{height:`${Nk}px`},children:e.jsxs("div",{className:"h-full max-w-[1320px] mx-auto px-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>t("/reviews"),children:[e.jsx(Va,{className:"w-4 h-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),e.jsx("div",{className:"h-5 w-px bg-slate-200 dark:bg-slate-700 hidden sm:block"}),e.jsx(L,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>u(!d),children:d?e.jsx($t,{className:"w-4 h-4"}):e.jsx(b5,{className:"w-4 h-4"})}),e.jsx("div",{className:"h-5 w-px bg-slate-200 dark:bg-slate-700 lg:hidden"}),e.jsx("h1",{className:"text-base sm:text-lg font-semibold truncate",children:"Q1 2025 User Access Review"}),e.jsx(J,{variant:"outline",className:"hidden sm:inline-flex",children:"Active"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(J,{variant:"outline",className:"text-xs hidden md:inline-flex",children:[e.jsx(kK,{className:"w-3 h-3 mr-1"}),"K  R  D  T"]}),e.jsxs(L,{variant:"ghost",size:"sm",className:"hidden lg:flex",onClick:()=>l(!o),children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),"AI"]})]})]})}),e.jsx("div",{className:"fixed left-0 right-0 bg-slate-50/95 dark:bg-slate-900/95 border-b border-slate-200 dark:border-slate-800 backdrop-blur-sm z-40",style:{top:`${Nk}px`,height:`${qB}px`},children:e.jsxs("div",{className:"h-full max-w-[1320px] mx-auto px-6 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Overall: ",E.decided,"/",E.total," items"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[E.criticalRemaining>0&&e.jsxs(J,{variant:"destructive",className:"text-xs",children:[E.criticalRemaining," Critical Remaining"]}),e.jsxs("span",{className:"font-semibold",children:[E.pct,"%"]})]})]}),e.jsx(Nr,{value:E.pct,className:"h-2"})]})}),e.jsx("main",{className:"max-w-[1320px] mx-auto px-6",style:{paddingTop:`${Mc+24}px`,paddingBottom:"24px"},children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsx("aside",{className:"hidden lg:block lg:col-span-3",children:e.jsxs("div",{className:"sticky bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",style:{top:`${Mc+24}px`},children:[e.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"font-semibold text-sm",children:["Subjects (",T.length,")",T.length!==n.length&&e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 ml-1",children:["of ",n.length]})]}),e.jsx(L,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",children:e.jsx(nv,{className:"w-3.5 h-3.5"})})]}),e.jsx(pe,{placeholder:"Search by name or dept...",value:f,onChange:I=>m(I.target.value),className:"h-8 text-sm"})]}),e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:`calc(100vh - ${Mc+24+88}px)`},children:T.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-sm text-slate-500 dark:text-slate-400",children:"No subjects match your search"}):T.map((I,B)=>{const M=Object.values(I.reviewed).filter(Boolean).length;return e.jsx(t3,{name:I.name,department:I.dept,risk:I.risk,total:I.items.length,reviewed:M,isActive:B===a,onClick:()=>{i(B),u(!1)},slaRemaining:I.slaRemaining},I.id)})})]})}),d&&e.jsx("div",{className:"lg:hidden fixed inset-0 z-40 bg-black/50",onClick:()=>u(!1),children:e.jsx("aside",{className:"fixed inset-y-0 left-0 w-[280px] bg-white dark:bg-slate-900 shadow-xl overflow-hidden",onClick:I=>I.stopPropagation(),style:{paddingTop:`${Mc}px`},children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"font-semibold text-sm",children:["Subjects (",T.length,")",T.length!==n.length&&e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 ml-1",children:["of ",n.length]})]}),e.jsx(L,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",children:e.jsx(nv,{className:"w-3.5 h-3.5"})})]}),e.jsx(pe,{placeholder:"Search by name or dept...",value:f,onChange:I=>m(I.target.value),className:"h-8 text-sm"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:T.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-sm text-slate-500 dark:text-slate-400",children:"No subjects match your search"}):T.map((I,B)=>{const M=Object.values(I.reviewed).filter(Boolean).length;return e.jsx(t3,{name:I.name,department:I.dept,risk:I.risk,total:I.items.length,reviewed:M,isActive:B===a,onClick:()=>{i(B),u(!1)},slaRemaining:I.slaRemaining},I.id)})})]})})}),e.jsx("section",{className:`lg:col-span-${o?"6":"9"}`,children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-1",children:y.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 flex-wrap",children:[e.jsx("span",{children:y.dept}),e.jsx("span",{children:""}),e.jsx(mr,{risk:y.risk,size:"sm"}),e.jsx("span",{children:""}),e.jsxs("span",{children:[A.decided,"/",A.total," reviewed (",A.pct,"%)"]}),y.slaRemaining&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs(J,{variant:"outline",className:"text-xs",children:[y.slaRemaining," remaining"]})]})]})]}),e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsx(L,{variant:"outline",size:"sm",className:"hidden sm:flex",onClick:()=>w(y.items.filter(I=>I.risk==="Low"),"Keep"),children:"Keep low-risk"}),e.jsx(L,{variant:"outline",size:"sm",className:"hidden sm:flex",onClick:()=>w(y.items.filter(I=>(I.lastUsedPct??0)===0),"Revoke"),children:"Revoke unused"})]})]}),e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-700 dark:text-slate-200",children:"Application / Item"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-700 dark:text-slate-200",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-700 dark:text-slate-200",children:"Last Used"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-700 dark:text-slate-200",children:"Risk"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-700 dark:text-slate-200",children:"AI Rec."}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-700 dark:text-slate-200",children:"Decision"})]})}),e.jsx("tbody",{children:y.items.map((I,B)=>{const M=y.reviewed[I.id],W=v===I.id,V=b.includes(I.id);return e.jsxs("tr",{id:`item-row-${I.id}`,className:`border-b border-slate-100 dark:border-slate-800 last:border-0 transition-all duration-300 ${V?"bg-primary/10 ring-2 ring-inset ring-primary/40 shadow-lg":W?"bg-primary/5 ring-2 ring-inset ring-primary/20":"hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,style:{height:"46px"},tabIndex:0,onFocus:()=>g(I.id),onBlur:()=>g(null),children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-2",children:[I.app,I.sodConflict&&e.jsx(J,{variant:"destructive",className:"text-xs h-5",children:"SoD"}),I.elevated&&e.jsx(J,{variant:"outline",className:"text-xs h-5",children:"Elevated"})]}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.item})]})}),e.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:I.type}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:I.lastUsedPct===0?"text-danger font-medium":I.lastUsedPct&&I.lastUsedPct<20?"text-warning":"text-slate-600 dark:text-slate-300",children:I.lastUsedPct!==void 0?`${I.lastUsedPct}%`:""})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(mr,{risk:I.risk,size:"sm",showScore:!0})}),e.jsx("td",{className:"px-4 py-3",children:I.ai?e.jsxs(J,{variant:"secondary",className:"text-xs h-6 font-normal",children:[e.jsx(Qt,{className:"w-3 h-3 mr-1"}),I.ai]}):e.jsx("span",{className:"text-slate-400",children:""})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx(Bp,{label:"K",fullLabel:"Keep",variant:"success",active:M==="Keep",onClick:()=>C(I.id,"Keep")}),e.jsx(Bp,{label:"R",fullLabel:"Revoke",variant:"danger",active:M==="Revoke",onClick:()=>C(I.id,"Revoke")}),e.jsx(Bp,{label:"D",fullLabel:"Delegate",variant:"outline",active:M==="Delegate",onClick:()=>C(I.id,"Delegate")}),e.jsx(Bp,{label:"T",fullLabel:"Time",variant:"warning",active:M==="Time-bound",onClick:()=>C(I.id,"Time-bound")})]})})]},I.id)})})]})})}),e.jsx("div",{className:"sticky bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border border-slate-200 dark:border-slate-800 rounded-xl shadow-lg",style:{bottom:"16px",zIndex:30,height:"64px"},children:e.jsxs("div",{className:"h-full px-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Decisions: "}),e.jsxs("span",{className:"font-semibold",children:[A.decided,"/",A.total]})]}),A.decided===A.total&&e.jsx(J,{variant:"default",className:"bg-emerald-500",children:" Complete"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"ghost",size:"sm",className:"hidden md:flex",onClick:R,children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:k,disabled:a===n.length-1,children:["Next Subject",e.jsx(Ka,{className:"w-4 h-4 ml-1"})]}),e.jsx(L,{onClick:S,disabled:E.decided===0,children:"Submit All"})]})]})})]})}),o&&e.jsx("aside",{className:"hidden lg:block lg:col-span-3",children:e.jsx("div",{className:"sticky",style:{top:`${Mc+24}px`},children:e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:`calc(100vh - ${Mc+24+88}px)`},children:e.jsx(n1e,{recommendations:a1e,onApplyAll:()=>{Ae.success("Applied all safe AI recommendations")},onFilterRisky:()=>{Ae.info("Filtered to show risky/unused items only")},onPreview:U,onApply:D})})})})]})}),!o&&e.jsx(L,{className:"lg:hidden fixed bottom-24 right-6 rounded-full h-12 w-12 p-0 shadow-lg z-40",onClick:()=>l(!0),children:e.jsx(Qt,{className:"w-5 h-5"})})]})}function Bp({label:t,fullLabel:r,variant:n,active:s,onClick:a}){const i={success:s?"bg-emerald-600 text-white border-emerald-600 shadow-sm":"bg-emerald-50 text-emerald-700 border-emerald-200 hover:bg-emerald-100 dark:bg-emerald-950 dark:text-emerald-300 dark:border-emerald-800 dark:hover:bg-emerald-900",danger:s?"bg-rose-600 text-white border-rose-600 shadow-sm":"bg-rose-50 text-rose-700 border-rose-200 hover:bg-rose-100 dark:bg-rose-950 dark:text-rose-300 dark:border-rose-800 dark:hover:bg-rose-900",warning:s?"bg-amber-600 text-white border-amber-600 shadow-sm":"bg-amber-50 text-amber-800 border-amber-200 hover:bg-amber-100 dark:bg-amber-950 dark:text-amber-300 dark:border-amber-800 dark:hover:bg-amber-900",outline:s?"bg-primary text-white border-primary shadow-sm":"bg-slate-50 text-slate-700 border-slate-300 hover:bg-slate-100 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700 dark:hover:bg-slate-700"};return e.jsx("button",{onClick:a,className:`text-xs px-2.5 py-1 rounded-md border transition-all font-medium ${i[n]} focus:ring-2 focus:ring-offset-1 focus:ring-primary`,"aria-pressed":s,"aria-label":r,title:r,children:t})}var D2="Radio",[o1e,HB]=rn(D2),[l1e,c1e]=o1e(D2),VB=j.forwardRef((t,r)=>{const{__scopeRadio:n,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:d,form:u,...f}=t,[m,v]=j.useState(null),g=st(r,y=>v(y)),b=j.useRef(!1),x=m?u||!!m.closest("form"):!0;return e.jsxs(l1e,{scope:n,checked:a,disabled:o,children:[e.jsx(Fe.button,{type:"button",role:"radio","aria-checked":a,"data-state":YB(a),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:g,onClick:Re(t.onClick,y=>{a||d?.(),x&&(b.current=y.isPropagationStopped(),b.current||y.stopPropagation())})}),x&&e.jsx(JB,{control:m,bubbles:!b.current,name:s,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});VB.displayName=D2;var GB="RadioIndicator",KB=j.forwardRef((t,r)=>{const{__scopeRadio:n,forceMount:s,...a}=t,i=c1e(GB,n);return e.jsx(Fr,{present:s||i.checked,children:e.jsx(Fe.span,{"data-state":YB(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:r})})});KB.displayName=GB;var d1e="RadioBubbleInput",JB=j.forwardRef(({__scopeRadio:t,control:r,checked:n,bubbles:s=!0,...a},i)=>{const o=j.useRef(null),l=st(o,i),d=Rm(n),u=Tm(r);return j.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&g){const b=new Event("click",{bubbles:s});g.call(f,n),f.dispatchEvent(b)}},[d,n,s]),e.jsx(Fe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});JB.displayName=d1e;function YB(t){return t?"checked":"unchecked"}var u1e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zg="RadioGroup",[h1e]=rn(zg,[Jd,HB]),ZB=Jd(),XB=HB(),[m1e,f1e]=h1e(zg),QB=j.forwardRef((t,r)=>{const{__scopeRadioGroup:n,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:u,loop:f=!0,onValueChange:m,...v}=t,g=ZB(n),b=$l(u),[x,y]=Ns({prop:i,defaultProp:a??null,onChange:m,caller:zg});return e.jsx(m1e,{scope:n,name:s,required:o,disabled:l,value:x,onValueChange:y,children:e.jsx(Zk,{asChild:!0,...g,orientation:d,dir:b,loop:f,children:e.jsx(Fe.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:b,...v,ref:r})})})});QB.displayName=zg;var eW="RadioGroupItem",tW=j.forwardRef((t,r)=>{const{__scopeRadioGroup:n,disabled:s,...a}=t,i=f1e(eW,n),o=i.disabled||s,l=ZB(n),d=XB(n),u=j.useRef(null),f=st(r,u),m=i.value===a.value,v=j.useRef(!1);return j.useEffect(()=>{const g=x=>{u1e.includes(x.key)&&(v.current=!0)},b=()=>v.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",b)}},[]),e.jsx(Xk,{asChild:!0,...l,focusable:!o,active:m,children:e.jsx(VB,{disabled:o,required:i.required,checked:m,...d,...a,name:i.name,ref:f,onCheck:()=>i.onValueChange(a.value),onKeyDown:Re(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Re(a.onFocus,()=>{v.current&&u.current?.click()})})})});tW.displayName=eW;var p1e="RadioGroupIndicator",rW=j.forwardRef((t,r)=>{const{__scopeRadioGroup:n,...s}=t,a=XB(n);return e.jsx(KB,{...a,...s,ref:r})});rW.displayName=p1e;var v1e=QB,x1e=tW,g1e=rW;function nW({className:t,...r}){return e.jsx(v1e,{"data-slot":"radio-group",className:We("grid gap-3",t),...r})}function Hc({className:t,...r}){return e.jsx(x1e,{"data-slot":"radio-group-item",className:We("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(g1e,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(Oh,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const hl=["Basics","Scope","Reviewers","Schedule","AI Assist","Review"];function y1e(){const t=$r(),[r,n]=j.useState("Basics"),[s,a]=j.useState(!1),[i,o]=j.useState({name:"",type:"User",scope:{},reviewers:{model:"Manager",allowDelegation:!0,quorum:1,requireReasonOnRevoke:!0},schedule:{mode:"one-time",dueDays:7,reminders:[{daysBefore:3}]},ai:{highlightUnused90d:!0,highlightSoD:!0,confidence:.7}}),l=C1e(r,i),d=hl.indexOf(r),u=()=>{d<hl.length-1&&n(hl[d+1])},f=()=>{d>0&&n(hl[d-1])},m=async()=>{a(!0),await new Promise(b=>setTimeout(b,1500)),Ae.success("Campaign launched successfully!"),a(!1),t("/reviews")},v=()=>{Ae.success("Campaign saved as draft"),t("/reviews")},g=()=>{Ae.success("Campaign saved as template"),t("/reviews")};return e.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:e.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl",style:{fontWeight:"var(--font-weight-semibold)"},children:"Create Access Review Campaign"}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Step ",d+1," of ",hl.length]})]}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>t("/reviews"),children:e.jsx($t,{className:"w-4 h-4"})})]}),e.jsx("nav",{className:"flex gap-2 overflow-x-auto pb-2",children:hl.map((b,x)=>{const y=b===r,A=x<d;return e.jsxs("button",{className:`px-4 py-2 rounded-lg border text-sm whitespace-nowrap transition-all ${y?"bg-primary text-white border-primary":A?"bg-success/10 text-success border-success/20":"border-border hover:bg-slate-50 dark:hover:bg-white/5"}`,onClick:()=>n(b),children:[A&&e.jsx(Xr,{className:"w-3.5 h-3.5 inline mr-1"}),b]},b)})}),e.jsxs("div",{className:"rounded-xl border border-border bg-white dark:bg-slate-900 p-6",children:[r==="Basics"&&e.jsx(b1e,{draft:i,setDraft:o}),r==="Scope"&&e.jsx(j1e,{draft:i,setDraft:o}),r==="Reviewers"&&e.jsx(w1e,{draft:i,setDraft:o}),r==="Schedule"&&e.jsx(N1e,{draft:i,setDraft:o}),r==="AI Assist"&&e.jsx(S1e,{draft:i,setDraft:o}),r==="Review"&&e.jsx(k1e,{draft:i})]}),e.jsx("footer",{className:"sticky bottom-0 bg-white/90 dark:bg-slate-900/90 backdrop-blur border-t border-border rounded-t-xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(L,{variant:"outline",onClick:f,disabled:d===0,children:[e.jsx(_G,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:"outline",onClick:v,children:"Save Draft"}),e.jsx(L,{variant:"outline",onClick:g,children:"Save as Template"}),d<hl.length-1?e.jsxs(L,{onClick:u,disabled:!l,children:["Next",e.jsx(Ka,{className:"w-4 h-4 ml-2"})]}):e.jsx(L,{onClick:m,disabled:s||!l,children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin mr-2",children:""}),"Launching..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4 mr-2"}),"Launch Campaign"]})})]})]})})]})})}function b1e({draft:t,setDraft:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"name",children:["Campaign Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(pe,{id:"name",placeholder:"e.g., Q1 2025 User Access Review",value:t.name,onChange:n=>r({...t,name:n.target.value}),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"type",children:["Review Type ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(Me,{value:t.type,onValueChange:n=>r({...t,type:n}),children:[e.jsx(ze,{className:"mt-2",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"User",children:"User Access Review"}),e.jsx(Z,{value:"Application",children:"Application Review"}),e.jsx(Z,{value:"Role",children:"Role Review"}),e.jsx(Z,{value:"Privileged",children:"Privileged Access Review"}),e.jsx(Z,{value:"SoD",children:"Segregation of Duties"})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"owner",children:"Owner"}),e.jsx(pe,{id:"owner",placeholder:"email@company.com",value:t.owner||"",onChange:n=>r({...t,owner:n.target.value}),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"timezone",children:"Timezone"}),e.jsx(pe,{id:"timezone",placeholder:"America/Los_Angeles",value:t.timezone||"",onChange:n=>r({...t,timezone:n.target.value}),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"template",children:"Template (Optional)"}),e.jsxs(Me,{value:t.templateId||"",onValueChange:n=>r({...t,templateId:n}),children:[e.jsx(ze,{className:"mt-2",children:e.jsx(Le,{placeholder:"Select template..."})}),e.jsxs($e,{children:[e.jsx(Z,{value:"",children:"None"}),e.jsx(Z,{value:"quarterly",children:"Quarterly User Review"}),e.jsx(Z,{value:"privileged",children:"Privileged Access Annual"}),e.jsx(Z,{value:"app-specific",children:"Application-Specific"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description",children:"Description"}),e.jsx(mn,{id:"description",placeholder:"Describe the purpose and scope of this review campaign...",value:t.description||"",onChange:n=>r({...t,description:n.target.value}),className:"mt-2",rows:3})]})]})}function j1e({draft:t,setDraft:r}){const n=t.type==="User"?247:t.type==="Application"?89:156,s=t.type==="User"?1247:t.type==="Application"?456:823;return e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.type==="User"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(G,{children:"Departments"}),e.jsx("div",{className:"mt-2 space-y-2",children:["Finance","Engineering","Sales","Operations","HR","IT"].map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zt,{id:`dept-${a}`,checked:t.scope.departments?.includes(a),onCheckedChange:i=>{const o=t.scope.departments||[];r({...t,scope:{...t.scope,departments:i?[...o,a]:o.filter(l=>l!==a)}})}}),e.jsx(G,{htmlFor:`dept-${a}`,className:"cursor-pointer font-normal",children:a})]},a))})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[e.jsx(G,{children:"Exclude service accounts"}),e.jsx(Pe,{checked:!!t.scope.excludeService,onCheckedChange:a=>r({...t,scope:{...t.scope,excludeService:a}})})]}),e.jsxs("div",{children:[e.jsx(G,{children:"Active within last (days)"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(Dd,{value:[t.scope.activeDays||90],onValueChange:([a])=>r({...t,scope:{...t.scope,activeDays:a}}),min:0,max:365,step:30,className:"mt-2"}),e.jsxs("div",{className:"text-sm text-slate-500 mt-2",children:[t.scope.activeDays||90," days"]})]})]})]}),t.type==="Application"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(G,{children:"Applications"}),e.jsx("div",{className:"mt-2 space-y-2",children:["Salesforce","Workday","AWS","GitHub","M365","Oracle ERP"].map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zt,{id:`app-${a}`,checked:t.scope.apps?.includes(a),onCheckedChange:i=>{const o=t.scope.apps||[];r({...t,scope:{...t.scope,apps:i?[...o,a]:o.filter(l=>l!==a)}})}}),e.jsx(G,{htmlFor:`app-${a}`,className:"cursor-pointer font-normal",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsx(G,{children:"Risk Threshold"}),e.jsxs(Me,{value:t.scope.risk||"All",onValueChange:a=>r({...t,scope:{...t.scope,risk:a}}),children:[e.jsx(ze,{className:"mt-2",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"All",children:"All risk levels"}),e.jsx(Z,{value:"Medium+",children:"Medium and above"}),e.jsx(Z,{value:"High+",children:"High and above"}),e.jsx(Z,{value:"Critical",children:"Critical only"})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{children:"Last used threshold (%)"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(Dd,{value:[t.scope.lastUsedPct||0],onValueChange:([a])=>r({...t,scope:{...t.scope,lastUsedPct:a}}),min:0,max:100,step:10}),e.jsxs("div",{className:"text-sm text-slate-500 mt-2",children:[" ",t.scope.lastUsedPct||0,"%"]})]})]})]}),t.type==="Role"&&e.jsxs("div",{children:[e.jsx(G,{children:"Roles to Review"}),e.jsx("div",{className:"mt-2 space-y-2",children:["Finance Admin","Engineering Lead","Sales Manager","HR Partner","IT Admin"].map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zt,{id:`role-${a}`,checked:t.scope.roles?.includes(a),onCheckedChange:i=>{const o=t.scope.roles||[];r({...t,scope:{...t.scope,roles:i?[...o,a]:o.filter(l=>l!==a)}})}}),e.jsx(G,{htmlFor:`role-${a}`,className:"cursor-pointer font-normal",children:a})]},a))})]}),(t.type==="Privileged"||t.type==="SoD")&&e.jsxs("div",{className:"p-4 rounded-lg bg-slate-50 dark:bg-white/5 border border-border text-sm text-slate-600 dark:text-slate-400",children:["Configure scope for ",t.type," reviews. Select policies and thresholds."]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"rounded-lg border border-border bg-indigo-50 dark:bg-indigo-950/20 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Dh,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),e.jsx("h3",{className:"font-medium text-indigo-900 dark:text-indigo-100",children:"Estimated Scope"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-semibold text-indigo-600 dark:text-indigo-400",children:n.toLocaleString()}),e.jsx("div",{className:"text-sm text-indigo-700 dark:text-indigo-300",children:"Subjects to review"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-semibold text-indigo-600 dark:text-indigo-400",children:s.toLocaleString()}),e.jsx("div",{className:"text-sm text-indigo-700 dark:text-indigo-300",children:"Total items"})]})]})]})})]})}function w1e({draft:t,setDraft:r}){const n=t.reviewers;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(G,{children:"Reviewer Assignment Model"}),e.jsxs(nW,{value:n.model,onValueChange:s=>r({...t,reviewers:{...n,model:s}}),className:"mt-3 space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-border hover:bg-slate-50 dark:hover:bg-white/5",children:[e.jsx(Hc,{value:"Manager",id:"manager",className:"mt-0.5"}),e.jsxs(G,{htmlFor:"manager",className:"cursor-pointer font-normal flex-1",children:[e.jsx("div",{className:"font-medium",children:"Manager"}),e.jsx("div",{className:"text-sm text-slate-500",children:"User's direct manager reviews their access"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-border hover:bg-slate-50 dark:hover:bg-white/5",children:[e.jsx(Hc,{value:"AppOwner",id:"app-owner",className:"mt-0.5"}),e.jsxs(G,{htmlFor:"app-owner",className:"cursor-pointer font-normal flex-1",children:[e.jsx("div",{className:"font-medium",children:"Application Owner"}),e.jsx("div",{className:"text-sm text-slate-500",children:"Owner of each application reviews access"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-border hover:bg-slate-50 dark:hover:bg-white/5",children:[e.jsx(Hc,{value:"RoleOwner",id:"role-owner",className:"mt-0.5"}),e.jsxs(G,{htmlFor:"role-owner",className:"cursor-pointer font-normal flex-1",children:[e.jsx("div",{className:"font-medium",children:"Role Owner"}),e.jsx("div",{className:"text-sm text-slate-500",children:"Owner of each role reviews memberships"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-border hover:bg-slate-50 dark:hover:bg-white/5",children:[e.jsx(Hc,{value:"Custom",id:"custom",className:"mt-0.5"}),e.jsxs(G,{htmlFor:"custom",className:"cursor-pointer font-normal flex-1",children:[e.jsx("div",{className:"font-medium",children:"Custom Reviewers"}),e.jsx("div",{className:"text-sm text-slate-500",children:"Select specific reviewers manually"})]})]})]})]}),n.model==="Custom"&&e.jsxs("div",{children:[e.jsx(G,{htmlFor:"custom-reviewers",children:"Reviewer Emails"}),e.jsx(pe,{id:"custom-reviewers",placeholder:"email1@company.com, email2@company.com",className:"mt-2",onChange:s=>r({...t,reviewers:{...n,custom:s.target.value.split(",").map(a=>a.trim())}})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[e.jsxs("div",{children:[e.jsx(G,{className:"font-medium",children:"Allow Delegation"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Reviewers can delegate to others"})]}),e.jsx(Pe,{checked:!!n.allowDelegation,onCheckedChange:s=>r({...t,reviewers:{...n,allowDelegation:s}})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[e.jsxs("div",{children:[e.jsx(G,{className:"font-medium",children:"Require Reason on Revoke"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Mandatory comment for revocations"})]}),e.jsx(Pe,{checked:!!n.requireReasonOnRevoke,onCheckedChange:s=>r({...t,reviewers:{...n,requireReasonOnRevoke:s}})})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"fallback",children:"Fallback Reviewer"}),e.jsx(pe,{id:"fallback",placeholder:"fallback@company.com",value:n.fallbackReviewer||"",onChange:s=>r({...t,reviewers:{...n,fallbackReviewer:s.target.value}}),className:"mt-2"}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Used when assigned reviewer is unavailable"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"quorum",children:"Quorum (Approvals Required)"}),e.jsx(pe,{id:"quorum",type:"number",min:"1",value:n.quorum||1,onChange:s=>r({...t,reviewers:{...n,quorum:Number(s.target.value)}}),className:"mt-2"})]})]})]})}function N1e({draft:t,setDraft:r}){const n=t.schedule;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(G,{children:"Campaign Type"}),e.jsxs(nW,{value:n.mode,onValueChange:s=>r({...t,schedule:{...n,mode:s}}),className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Hc,{value:"one-time",id:"one-time"}),e.jsx(G,{htmlFor:"one-time",className:"cursor-pointer font-normal",children:"One-time  Single review campaign"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Hc,{value:"recurring",id:"recurring"}),e.jsx(G,{htmlFor:"recurring",className:"cursor-pointer font-normal",children:"Recurring  Automatically create campaigns on a schedule"})]})]})]}),n.mode==="recurring"&&e.jsxs("div",{children:[e.jsx(G,{htmlFor:"rrule",children:"RRULE (Recurrence Rule)"}),e.jsx(pe,{id:"rrule",placeholder:"FREQ=MONTHLY;BYMONTHDAY=1",value:n.rrule||"",onChange:s=>r({...t,schedule:{...n,rrule:s.target.value}}),className:"mt-2"}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Example: FREQ=QUARTERLY;BYMONTH=1,4,7,10 (quarterly on Jan, Apr, Jul, Oct)"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"start-date",children:"Start Date"}),e.jsx(pe,{id:"start-date",type:"date",value:n.startDate||"",onChange:s=>r({...t,schedule:{...n,startDate:s.target.value}}),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"end-date",children:"End Date"}),e.jsx(pe,{id:"end-date",type:"date",value:n.endDate||"",onChange:s=>r({...t,schedule:{...n,endDate:s.target.value}}),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"due-days",children:"Due in (Days)"}),e.jsx(pe,{id:"due-days",type:"number",min:"1",value:n.dueDays||7,onChange:s=>r({...t,schedule:{...n,dueDays:Number(s.target.value)}}),className:"mt-2"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"reminder",children:"Reminder (Days Before Due)"}),e.jsx(pe,{id:"reminder",type:"number",min:"1",value:n.reminders?.[0]?.daysBefore??3,onChange:s=>r({...t,schedule:{...n,reminders:[{daysBefore:Number(s.target.value)}]}}),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"escalate",children:"Escalate After (Days Overdue)"}),e.jsx(pe,{id:"escalate",type:"number",min:"1",value:n.escalation?.afterDays??2,onChange:s=>r({...t,schedule:{...n,escalation:{afterDays:Number(s.target.value),to:"Owner"}}}),className:"mt-2"})]})]})]})}function S1e({draft:t,setDraft:r}){const n=t.ai;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-4 rounded-lg bg-indigo-50 dark:bg-indigo-950/20 border border-indigo-200 dark:border-indigo-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qt,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-indigo-900 dark:text-indigo-100",children:"AI-Powered Review Assistance"}),e.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-300 mt-1",children:"Enable AI features to help reviewers make faster, more informed decisions based on usage patterns and risk signals."})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[e.jsxs("div",{children:[e.jsx(G,{className:"font-medium",children:"Highlight unused 90 days"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Flag access not used recently"})]}),e.jsx(Pe,{checked:!!n.highlightUnused90d,onCheckedChange:s=>r({...t,ai:{...n,highlightUnused90d:s}})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[e.jsxs("div",{children:[e.jsx(G,{className:"font-medium",children:"Highlight SoD conflicts"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Flag segregation violations"})]}),e.jsx(Pe,{checked:!!n.highlightSoD,onCheckedChange:s=>r({...t,ai:{...n,highlightSoD:s}})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[e.jsxs("div",{children:[e.jsx(G,{className:"font-medium",children:"Highlight privileged access"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Flag elevated permissions"})]}),e.jsx(Pe,{checked:!!n.highlightPrivileged,onCheckedChange:s=>r({...t,ai:{...n,highlightPrivileged:s}})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[e.jsxs("div",{children:[e.jsx(G,{className:"font-medium",children:"Auto-approve low-risk"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Automatically approve safe items"})]}),e.jsx(Pe,{checked:!!n.autoApproveLowRisk,onCheckedChange:s=>r({...t,ai:{...n,autoApproveLowRisk:s}})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[e.jsxs("div",{children:[e.jsx(G,{className:"font-medium",children:"Collapse duplicates"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Group similar items"})]}),e.jsx(Pe,{checked:!!n.collapseDuplicates,onCheckedChange:s=>r({...t,ai:{...n,collapseDuplicates:s}})})]})]}),e.jsxs("div",{children:[e.jsx(G,{children:"AI Confidence Threshold"}),e.jsxs("div",{className:"mt-3",children:[e.jsx(Dd,{value:[n.confidence||.7],onValueChange:([s])=>r({...t,ai:{...n,confidence:s}}),min:0,max:1,step:.05}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-500 mt-2",children:[e.jsx("span",{children:"Lower (more suggestions)"}),e.jsxs("span",{className:"font-medium text-primary",children:[Math.round((n.confidence||.7)*100),"%"]}),e.jsx("span",{children:"Higher (fewer, more confident)"})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-slate-50 dark:bg-white/5 border border-border",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Estimated Impact"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-success",children:"~340"}),e.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Auto-approved items"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-warning",children:"~127"}),e.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Flagged for review"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-info",children:"~89"}),e.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"AI suggestions"})]})]})]})]})}function k1e({draft:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-5 rounded-lg border border-border",children:[e.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),"Campaign Details"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Campaign Name"}),e.jsx("div",{className:"font-medium mt-1",children:t.name||""})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Type"}),e.jsx("div",{className:"font-medium mt-1",children:t.type})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Owner"}),e.jsx("div",{className:"font-medium mt-1",children:t.owner||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Timezone"}),e.jsx("div",{className:"font-medium mt-1",children:t.timezone||"System default"})]})]}),t.description&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Description"}),e.jsx("div",{className:"mt-1 text-sm",children:t.description})]})]}),e.jsxs("div",{className:"p-5 rounded-lg border border-border",children:[e.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2",children:[e.jsx(Wn,{className:"w-4 h-4"}),"Schedule & Reviewers"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Mode"}),e.jsx("div",{className:"font-medium mt-1 capitalize",children:t.schedule.mode})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Due in"}),e.jsxs("div",{className:"font-medium mt-1",children:[t.schedule.dueDays||7," days"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Reviewer Model"}),e.jsx("div",{className:"font-medium mt-1",children:t.reviewers.model})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Delegation"}),e.jsx("div",{className:"font-medium mt-1",children:t.reviewers.allowDelegation?"Allowed":"Not allowed"})]})]})]}),e.jsxs("div",{className:"p-5 rounded-lg bg-indigo-50 dark:bg-indigo-950/20 border border-indigo-200 dark:border-indigo-800",children:[e.jsxs("h3",{className:"font-medium mb-4 text-indigo-900 dark:text-indigo-100 flex items-center gap-2",children:[e.jsx(Qt,{className:"w-4 h-4"}),"AI Features Enabled"]}),e.jsxs("div",{className:"space-y-2",children:[t.ai.highlightUnused90d&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-700 dark:text-indigo-300",children:[e.jsx(Xr,{className:"w-4 h-4"}),"Highlight unused access (90+ days)"]}),t.ai.highlightSoD&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-700 dark:text-indigo-300",children:[e.jsx(Xr,{className:"w-4 h-4"}),"Flag SoD conflicts"]}),t.ai.highlightPrivileged&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-700 dark:text-indigo-300",children:[e.jsx(Xr,{className:"w-4 h-4"}),"Highlight privileged access"]}),t.ai.autoApproveLowRisk&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-700 dark:text-indigo-300",children:[e.jsx(Xr,{className:"w-4 h-4"}),"Auto-approve low-risk items"]}),t.ai.collapseDuplicates&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-700 dark:text-indigo-300",children:[e.jsx(Xr,{className:"w-4 h-4"}),"Collapse duplicate items"]}),!t.ai.highlightUnused90d&&!t.ai.highlightSoD&&!t.ai.highlightPrivileged&&!t.ai.autoApproveLowRisk&&!t.ai.collapseDuplicates&&e.jsx("p",{className:"text-sm text-indigo-600 dark:text-indigo-400",children:"No AI features enabled"})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-200 dark:border-indigo-800",children:e.jsxs("div",{className:"text-sm text-indigo-700 dark:text-indigo-300",children:["Confidence threshold: ",Math.round((t.ai.confidence||.7)*100),"%"]})})]}),e.jsx("div",{className:"p-4 rounded-lg bg-slate-50 dark:bg-white/5 border border-border",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fr,{className:"w-5 h-5 text-info mt-0.5"}),e.jsx("div",{className:"flex-1 text-sm text-slate-600 dark:text-slate-400",children:"On launch, we'll create subjects and items from your scope, assign reviewers per your rules, schedule reminders, and enable AI hints per your settings. Reviewers will receive email notifications."})]})})]})}function C1e(t,r){return t==="Basics"?r.name.trim().length>0:!0}function A1e({label:t,value:r,trend:n,trendValue:s,active:a,onClick:i}){return e.jsxs("button",{onClick:i,className:`flex flex-col gap-1 p-4 rounded-xl border transition-all ${i?"hover:shadow-md hover:scale-[1.02] cursor-pointer":""} ${a?"border-primary bg-primary/5 shadow-sm":"border-border bg-background hover:border-primary/50"}`,children:[e.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:t}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-2xl font-semibold",children:r}),n&&s&&e.jsxs("div",{className:"flex items-center gap-0.5",children:[n==="up"?e.jsx(Sa,{className:"w-3 h-3 text-success"}):e.jsx(qd,{className:"w-3 h-3 text-danger"}),e.jsx("span",{className:`text-xs ${n==="up"?"text-success":"text-danger"}`,children:s})]})]})]})}function hN({title:t,subtitle:r,children:n,onExport:s,onFullscreen:a,className:i}){return e.jsxs(se,{className:i,children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsxs("div",{children:[e.jsx(Se,{className:"text-base font-semibold",children:t}),r&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r})]}),e.jsxs(ya,{children:[e.jsx(ba,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(w5,{className:"w-4 h-4"})})}),e.jsxs(ja,{align:"end",children:[a&&e.jsx(Ct,{onClick:a,children:"View Fullscreen"}),s&&e.jsx(Ct,{onClick:s,children:"Export Data"}),e.jsx(Ct,{children:"Add to Dashboard"})]})]})]}),e.jsx(je,{children:n})]})}function E1e({name:t,description:r,tags:n,owner:s,lastRun:a,scheduled:i,sparklineData:o,onRun:l,onEdit:d,onShare:u,onSchedule:f,onExport:m}){return e.jsxs(se,{className:"hover:shadow-md transition-shadow",children:[e.jsxs(Ne,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm mb-1 truncate",children:t}),r&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:r})]}),e.jsxs(ya,{children:[e.jsx(ba,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 -mt-1",children:e.jsx(w5,{className:"w-4 h-4"})})}),e.jsxs(ja,{align:"end",children:[l&&e.jsxs(Ct,{onClick:l,children:[e.jsx(ts,{className:"w-4 h-4 mr-2"}),"Run Now"]}),d&&e.jsxs(Ct,{onClick:d,children:[e.jsx(cR,{className:"w-4 h-4 mr-2"}),"Edit"]}),u&&e.jsxs(Ct,{onClick:u,children:[e.jsx(jJ,{className:"w-4 h-4 mr-2"}),"Share"]}),f&&e.jsxs(Ct,{onClick:f,children:[e.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Schedule"]}),m&&e.jsxs(Ct,{onClick:m,children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsx(Mi,{}),e.jsx(Ct,{className:"text-destructive",children:"Delete"})]})]})]}),n&&n.length>0&&e.jsx("div",{className:"flex items-center gap-1 flex-wrap mt-2",children:n.map((v,g)=>e.jsx(J,{variant:"secondary",className:"text-xs",children:v},g))})]}),e.jsxs(je,{className:"pt-0",children:[o&&o.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx(_1e,{data:o})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mn,{className:"w-5 h-5",children:e.jsx(Ln,{className:"text-[10px]",style:{background:"var(--primary)"},children:s.avatar})}),e.jsx("span",{children:s.name.split(" ")[0]})]}),i?e.jsxs(J,{variant:"outline",className:"gap-1",children:[e.jsx(sr,{className:"w-3 h-3"}),i]}):a?e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last run ",a]}):null]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsxs(L,{size:"sm",variant:"default",onClick:l,className:"flex-1",children:[e.jsx(ts,{className:"w-3 h-3 mr-1"}),"Run"]}),e.jsx(L,{size:"sm",variant:"outline",onClick:d,children:e.jsx(cR,{className:"w-3 h-3"})})]})]})]})}function _1e({data:t}){const r=Math.max(...t),n=Math.min(...t),s=r-n||1,a=100,i=24,o=2,l=t.map((d,u)=>{const f=o+u/(t.length-1)*(a-o*2),m=o+(i-o*2)-(d-n)/s*(i-o*2);return`${f},${m}`}).join(" ");return e.jsx("svg",{width:"100%",height:i,viewBox:`0 0 ${a} ${i}`,preserveAspectRatio:"none",className:"opacity-60",children:e.jsx("polyline",{points:l,fill:"none",stroke:"var(--primary)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",vectorEffect:"non-scaling-stroke"})})}const r3=[{label:"Access Requests",value:"1,247",trend:"up",trendValue:"+12%",filter:"requests"},{label:"Avg Approval SLA",value:"18h",trend:"down",trendValue:"-8%",filter:"sla"},{label:"Revokes",value:"89",trend:"up",trendValue:"+18%",filter:"revokes"},{label:"SoD Conflicts",value:"14",trend:"down",trendValue:"-3",filter:"sod"},{label:"Prov. Failures",value:"23",trend:"down",trendValue:"-12%",filter:"failures"},{label:"High-Risk IDs",value:"156",trend:"up",trendValue:"+5%",filter:"risk"},{label:"Dormant Accounts",value:"342",trend:"down",trendValue:"-22",filter:"dormant"},{label:"Reviewer Backlog",value:"67",trend:"down",trendValue:"-15%",filter:"backlog"}],R1e=[{date:"Jan",approved:420,rejected:45,provisioned:380},{date:"Feb",approved:380,rejected:52,provisioned:340},{date:"Mar",approved:450,rejected:48,provisioned:410},{date:"Apr",approved:520,rejected:41,provisioned:475},{date:"May",approved:490,rejected:38,provisioned:445},{date:"Jun",approved:560,rejected:44,provisioned:510}],T1e=[{dept:"Finance",revokes:34,keeps:156},{dept:"Engineering",revokes:28,keeps:289},{dept:"Sales",revokes:19,keeps:178},{dept:"Marketing",revokes:15,keeps:123},{dept:"Operations",revokes:12,keeps:145},{dept:"HR",revokes:9,keeps:98},{dept:"Legal",revokes:7,keeps:56},{dept:"IT",revokes:6,keeps:87}],P1e=[{stage:"Request",count:1247,percentage:100},{stage:"Approved",count:1089,percentage:87},{stage:"Provisioned",count:998,percentage:80},{stage:"First Login",count:876,percentage:70}],O1e=[{app:"AWS Production",highRisk:156,sod:12,failures:8,trend:[45,52,48,61,58,67,72]},{app:"Salesforce",highRisk:89,sod:5,failures:3,trend:[34,38,41,39,45,48,52]},{app:"Workday",highRisk:67,sod:8,failures:12,trend:[23,28,31,35,39,42,45]},{app:"GitHub Enterprise",highRisk:45,sod:2,failures:5,trend:[18,22,25,28,31,35,38]},{app:"QuickBooks",highRisk:34,sod:6,failures:2,trend:[12,15,18,21,24,28,31]}],I1e=[{resource:"AWS IAM Role: DataAnalyst",reason:"Permission boundary conflict",owner:"Michael Chen",age:"2h",status:"pending"},{resource:"Salesforce Profile: Sales Manager",reason:"License limit exceeded",owner:"Sarah Johnson",age:"5h",status:"retry"},{resource:"GitHub Team: platform-eng",reason:"API rate limit",owner:"Emily Davis",age:"1d",status:"failed"},{resource:"Workday Role: HR Partner",reason:"Security group not found",owner:"James Wilson",age:"3h",status:"pending"}],D1e=[{user:"Alice Cooper",app:"Salesforce",lastUsed:"127 days ago",risk:"High"},{user:"Bob Martinez",app:"AWS",lastUsed:"105 days ago",risk:"Critical"},{user:"Carol White",app:"GitHub",lastUsed:"98 days ago",risk:"Medium"},{user:"David Brown",app:"Workday",lastUsed:"92 days ago",risk:"High"}],M1e=[{id:"1",name:"Access Request Volume",description:"Time series analysis of access requests by application",tags:["Compliance","Monthly"],owner:{name:"Sarah Johnson",avatar:"SJ"},lastRun:"2 hours ago",sparklineData:[45,52,48,61,58,67,72]},{id:"2",name:"Approval SLA Dashboard",description:"SLA metrics by app and approver with breach alerts",tags:["Operations","Real-time"],owner:{name:"Michael Chen",avatar:"MC"},scheduled:"Daily 9AM",sparklineData:[34,38,41,39,45,48,52]},{id:"3",name:"Revocations Analysis",description:"Revocation trends by campaign and department",tags:["Compliance","Quarterly"],owner:{name:"Emily Davis",avatar:"ED"},lastRun:"1 day ago",sparklineData:[23,28,31,35,39,42,45]},{id:"4",name:"SoD Violations Report",description:"Segregation of Duties conflicts by policy and application",tags:["Security","Weekly"],owner:{name:"James Wilson",avatar:"JW"},scheduled:"Weekly Mon",sparklineData:[18,22,25,28,31,35,38]}];function L1e(){$r();const[t,r]=j.useState("overview"),[n,s]=j.useState([]),[a,i]=j.useState(""),[o,l]=j.useState("grid"),d=m=>{n.includes(m)?s(n.filter(v=>v!==m)):s([...n,m])},u=m=>{s(n.filter(v=>v!==m))},f=()=>{s([])};return e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"p-4 lg:p-6 max-w-[1600px] mx-auto w-full",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Reports & Analytics"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Generate compliance and audit insights"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Wn,{className:"w-4 h-4"}),"Schedule"]}),e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(xr,{className:"w-4 h-4"}),"Export PDF"]}),e.jsxs(L,{size:"sm",className:"gap-2",children:[e.jsx(At,{className:"w-4 h-4"}),"New Report"]})]})]}),e.jsxs(pn,{value:t,onValueChange:r,className:"w-full",children:[e.jsx("div",{className:"border-b sticky top-16 bg-background z-10 -mx-6 px-6 -mt-2 pt-2",children:e.jsxs(sn,{className:"h-auto p-0 bg-transparent border-0 gap-6",children:[e.jsx(Ie,{value:"overview",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3",children:"Overview"}),e.jsx(Ie,{value:"library",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3",children:"Library"}),e.jsx(Ie,{value:"builder",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3",children:"Builder"}),e.jsx(Ie,{value:"schedules",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3",children:"Schedules"}),e.jsx(Ie,{value:"exports",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3",children:"Exports"}),e.jsx(Ie,{value:"sources",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-0 pb-3",children:"Data Sources"})]})}),e.jsxs(De,{value:"overview",className:"mt-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-3",children:r3.map((m,v)=>e.jsx(A1e,{label:m.label,value:m.value,trend:m.trend,trendValue:m.trendValue,active:n.includes(m.filter),onClick:()=>d(m.filter)},v))}),n.length>0&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),n.map(m=>e.jsx(Cl,{label:r3.find(v=>v.filter===m)?.label||m,onRemove:()=>u(m)},m)),e.jsx(L,{variant:"ghost",size:"sm",onClick:f,className:"h-7 text-xs",children:"Clear all"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(hN,{title:"Request Lifecycle Trends",subtitle:"Approved, Rejected, and Provisioned (Last 6 months)",children:e.jsx(Po,{width:"100%",height:280,children:e.jsxs(Qxe,{data:R1e,children:[e.jsx(Oo,{strokeDasharray:"3 3",stroke:"var(--border)"}),e.jsx(Vs,{dataKey:"date",tick:{fontSize:12},stroke:"var(--muted-foreground)"}),e.jsx(Gs,{tick:{fontSize:12},stroke:"var(--muted-foreground)"}),e.jsx(Pn,{contentStyle:{backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px"}}),e.jsx(Co,{}),e.jsx(Ha,{type:"monotone",dataKey:"approved",stackId:"1",stroke:"var(--success)",fill:"var(--success)",fillOpacity:.6}),e.jsx(Ha,{type:"monotone",dataKey:"rejected",stackId:"1",stroke:"var(--danger)",fill:"var(--danger)",fillOpacity:.6}),e.jsx(Ha,{type:"monotone",dataKey:"provisioned",stackId:"1",stroke:"var(--primary)",fill:"var(--primary)",fillOpacity:.6})]})})}),e.jsx(hN,{title:"Revokes vs Keeps by Department",subtitle:"Top 8 departments (Current review cycle)",children:e.jsx(Po,{width:"100%",height:280,children:e.jsxs(mg,{data:T1e,layout:"vertical",children:[e.jsx(Oo,{strokeDasharray:"3 3",stroke:"var(--border)"}),e.jsx(Vs,{type:"number",tick:{fontSize:12},stroke:"var(--muted-foreground)"}),e.jsx(Gs,{dataKey:"dept",type:"category",tick:{fontSize:12},stroke:"var(--muted-foreground)",width:100}),e.jsx(Pn,{contentStyle:{backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px"}}),e.jsx(Co,{}),e.jsx(wa,{dataKey:"revokes",fill:"var(--danger)"}),e.jsx(wa,{dataKey:"keeps",fill:"var(--success)"})]})})}),e.jsx(hN,{title:"Request to First Login Funnel",subtitle:"Conversion rates at each stage",children:e.jsx("div",{className:"space-y-3 py-4",children:P1e.map((m,v)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:m.stage}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[m.count.toLocaleString()," (",m.percentage,"%)"]})]}),e.jsx("div",{className:"h-10 bg-accent rounded-lg overflow-hidden",children:e.jsxs("div",{className:"h-full bg-primary transition-all flex items-center justify-end pr-3 text-xs text-white font-medium",style:{width:`${m.percentage}%`},children:[m.percentage,"%"]})})]},v))})}),e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Se,{className:"text-base font-semibold",children:"AI Insights"}),e.jsx(Qt,{className:"w-4 h-4 text-primary"})]})}),e.jsxs(je,{className:"space-y-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-warning/10 border border-warning/20",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Sa,{className:"w-4 h-4 text-warning flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-foreground mb-1",children:"Revokes up 18% WoW"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Driven by Salesforce Admin Role cleanup campaign"}),e.jsx(L,{variant:"link",size:"sm",className:"h-auto p-0 mt-2 text-xs",children:"Show affected campaigns "})]})]})}),e.jsx("div",{className:"p-3 rounded-lg bg-danger/10 border border-danger/20",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(et,{className:"w-4 h-4 text-danger flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-foreground mb-1",children:"Provisioning failures spiked"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Workday connector experiencing issues (12 failures in 24h)"}),e.jsx(L,{variant:"link",size:"sm",className:"h-auto p-0 mt-2 text-xs",children:"Open failing connectors "})]})]})}),e.jsx("div",{className:"p-3 rounded-lg bg-success/10 border border-success/20",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(qd,{className:"w-4 h-4 text-success flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-foreground mb-1",children:"Approval SLA improved"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Average time reduced from 22h to 18h (8% improvement)"})]})]})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsx(Se,{className:"text-base font-semibold",children:"Top Risky Applications"})}),e.jsx(je,{children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{children:"Application"}),e.jsx(we,{children:"High-Risk Items"}),e.jsx(we,{children:"SoD Conflicts"}),e.jsx(we,{children:"Failed Prov."}),e.jsx(we,{children:"Trend"})]})}),e.jsx(kn,{children:O1e.map((m,v)=>e.jsxs(St,{children:[e.jsx(be,{className:"font-medium",children:m.app}),e.jsx(be,{children:m.highRisk}),e.jsx(be,{children:m.sod>0?e.jsx(J,{variant:"destructive",children:m.sod}):e.jsx("span",{className:"text-muted-foreground",children:""})}),e.jsx(be,{children:m.failures>0?e.jsx(J,{variant:"outline",children:m.failures}):e.jsx("span",{className:"text-muted-foreground",children:""})}),e.jsx(be,{children:e.jsx(z1e,{data:m.trend})})]},v))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsx(Se,{className:"text-base font-semibold",children:"Recent Provisioning Failures"})}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:I1e.map((m,v)=>e.jsxs("div",{className:"p-3 rounded-lg border bg-accent/50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:m.resource}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:m.reason})]}),e.jsx(J,{variant:m.status==="failed"?"destructive":"secondary",className:"ml-2",children:m.status})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:m.owner}),e.jsx("span",{children:m.age})]}),m.status!=="failed"&&e.jsxs(L,{variant:"outline",size:"sm",className:"w-full mt-2 h-7 text-xs",children:[e.jsx(Pm,{className:"w-3 h-3 mr-1"}),"Retry"]})]},v))})})]}),e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsx(Se,{className:"text-base font-semibold",children:"Dormant Account Candidates"})}),e.jsx(je,{children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{children:"User"}),e.jsx(we,{children:"Application"}),e.jsx(we,{children:"Last Used"}),e.jsx(we,{children:"Risk"}),e.jsx(we,{className:"w-12"})]})}),e.jsx(kn,{children:D1e.map((m,v)=>e.jsxs(St,{children:[e.jsx(be,{className:"font-medium",children:m.user}),e.jsx(be,{children:m.app}),e.jsx(be,{className:"text-xs text-muted-foreground",children:m.lastUsed}),e.jsx(be,{children:e.jsx(mr,{risk:m.risk,size:"sm"})}),e.jsx(be,{children:e.jsx(L,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",children:"Revoke"})})]},v))})]})})]})]})]})]}),e.jsxs(De,{value:"library",className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Lr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(pe,{placeholder:"Search reports...",value:a,onChange:m=>i(m.target.value),className:"pl-9"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(nv,{className:"w-4 h-4"}),"Filters"]}),e.jsxs("div",{className:"flex border rounded-lg p-0.5",children:[e.jsx(L,{variant:o==="grid"?"secondary":"ghost",size:"sm",className:"h-8 px-3",onClick:()=>l("grid"),children:e.jsx(g5,{className:"w-4 h-4"})}),e.jsx(L,{variant:o==="list"?"secondary":"ghost",size:"sm",className:"h-8 px-3",onClick:()=>l("list"),children:e.jsx(TK,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Report Templates"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:M1e.map(m=>e.jsx(E1e,{name:m.name,description:m.description,tags:m.tags,owner:m.owner,lastRun:m.lastRun,scheduled:m.scheduled,sparklineData:m.sparklineData,onRun:()=>Ae.success(`Running ${m.name}...`),onEdit:()=>Ae.info("Opening report builder..."),onShare:()=>Ae.info("Opening share dialog..."),onSchedule:()=>Ae.info("Opening schedule dialog..."),onExport:()=>Ae.success("Exporting report...")},m.id))})]})]}),e.jsx(De,{value:"builder",className:"mt-6",children:e.jsx(se,{children:e.jsx(je,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pi,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Report Builder"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No-code report builder with visual query interface"}),e.jsx(L,{children:"Start Building"})]})})})}),e.jsx(De,{value:"schedules",className:"mt-6",children:e.jsx(se,{children:e.jsx(je,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Wn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Scheduled Reports"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage automated report generation and delivery"}),e.jsx(L,{children:"Create Schedule"})]})})})}),e.jsx(De,{value:"exports",className:"mt-6",children:e.jsx(se,{children:e.jsx(je,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(xr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Export History"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"View and download previously generated reports"})]})})})}),e.jsx(De,{value:"sources",className:"mt-6",children:e.jsx(se,{children:e.jsx(je,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Fa,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Data Sources"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Monitor connector health and data freshness"}),e.jsx(L,{children:"View Connectors"})]})})})})]})]})})})}function z1e({data:t}){const r=Math.max(...t),n=Math.min(...t),s=r-n||1,a=60,i=20,o=t.map((d,u)=>{const f=u/(t.length-1)*a,m=i-(d-n)/s*i;return`${f},${m}`}).join(" "),l=t[t.length-1]>t[0];return e.jsx("svg",{width:a,height:i,className:"inline-block",children:e.jsx("polyline",{points:o,fill:"none",stroke:l?"var(--danger)":"var(--success)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function oh({title:t,description:r,children:n,actions:s}){return e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(Se,{className:"text-lg font-semibold",children:t}),r&&e.jsx(Be,{className:"mt-1",children:r})]}),s&&e.jsx("div",{className:"ml-4",children:s})]})}),e.jsx(je,{children:n})]})}function lh({user:t,timestamp:r,onViewAudit:n}){return e.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("span",{children:["Last changed by ",t]}),e.jsx("span",{children:""}),e.jsx("span",{children:r})]}),n&&e.jsxs(L,{variant:"ghost",size:"sm",onClick:n,className:"h-auto p-0 text-xs hover:text-foreground",children:[e.jsx(jK,{className:"w-3 h-3 mr-1"}),"View History"]})]})}function sW({open:t,onOpenChange:r,title:n,history:s}){return e.jsx(Og,{open:t,onOpenChange:r,children:e.jsxs(Ig,{className:"max-h-[90vh]",children:[e.jsxs(T2,{children:[e.jsxs(Dg,{children:[n," History"]}),e.jsx(Mg,{children:"View all changes with before and after values"})]}),e.jsx("div",{className:"px-6 py-4 overflow-y-auto",children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{children:"Time"}),e.jsx(we,{children:"Actor"}),e.jsx(we,{children:"Field"}),e.jsx(we,{children:"Change"})]})}),e.jsx(kn,{children:s.map((a,i)=>e.jsxs(St,{children:[e.jsx(be,{className:"text-xs text-muted-foreground whitespace-nowrap",children:a.timestamp}),e.jsx(be,{className:"font-medium text-sm",children:a.actor}),e.jsx(be,{className:"text-sm",children:a.field}),e.jsx(be,{children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("code",{className:"px-2 py-1 rounded bg-destructive/10 text-destructive",children:a.oldValue}),e.jsx(Dn,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("code",{className:"px-2 py-1 rounded bg-green-500/10 text-green-600 dark:text-green-400",children:a.newValue})]})})]},i))})]})})]})})}function $1e({steps:t,onChange:r}){const[n,s]=j.useState(null),a=()=>{r([...t,{id:`step-${Date.now()}`,name:"New Step",slaDays:2,escalationDays:3,requireJustification:!1,allowAttachment:!0,allowDelegate:!1}])},i=(d,u)=>{const f=[...t];f[d]={...f[d],...u},r(f)},o=d=>{r(t.filter((u,f)=>f!==d))},l=(d,u)=>{const f=[...t],m=u==="up"?d-1:d+1;[f[d],f[m]]=[f[m],f[d]],r(f)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto pb-2",children:[t.map((d,u)=>e.jsxs($.Fragment,{children:[e.jsxs("div",{className:`
                flex-shrink-0 p-3 rounded-lg border bg-card cursor-pointer transition-all
                ${n===d.id?"ring-2 ring-ring":"hover:border-primary/50"}
              `,onClick:()=>s(n===d.id?null:d.id),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium",children:d.name}),d.conditions&&d.conditions.length>0&&e.jsx(J,{variant:"secondary",className:"text-xs h-4 px-1",children:e.jsx(Ba,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["SLA: ",d.slaDays,"d  Escalate: ",d.escalationDays,"d"]})]}),u<t.length-1&&e.jsx(Dn,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"})]},d.id)),e.jsxs(L,{variant:"outline",size:"sm",onClick:a,className:"flex-shrink-0",children:[e.jsx(At,{className:"w-3 h-3 mr-1"}),"Add Step"]})]}),n&&e.jsx("div",{className:"p-4 rounded-lg border bg-card space-y-4",children:t.map((d,u)=>d.id!==n?null:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Configure Step"}),e.jsxs("div",{className:"flex items-center gap-2",children:[u>0&&e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>l(u,"up"),children:""}),u<t.length-1&&e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>l(u,"down"),children:""}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>o(u),children:e.jsx(Al,{className:"w-4 h-4 text-destructive"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"step-name",children:"Step Name"}),e.jsx(pe,{id:"step-name",value:d.name,onChange:f=>i(u,{name:f.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"sla-days",children:"SLA (days)"}),e.jsx(pe,{id:"sla-days",type:"number",value:d.slaDays,onChange:f=>i(u,{slaDays:parseInt(f.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"escalation-days",children:"Escalate after (days)"}),e.jsx(pe,{id:"escalation-days",type:"number",value:d.escalationDays,onChange:f=>i(u,{escalationDays:parseInt(f.target.value)})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Require Justification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"User must provide a reason"})]}),e.jsx(Pe,{checked:d.requireJustification,onCheckedChange:f=>i(u,{requireJustification:f})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Allow Attachments"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable file uploads"})]}),e.jsx(Pe,{checked:d.allowAttachment,onCheckedChange:f=>i(u,{allowAttachment:f})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Allow Delegation"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Approver can reassign"})]}),e.jsx(Pe,{checked:d.allowDelegate,onCheckedChange:f=>i(u,{allowDelegate:f})})]})]}),e.jsxs("div",{className:"pt-3 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(G,{className:"text-sm font-medium",children:"Conditional Branches"}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(At,{className:"w-3 h-3 mr-1"}),"Add Condition"]})]}),(!d.conditions||d.conditions.length===0)&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"No conditions. This step applies to all requests."})]})]},d.id))})]})}const mN=[{id:"admin",name:"Admin",type:"role"},{id:"auditor",name:"Auditor",type:"role"},{id:"developer",name:"Developer",type:"role"},{id:"finance-approve",name:"Finance Approver",type:"role"},{id:"finance-create",name:"Finance Creator",type:"role"}],n3=[{id:"user1",name:"John Doe",email:"john@acme.com"},{id:"user2",name:"Jane Smith",email:"jane@acme.com"}];function F1e({rule:t,onChange:r}){const[n,s]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState(!1),d=(b,x)=>{const y=b==="left"?"leftSet":"rightSet";t[y].includes(x)||r({...t,[y]:[...t[y],x]})},u=(b,x)=>{const y=b==="left"?"leftSet":"rightSet";r({...t,[y]:t[y].filter(A=>A!==x)})},f=b=>{t.exceptions.includes(b)||r({...t,exceptions:[...t.exceptions,b]})},m=b=>{r({...t,exceptions:t.exceptions.filter(x=>x!==b)})},v=b=>mN.find(y=>y.id===b)?.name||b,g=b=>n3.find(y=>y.id===b)?.name||b;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Rule Type"}),e.jsxs(Me,{value:t.type,onValueChange:b=>r({...t,type:b}),children:[e.jsx(ze,{children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"mutual-exclusion",children:"Mutual Exclusion (A vs B)"}),e.jsx(Z,{value:"conditional",children:"Conditional (IF A THEN NOT B)"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.type==="mutual-exclusion"?"Users cannot have roles/entitlements from both sets":"If user has items from left set, they cannot have items from right set"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(G,{className:"text-sm font-medium",children:t.type==="conditional"?"IF User Has":"Left Set"}),e.jsxs(Si,{open:n,onOpenChange:s,children:[e.jsx(ki,{asChild:!0,children:e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(At,{className:"w-3 h-3 mr-1"}),"Add"]})}),e.jsx(Ci,{className:"w-72 p-0",align:"end",children:e.jsxs(kh,{children:[e.jsx(Ch,{placeholder:"Search roles..."}),e.jsx(Ah,{children:"No results found."}),e.jsx(Eh,{children:mN.filter(b=>!t.leftSet.includes(b.id)).map(b=>e.jsxs(_h,{onSelect:()=>{d("left",b.id),s(!1)},children:[e.jsx(J,{variant:"secondary",className:"text-xs mr-2",children:b.type}),b.name]},b.id))})]})})]})]}),e.jsx("div",{className:"min-h-[100px] p-3 rounded-lg border bg-accent/30",children:t.leftSet.length===0?e.jsx("p",{className:"text-xs text-muted-foreground text-center py-6",children:"No items selected"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:t.leftSet.map(b=>e.jsxs(J,{variant:"secondary",className:"gap-2",children:[v(b),e.jsx("button",{onClick:()=>u("left",b),className:"hover:text-destructive transition-colors",children:e.jsx($t,{className:"w-3 h-3"})})]},b))})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(G,{className:"text-sm font-medium",children:t.type==="conditional"?"THEN Cannot Have":"Right Set"}),e.jsxs(Si,{open:a,onOpenChange:i,children:[e.jsx(ki,{asChild:!0,children:e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(At,{className:"w-3 h-3 mr-1"}),"Add"]})}),e.jsx(Ci,{className:"w-72 p-0",align:"end",children:e.jsxs(kh,{children:[e.jsx(Ch,{placeholder:"Search roles..."}),e.jsx(Ah,{children:"No results found."}),e.jsx(Eh,{children:mN.filter(b=>!t.rightSet.includes(b.id)).map(b=>e.jsxs(_h,{onSelect:()=>{d("right",b.id),i(!1)},children:[e.jsx(J,{variant:"secondary",className:"text-xs mr-2",children:b.type}),b.name]},b.id))})]})})]})]}),e.jsx("div",{className:"min-h-[100px] p-3 rounded-lg border bg-accent/30",children:t.rightSet.length===0?e.jsx("p",{className:"text-xs text-muted-foreground text-center py-6",children:"No items selected"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:t.rightSet.map(b=>e.jsxs(J,{variant:"secondary",className:"gap-2",children:[v(b),e.jsx("button",{onClick:()=>u("right",b),className:"hover:text-destructive transition-colors",children:e.jsx($t,{className:"w-3 h-3"})})]},b))})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Exceptions"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Users/groups exempt from this rule"})]}),e.jsxs(Si,{open:o,onOpenChange:l,children:[e.jsx(ki,{asChild:!0,children:e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(At,{className:"w-3 h-3 mr-1"}),"Add Exception"]})}),e.jsx(Ci,{className:"w-72 p-0",align:"end",children:e.jsxs(kh,{children:[e.jsx(Ch,{placeholder:"Search users..."}),e.jsx(Ah,{children:"No results found."}),e.jsx(Eh,{children:n3.filter(b=>!t.exceptions.includes(b.id)).map(b=>e.jsx(_h,{onSelect:()=>{f(b.id),l(!1)},children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:b.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:b.email})]})},b.id))})]})})]})]}),t.exceptions.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:t.exceptions.map(b=>e.jsxs(J,{variant:"outline",className:"gap-2",children:[g(b),e.jsx("button",{onClick:()=>m(b),className:"hover:text-destructive transition-colors",children:e.jsx($t,{className:"w-3 h-3"})})]},b))})]}),t.leftSet.length>0&&t.rightSet.length>0&&e.jsxs("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/20 flex items-start gap-2",children:[e.jsx(et,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:[e.jsx("p",{className:"font-medium mb-1",children:"Rule Preview"}),e.jsxs("p",{children:[t.type==="mutual-exclusion"?`Users cannot have both "${v(t.leftSet[0])}" and "${v(t.rightSet[0])}"`:`If user has "${v(t.leftSet[0])}", they cannot have "${v(t.rightSet[0])}"`,t.exceptions.length>0&&` (${t.exceptions.length} exceptions)`]})]})]})]})}function B1e({violations:t,totalUsers:r,onViewUser:n}){const s={high:{label:"High",variant:"destructive",color:"text-destructive"},medium:{label:"Medium",variant:"secondary",color:"text-yellow-600 dark:text-yellow-400"},low:{label:"Low",variant:"secondary",color:"text-blue-600 dark:text-blue-400"}};return t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 mx-auto flex items-center justify-center mb-4",children:e.jsx(cr,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Violations Found"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tested against ",r.toLocaleString()," users. This policy is currently compliant."]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(et,{className:"w-5 h-5 text-destructive"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold",children:[t.length," Violation",t.length!==1?"s":""," Detected"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Affecting ",t.length," of ",r.toLocaleString()," users"]})]})]})}),e.jsx(L,{variant:"outline",size:"sm",children:"Export CSV"})]}),e.jsx("div",{className:"rounded-lg border",children:e.jsxs(Nn,{children:[e.jsx(Sn,{children:e.jsxs(St,{children:[e.jsx(we,{children:"User"}),e.jsx(we,{children:"Conflicting Items"}),e.jsx(we,{children:"Applications"}),e.jsx(we,{children:"Severity"}),e.jsx(we,{className:"w-[100px]"})]})}),e.jsx(kn,{children:t.map((a,i)=>{const o=s[a.severity];return e.jsxs(St,{children:[e.jsx(be,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:a.userName}),e.jsx("div",{className:"text-xs text-muted-foreground",children:a.userEmail})]})}),e.jsx(be,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.conflictingItems.slice(0,2).map((l,d)=>e.jsx(J,{variant:"secondary",className:"text-xs",children:l},d)),a.conflictingItems.length>2&&e.jsxs(J,{variant:"secondary",className:"text-xs",children:["+",a.conflictingItems.length-2]})]})}),e.jsx(be,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.apps.slice(0,2).map((l,d)=>e.jsx(J,{variant:"outline",className:"text-xs",children:l},d)),a.apps.length>2&&e.jsxs(J,{variant:"outline",className:"text-xs",children:["+",a.apps.length-2]})]})}),e.jsx(be,{children:e.jsx(J,{variant:o.variant,className:"text-xs",children:o.label})}),e.jsx(be,{children:e.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>n?.(a.userId),className:"h-8",children:[e.jsx(td,{className:"w-3 h-3 mr-1"}),"View"]})})]},i)})})]})})]})}function W1e({results:t,onViewRole:r}){const n={pass:{icon:cr,color:"text-green-600 dark:text-green-400",bg:"bg-green-500/10",label:"Pass"},warn:{icon:et,color:"text-yellow-600 dark:text-yellow-400",bg:"bg-yellow-500/10",label:"Warning"},fail:{icon:Oh,color:"text-destructive",bg:"bg-destructive/10",label:"Fail"}},s=t.filter(o=>o.status==="pass").length,a=t.filter(o=>o.status==="warn").length,i=t.filter(o=>o.status==="fail").length;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(cr,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Pass"})]}),e.jsx("div",{className:"text-2xl font-semibold",children:s})]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(et,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Warning"})]}),e.jsx("div",{className:"text-2xl font-semibold",children:a})]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Oh,{className:"w-4 h-4 text-destructive"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Fail"})]}),e.jsx("div",{className:"text-2xl font-semibold",children:i})]})]}),e.jsx("div",{className:"space-y-2",children:t.map((o,l)=>{const d=n[o.status],u=d.icon;return e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border hover:border-primary/50 transition-colors group",children:[e.jsx("div",{className:`p-2 rounded ${d.bg} flex-shrink-0`,children:e.jsx(u,{className:`w-4 h-4 ${d.color}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium",children:o.roleName}),e.jsx(J,{variant:"secondary",className:"text-xs",children:d.label})]}),o.issues.length>0&&e.jsx("ul",{className:"space-y-1",children:o.issues.map((f,m)=>e.jsxs("li",{className:"text-xs text-muted-foreground flex items-start gap-1.5",children:[e.jsx("span",{className:"text-muted-foreground mt-0.5",children:""}),e.jsx("span",{children:f})]},m))})]}),r&&e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>r(o.roleName),className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Ka,{className:"w-4 h-4"})})]},l)})})]})}function U1e({weights:t,onChange:r}){const n=(a,i)=>{const o=[...t];o[a].value=i,r(o)},s=t.reduce((a,i)=>a+i.value,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50 border",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total Weight"}),e.jsxs(J,{variant:s===100?"default":"secondary",className:"font-mono",children:[s,"%"]})]}),e.jsx("div",{className:"space-y-5",children:t.map((a,i)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"text-sm font-medium",children:a.label}),e.jsx(Do,{children:e.jsxs(Ai,{children:[e.jsx(Ei,{asChild:!0,children:e.jsx("button",{className:"text-muted-foreground hover:text-foreground",children:e.jsx(wx,{className:"w-3 h-3"})})}),e.jsx(_i,{children:e.jsx("p",{className:"text-xs max-w-xs",children:a.description})})]})})]}),e.jsxs("span",{className:"text-sm font-medium font-mono min-w-[50px] text-right",children:[a.value,"%"]})]}),e.jsx(Dd,{value:[a.value],onValueChange:o=>n(i,o[0]),min:0,max:100,step:5,className:"flex-1"})]},i))}),s!==100&&e.jsxs("div",{className:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/20 text-xs text-yellow-600 dark:text-yellow-400",children:["Total weight should equal 100%. Current: ",s,"%"]})]})}function q1e({status:t,version:r,className:n}){return t==="draft"?e.jsxs(J,{variant:"secondary",className:`gap-1.5 ${n}`,children:[e.jsx(Pi,{className:"w-3 h-3"}),"Draft",r&&e.jsxs("span",{className:"font-mono",children:["v",r]})]}):e.jsxs(J,{variant:"default",className:`gap-1.5 ${n}`,children:[e.jsx(cr,{className:"w-3 h-3"}),"Published",r&&e.jsxs("span",{className:"font-mono",children:["v",r]})]})}const s3=[{id:"workflow",label:"Access Request Workflow",icon:Ba},{id:"sod",label:"Segregation of Duties",icon:bt},{id:"role-standards",label:"Role Standards",icon:vG},{id:"risk",label:"Risk Policy",icon:et},{id:"break-glass",label:"Emergency Access",icon:Sr},{id:"reviews",label:"Review Defaults",icon:sr},{id:"provisioning",label:"Provisioning Rules",icon:js}];function H1e(){const[t,r]=j.useState("workflow"),[n,s]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState(!1),[d,u]=j.useState(!1),[f,m]=j.useState(!1),[v,g]=j.useState([{id:"step-1",name:"Manager Approval",slaDays:2,escalationDays:3,requireJustification:!0,allowAttachment:!0,allowDelegate:!1},{id:"step-2",name:"App Owner",slaDays:3,escalationDays:5,requireJustification:!1,allowAttachment:!0,allowDelegate:!0},{id:"step-3",name:"Security Review",slaDays:1,escalationDays:2,requireJustification:!0,allowAttachment:!1,allowDelegate:!1}]),[b,x]=j.useState({name:"Finance Approval vs Creation",severity:"high",enforcement:"block",description:"Users cannot both approve and create financial transactions",status:"published",version:"2.1",rule:{type:"mutual-exclusion",leftSet:["finance-approve"],rightSet:["finance-create"],exceptions:[]}}),[y,A]=j.useState([{label:"SoD Violations",value:30,description:"Weight for segregation of duties conflicts"},{label:"Privileged Access",value:25,description:"Weight for administrative and privileged roles"},{label:"Unused Access (>90d)",value:20,description:"Weight for dormant entitlements"},{label:"Peer Outlier",value:15,description:"Weight for access deviating from peers"},{label:"Login Anomalies",value:10,description:"Weight for unusual login patterns"}]),[E,C]=j.useState("{dept}-{app}-{access}"),[w,k]=j.useState(!0),[S,R]=j.useState("quarterly"),T=[{roleName:"Engineering-GitHub-Admin",status:"pass",issues:[]},{roleName:"Finance-SAP-Approver",status:"pass",issues:[]},{roleName:"AdminRole",status:"fail",issues:["Does not match naming pattern","No owner assigned"]},{roleName:"Sales-Salesforce",status:"warn",issues:["Missing access level token"]}],O=[{userId:"user1",userName:"John Doe",userEmail:"john.doe@acme.com",conflictingItems:["Finance Approver","Finance Creator"],apps:["SAP","Workday"],severity:"high"},{userId:"user2",userName:"Jane Smith",userEmail:"jane.smith@acme.com",conflictingItems:["Admin","Auditor"],apps:["Azure AD"],severity:"medium"}],U=[{timestamp:"2 days ago",actor:"sarah.johnson@acme.com",field:"Enforcement",oldValue:"Detect only",newValue:"Block"},{timestamp:"1 week ago",actor:"michael.chen@acme.com",field:"Left Set",oldValue:"2 items",newValue:"3 items"}],D=()=>{const W=JSON.stringify({workflow:v,sod:b,riskWeights:y},null,2),V=new Blob([W],{type:"application/json"}),Q=URL.createObjectURL(V),H=document.createElement("a");H.href=Q,H.download="policies-export.json",H.click(),Ae.success("Policies exported successfully")},I=()=>{Ae.success("Policies imported successfully"),m(!1)},B=()=>{Ae.info("Testing policy against current data..."),setTimeout(()=>{Ae.success("Test complete. 2 violations found.")},1500)};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"sticky top-16 z-10 bg-background border-b",children:e.jsx("div",{className:"p-6 max-w-[1600px] mx-auto",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Policies"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure governance rules, workflows, and compliance policies"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[e.jsx(Oi,{className:"w-4 h-4 mr-1"}),"Import"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:D,children:[e.jsx(xr,{className:"w-4 h-4 mr-1"}),"Export"]}),e.jsxs(L,{size:"sm",onClick:()=>s(!0),children:[e.jsx(At,{className:"w-4 h-4 mr-1"}),"Create Policy"]})]})]})})}),e.jsx("div",{className:"p-6 max-w-[1600px] mx-auto w-full flex-1",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:e.jsx("nav",{className:"sticky top-32 space-y-1",children:s3.map(M=>{const W=M.icon;return e.jsxs("button",{onClick:()=>r(M.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${t===M.id?"bg-accent text-foreground font-medium":"text-muted-foreground hover:bg-accent/50 hover:text-foreground"}`,children:[e.jsx(W,{className:"w-4 h-4"}),M.label]},M.id)})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"lg:hidden border-b mb-6 -mx-4 px-4",children:e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-3 scrollbar-hide",children:s3.map(M=>{const W=M.icon;return e.jsxs("button",{onClick:()=>r(M.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm whitespace-nowrap transition-colors flex-shrink-0 ${t===M.id?"bg-accent text-foreground font-medium":"text-muted-foreground hover:bg-accent/50 hover:text-foreground"}`,children:[e.jsx(W,{className:"w-4 h-4"}),M.label]},M.id)})})}),e.jsxs("div",{className:"space-y-6",children:[t==="workflow"&&e.jsxs(oh,{title:"Access Request Workflow",description:"Configure approval steps, SLAs, and conditional routing",actions:e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>l(!0),children:[e.jsx(ir,{className:"w-3 h-3 mr-1"}),"Preview Path"]}),children:[e.jsx($1e,{steps:v,onChange:g}),e.jsx(lh,{user:"Sarah Johnson",timestamp:"2 days ago",onViewAudit:()=>u(!0)})]}),t==="sod"&&e.jsx(e.Fragment,{children:e.jsxs(oh,{title:"Segregation of Duties Policy",description:"Define conflicting roles and entitlements",actions:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q1e,{status:b.status,version:b.version}),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>i(!0),children:[e.jsx(ts,{className:"w-3 h-3 mr-1"}),"Test Policy"]})]}),children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"policy-name",children:"Policy Name"}),e.jsx(pe,{id:"policy-name",value:b.name,onChange:M=>x({...b,name:M.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"severity",children:"Severity"}),e.jsxs(Me,{value:b.severity,onValueChange:M=>x({...b,severity:M}),children:[e.jsx(ze,{id:"severity",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"critical",children:"Critical"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"low",children:"Low"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"enforcement",children:"Enforcement"}),e.jsxs(Me,{value:b.enforcement,onValueChange:M=>x({...b,enforcement:M}),children:[e.jsx(ze,{id:"enforcement",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"block",children:"Block (prevent)"}),e.jsx(Z,{value:"detect",children:"Detect only (warn)"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"description",children:"Description"}),e.jsx(mn,{id:"description",value:b.description,onChange:M=>x({...b,description:M.target.value}),rows:2})]}),e.jsx(F1e,{rule:b.rule,onChange:M=>x({...b,rule:M})})]}),e.jsx(lh,{user:"Michael Chen",timestamp:"5 hours ago",onViewAudit:()=>u(!0)})]})}),t==="role-standards"&&e.jsxs(oh,{title:"Role Standards",description:"Define naming conventions and governance requirements",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"naming-pattern",children:"Naming Pattern"}),e.jsx(pe,{id:"naming-pattern",value:E,onChange:M=>C(M.target.value),className:"font-mono"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Available tokens: ","{dept}",", ","{app}",", ","{access}",", ","{env}"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Owner Required"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All roles must have an assigned owner"})]}),e.jsx(Pe,{checked:w,onCheckedChange:k})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"review-cadence",children:"Default Review Cadence"}),e.jsxs(Me,{value:S,onValueChange:R,children:[e.jsx(ze,{id:"review-cadence",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"monthly",children:"Monthly"}),e.jsx(Z,{value:"quarterly",children:"Quarterly"}),e.jsx(Z,{value:"semiannual",children:"Semi-Annual"}),e.jsx(Z,{value:"annual",children:"Annual"})]})]})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Lint Preview"}),e.jsxs(J,{variant:"secondary",className:"text-xs",children:[T.length," roles scanned"]})]}),e.jsx(W1e,{results:T})]})]}),e.jsx(lh,{user:"Emily Davis",timestamp:"1 day ago",onViewAudit:()=>u(!0)})]}),t==="risk"&&e.jsxs(oh,{title:"Risk Scoring Policy",description:"Configure risk calculation weights and thresholds",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(U1e,{weights:y,onChange:A}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"text-sm font-semibold mb-4",children:"Risk Thresholds"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsx(J,{variant:"secondary",className:"mb-2",children:"Low"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"0-24 points"})]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsx(J,{variant:"secondary",className:"mb-2",children:"Medium"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"25-49 points"})]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsx(J,{variant:"secondary",className:"mb-2",children:"High"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"50-74 points"})]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsx(J,{variant:"destructive",className:"mb-2",children:"Critical"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"75-100 points"})]})]})]})]}),e.jsx(lh,{user:"Sarah Johnson",timestamp:"3 days ago",onViewAudit:()=>u(!0)})]}),t==="break-glass"&&e.jsxs(oh,{title:"Emergency Access (Break-Glass)",description:"Configure emergency access policies for critical situations",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-yellow-500/10 border border-yellow-500/20 flex items-start gap-2",children:[e.jsx(et,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:[e.jsx("p",{className:"font-medium mb-1",children:"High-Risk Configuration"}),e.jsx("p",{children:"Break-glass access bypasses normal approval workflows and should be audited carefully."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Time-Bound Default"}),e.jsxs(Me,{defaultValue:"4h",children:[e.jsx(ze,{children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"1h",children:"1 hour"}),e.jsx(Z,{value:"4h",children:"4 hours"}),e.jsx(Z,{value:"8h",children:"8 hours"}),e.jsx(Z,{value:"24h",children:"24 hours"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatic expiration for emergency access"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Require Ticket Number"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Must provide incident/change ticket"})]}),e.jsx(Pe,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Extra MFA Challenge"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Require additional authentication"})]}),e.jsx(Pe,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Auto-Review After Use"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Create review task after access ends"})]}),e.jsx(Pe,{defaultChecked:!0})]})]}),e.jsx(lh,{user:"Security Team",timestamp:"1 week ago",onViewAudit:()=>u(!0)})]})]})]})]})}),e.jsx(Zr,{open:a,onOpenChange:i,children:e.jsxs(Or,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Test SoD Policy"}),e.jsx(Mr,{children:"Run policy against current access data to identify violations"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6",children:e.jsx(B1e,{violations:O,totalUsers:1248})}),e.jsxs(yn,{className:"border-t pt-4",children:[e.jsx(L,{variant:"outline",onClick:()=>i(!1),children:"Close"}),e.jsx(L,{onClick:B,children:"Run Test"})]})]})}),e.jsx(Zr,{open:o,onOpenChange:l,children:e.jsxs(Or,{children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Preview Workflow Path"}),e.jsx(Mr,{children:"See how a request would flow through approval steps"})]}),e.jsx("div",{className:"py-4",children:e.jsx("div",{className:"space-y-3",children:v.map((M,W)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-medium flex-shrink-0",children:W+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium",children:M.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["SLA: ",M.slaDays,"d  Escalate after ",M.escalationDays,"d",M.requireJustification&&"  Justification required"]})]})]},M.id))})}),e.jsx(yn,{children:e.jsx(L,{onClick:()=>l(!1),children:"Close"})})]})}),e.jsx(Zr,{open:f,onOpenChange:m,children:e.jsxs(Or,{children:[e.jsxs(Ir,{children:[e.jsx(Dr,{children:"Import Policies"}),e.jsx(Mr,{children:"Upload a JSON file containing policy definitions"})]}),e.jsx("div",{className:"py-4",children:e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[e.jsx(x5,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-sm font-medium mb-1",children:"Drop JSON file here or click to browse"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum file size: 10MB"}),e.jsxs(L,{variant:"outline",size:"sm",className:"mt-4",children:[e.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Choose File"]})]})}),e.jsxs(yn,{children:[e.jsx(L,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(L,{onClick:I,children:"Import"})]})]})}),e.jsx(sW,{open:d,onOpenChange:u,title:"Policy Changes",history:U})]})}const fN=[{value:"department",label:"Department",icon:f5,type:"string",description:"User department or division",operators:["equals","notEquals","contains","startsWith","in","notIn"]},{value:"title",label:"Job Title",icon:zt,type:"string",description:"User job title or position",operators:["equals","notEquals","contains","startsWith","in","notIn"]},{value:"location",label:"Location",icon:FK,type:"string",description:"Office location or region",operators:["equals","notEquals","contains","startsWith","in","notIn"]},{value:"employmentType",label:"Employment Type",icon:zt,type:"enum",description:"Full-time, part-time, contractor, etc.",operators:["equals","notEquals","in","notIn"],values:["Full-time","Part-time","Contractor","Intern","Consultant"]},{value:"manager",label:"Manager",icon:zt,type:"string",description:"Direct manager or supervisor",operators:["equals","notEquals","contains","startsWith","in","notIn"]},{value:"costCenter",label:"Cost Center",icon:p5,type:"string",description:"Financial cost center code",operators:["equals","notEquals","contains","startsWith","in","notIn"]},{value:"tags",label:"Tags",icon:Ud,type:"array",description:"Custom user tags or labels",operators:["contains","notContains","containsAll","containsAny"]},{value:"startDate",label:"Start Date",icon:Wn,type:"date",description:"Employee start date",operators:["equals","notEquals","before","after","between"]},{value:"securityLevel",label:"Security Level",icon:bt,type:"enum",description:"Security clearance level",operators:["equals","notEquals","in","notIn"],values:["Public","Internal","Confidential","Secret","Top Secret"]},{value:"riskScore",label:"Risk Score",icon:fr,type:"number",description:"Calculated risk assessment score",operators:["equals","notEquals","greaterThan","lessThan","between"]}],V1e={equals:"equals",notEquals:"not equals",contains:"contains",notContains:"does not contain",startsWith:"starts with",endsWith:"ends with",in:"is in",notIn:"is not in",containsAll:"contains all",containsAny:"contains any",before:"is before",after:"is after",between:"is between",greaterThan:"is greater than",lessThan:"is less than",isEmpty:"is empty",isNotEmpty:"is not empty"};function G1e({conditions:t,onChange:r,mode:n="joiner",allowBranching:s=!0,allowGrouping:a=!0}){const[i,o]=j.useState(!1),[l,d]=j.useState(new Set),[u,f]=j.useState(!1),m=w=>{const k=fN.find(R=>R.value===w),S={id:`cond-${Date.now()}`,field:w,operator:k?.operators[0]||"equals",value:"",logicalOperator:"AND",negate:!1,caseSensitive:!1,description:k?.description};r([...t,S]),o(!1)},v=()=>{const w={id:`group-${Date.now()}`,field:"",operator:"",value:"",logicalOperator:"AND",isGroup:!0,children:[],description:"Condition group"};r([...t,w])},g=(w,k)=>{const S=t.map(R=>R.id===w?{...R,...k}:R);r(S)},b=w=>{r(t.filter(k=>k.id!==w))},x=w=>{const k=new Set(l);k.has(w)?k.delete(w):k.add(w),d(k)},y=w=>fN.find(k=>k.value===w),A=w=>V1e[w]||w,E=w=>{const k=y(w.field);return k?.type==="enum"&&k.values?e.jsxs(Me,{value:Array.isArray(w.value)?w.value[0]:w.value,onValueChange:S=>g(w.id,{value:S}),children:[e.jsx(ze,{className:"w-full",children:e.jsx(Le,{placeholder:"Select value..."})}),e.jsx($e,{children:k.values.map(S=>e.jsx(Z,{value:S,children:S},S))})]}):k?.type==="date"?e.jsx(pe,{type:"date",value:w.value,onChange:S=>g(w.id,{value:S.target.value}),className:"w-full"}):k?.type==="number"?e.jsx(pe,{type:"number",value:w.value,onChange:S=>g(w.id,{value:S.target.value}),placeholder:"Enter number...",className:"w-full"}):e.jsx(pe,{type:"text",value:Array.isArray(w.value)?w.value.join(", "):w.value,onChange:S=>g(w.id,{value:S.target.value}),placeholder:"Enter value...",className:"w-full"})},C=(w,k)=>{const S=y(w.field),R=S?.icon||ns;if(w.isGroup){const T=l.has(w.id);return e.jsxs(se,{className:"border-blue-200 bg-blue-50/30",children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>x(w.id),className:"p-1 hover:bg-blue-100 rounded transition-colors",children:T?e.jsx(Ga,{className:"w-4 h-4"}):e.jsx(Ka,{className:"w-4 h-4"})}),e.jsx(Ba,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-900",children:"Condition Group"}),e.jsxs(J,{variant:"outline",className:"text-xs",children:[w.children?.length||0," conditions"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Me,{value:w.logicalOperator,onValueChange:O=>g(w.id,{logicalOperator:O}),children:[e.jsx(ze,{className:"w-20 h-8",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"AND",children:"AND"}),e.jsx(Z,{value:"OR",children:"OR"})]})]}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>b(w.id),className:"text-red-600 hover:text-red-700",children:e.jsx($t,{className:"w-4 h-4"})})]})]})}),T&&e.jsx(je,{className:"pt-0",children:e.jsxs("div",{className:"space-y-3",children:[w.children?.map((O,U)=>e.jsx("div",{className:"ml-4",children:C(O)},O.id)),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>{const O={id:`cond-${Date.now()}`,field:"department",operator:"equals",value:"",logicalOperator:"AND"};g(w.id,{children:[...w.children||[],O]})},className:"ml-4",children:[e.jsx(At,{className:"w-3 h-3 mr-1"}),"Add Condition"]})]})})]},w.id)}return e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-card hover:border-primary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-muted-foreground"}),e.jsx(J,{variant:"secondary",className:"font-normal",children:S?.label||w.field})]}),e.jsxs(Me,{value:w.operator,onValueChange:T=>g(w.id,{operator:T}),children:[e.jsx(ze,{className:"w-32",children:e.jsx(Le,{})}),e.jsx($e,{children:(S?.operators||["equals"]).map(T=>e.jsx(Z,{value:T,children:A(T)},T))})]}),e.jsx("div",{className:"flex-1",children:E(w)}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>g(w.id,{negate:!w.negate}),className:w.negate?"text-red-600":"text-muted-foreground",children:w.negate?e.jsx(v5,{className:"w-4 h-4"}):e.jsx(ir,{className:"w-4 h-4"})}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>b(w.id),className:"text-red-600 hover:text-red-700",children:e.jsx($t,{className:"w-4 h-4"})})]})]},w.id)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Conditions"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Define when this rule applies. Use groups for complex logic."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>f(!u),children:[e.jsx(js,{className:"w-3 h-3 mr-1"}),u?"Simple":"Advanced"]}),e.jsxs(Si,{open:i,onOpenChange:o,children:[e.jsx(ki,{asChild:!0,children:e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(At,{className:"w-3 h-3 mr-1"}),"Add Condition"]})}),e.jsx(Ci,{className:"w-80 p-0",align:"end",children:e.jsxs(kh,{children:[e.jsx(Ch,{placeholder:"Search fields..."}),e.jsx(Ah,{children:"No field found."}),e.jsx(Eh,{children:fN.filter(w=>!t.find(k=>k.field===w.value)).map(w=>{const k=w.icon;return e.jsxs(_h,{onSelect:()=>m(w.value),children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:w.label}),e.jsx("div",{className:"text-xs text-muted-foreground",children:w.description})]})]},w.value)})})]})})]}),a&&e.jsxs(L,{variant:"outline",size:"sm",onClick:v,children:[e.jsx(Ba,{className:"w-3 h-3 mr-1"}),"Add Group"]})]})]}),t.length===0?e.jsxs("div",{className:"p-8 rounded-lg border border-dashed text-center",children:[e.jsx(Ud,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"No conditions set"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This rule will apply to all users"})]}):e.jsx("div",{className:"space-y-3",children:t.map((w,k)=>e.jsxs("div",{children:[k>0&&e.jsx("div",{className:"flex items-center justify-center py-2",children:e.jsxs(Me,{value:w.logicalOperator,onValueChange:S=>g(w.id,{logicalOperator:S}),children:[e.jsx(ze,{className:"w-20 h-8",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"AND",children:"AND"}),e.jsx(Z,{value:"OR",children:"OR"})]})]})}),C(w)]},w.id))}),u&&t.length>0&&e.jsxs(se,{children:[e.jsxs(Ne,{className:"pb-3",children:[e.jsx(Se,{className:"text-sm",children:"Advanced Options"}),e.jsx(Be,{className:"text-xs",children:"Fine-tune condition behavior and performance"})]}),e.jsx(je,{className:"pt-0",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Case Sensitivity"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{id:"case-sensitive"}),e.jsx(G,{htmlFor:"case-sensitive",className:"text-xs",children:"Case sensitive matching"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Performance"}),e.jsxs(Me,{defaultValue:"standard",children:[e.jsx(ze,{className:"h-8",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"standard",children:"Standard"}),e.jsx(Z,{value:"optimized",children:"Optimized"}),e.jsx(Z,{value:"cached",children:"Cached"})]})]})]})]})})]}),t.length>0&&e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(jn,{className:"w-3 h-3"}),e.jsx("span",{children:"All conditions must match (AND logic)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ba,{className:"w-3 h-3"}),e.jsx("span",{children:"Groups support nested logic"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Sr,{className:"w-3 h-3"}),e.jsx("span",{children:"Optimized for performance"})]})]})]})}const ch={joiner:[{value:"grantRole",label:"Grant Role",icon:bt,description:"Assign user to a role",category:"access",requiresTarget:!0,supportsDelay:!0},{value:"grantEntitlement",label:"Grant Entitlement",icon:bt,description:"Grant specific application access",category:"access",requiresTarget:!0,supportsDelay:!0},{value:"createAccount",label:"Create Account",icon:hn,description:"Create user account in target system",category:"provisioning",requiresTarget:!0,supportsDelay:!1},{value:"addToGroup",label:"Add to Group",icon:zt,description:"Add user to security or distribution group",category:"access",requiresTarget:!0,supportsDelay:!0},{value:"notify",label:"Send Notification",icon:yh,description:"Send email notification to stakeholders",category:"communication",requiresTarget:!1,supportsDelay:!0},{value:"scheduleAction",label:"Schedule Action",icon:Wn,description:"Schedule action for future execution",category:"automation",requiresTarget:!1,supportsDelay:!1}],mover:[{value:"grantRole",label:"Swap Role",icon:bt,description:"Replace existing role with new role",category:"access",requiresTarget:!0,supportsDelay:!0},{value:"removeRole",label:"Remove Role",icon:Al,description:"Remove user from specific role",category:"access",requiresTarget:!0,supportsDelay:!0},{value:"conditionalAction",label:"Conditional Action",icon:Ba,description:"Execute action based on conditions",category:"automation",requiresTarget:!1,supportsDelay:!0},{value:"notify",label:"Notify for Review",icon:yh,description:"Send notification for manual review",category:"communication",requiresTarget:!1,supportsDelay:!0}],leaver:[{value:"disableAccount",label:"Disable Account",icon:rd,description:"Disable user account immediately",category:"security",requiresTarget:!0,supportsDelay:!1},{value:"revokeAccess",label:"Revoke Access",icon:Al,description:"Remove all application access",category:"security",requiresTarget:!1,supportsDelay:!0},{value:"removeRole",label:"Remove Role",icon:bt,description:"Remove user from all roles",category:"access",requiresTarget:!0,supportsDelay:!0},{value:"rollbackAction",label:"Rollback Action",icon:Pm,description:"Rollback previous provisioning actions",category:"automation",requiresTarget:!1,supportsDelay:!0},{value:"notify",label:"Send Notification",icon:yh,description:"Notify stakeholders of offboarding",category:"communication",requiresTarget:!1,supportsDelay:!0}]},K1e=["Employee","Contractor","Manager","Admin","Executive","Developer","Analyst"],J1e=["Slack","GitHub","Salesforce","Workday","Office 365","AWS","Azure AD"],Y1e=["Engineering","Sales","All Staff","Managers","Executives","Contractors"],Z1e={low:{color:"text-gray-600",bg:"bg-gray-100",label:"Low"},medium:{color:"text-blue-600",bg:"bg-blue-100",label:"Medium"},high:{color:"text-orange-600",bg:"bg-orange-100",label:"High"},critical:{color:"text-red-600",bg:"bg-red-100",label:"Critical"}};function X1e({actions:t,onChange:r,mode:n,allowDependencies:s=!0,allowRollback:a=!0,allowScheduling:i=!0}){const[o,l]=j.useState(!1),[d,u]=j.useState(null),[f,m]=j.useState(!1),v=w=>{const k=ch[n].find(R=>R.value===w),S={id:`action-${Date.now()}`,type:w,target:"",params:{},dependencies:[],retryPolicy:{maxRetries:3,backoffMultiplier:2,timeout:30},delay:0,priority:"medium",description:k?.description,requiresApproval:!1,dryRun:!1};r([...t,S]),l(!1),u(S.id)},g=(w,k)=>{const S=t.map(R=>R.id===w?{...R,...k}:R);r(S)},b=w=>{r(t.filter(k=>k.id!==w))},x=w=>[...ch.joiner,...ch.mover,...ch.leaver].find(S=>S.value===w),y=w=>x(w)?.label||w,A=ch[n],E=w=>x(w.type)?.requiresTarget?w.type==="grantRole"||w.type==="removeRole"?e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs font-medium",children:"Role"}),e.jsxs(Me,{value:w.target,onValueChange:S=>g(w.id,{target:S}),children:[e.jsx(ze,{className:"h-8",children:e.jsx(Le,{placeholder:"Select role..."})}),e.jsx($e,{children:K1e.map(S=>e.jsx(Z,{value:S,children:S},S))})]})]}):w.type==="createAccount"||w.type==="grantEntitlement"?e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs font-medium",children:"Application"}),e.jsxs(Me,{value:w.target,onValueChange:S=>g(w.id,{target:S}),children:[e.jsx(ze,{className:"h-8",children:e.jsx(Le,{placeholder:"Select app..."})}),e.jsx($e,{children:J1e.map(S=>e.jsx(Z,{value:S,children:S},S))})]})]}):w.type==="addToGroup"?e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs font-medium",children:"Group"}),e.jsxs(Me,{value:w.target,onValueChange:S=>g(w.id,{target:S}),children:[e.jsx(ze,{className:"h-8",children:e.jsx(Le,{placeholder:"Select group..."})}),e.jsx($e,{children:Y1e.map(S=>e.jsx(Z,{value:S,children:S},S))})]})]}):w.type==="notify"?e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs font-medium",children:"Recipients"}),e.jsx(pe,{value:w.target||"",onChange:S=>g(w.id,{target:S.target.value}),placeholder:"manager, hr@acme.com",className:"h-8"})]}):null:null,C=(w,k)=>{const S=x(w.type),R=S?.icon||bt,T=Z1e[w.priority||"medium"];return e.jsxs(se,{className:"border-l-4 border-l-blue-500",children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center bg-accent font-medium text-sm",children:k+1}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-muted-foreground"}),e.jsx(Se,{className:"text-sm",children:y(w.type)}),e.jsx(J,{variant:"outline",className:`text-xs ${T.color} ${T.bg}`,children:T.label})]}),e.jsx(Be,{className:"text-xs mt-1",children:w.description||S?.description})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[w.requiresApproval&&e.jsx(J,{variant:"secondary",className:"text-xs",children:"Requires Approval"}),w.dryRun&&e.jsx(J,{variant:"outline",className:"text-xs",children:"Dry Run"}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>b(w.id),className:"text-red-600 hover:text-red-700",children:e.jsx($t,{className:"w-4 h-4"})})]})]})}),e.jsx(je,{className:"pt-0",children:e.jsxs("div",{className:"space-y-4",children:[E(w),S?.supportsDelay&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs font-medium",children:"Execution Delay (seconds)"}),e.jsx(pe,{type:"number",value:w.delay||0,onChange:O=>g(w.id,{delay:parseInt(O.target.value)||0}),placeholder:"0",className:"h-8"})]}),f&&e.jsxs(pn,{defaultValue:"basic",className:"w-full",children:[e.jsxs(sn,{className:"grid w-full grid-cols-3",children:[e.jsx(Ie,{value:"basic",className:"text-xs",children:"Basic"}),e.jsx(Ie,{value:"retry",className:"text-xs",children:"Retry"}),e.jsx(Ie,{value:"deps",className:"text-xs",children:"Dependencies"})]}),e.jsxs(De,{value:"basic",className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Priority"}),e.jsxs(Me,{value:w.priority,onValueChange:O=>g(w.id,{priority:O}),children:[e.jsx(ze,{className:"h-8",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"low",children:"Low"}),e.jsx(Z,{value:"medium",children:"Medium"}),e.jsx(Z,{value:"high",children:"High"}),e.jsx(Z,{value:"critical",children:"Critical"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Description"}),e.jsx(pe,{value:w.description||"",onChange:O=>g(w.id,{description:O.target.value}),placeholder:"Action description...",className:"h-8"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(G,{className:"text-xs",children:"Requires Approval"}),e.jsx(Pe,{checked:w.requiresApproval,onCheckedChange:O=>g(w.id,{requiresApproval:O})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(G,{className:"text-xs",children:"Dry Run Mode"}),e.jsx(Pe,{checked:w.dryRun,onCheckedChange:O=>g(w.id,{dryRun:O})})]})]})]}),e.jsx(De,{value:"retry",className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Max Retries"}),e.jsx(pe,{type:"number",value:w.retryPolicy?.maxRetries||3,onChange:O=>g(w.id,{retryPolicy:{...w.retryPolicy,maxRetries:parseInt(O.target.value)||3}}),className:"h-8"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Backoff Multiplier"}),e.jsx(pe,{type:"number",step:"0.1",value:w.retryPolicy?.backoffMultiplier||2,onChange:O=>g(w.id,{retryPolicy:{...w.retryPolicy,backoffMultiplier:parseFloat(O.target.value)||2}}),className:"h-8"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Timeout (seconds)"}),e.jsx(pe,{type:"number",value:w.retryPolicy?.timeout||30,onChange:O=>g(w.id,{retryPolicy:{...w.retryPolicy,timeout:parseInt(O.target.value)||30}}),className:"h-8"})]})]})}),e.jsx(De,{value:"deps",className:"space-y-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Dependencies"}),e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Actions that must complete before this one"}),e.jsx("div",{className:"space-y-1",children:t.filter(O=>O.id!==w.id).map(O=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zt,{id:`dep-${w.id}-${O.id}`,checked:w.dependencies?.includes(O.id)||!1,onCheckedChange:U=>{const D=w.dependencies||[],I=U?[...D,O.id]:D.filter(B=>B!==O.id);g(w.id,{dependencies:I})}}),e.jsxs(G,{htmlFor:`dep-${w.id}-${O.id}`,className:"text-xs",children:[y(O.type)," (",O.priority,")"]})]},O.id))})]})})]})]})})]},w.id)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Actions"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Define what happens when conditions are met. Actions execute in order."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>m(!f),children:[e.jsx(js,{className:"w-3 h-3 mr-1"}),f?"Simple":"Advanced"]}),o?e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:"Cancel"}):e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>l(!0),children:[e.jsx(At,{className:"w-3 h-3 mr-1"}),"Add Action"]})]})]}),o&&e.jsxs(se,{className:"border-blue-200 bg-blue-50/30",children:[e.jsxs(Ne,{className:"pb-3",children:[e.jsx(Se,{className:"text-sm",children:"Select Action Type"}),e.jsx(Be,{className:"text-xs",children:"Choose the action to add to your workflow"})]}),e.jsx(je,{className:"pt-0",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:A.map(w=>{const k=w.icon;return e.jsxs("button",{onClick:()=>v(w.value),className:"flex items-start gap-3 p-3 rounded-lg border bg-card hover:border-primary transition-colors text-left",children:[e.jsx(k,{className:"w-5 h-5 text-muted-foreground mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:w.label}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:w.description}),e.jsx(J,{variant:"outline",className:"text-xs mt-1",children:w.category})]})]},w.value)})})})]}),t.length===0?e.jsxs("div",{className:"p-8 rounded-lg border border-dashed text-center",children:[e.jsx(Ud,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"No actions configured"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Add actions to define what happens when conditions are met"})]}):e.jsx("div",{className:"space-y-3",children:t.map((w,k)=>e.jsxs("div",{children:[k>0&&e.jsx("div",{className:"flex items-center justify-center py-2",children:e.jsx(Dn,{className:"w-4 h-4 text-muted-foreground"})}),C(w,k)]},w.id))}),t.length>0&&e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(jn,{className:"w-3 h-3"}),e.jsx("span",{children:"Actions execute in sequence"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(va,{className:"w-3 h-3"}),e.jsx("span",{children:"Retry policies configured"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ba,{className:"w-3 h-3"}),e.jsx("span",{children:"Dependencies supported"})]})]})]})}const Q1e=[{value:"none",label:"None"},{value:"trim",label:"Trim whitespace"},{value:"toLower",label:"To lowercase"},{value:"toUpper",label:"To uppercase"},{value:"concat",label:"Concatenate"}];function eNe({mapping:t,onChange:r}){return e.jsxs("div",{className:`grid grid-cols-12 gap-3 p-3 rounded-lg border ${t.conflict?"border-destructive bg-destructive/5":"bg-card"}`,children:[e.jsx("div",{className:"col-span-3",children:e.jsx("input",{type:"text",value:t.sourceField,onChange:n=>r({...t,sourceField:n.target.value}),placeholder:"Source field",className:"w-full text-sm px-2 py-1.5 rounded border bg-background"})}),e.jsx("div",{className:"col-span-3",children:e.jsx("input",{type:"text",value:t.targetField,onChange:n=>r({...t,targetField:n.target.value}),placeholder:"Profile field",className:"w-full text-sm px-2 py-1.5 rounded border bg-background"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs(Me,{value:t.type,onValueChange:n=>r({...t,type:n}),children:[e.jsx(ze,{className:"h-8",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"string",children:"String"}),e.jsx(Z,{value:"email",children:"Email"}),e.jsx(Z,{value:"date",children:"Date"}),e.jsx(Z,{value:"number",children:"Number"}),e.jsx(Z,{value:"boolean",children:"Boolean"})]})]})}),e.jsx("div",{className:"col-span-2",children:e.jsxs(Me,{value:t.transform||"none",onValueChange:n=>r({...t,transform:n==="none"?void 0:n}),children:[e.jsx(ze,{className:"h-8",children:e.jsx(Le,{})}),e.jsx($e,{children:Q1e.map(n=>e.jsx(Z,{value:n.value,children:n.label},n.value))})]})}),e.jsx("div",{className:"col-span-2 flex items-center",children:t.conflict?e.jsxs(J,{variant:"destructive",className:"gap-1 text-xs",children:[e.jsx(et,{className:"w-3 h-3"}),"Conflict"]}):t.example&&e.jsx("code",{className:"text-xs text-muted-foreground truncate",children:t.example})})]})}function tNe({mappings:t,onChange:r}){const n=()=>{r([...t,{sourceField:"",targetField:"",type:"string",example:"john.doe"}])},s=(a,i)=>{const o=[...t];o[a]=i,r(o)};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-3 px-3 pb-2 border-b",children:[e.jsx("div",{className:"col-span-3 text-xs font-medium text-muted-foreground",children:"Source Field"}),e.jsx("div",{className:"col-span-3 text-xs font-medium text-muted-foreground",children:"Profile Field"}),e.jsx("div",{className:"col-span-2 text-xs font-medium text-muted-foreground",children:"Type"}),e.jsx("div",{className:"col-span-2 text-xs font-medium text-muted-foreground",children:"Transform"}),e.jsx("div",{className:"col-span-2 text-xs font-medium text-muted-foreground",children:"Preview"})]}),t.map((a,i)=>e.jsx(eNe,{mapping:a,onChange:o=>s(i,o)},i)),e.jsx("button",{onClick:n,className:"w-full py-2 rounded-lg border border-dashed hover:border-primary hover:bg-accent transition-colors text-sm text-muted-foreground",children:"+ Add Mapping"})]})}const a3=[{id:"scenario-1",name:"Standard Engineering Hire",description:"Typical software engineer onboarding",userProfile:{department:"Engineering",title:"Software Engineer",location:"San Francisco",employmentType:"Full-time",manager:"Jane Smith",costCenter:"ENG-001",tags:["engineering","developer"],startDate:"2024-01-15",securityLevel:"Internal",riskScore:25},expectedOutcome:"Standard engineering access granted",category:"standard"},{id:"scenario-2",name:"Executive Onboarding",description:"C-level executive with high privileges",userProfile:{department:"Executive",title:"Chief Technology Officer",location:"New York",employmentType:"Full-time",manager:"CEO",costCenter:"EXEC-001",tags:["executive","leadership"],startDate:"2024-01-15",securityLevel:"Confidential",riskScore:85},expectedOutcome:"Enhanced security access with approval workflow",category:"compliance"},{id:"scenario-3",name:"Contractor Access",description:"Temporary contractor with limited access",userProfile:{department:"Marketing",title:"Contractor",location:"Remote",employmentType:"Contractor",manager:"Marketing Director",costCenter:"MKT-001",tags:["contractor","temporary"],startDate:"2024-01-15",securityLevel:"Public",riskScore:15},expectedOutcome:"Limited access with auto-expiry",category:"edge-case"},{id:"scenario-4",name:"High-Risk User",description:"User with elevated risk score",userProfile:{department:"Finance",title:"Financial Analyst",location:"Chicago",employmentType:"Full-time",manager:"CFO",costCenter:"FIN-001",tags:["finance","sensitive"],startDate:"2024-01-15",securityLevel:"Confidential",riskScore:95},expectedOutcome:"Additional approval required",category:"compliance"}];function rNe({open:t,onOpenChange:r,mode:n}){const[s,a]=j.useState(""),[i,o]=j.useState({}),[l,d]=j.useState("single"),[u,f]=j.useState(!1),[m,v]=j.useState([]),[g,b]=j.useState("scenarios"),[x,y]=j.useState(0),A=j.useMemo(()=>a3.find(T=>T.id===s),[s]),E=async()=>{f(!0),y(0),v([]);const T=setInterval(()=>{y(O=>O>=100?(clearInterval(T),f(!1),C(),100):O+Math.random()*15)},200)},C=()=>{const T=[{id:"result-1",userId:"user-001",userName:"John Doe",department:A?.userProfile.department||"Engineering",title:A?.userProfile.title||"Software Engineer",matchedRules:["Engineering New Hires","Standard Onboarding"],actions:[{id:"action-1",type:"Grant Role",target:"Employee",status:"success",duration:120},{id:"action-2",type:"Create Account",target:"Slack",status:"success",duration:800},{id:"action-3",type:"Add to Group",target:"Engineering",status:"success",duration:300},{id:"action-4",type:"Send Notification",target:"manager@acme.com",status:"success",duration:150}],totalDuration:1370,status:"success",riskScore:A?.userProfile.riskScore||25,complianceIssues:[]},{id:"result-2",userId:"user-002",userName:"Jane Smith",department:"Sales",title:"Sales Manager",matchedRules:["Sales Team Onboarding"],actions:[{id:"action-5",type:"Grant Role",target:"Manager",status:"success",duration:200},{id:"action-6",type:"Create Account",target:"Salesforce",status:"failed",duration:5e3,error:"Connection timeout"},{id:"action-7",type:"Add to Group",target:"Sales",status:"success",duration:250}],totalDuration:5450,status:"partial",riskScore:45,complianceIssues:["Salesforce account creation failed"]}];v(T)},w=T=>{switch(T){case"success":return e.jsx(jn,{className:"w-4 h-4 text-green-600"});case"failed":return e.jsx(Cr,{className:"w-4 h-4 text-red-600"});case"partial":return e.jsx(fr,{className:"w-4 h-4 text-yellow-600"});default:return e.jsx(sr,{className:"w-4 h-4 text-gray-600"})}},k=T=>{switch(T){case"success":return"text-green-600 bg-green-100";case"failed":return"text-red-600 bg-red-100";case"partial":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},S=T=>{switch(T){case"standard":return e.jsx(jn,{className:"w-4 h-4"});case"edge-case":return e.jsx(et,{className:"w-4 h-4"});case"compliance":return e.jsx(bt,{className:"w-4 h-4"});case"performance":return e.jsx(Sr,{className:"w-4 h-4"});default:return e.jsx(Ud,{className:"w-4 h-4"})}},R=T=>{switch(T){case"standard":return"text-green-600 bg-green-100";case"edge-case":return"text-orange-600 bg-orange-100";case"compliance":return"text-blue-600 bg-blue-100";case"performance":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}};return e.jsx(Og,{open:t,onOpenChange:r,children:e.jsxs(Ig,{className:"max-h-[95vh]",children:[e.jsxs(T2,{children:[e.jsxs(Dg,{className:"flex items-center gap-2",children:[e.jsx(lR,{className:"w-5 h-5 text-blue-600"}),"Workflow Simulation & Testing"]}),e.jsxs(Mg,{children:["Test your ",n," workflows with realistic scenarios and validate outcomes"]})]}),e.jsx("div",{className:"px-6 py-4 flex-1 overflow-y-auto",children:e.jsxs(pn,{value:g,onValueChange:T=>b(T),className:"w-full",children:[e.jsxs(sn,{className:"grid w-full grid-cols-3",children:[e.jsx(Ie,{value:"scenarios",children:"Test Scenarios"}),e.jsx(Ie,{value:"custom",children:"Custom User"}),e.jsx(Ie,{value:"results",children:"Results"})]}),e.jsxs(De,{value:"scenarios",className:"space-y-6",children:[e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{className:"text-sm",children:"Pre-built Test Scenarios"}),e.jsx(Be,{className:"text-xs",children:"Choose from realistic scenarios to test your workflows"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:a3.map(T=>e.jsx("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${s===T.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>a(T.id),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-medium",children:T.name}),e.jsxs(J,{variant:"outline",className:`text-xs ${R(T.category)}`,children:[S(T.category),e.jsx("span",{className:"ml-1",children:T.category})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:T.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Department:"})," ",T.userProfile.department]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Title:"})," ",T.userProfile.title]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Location:"})," ",T.userProfile.location]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Risk Score:"})," ",T.userProfile.riskScore]})]})]}),e.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[e.jsx("div",{children:"Expected:"}),e.jsx("div",{className:"font-medium",children:T.expectedOutcome})]})]})},T.id))})})]}),e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsx(Se,{className:"text-sm",children:"Simulation Settings"})}),e.jsx(je,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Simulation Type"}),e.jsxs(Me,{value:l,onValueChange:T=>d(T),children:[e.jsx(ze,{className:"h-8",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"single",children:"Single User"}),e.jsx(Z,{value:"batch",children:"Batch Test"}),e.jsx(Z,{value:"stress",children:"Stress Test"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Test Mode"}),e.jsxs(Me,{defaultValue:"dry-run",children:[e.jsx(ze,{className:"h-8",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"dry-run",children:"Dry Run"}),e.jsx(Z,{value:"live",children:"Live Test"}),e.jsx(Z,{value:"sandbox",children:"Sandbox"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Timeout (seconds)"}),e.jsx(pe,{type:"number",defaultValue:"30",className:"h-8"})]})]})})]})]}),e.jsx(De,{value:"custom",className:"space-y-6",children:e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{className:"text-sm",children:"Custom User Profile"}),e.jsx(Be,{className:"text-xs",children:"Create a custom user profile for testing"})]}),e.jsx(je,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Department"}),e.jsx(pe,{value:i.department||"",onChange:T=>o({...i,department:T.target.value}),placeholder:"Engineering",className:"h-8"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Job Title"}),e.jsx(pe,{value:i.title||"",onChange:T=>o({...i,title:T.target.value}),placeholder:"Software Engineer",className:"h-8"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Location"}),e.jsx(pe,{value:i.location||"",onChange:T=>o({...i,location:T.target.value}),placeholder:"San Francisco",className:"h-8"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Employment Type"}),e.jsxs(Me,{value:i.employmentType||"",onValueChange:T=>o({...i,employmentType:T}),children:[e.jsx(ze,{className:"h-8",children:e.jsx(Le,{placeholder:"Select type..."})}),e.jsxs($e,{children:[e.jsx(Z,{value:"Full-time",children:"Full-time"}),e.jsx(Z,{value:"Part-time",children:"Part-time"}),e.jsx(Z,{value:"Contractor",children:"Contractor"}),e.jsx(Z,{value:"Intern",children:"Intern"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Manager"}),e.jsx(pe,{value:i.manager||"",onChange:T=>o({...i,manager:T.target.value}),placeholder:"Jane Smith",className:"h-8"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-xs",children:"Risk Score"}),e.jsx(pe,{type:"number",value:i.riskScore||0,onChange:T=>o({...i,riskScore:parseInt(T.target.value)||0}),placeholder:"25",className:"h-8"})]})]})})]})}),e.jsxs(De,{value:"results",className:"space-y-6",children:[u&&e.jsx(se,{children:e.jsx(je,{className:"pt-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Running Simulation..."}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(x),"%"]})]}),e.jsx(Nr,{value:x,className:"h-2"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Testing ",A?.name||"custom scenario","..."]})]})})}),m.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Simulation Results"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(xr,{className:"w-4 h-4 mr-1"}),"Export"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:E,children:[e.jsx(va,{className:"w-4 h-4 mr-1"}),"Re-run"]})]})]}),m.map(T=>e.jsxs(se,{children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[w(T.status),e.jsxs("div",{children:[e.jsx(Se,{className:"text-sm",children:T.userName}),e.jsxs(Be,{className:"text-xs",children:[T.department,"  ",T.title]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${k(T.status)}`,children:T.status}),e.jsxs(J,{variant:"secondary",className:"text-xs",children:[T.totalDuration,"ms"]})]})]})}),e.jsx(je,{className:"pt-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-xs font-medium",children:"Matched Rules"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:T.matchedRules.map(O=>e.jsx(J,{variant:"outline",className:"text-xs",children:O},O))})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-xs font-medium",children:"Actions Executed"}),e.jsx("div",{className:"space-y-2 mt-2",children:T.actions.map(O=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[w(O.status),e.jsx("span",{className:"text-sm",children:O.type}),e.jsx("span",{className:"text-xs text-muted-foreground",children:O.target})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[O.duration,"ms"]}),e.jsx(J,{variant:"outline",className:`text-xs ${k(O.status)}`,children:O.status})]})]},O.id))})]}),T.complianceIssues.length>0&&e.jsxs(gs,{children:[e.jsx(et,{className:"h-4 w-4"}),e.jsxs(ys,{children:[e.jsx("strong",{children:"Compliance Issues:"}),e.jsx("ul",{className:"mt-1 list-disc list-inside",children:T.complianceIssues.map(O=>e.jsx("li",{className:"text-sm",children:O},O))})]})]})]})})]},T.id))]}),!u&&m.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(lR,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Results Yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Run a simulation to see detailed results and performance metrics"})]})]})]})}),e.jsx(zB,{className:"border-t",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),"Settings"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(ir,{className:"w-4 h-4 mr-1"}),"Preview"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{variant:"outline",onClick:()=>r(!1),children:"Close"}),e.jsx(L,{onClick:E,disabled:u||!s&&Object.keys(i).length===0,children:u?e.jsxs(e.Fragment,{children:[e.jsx(eJ,{className:"w-4 h-4 mr-1"}),"Running..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ts,{className:"w-4 h-4 mr-1"}),"Run Simulation"]})})]})]})})]})})}const i3=[{id:"overview",label:"Dashboard",icon:zk,description:"Overview and key metrics",badge:"Live"},{id:"joiner",label:"Joiner",icon:hn,description:"New hire onboarding",badge:"12 rules"},{id:"mover",label:"Mover",icon:yi,description:"Role and access changes",badge:"8 rules"},{id:"leaver",label:"Leaver",icon:ko,description:"Offboarding workflows",badge:"5 rules"},{id:"settings",label:"Settings",icon:js,description:"Configuration and monitoring"}];function nNe(){const[t,r]=j.useState("overview"),[n,s]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState(!1),[d,u]=j.useState(null),[f,m]=j.useState(null),[v,g]=j.useState("grid"),b=j.useMemo(()=>({totalWorkflows:25,activeRules:18,executionsToday:47,successRate:94.2,avgExecutionTime:"2.3s",complianceScore:98.5,criticalAlerts:2,pendingApprovals:7,orphanAccounts:12,lastSync:"2 minutes ago",nextScheduledRun:"in 4 hours"}),[]);j.useMemo(()=>({joiner:{executions:23,success:22,avgTime:"1.8s",errors:1},mover:{executions:15,success:14,avgTime:"3.2s",errors:1},leaver:{executions:9,success:9,avgTime:"4.1s",errors:0}}),[]);const[x,y]=j.useState([{sourceField:"email",targetField:"primaryEmail",type:"email",transform:"toLower",example:"john.doe@acme.com"},{sourceField:"employeeId",targetField:"employeeNumber",type:"string",example:"EMP-12345",conflict:!0},{sourceField:"displayName",targetField:"fullName",type:"string",transform:"trim",example:"John Doe"}]),[A,E]=j.useState([{id:"rule-1",name:"Engineering New Hires",description:"Comprehensive onboarding for engineering department with security clearance",priority:1,status:"published",conditions:3,actions:8,lastExecuted:"2 hours ago",executionCount:47,successRate:95.7,avgExecutionTime:"1.8s",requiresApproval:!1,riskLevel:"low",tags:["engineering","security","high-priority"]},{id:"rule-2",name:"Sales Team Onboarding",description:"CRM access provisioning with territory assignment",priority:2,status:"published",conditions:2,actions:5,lastExecuted:"1 hour ago",executionCount:23,successRate:91.3,avgExecutionTime:"2.1s",requiresApproval:!0,riskLevel:"medium",tags:["sales","crm","territory"]},{id:"rule-3",name:"Executive Onboarding",description:"Privileged access for C-level executives with enhanced security",priority:1,status:"test",conditions:1,actions:12,lastExecuted:"never",executionCount:0,successRate:0,avgExecutionTime:"0s",requiresApproval:!0,riskLevel:"high",tags:["executive","privileged","security"]}]),[C,w]=j.useState([{id:"rule-4",name:"Manager Promotion Workflow",description:"Automated role elevation with approval workflow and SoD checks",priority:1,status:"published",conditions:2,actions:6,lastExecuted:"30 minutes ago",executionCount:12,successRate:100,avgExecutionTime:"3.2s",requiresApproval:!0,riskLevel:"medium",tags:["promotion","manager","sod"]},{id:"rule-5",name:"Department Transfer",description:"Cross-departmental access changes with cleanup",priority:2,status:"published",conditions:3,actions:4,lastExecuted:"1 hour ago",executionCount:8,successRate:87.5,avgExecutionTime:"2.8s",requiresApproval:!1,riskLevel:"low",tags:["transfer","department","cleanup"]}]),[k,S]=j.useState([{id:"rule-6",name:"Standard Offboarding",description:"Phased deprovisioning with compliance checks and data retention",priority:1,status:"published",conditions:0,actions:9,lastExecuted:"45 minutes ago",executionCount:15,successRate:93.3,avgExecutionTime:"4.1s",requiresApproval:!1,riskLevel:"low",tags:["offboarding","compliance","phased"]},{id:"rule-7",name:"Emergency Termination",description:"Immediate access revocation for security incidents",priority:1,status:"published",conditions:1,actions:7,lastExecuted:"never",executionCount:0,successRate:0,avgExecutionTime:"0s",requiresApproval:!0,riskLevel:"high",tags:["emergency","security","immediate"]}]),[R,T]=j.useState({name:"",description:"",type:"joiner",conditions:[],actions:[],effectiveDelay:0,requiresApproval:!1,dryRun:!0}),O=[{timestamp:"2 days ago",actor:"sarah.johnson@acme.com",field:"Joiner Rule - Engineering",oldValue:"3 actions",newValue:"4 actions"}],U=()=>{Ae.success("Rule saved successfully"),s(!1),T({name:"",description:"",type:"joiner",conditions:[],actions:[],effectiveDelay:0,requiresApproval:!1,dryRun:!0})};return e.jsxs("div",{className:"flex flex-col h-full bg-background",children:[e.jsx("div",{className:"sticky top-16 z-10 bg-background border-b",children:e.jsx("div",{className:"p-6 max-w-[1800px] mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Lifecycle Automation"}),e.jsxs(J,{variant:"secondary",className:"bg-green-100 text-green-800",children:[e.jsx(Ss,{className:"w-3 h-3 mr-1"}),"Live"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Identity lifecycle management with automated workflows"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[b.successRate,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Success Rate"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.executionsToday}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Today"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>i(!0),children:[e.jsx(ts,{className:"w-4 h-4 mr-1"}),"Test"]}),e.jsxs(L,{size:"sm",onClick:()=>s(!0),children:[e.jsx(At,{className:"w-4 h-4 mr-1"}),"New Rule"]})]})]})})}),e.jsx("div",{className:"p-6 max-w-[1800px] mx-auto w-full flex-1",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("aside",{className:"hidden lg:block w-72 flex-shrink-0",children:e.jsx("nav",{className:"sticky top-32 space-y-1",children:i3.map(D=>{const I=D.icon,B=t===D.id;return e.jsxs("button",{onClick:()=>r(D.id),className:`w-full flex items-start gap-3 px-4 py-3 rounded-lg text-sm transition-all duration-200 ${B?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-accent hover:text-foreground"}`,children:[e.jsx(I,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:D.label}),D.badge&&e.jsx(J,{variant:B?"secondary":"outline",className:"text-xs",children:D.badge})]}),e.jsx("p",{className:"text-xs mt-1 opacity-75",children:D.description})]})]},D.id)})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"lg:hidden border-b mb-6 -mx-4 px-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-3 scrollbar-hide",children:i3.map(D=>{const I=D.icon;return e.jsxs("button",{onClick:()=>r(D.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm whitespace-nowrap transition-colors flex-shrink-0 ${t===D.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground"}`,children:[e.jsx(I,{className:"w-4 h-4"}),D.label]},D.id)})})}),e.jsxs("div",{className:"space-y-6",children:[t==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(se,{children:[e.jsx(Ne,{className:"pb-2",children:e.jsx(Se,{className:"text-sm font-medium",children:"Total Rules"})}),e.jsxs(je,{children:[e.jsx("div",{className:"text-2xl font-bold",children:b.activeRules}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[A.length," Joiner  ",C.length," Mover  ",k.length," Leaver"]})]})]}),e.jsxs(se,{children:[e.jsx(Ne,{className:"pb-2",children:e.jsx(Se,{className:"text-sm font-medium",children:"Success Rate"})}),e.jsxs(je,{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[b.successRate,"%"]}),e.jsx(Nr,{value:b.successRate,className:"mt-2"})]})]}),e.jsxs(se,{children:[e.jsx(Ne,{className:"pb-2",children:e.jsx(Se,{className:"text-sm font-medium",children:"Executions Today"})}),e.jsxs(je,{children:[e.jsx("div",{className:"text-2xl font-bold",children:b.executionsToday}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg time: ",b.avgExecutionTime]})]})]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Quick Actions"}),e.jsx(Be,{children:"Common lifecycle management tasks"})]}),e.jsx(je,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(L,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>r("joiner"),children:[e.jsx(hn,{className:"w-6 h-6"}),e.jsx("span",{children:"Manage Joiner Rules"})]}),e.jsxs(L,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>r("mover"),children:[e.jsx(yi,{className:"w-6 h-6"}),e.jsx("span",{children:"Manage Mover Rules"})]}),e.jsxs(L,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>r("leaver"),children:[e.jsx(ko,{className:"w-6 h-6"}),e.jsx("span",{children:"Manage Leaver Rules"})]})]})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Recent Activity"}),e.jsx(Be,{children:"Latest workflow executions"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:[{type:"joiner",user:"Sarah Chen",action:"Engineering onboarding",time:"2 min ago",status:"success"},{type:"mover",user:"Mike Johnson",action:"Manager promotion",time:"15 min ago",status:"success"},{type:"leaver",user:"Alex Rivera",action:"Standard offboarding",time:"45 min ago",status:"success"},{type:"joiner",user:"Emma Wilson",action:"Sales onboarding",time:"1 hour ago",status:"pending"}].map((D,I)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${D.status==="success"?"bg-green-500":D.status==="pending"?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:D.user}),e.jsx("div",{className:"text-sm text-muted-foreground",children:D.action})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:D.time})]},I))})})]})]}),t==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Data Sources & Mapping"}),e.jsx(Be,{children:"Configure HR systems and attribute mappings"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"HR Source Precedence"}),e.jsx("div",{className:"space-y-2",children:["Workday","Azure AD","Google Workspace"].map((D,I)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded border bg-card",children:[e.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center bg-accent font-medium text-xs",children:I+1}),e.jsx("span",{className:"text-sm",children:D}),e.jsxs(J,{variant:"secondary",className:"ml-auto text-xs",children:["Priority ",I+1]})]},D))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Attribute Mappings"}),e.jsx(tNe,{mappings:x,onChange:y})]})]})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Monitoring & Alerts"}),e.jsx(Be,{children:"System health and alerting configuration"})]}),e.jsx(je,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"System Health"}),e.jsx(J,{variant:"secondary",children:"98.5%"})]}),e.jsx(Nr,{value:98.5,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Active Alerts"}),e.jsx(J,{variant:"destructive",children:"2"})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Require attention"})]})]})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Compliance & Risk"}),e.jsx(Be,{children:"SoD controls and risk management"})]}),e.jsx(je,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 rounded border bg-card",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:"98.5%"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Compliance Score"})]}),e.jsxs("div",{className:"text-center p-3 rounded border bg-card",children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:"3"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"SoD Violations"})]}),e.jsxs("div",{className:"text-center p-3 rounded border bg-card",children:[e.jsx("div",{className:"text-lg font-bold text-yellow-600",children:"7"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Active Exceptions"})]})]})})]})]}),t==="joiner"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(hn,{className:"w-5 h-5 text-blue-600"}),"Joiner Automation Dashboard"]}),e.jsx(Be,{children:"Birthright access provisioning and onboarding workflows"})]}),e.jsxs(je,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 rounded-lg bg-blue-50 border border-blue-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A.length}),e.jsx("div",{className:"text-sm text-blue-800",children:"Active Rules"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-green-50 border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"23"}),e.jsx("div",{className:"text-sm text-green-800",children:"Executions Today"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-purple-50 border border-purple-200",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"95.7%"}),e.jsx("div",{className:"text-sm text-purple-800",children:"Success Rate"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-orange-50 border border-orange-200",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"1.8s"}),e.jsx("div",{className:"text-sm text-orange-800",children:"Avg Time"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(ns,{className:"w-4 h-4 mr-1"}),"Filter"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(Ud,{className:"w-4 h-4 mr-1"}),"Templates"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>i(!0),children:[e.jsx(ts,{className:"w-4 h-4 mr-1"}),"Test Rules"]}),e.jsxs(L,{size:"sm",onClick:()=>s(!0),children:[e.jsx(At,{className:"w-4 h-4 mr-1"}),"Create Rule"]})]})]})]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Onboarding Rules"}),e.jsx(Be,{children:"Rules are evaluated top-down. First matching rule wins."})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:A.map((D,I)=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card hover:border-primary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center bg-accent font-medium text-sm",children:I+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:D.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:D.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:D.status==="published"?"default":"secondary",children:D.status}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ma,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[D.conditions," conditions"]}),e.jsxs("span",{children:[D.actions," actions"]}),e.jsxs("span",{children:[D.executionCount," runs"]}),e.jsxs("span",{className:"text-green-600",children:[D.successRate,"% success"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(bs,{className:"w-4 h-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(fa,{className:"w-4 h-4"})})]})]})]},D.id))})})]})]}),t==="mover"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(yi,{className:"w-5 h-5 text-orange-600"}),"Mover Automation"]}),e.jsx(Be,{children:"Role changes, promotions, and access modifications"})]}),e.jsx(je,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 rounded border bg-card",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:C.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Active Rules"})]}),e.jsxs("div",{className:"text-center p-3 rounded border bg-card",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:"15"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Executions Today"})]}),e.jsxs("div",{className:"text-center p-3 rounded border bg-card",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:"93.3%"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Success Rate"})]})]})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Mover Rules"}),e.jsx(Be,{children:"Automated workflows for role and access changes"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:C.map((D,I)=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card hover:border-primary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center bg-accent font-medium text-sm",children:I+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:D.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:D.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:D.status==="published"?"default":"secondary",children:D.status}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ma,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[D.conditions," conditions"]}),e.jsxs("span",{children:[D.actions," actions"]}),e.jsxs("span",{children:[D.executionCount," runs"]}),e.jsxs("span",{className:"text-green-600",children:[D.successRate,"% success"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(bs,{className:"w-4 h-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(fa,{className:"w-4 h-4"})})]})]})]},D.id))})})]})]}),t==="leaver"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(ko,{className:"w-5 h-5 text-red-600"}),"Leaver Automation"]}),e.jsx(Be,{children:"Automated offboarding with phased deprovisioning"})]}),e.jsx(je,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 rounded border bg-card",children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:k.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Active Rules"})]}),e.jsxs("div",{className:"text-center p-3 rounded border bg-card",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:"9"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Executions Today"})]}),e.jsxs("div",{className:"text-center p-3 rounded border bg-card",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:"100%"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Success Rate"})]})]})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Leaver Rules"}),e.jsx(Be,{children:"Automated workflows for offboarding and access revocation"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:k.map((D,I)=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card hover:border-primary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center bg-accent font-medium text-sm",children:I+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:D.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:D.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:D.status==="published"?"default":"secondary",children:D.status}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ma,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[D.conditions," conditions"]}),e.jsxs("span",{children:[D.actions," actions"]}),e.jsxs("span",{children:[D.executionCount," runs"]}),e.jsxs("span",{className:"text-green-600",children:[D.successRate,"% success"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(bs,{className:"w-4 h-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(fa,{className:"w-4 h-4"})})]})]})]},D.id))})})]})]})]})]})]})}),e.jsx(Og,{open:n,onOpenChange:s,children:e.jsxs(Ig,{className:"max-h-[90vh]",children:[e.jsxs(T2,{children:[e.jsx(Dg,{children:"Create Lifecycle Rule"}),e.jsx(Mg,{children:"Configure conditions and actions for automated provisioning"})]}),e.jsxs("div",{className:"px-6 py-4 flex-1 overflow-y-auto space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"rule-name",children:"Rule Name"}),e.jsx(pe,{id:"rule-name",value:R.name,onChange:D=>T({...R,name:D.target.value}),placeholder:"e.g., Engineering New Hires"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"rule-type",children:"Rule Type"}),e.jsxs(Me,{value:R.type,onValueChange:D=>T({...R,type:D}),children:[e.jsx(ze,{id:"rule-type",children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"joiner",children:"Joiner (New Hire)"}),e.jsx(Z,{value:"mover",children:"Mover (Change)"}),e.jsx(Z,{value:"leaver",children:"Leaver (Offboarding)"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"rule-description",children:"Description"}),e.jsx(pe,{id:"rule-description",value:R.description,onChange:D=>T({...R,description:D.target.value}),placeholder:"Describe when this rule applies"})]}),e.jsx(G1e,{conditions:R.conditions,onChange:D=>T({...R,conditions:D})}),e.jsx(X1e,{actions:R.actions,onChange:D=>T({...R,actions:D}),mode:R.type}),e.jsxs("div",{className:"pt-4 border-t space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Options"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"effective-delay",children:"Effective Start Delay (days)"}),e.jsx(pe,{id:"effective-delay",type:"number",value:R.effectiveDelay,onChange:D=>T({...R,effectiveDelay:parseInt(D.target.value)})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Wait period before executing actions"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"Require Approval"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Manager must approve before provisioning"})]}),e.jsx(Pe,{checked:R.requiresApproval,onCheckedChange:D=>T({...R,requiresApproval:D})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"Dry Run Mode"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Log actions without executing"})]}),e.jsx(Pe,{checked:R.dryRun,onCheckedChange:D=>T({...R,dryRun:D})})]})]})]}),e.jsxs(zB,{className:"border-t",children:[e.jsx(L,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),e.jsx(L,{onClick:U,children:"Save Rule"})]})]})}),e.jsx(rNe,{open:a,onOpenChange:i,mode:t==="joiner"?"joiner":t==="mover"?"mover":"leaver"}),e.jsx(sW,{open:o,onOpenChange:l,title:"Lifecycle Rules",history:O})]})}class sNe{seed;constructor(r=12345){this.seed=r}async suggestAccess(r){const n=[];return r.identity.department==="Engineering"&&(n.push({id:"suggest-1",type:"ROLE",title:"Software Engineer Role",description:"Standard engineering access with development tools",confidence:.95,rationale:"High confidence based on department and peer patterns",riskLevel:"LOW",peerComparison:{similarIdentities:45,averageAccess:["GitHub","Jira","AWS Dev","Docker"]}}),r.identity.employmentType==="PERMANENT"&&n.push({id:"suggest-2",type:"ENTITLEMENT",title:"Production Access",description:"Limited production environment access",confidence:.78,rationale:"Permanent employees typically get production access after 30 days",riskLevel:"MEDIUM",sodConflicts:["Production Admin + Security Auditor"]})),r.identity.department==="Finance"&&n.push({id:"suggest-3",type:"ROLE",title:"Finance Analyst Role",description:"Financial systems and reporting access",confidence:.92,rationale:"Standard finance department role with appropriate controls",riskLevel:"MEDIUM",sodConflicts:["Finance Approver + Payment Processor"]}),r.identity.department==="Sales"&&n.push({id:"suggest-4",type:"ENTITLEMENT",title:"CRM Access",description:"Salesforce and customer management tools",confidence:.88,rationale:"Essential for sales team productivity",riskLevel:"LOW",peerComparison:{similarIdentities:23,averageAccess:["Salesforce","HubSpot","Zoom"]}}),r.identity.managerId&&n.push({id:"suggest-5",type:"ENTITLEMENT",title:"Manager Dashboard",description:"Team management and reporting tools",confidence:.85,rationale:"Manager-level access for team oversight",riskLevel:"MEDIUM"}),n.slice(0,5)}async detectAnomalies(r){const n=[];r.identity.employmentType==="INTERN"&&r.changeSet.addedEntitlements.some(o=>o.includes("Admin"))&&n.push({id:"anomaly-1",type:"ACCESS_RISK",severity:"HIGH",title:"High-privilege access for intern",description:"Intern requesting administrative access typically reserved for permanent employees",signal:"Employment type vs. requested access mismatch",recommendation:"Review access requirements and consider intern-specific roles",confidence:.92});const s=new Date(r.effectiveDate),a=new Date;if(Math.ceil((s.getTime()-a.getTime())/(1e3*60*60*24))<1&&r.riskLevel==="HIGH"&&n.push({id:"anomaly-2",type:"SCHEDULE_RISK",severity:"MEDIUM",title:"Immediate high-risk access",description:"High-risk access requested for immediate implementation",signal:"Short notice period for high-risk provisioning",recommendation:"Consider phased rollout or additional approval steps",confidence:.78}),r.type==="MOVER"&&r.changeSet.modifiedAttributes.department){const o=r.changeSet.modifiedAttributes.department.before,l=r.changeSet.modifiedAttributes.department.after;(o==="Finance"&&l==="Engineering"||o==="Engineering"&&l==="Finance")&&n.push({id:"anomaly-3",type:"PEER_DEVIATION",severity:"MEDIUM",title:"Cross-functional department transfer",description:"Unusual transfer between Finance and Engineering departments",signal:"Departments with different access patterns and controls",recommendation:"Verify transfer legitimacy and review access requirements",confidence:.65})}if(r.type==="LEAVER"){const l=new Date(r.effectiveDate).getDay();(l===0||l===6)&&n.push({id:"anomaly-4",type:"SCHEDULE_RISK",severity:"LOW",title:"Weekend termination",description:"Termination scheduled for weekend",signal:"Non-standard business day termination",recommendation:"Consider business day termination for better support coverage",confidence:.6})}return n}async explain(r){const{request:n,policies:s}=r;let a=`Access decision for ${n.identity.displayName}:

`;const i=s.filter(l=>l.type==="BIRTHRIGHT");i.length>0&&(a+=`Birthright Access:
`,i.forEach(l=>{a+=` ${l.name}: ${l.description}
`}),a+=`
`),a+=`Risk Assessment:
`,a+=` Identity Risk Score: ${n.riskScore}/100
`,a+=` Risk Level: ${n.riskLevel}
`,a+=` Employment Type: ${n.identity.employmentType}
`,a+=` Department: ${n.identity.department}

`;const o=s.filter(l=>l.type==="SOD");return o.length>0&&(a+=`Separation of Duties:
`,o.forEach(l=>{a+=` ${l.name}: ${l.description}
`}),a+=`
`),a+=`Peer Analysis:
`,a+=` Similar roles in ${n.identity.department} typically receive standard access
`,a+=` Manager approval required for elevated privileges
`,a+=` Standard onboarding timeline: 2-3 business days

`,a+=`Recommendation: ${n.riskLevel==="LOW"?"Approve with standard access":"Review additional controls"}`,a}async parseNl(r){const n=r.toLowerCase(),s={},a=n.match(/(?:for|create|move|terminate)\s+([a-z\s]+?)(?:\s+starting|\s+to|\s+today)/i);a&&(s.name=a[1].trim());const i=n.match(/(\d{4}-\d{2}-\d{2}|\d{1,2}\/\d{1,2}\/\d{4}|next monday|today|tomorrow)/i);i&&(s.date=i[1]);const o=n.match(/(?:in|to)\s+(engineering|finance|sales|hr|marketing|it)/i);o&&(s.department=o[1]);const l=n.match(/manager\s+([a-z\s]+)/i);l&&(s.manager=l[1].trim());let d="JOINER";n.includes("move")||n.includes("transfer")?d="MOVER":(n.includes("terminate")||n.includes("offboard")||n.includes("leaver"))&&(d="LEAVER");const u=Object.keys(s).length/4;return{type:d,effectiveDate:s.date||new Date().toISOString().split("T")[0],extractedEntities:s,confidence:u,comments:`AI-generated from: "${r}"`}}async summarize(r){return r.length===0?"No events to summarize":`Activity Summary:
${r.map(s=>`${new Date(s.timestamp).toLocaleString()}: ${s.actorName} ${s.action} ${s.object}`).join(`
`)}`}}function $g(t){return new sNe(t)}function aNe({onClose:t,onComplete:r}){const[n,s]=j.useState(0),[a,i]=j.useState({firstName:"",lastName:"",email:"",employeeId:"",startDate:"",startTime:"09:00",employmentType:"PERMANENT",company:"ACME Corp",division:"",department:"",location:"",managerId:"",managerName:"",selectedRoles:[],selectedEntitlements:[],aiSuggestions:[],aiAnomalies:[],approvalPath:[],requiresManagerApproval:!0,requiresAppOwnerApproval:!1,requiresIamApproval:!1,comments:"",scheduleImmediate:!0,effectiveDate:"",effectiveTime:"09:00"}),[o,l]=j.useState(!1),[d]=j.useState(()=>$g()),u=Qr.getIdentities(),f=Qr.getRoles(),m=Qr.getEntitlements(),v=[{id:"identity",title:"Identity Basics",description:"Personal and organizational information",completed:!1},{id:"access",title:"Access & Recommendations",description:"AI-suggested roles and entitlements",completed:!1},{id:"approvals",title:"Approval Path",description:"Configure approval workflow",completed:!1},{id:"review",title:"Review & Submit",description:"Final review and submission",completed:!1}];j.useEffect(()=>{v.map((C,w)=>{switch(C.id){case"identity":return{...C,completed:!!(a.firstName&&a.lastName&&a.email&&a.department)};case"access":return{...C,completed:a.selectedRoles.length>0||a.selectedEntitlements.length>0};case"approvals":return{...C,completed:a.approvalPath.length>0};case"review":return{...C,completed:!!a.comments};default:return C}})},[a]);const g=()=>{n<v.length-1&&s(n+1)},b=()=>{n>0&&s(n-1)},x=async()=>{l(!0),await new Promise(w=>setTimeout(w,2e3));const C={type:"JOINER",identity:{firstName:a.firstName,lastName:a.lastName,email:a.email,employeeId:a.employeeId,department:a.department,employmentType:a.employmentType},changeSet:{addedRoles:a.selectedRoles,addedEntitlements:a.selectedEntitlements},comments:a.comments,effectiveDate:a.effectiveDate,effectiveTime:a.effectiveTime};r(C),l(!1)},y=async()=>{l(!0);const C={identity:{department:a.department,employmentType:a.employmentType,location:a.location},peerGroup:u.filter(w=>w.department===a.department),historicalPatterns:[],organizationalContext:{}};try{const w=await d.suggestAccess(C),k=await d.detectAnomalies({type:"JOINER",identity:C.identity,changeSet:{addedRoles:[],addedEntitlements:[]}});i(S=>({...S,aiSuggestions:w,aiAnomalies:k}))}catch(w){console.error("AI service error:",w)}l(!1)},A=()=>a.aiAnomalies.some(C=>C.severity==="CRITICAL")?"CRITICAL":a.aiAnomalies.some(C=>C.severity==="HIGH")?"HIGH":a.aiAnomalies.some(C=>C.severity==="MEDIUM")||a.selectedEntitlements.some(C=>m.find(w=>w.id===C)?.isPrivileged)?"MEDIUM":"LOW",E=C=>{switch(C){case"LOW":return"text-green-600 bg-green-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"HIGH":return"text-orange-600 bg-orange-100";case"CRITICAL":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"border-b p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(hn,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"New Joiner Request"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-assisted onboarding workflow"})]})]}),e.jsx(L,{variant:"ghost",onClick:t,children:""})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Step ",n+1," of ",v.length]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:v[n].title})]}),e.jsx(Nr,{value:(n+1)/v.length*100,className:"h-2"})]})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[n===0&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Identity Information"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Enter the new hire's personal and organizational details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"firstName",children:"First Name *"}),e.jsx(pe,{id:"firstName",value:a.firstName,onChange:C=>i(w=>({...w,firstName:C.target.value})),placeholder:"Enter first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"lastName",children:"Last Name *"}),e.jsx(pe,{id:"lastName",value:a.lastName,onChange:C=>i(w=>({...w,lastName:C.target.value})),placeholder:"Enter last name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"email",children:"Email Address *"}),e.jsx(pe,{id:"email",type:"email",value:a.email,onChange:C=>i(w=>({...w,email:C.target.value})),placeholder:"Enter email address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"employeeId",children:"Employee ID"}),e.jsx(pe,{id:"employeeId",value:a.employeeId,onChange:C=>i(w=>({...w,employeeId:C.target.value})),placeholder:"Auto-generated if empty"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"startDate",children:"Start Date *"}),e.jsx(pe,{id:"startDate",type:"date",value:a.startDate,onChange:C=>i(w=>({...w,startDate:C.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"startTime",children:"Start Time"}),e.jsx(pe,{id:"startTime",type:"time",value:a.startTime,onChange:C=>i(w=>({...w,startTime:C.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"employmentType",children:"Employment Type *"}),e.jsxs(Me,{value:a.employmentType,onValueChange:C=>i(w=>({...w,employmentType:C})),children:[e.jsx(ze,{children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"PERMANENT",children:"Permanent"}),e.jsx(Z,{value:"CONTRACTOR",children:"Contractor"}),e.jsx(Z,{value:"INTERN",children:"Intern"}),e.jsx(Z,{value:"VENDOR",children:"Vendor"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"division",children:"Division *"}),e.jsxs(Me,{value:a.division,onValueChange:C=>i(w=>({...w,division:C})),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select division"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"Technology",children:"Technology"}),e.jsx(Z,{value:"Finance",children:"Finance"}),e.jsx(Z,{value:"Sales",children:"Sales"}),e.jsx(Z,{value:"Marketing",children:"Marketing"}),e.jsx(Z,{value:"HR",children:"Human Resources"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"department",children:"Department *"}),e.jsxs(Me,{value:a.department,onValueChange:C=>i(w=>({...w,department:C})),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select department"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"Engineering",children:"Engineering"}),e.jsx(Z,{value:"Finance",children:"Finance"}),e.jsx(Z,{value:"Sales",children:"Sales"}),e.jsx(Z,{value:"Marketing",children:"Marketing"}),e.jsx(Z,{value:"HR",children:"Human Resources"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"location",children:"Location *"}),e.jsxs(Me,{value:a.location,onValueChange:C=>i(w=>({...w,location:C})),children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select location"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"San Francisco",children:"San Francisco"}),e.jsx(Z,{value:"New York",children:"New York"}),e.jsx(Z,{value:"Chicago",children:"Chicago"}),e.jsx(Z,{value:"London",children:"London"}),e.jsx(Z,{value:"Remote",children:"Remote"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"manager",children:"Manager"}),e.jsxs(Me,{value:a.managerId,onValueChange:C=>{const w=u.find(k=>k.id===C);i(k=>({...k,managerId:C,managerName:w?.displayName||""}))},children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select manager"})}),e.jsx($e,{children:u.filter(C=>C.department===a.department).map(C=>e.jsxs(Z,{value:C.id,children:[C.displayName," (",C.email,")"]},C.id))})]})]})]}),e.jsxs(se,{className:"border-blue-200 bg-blue-50",children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(Qt,{className:"w-5 h-5"}),"AI Assistant"]}),e.jsx(Be,{className:"text-blue-700",children:"Paste HR data to auto-fill form fields"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(mn,{placeholder:"Paste HR export data here (JSON, CSV, or free text)...",className:"min-h-[100px]"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(Sr,{className:"w-4 h-4 mr-1"}),"Extract & Fill"]}),e.jsx("span",{className:"text-xs text-blue-600",children:"AI will extract and populate form fields with confidence indicators"})]})]})})]})]}),n===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Access & Recommendations"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-suggested roles and entitlements based on department and role"})]}),e.jsxs(L,{onClick:y,disabled:o,children:[e.jsx(Sr,{className:"w-4 h-4 mr-1"}),"Generate AI Suggestions"]})]}),a.aiSuggestions.length>0&&e.jsxs(se,{className:"border-green-200 bg-green-50",children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-green-800",children:[e.jsx(Qt,{className:"w-5 h-5"}),"AI Recommendations"]}),e.jsx(Be,{className:"text-green-700",children:"Suggested access based on department patterns and peer analysis"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:a.aiSuggestions.map(C=>e.jsxs("div",{className:"p-3 rounded-lg border bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:"text-xs",children:C.type}),e.jsx("span",{className:"font-medium",children:C.title}),e.jsx(J,{variant:"outline",className:`text-xs ${E(C.riskLevel)}`,children:C.riskLevel})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(C.confidence*100),"% confidence"]}),e.jsx(L,{variant:"outline",size:"sm",onClick:()=>{C.type==="ROLE"?i(w=>({...w,selectedRoles:[...w.selectedRoles,C.target]})):C.type==="ENTITLEMENT"&&i(w=>({...w,selectedEntitlements:[...w.selectedEntitlements,C.target]}))},children:e.jsx(At,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:C.description}),e.jsx("p",{className:"text-xs text-blue-600",children:C.rationale}),C.peerComparison&&e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Peer analysis: ",C.peerComparison.similarIdentities," similar identities"]})]},C.id))})})]}),a.aiAnomalies.length>0&&e.jsxs(gs,{className:"border-orange-200 bg-orange-50",children:[e.jsx(fr,{className:"h-4 w-4 text-orange-600"}),e.jsxs(ys,{className:"text-orange-800",children:[e.jsx("strong",{children:"AI Detected Anomalies:"}),e.jsx("ul",{className:"mt-2 space-y-1",children:a.aiAnomalies.map(C=>e.jsxs("li",{className:"text-sm",children:[" ",C.title,": ",C.description]},C.id))})]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Role Assignment"}),e.jsx(Be,{children:"Select roles for the new hire"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:f.map(C=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:a.selectedRoles.includes(C.id),onChange:w=>{w.target.checked?i(k=>({...k,selectedRoles:[...k.selectedRoles,C.id]})):i(k=>({...k,selectedRoles:k.selectedRoles.filter(S=>S!==C.id)}))},className:"rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:C.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:C.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:"text-xs",children:C.criticality}),C.isBirthright&&e.jsx(J,{variant:"secondary",className:"text-xs",children:"Birthright"})]})]},C.id))})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Entitlement Assignment"}),e.jsx(Be,{children:"Select specific application entitlements"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:m.map(C=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:a.selectedEntitlements.includes(C.id),onChange:w=>{w.target.checked?i(k=>({...k,selectedEntitlements:[...k.selectedEntitlements,C.id]})):i(k=>({...k,selectedEntitlements:k.selectedEntitlements.filter(S=>S!==C.id)}))},className:"rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:C.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.applicationName,"  ",C.description]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${E(C.riskLevel)}`,children:C.riskLevel}),C.isPrivileged&&e.jsx(J,{variant:"destructive",className:"text-xs",children:"Privileged"})]})]},C.id))})})]})]}),n===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Approval Configuration"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure the approval workflow for this joiner request"})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Approval Requirements"}),e.jsx(Be,{children:"Select who needs to approve this request"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Manager Approval"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Direct manager must approve the request"})]}),e.jsx(Pe,{checked:a.requiresManagerApproval,onCheckedChange:C=>i(w=>({...w,requiresManagerApproval:C}))})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Application Owner Approval"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Application owners must approve privileged access"})]}),e.jsx(Pe,{checked:a.requiresAppOwnerApproval,onCheckedChange:C=>i(w=>({...w,requiresAppOwnerApproval:C}))})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"IAM Admin Approval"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"IAM administrators must approve high-risk requests"})]}),e.jsx(Pe,{checked:a.requiresIamApproval,onCheckedChange:C=>i(w=>({...w,requiresIamApproval:C}))})]})]})})]}),A()==="LOW"&&e.jsxs(se,{className:"border-green-200 bg-green-50",children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-green-800",children:[e.jsx(Sr,{className:"w-5 h-5"}),"AI Fast-track Recommendation"]}),e.jsx(Be,{className:"text-green-700",children:"This request qualifies for fast-track approval"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-green-800",children:"Based on the low risk level and standard access patterns, this request can be fast-tracked with:"}),e.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[e.jsx("li",{children:" Manager approval only"}),e.jsx("li",{children:" Reduced SLA (24 hours vs 72 hours)"}),e.jsx("li",{children:" Automated provisioning"})]})]})})]})]}),n===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review & Submit"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Review all details before submitting the joiner request"})]}),e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsx(Se,{children:"Request Summary"})}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Identity"}),e.jsxs("p",{className:"text-sm",children:[a.firstName," ",a.lastName]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.email})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Organization"}),e.jsxs("p",{className:"text-sm",children:[a.department,", ",a.location]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.employmentType})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Start Date"}),e.jsxs("p",{className:"text-sm",children:[a.startDate," at ",a.startTime]})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Manager"}),e.jsx("p",{className:"text-sm",children:a.managerName||"Not assigned"})]})]}),e.jsxs("div",{children:[e.jsxs(G,{className:"text-sm font-medium",children:["Selected Roles (",a.selectedRoles.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.selectedRoles.map(C=>{const w=f.find(k=>k.id===C);return w?e.jsx(J,{variant:"outline",className:"text-xs",children:w.name},C):null})})]}),e.jsxs("div",{children:[e.jsxs(G,{className:"text-sm font-medium",children:["Selected Entitlements (",a.selectedEntitlements.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.selectedEntitlements.map(C=>{const w=m.find(k=>k.id===C);return w?e.jsx(J,{variant:"outline",className:"text-xs",children:w.name},C):null})})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Risk Assessment"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(J,{variant:"outline",className:`text-xs ${E(A())}`,children:[A()," RISK"]}),a.aiAnomalies.length>0&&e.jsxs("span",{className:"text-xs text-orange-600",children:[a.aiAnomalies.length," anomalies detected"]})]})]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"comments",children:"Comments *"}),e.jsx(mn,{id:"comments",value:a.comments,onChange:C=>i(w=>({...w,comments:C.target.value})),placeholder:"Add any additional context or special requirements...",className:"min-h-[100px]"})]}),e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsx(Se,{children:"Execution Schedule"})}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Execute Immediately"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Start provisioning as soon as approved"})]}),e.jsx(Pe,{checked:a.scheduleImmediate,onCheckedChange:C=>i(w=>({...w,scheduleImmediate:C}))})]}),!a.scheduleImmediate&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"effectiveDate",children:"Effective Date"}),e.jsx(pe,{id:"effectiveDate",type:"date",value:a.effectiveDate,onChange:C=>i(w=>({...w,effectiveDate:C.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"effectiveTime",children:"Effective Time"}),e.jsx(pe,{id:"effectiveTime",type:"time",value:a.effectiveTime,onChange:C=>i(w=>({...w,effectiveTime:C.target.value}))})]})]})]})})]})]})]}),e.jsx("div",{className:"border-t p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:n>0&&e.jsxs(L,{variant:"outline",onClick:b,children:[e.jsx(Va,{className:"w-4 h-4 mr-1"}),"Previous"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{variant:"outline",onClick:t,children:"Cancel"}),n<v.length-1?e.jsxs(L,{onClick:g,children:["Next",e.jsx(Dn,{className:"w-4 h-4 ml-1"})]}):e.jsx(L,{onClick:x,disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(sr,{className:"w-4 h-4 mr-1 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(jn,{className:"w-4 h-4 mr-1"}),"Submit Request"]})})]})]})})]})})}function iNe({onClose:t,onComplete:r}){const[n,s]=j.useState(0),[a,i]=j.useState({identityId:"",identity:null,changes:{},addedRoles:[],removedRoles:[],addedEntitlements:[],removedEntitlements:[],aiSuggestions:[],aiAnomalies:[],phasedExecution:!1,phases:[],comments:"",effectiveDate:"",effectiveTime:"09:00",requiresApproval:!0}),[o,l]=j.useState(!1),[d]=j.useState(()=>$g()),u=Qr.getIdentities(),f=Qr.getRoles(),m=Qr.getEntitlements(),v=[{id:"identity",title:"Select Identity",description:"Choose the identity to modify",completed:!1},{id:"changes",title:"Define Changes",description:"Specify organizational changes",completed:!1},{id:"access",title:"Delta Access Plan",description:"AI-suggested access modifications",completed:!1},{id:"execution",title:"Execution Plan",description:"Configure phased execution",completed:!1},{id:"review",title:"Review & Submit",description:"Final review and submission",completed:!1}];j.useEffect(()=>{v.map((w,k)=>{switch(w.id){case"identity":return{...w,completed:!!a.identityId};case"changes":return{...w,completed:Object.keys(a.changes).length>0};case"access":return{...w,completed:a.addedRoles.length>0||a.removedRoles.length>0||a.addedEntitlements.length>0||a.removedEntitlements.length>0};case"execution":return{...w,completed:!!a.effectiveDate};case"review":return{...w,completed:!!a.comments};default:return w}})},[a]);const g=()=>{n<v.length-1&&s(n+1)},b=()=>{n>0&&s(n-1)},x=async()=>{l(!0),await new Promise(k=>setTimeout(k,2e3));const w={type:"MOVER",identity:a.identity,changeSet:{addedRoles:a.addedRoles,removedRoles:a.removedRoles,addedEntitlements:a.addedEntitlements,removedEntitlements:a.removedEntitlements,modifiedAttributes:a.changes},comments:a.comments,effectiveDate:a.effectiveDate,effectiveTime:a.effectiveTime,phasedExecution:a.phasedExecution,phases:a.phases};r(w),l(!1)},y=async()=>{if(!a.identity)return;l(!0);const w={identity:a.identity,peerGroup:u.filter(k=>k.department===a.changes.department?.after||k.department===a.identity?.department),historicalPatterns:[],organizationalContext:{}};try{const k=await d.suggestAccess(w),S=await d.detectAnomalies({type:"MOVER",identity:a.identity,changeSet:{addedRoles:[],addedEntitlements:[],modifiedAttributes:a.changes}});i(R=>({...R,aiSuggestions:k,aiAnomalies:S}))}catch(k){console.error("AI service error:",k)}l(!1)},A=()=>a.aiAnomalies.some(w=>w.severity==="CRITICAL")?"CRITICAL":a.aiAnomalies.some(w=>w.severity==="HIGH")?"HIGH":a.aiAnomalies.some(w=>w.severity==="MEDIUM")||a.addedEntitlements.some(w=>m.find(k=>k.id===w)?.isPrivileged)?"MEDIUM":"LOW",E=w=>{switch(w){case"LOW":return"text-green-600 bg-green-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"HIGH":return"text-orange-600 bg-orange-100";case"CRITICAL":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},C=()=>{console.log("Simulating impact...")};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-5xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"border-b p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yi,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Mover Request"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Delta-driven role and access changes"})]})]}),e.jsx(L,{variant:"ghost",onClick:t,children:""})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Step ",n+1," of ",v.length]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:v[n].title})]}),e.jsx(Nr,{value:(n+1)/v.length*100,className:"h-2"})]})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[n===0&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select Identity"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose the identity that will undergo role or access changes"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"identity",children:"Identity *"}),e.jsxs(Me,{value:a.identityId,onValueChange:w=>{const k=u.find(S=>S.id===w);i(S=>({...S,identityId:w,identity:k||null}))},children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select identity to modify"})}),e.jsx($e,{children:u.filter(w=>w.status==="ACTIVE").map(w=>e.jsx(Z,{value:w.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:w.displayName}),e.jsxs("span",{className:"text-muted-foreground",children:["(",w.email,")"]}),e.jsx(J,{variant:"outline",className:"text-xs",children:w.department})]})},w.id))})]})]}),a.identity&&e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"w-5 h-5"}),"Current Identity Details"]})}),e.jsx(je,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Name"}),e.jsx("p",{className:"text-sm",children:a.identity.displayName})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Email"}),e.jsx("p",{className:"text-sm",children:a.identity.email})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Department"}),e.jsx("p",{className:"text-sm",children:a.identity.department})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Location"}),e.jsx("p",{className:"text-sm",children:a.identity.location})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Manager"}),e.jsx("p",{className:"text-sm",children:a.identity.managerName||"Not assigned"})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Employment Type"}),e.jsx("p",{className:"text-sm",children:a.identity.employmentType})]})]})})]})]}),n===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Define Changes"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Specify what organizational changes will occur"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"department",children:"Department Change"}),e.jsxs(Me,{value:a.changes.department?.after||"",onValueChange:w=>{i(k=>({...k,changes:{...k.changes,department:{before:a.identity?.department||"",after:w}}}))},children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select new department"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"Engineering",children:"Engineering"}),e.jsx(Z,{value:"Finance",children:"Finance"}),e.jsx(Z,{value:"Sales",children:"Sales"}),e.jsx(Z,{value:"Marketing",children:"Marketing"}),e.jsx(Z,{value:"HR",children:"Human Resources"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"location",children:"Location Change"}),e.jsxs(Me,{value:a.changes.location?.after||"",onValueChange:w=>{i(k=>({...k,changes:{...k.changes,location:{before:a.identity?.location||"",after:w}}}))},children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select new location"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"San Francisco",children:"San Francisco"}),e.jsx(Z,{value:"New York",children:"New York"}),e.jsx(Z,{value:"Chicago",children:"Chicago"}),e.jsx(Z,{value:"London",children:"London"}),e.jsx(Z,{value:"Remote",children:"Remote"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"manager",children:"Manager Change"}),e.jsxs(Me,{value:a.changes.manager?.after||"",onValueChange:w=>{const k=u.find(S=>S.id===w);i(S=>({...S,changes:{...S.changes,manager:{before:a.identity?.managerName||"",after:k?.displayName||""}}}))},children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select new manager"})}),e.jsx($e,{children:u.filter(w=>w.department===a.changes.department?.after||w.department===a.identity?.department).map(w=>e.jsxs(Z,{value:w.id,children:[w.displayName," (",w.email,")"]},w.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"role",children:"Role Change"}),e.jsxs(Me,{value:a.changes.role?.after||"",onValueChange:w=>{i(k=>({...k,changes:{...k.changes,role:{before:"Current Role",after:w}}}))},children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select new role"})}),e.jsx($e,{children:f.map(w=>e.jsx(Z,{value:w.id,children:w.name},w.id))})]})]})]}),Object.keys(a.changes).length>0&&e.jsxs(se,{className:"border-blue-200 bg-blue-50",children:[e.jsx(Ne,{children:e.jsxs(Se,{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(mG,{className:"w-5 h-5"}),"Change Summary"]})}),e.jsx(je,{children:e.jsx("div",{className:"space-y-2",children:Object.entries(a.changes).map(([w,k])=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"font-medium capitalize",children:[w,":"]}),e.jsx("span",{className:"text-muted-foreground",children:k.before}),e.jsx(Dn,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:k.after})]},w))})})]})]}),n===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delta Access Plan"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-suggested access modifications based on organizational changes"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",onClick:C,children:[e.jsx(ir,{className:"w-4 h-4 mr-1"}),"Simulate Impact"]}),e.jsxs(L,{onClick:y,disabled:o,children:[e.jsx(Sr,{className:"w-4 h-4 mr-1"}),"Generate Delta Plan"]})]})]}),a.aiSuggestions.length>0&&e.jsxs(se,{className:"border-green-200 bg-green-50",children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-green-800",children:[e.jsx(Qt,{className:"w-5 h-5"}),"AI Delta Recommendations"]}),e.jsx(Be,{className:"text-green-700",children:"Suggested access changes based on organizational move"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:a.aiSuggestions.map(w=>e.jsxs("div",{className:"p-3 rounded-lg border bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:"text-xs",children:w.type}),e.jsx("span",{className:"font-medium",children:w.title}),e.jsx(J,{variant:"outline",className:`text-xs ${E(w.riskLevel)}`,children:w.riskLevel})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(w.confidence*100),"% confidence"]}),e.jsx(L,{variant:"outline",size:"sm",onClick:()=>{w.type==="ROLE"?i(k=>({...k,addedRoles:[...k.addedRoles,w.target]})):w.type==="ENTITLEMENT"&&i(k=>({...k,addedEntitlements:[...k.addedEntitlements,w.target]}))},children:e.jsx(At,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:w.description}),e.jsx("p",{className:"text-xs text-blue-600",children:w.rationale})]},w.id))})})]}),a.aiAnomalies.length>0&&e.jsxs(gs,{className:"border-orange-200 bg-orange-50",children:[e.jsx(et,{className:"h-4 w-4 text-orange-600"}),e.jsxs(ys,{className:"text-orange-800",children:[e.jsx("strong",{children:"AI Detected Anomalies:"}),e.jsx("ul",{className:"mt-2 space-y-1",children:a.aiAnomalies.map(w=>e.jsxs("li",{className:"text-sm",children:[" ",w.title,": ",w.description]},w.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-green-600",children:[e.jsx(tv,{className:"w-5 h-5"}),"Roles to Add"]}),e.jsx(Be,{children:"New roles for the identity"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:f.map(w=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:a.addedRoles.includes(w.id),onChange:k=>{k.target.checked?i(S=>({...S,addedRoles:[...S.addedRoles,w.id]})):i(S=>({...S,addedRoles:S.addedRoles.filter(R=>R!==w.id)}))},className:"rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:w.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:w.description})]})]}),e.jsx(J,{variant:"outline",className:"text-xs",children:w.criticality})]},w.id))})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-red-600",children:[e.jsx(ev,{className:"w-5 h-5"}),"Roles to Remove"]}),e.jsx(Be,{children:"Roles to revoke from the identity"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:f.map(w=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:a.removedRoles.includes(w.id),onChange:k=>{k.target.checked?i(S=>({...S,removedRoles:[...S.removedRoles,w.id]})):i(S=>({...S,removedRoles:S.removedRoles.filter(R=>R!==w.id)}))},className:"rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:w.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:w.description})]})]}),e.jsx(J,{variant:"outline",className:"text-xs",children:w.criticality})]},w.id))})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-green-600",children:[e.jsx(tv,{className:"w-5 h-5"}),"Entitlements to Add"]}),e.jsx(Be,{children:"New application entitlements"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:m.map(w=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:a.addedEntitlements.includes(w.id),onChange:k=>{k.target.checked?i(S=>({...S,addedEntitlements:[...S.addedEntitlements,w.id]})):i(S=>({...S,addedEntitlements:S.addedEntitlements.filter(R=>R!==w.id)}))},className:"rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:w.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[w.applicationName,"  ",w.description]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${E(w.riskLevel)}`,children:w.riskLevel}),w.isPrivileged&&e.jsx(J,{variant:"destructive",className:"text-xs",children:"Privileged"})]})]},w.id))})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-red-600",children:[e.jsx(ev,{className:"w-5 h-5"}),"Entitlements to Remove"]}),e.jsx(Be,{children:"Application entitlements to revoke"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:m.map(w=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:a.removedEntitlements.includes(w.id),onChange:k=>{k.target.checked?i(S=>({...S,removedEntitlements:[...S.removedEntitlements,w.id]})):i(S=>({...S,removedEntitlements:S.removedEntitlements.filter(R=>R!==w.id)}))},className:"rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:w.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[w.applicationName,"  ",w.description]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${E(w.riskLevel)}`,children:w.riskLevel}),w.isPrivileged&&e.jsx(J,{variant:"destructive",className:"text-xs",children:"Privileged"})]})]},w.id))})})]})]})]}),n===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Execution Plan"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure how and when the changes will be executed"})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Execution Options"}),e.jsx(Be,{children:"Choose between immediate or phased execution"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Phased Execution"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Execute changes in phases to minimize business disruption"})]}),e.jsx(Pe,{checked:a.phasedExecution,onCheckedChange:w=>i(k=>({...k,phasedExecution:w}))})]}),a.phasedExecution&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border bg-yellow-50 border-yellow-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(et,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"font-medium text-yellow-800",children:"Phased Execution Plan"})]}),e.jsxs("div",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("p",{children:" Phase 1: Remove obsolete access (Friday 18:00)"}),e.jsx("p",{children:" Phase 2: Add new access (Monday 08:30)"}),e.jsx("p",{children:" Phase 3: Update organizational attributes (Monday 09:00)"})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Phase 1 Date"}),e.jsx(pe,{type:"date"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Phase 1 Time"}),e.jsx(pe,{type:"time",defaultValue:"18:00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Actions"}),e.jsxs(Me,{children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select actions"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"remove",children:"Remove Access"}),e.jsx(Z,{value:"disable",children:"Disable Accounts"})]})]})]})]})})]}),!a.phasedExecution&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"effectiveDate",children:"Effective Date *"}),e.jsx(pe,{id:"effectiveDate",type:"date",value:a.effectiveDate,onChange:w=>i(k=>({...k,effectiveDate:w.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"effectiveTime",children:"Effective Time"}),e.jsx(pe,{id:"effectiveTime",type:"time",value:a.effectiveTime,onChange:w=>i(k=>({...k,effectiveTime:w.target.value}))})]})]})]})})]}),e.jsxs(se,{className:"border-blue-200 bg-blue-50",children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(Sr,{className:"w-5 h-5"}),"AI Schedule Optimization"]}),e.jsx(Be,{className:"text-blue-700",children:"AI suggests optimal timing based on historical patterns"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-blue-800",children:"Based on historical data and business patterns, AI recommends:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:" Execute role changes during low-activity hours (18:00-08:00)"}),e.jsx("li",{children:" Avoid execution during critical business periods"}),e.jsx("li",{children:" Schedule access removal before access addition to prevent conflicts"})]})]})})]})]}),n===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review & Submit"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Review all changes before submitting the mover request"})]}),e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsx(Se,{children:"Change Summary"})}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Identity"}),e.jsx("p",{className:"text-sm",children:a.identity?.displayName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.identity?.email})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Current Department"}),e.jsx("p",{className:"text-sm",children:a.identity?.department}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.identity?.location})]})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Organizational Changes"}),e.jsx("div",{className:"space-y-1 mt-1",children:Object.entries(a.changes).map(([w,k])=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"font-medium capitalize",children:[w,":"]}),e.jsx("span",{className:"text-muted-foreground",children:k.before}),e.jsx(Dn,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:k.after})]},w))})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Access Changes"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Adding:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.addedRoles.map(w=>{const k=f.find(S=>S.id===w);return k?e.jsx(J,{variant:"outline",className:"text-xs",children:k.name},w):null}),a.addedEntitlements.map(w=>{const k=m.find(S=>S.id===w);return k?e.jsx(J,{variant:"outline",className:"text-xs",children:k.name},w):null})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600",children:"Removing:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.removedRoles.map(w=>{const k=f.find(S=>S.id===w);return k?e.jsx(J,{variant:"outline",className:"text-xs",children:k.name},w):null}),a.removedEntitlements.map(w=>{const k=m.find(S=>S.id===w);return k?e.jsx(J,{variant:"outline",className:"text-xs",children:k.name},w):null})]})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Risk Assessment"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(J,{variant:"outline",className:`text-xs ${E(A())}`,children:[A()," RISK"]}),a.aiAnomalies.length>0&&e.jsxs("span",{className:"text-xs text-orange-600",children:[a.aiAnomalies.length," anomalies detected"]})]})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Execution Plan"}),e.jsxs("p",{className:"text-sm mt-1",children:[a.phasedExecution?"Phased execution":"Immediate execution"," on ",a.effectiveDate," at ",a.effectiveTime]})]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"comments",children:"Comments *"}),e.jsx(mn,{id:"comments",value:a.comments,onChange:w=>i(k=>({...k,comments:w.target.value})),placeholder:"Add justification for the organizational changes...",className:"min-h-[100px]"})]})]})]}),e.jsx("div",{className:"border-t p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:n>0&&e.jsxs(L,{variant:"outline",onClick:b,children:[e.jsx(Va,{className:"w-4 h-4 mr-1"}),"Previous"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{variant:"outline",onClick:t,children:"Cancel"}),n<v.length-1?e.jsxs(L,{onClick:g,children:["Next",e.jsx(Dn,{className:"w-4 h-4 ml-1"})]}):e.jsx(L,{onClick:x,disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(sr,{className:"w-4 h-4 mr-1 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(jn,{className:"w-4 h-4 mr-1"}),"Submit Request"]})})]})]})})]})})}function oNe({onClose:t,onComplete:r}){const[n,s]=j.useState(0),[a,i]=j.useState({identityId:"",identity:null,terminationType:"VOLUNTARY",effectiveDate:"",effectiveTime:"17:00",reason:"",isImmediate:!1,actions:{disableAccounts:!0,removeAccess:!0,reclaimLicenses:!0,forwardMail:!1,managerDataAccess:!0,quarantineGroups:!0,wipeMdm:!1,deleteAfterRetention:!0},gracePeriod:7,litigationHold:!1,dataRetentionPeriod:30,managerDataHandover:!0,requiresApproval:!0,comments:"",aiAnomalies:[]}),[o,l]=j.useState(!1),[d]=j.useState(()=>$g()),u=Qr.getIdentities(),f=[{id:"identity",title:"Select Identity",description:"Choose the identity to terminate",completed:!1},{id:"termination",title:"Termination Details",description:"Specify termination type and timing",completed:!1},{id:"actions",title:"Access Actions",description:"Configure offboarding actions",completed:!1},{id:"safety",title:"Safety Controls",description:"Set safety and retention policies",completed:!1},{id:"review",title:"Review & Submit",description:"Final review and submission",completed:!1}];j.useEffect(()=>{f.map((E,C)=>{switch(E.id){case"identity":return{...E,completed:!!a.identityId};case"termination":return{...E,completed:!!a.effectiveDate&&!!a.reason};case"actions":return{...E,completed:Object.values(a.actions).some(w=>w)};case"safety":return{...E,completed:a.gracePeriod>0&&a.dataRetentionPeriod>0};case"review":return{...E,completed:!!a.comments};default:return E}})},[a]);const m=()=>{n<f.length-1&&s(n+1)},v=()=>{n>0&&s(n-1)},g=async()=>{l(!0),await new Promise(C=>setTimeout(C,2e3));const E={type:"LEAVER",identity:a.identity,terminationType:a.terminationType,effectiveDate:a.effectiveDate,effectiveTime:a.effectiveTime,reason:a.reason,actions:a.actions,safetyControls:{gracePeriod:a.gracePeriod,litigationHold:a.litigationHold,dataRetentionPeriod:a.dataRetentionPeriod,managerDataHandover:a.managerDataHandover},comments:a.comments};r(E),l(!1)},b=async()=>{if(a.identity){l(!0);try{const E=await d.detectAnomalies({type:"LEAVER",identity:a.identity,changeSet:{addedRoles:[],addedEntitlements:[]}});i(C=>({...C,aiAnomalies:E}))}catch(E){console.error("AI service error:",E)}l(!1)}},x=()=>a.aiAnomalies.some(E=>E.severity==="CRITICAL")?"CRITICAL":a.aiAnomalies.some(E=>E.severity==="HIGH")?"HIGH":a.aiAnomalies.some(E=>E.severity==="MEDIUM")?"MEDIUM":a.terminationType==="IMMEDIATE"||a.actions.wipeMdm?"HIGH":"MEDIUM",y=E=>{switch(E){case"LOW":return"text-green-600 bg-green-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"HIGH":return"text-orange-600 bg-orange-100";case"CRITICAL":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},A=E=>{switch(E){case"VOLUNTARY":return"text-blue-600 bg-blue-100";case"INVOLUNTARY":return"text-orange-600 bg-orange-100";case"IMMEDIATE":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"border-b p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ko,{className:"w-6 h-6 text-red-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Leaver Request"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Safe termination and offboarding process"})]})]}),e.jsx(L,{variant:"ghost",onClick:t,children:""})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Step ",n+1," of ",f.length]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:f[n].title})]}),e.jsx(Nr,{value:(n+1)/f.length*100,className:"h-2"})]})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[n===0&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select Identity"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose the identity that will be terminated"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"identity",children:"Identity *"}),e.jsxs(Me,{value:a.identityId,onValueChange:E=>{const C=u.find(w=>w.id===E);i(w=>({...w,identityId:E,identity:C||null}))},children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select identity to terminate"})}),e.jsx($e,{children:u.filter(E=>E.status==="ACTIVE").map(E=>e.jsx(Z,{value:E.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:E.displayName}),e.jsxs("span",{className:"text-muted-foreground",children:["(",E.email,")"]}),e.jsx(J,{variant:"outline",className:"text-xs",children:E.department})]})},E.id))})]})]}),a.identity&&e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"w-5 h-5"}),"Identity Details"]})}),e.jsx(je,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Name"}),e.jsx("p",{className:"text-sm",children:a.identity.displayName})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Email"}),e.jsx("p",{className:"text-sm",children:a.identity.email})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Department"}),e.jsx("p",{className:"text-sm",children:a.identity.department})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Manager"}),e.jsx("p",{className:"text-sm",children:a.identity.managerName||"Not assigned"})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Employment Type"}),e.jsx("p",{className:"text-sm",children:a.identity.employmentType})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Start Date"}),e.jsx("p",{className:"text-sm",children:a.identity.startDate})]})]})})]})]}),n===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Termination Details"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Specify the type and timing of termination"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"terminationType",children:"Termination Type *"}),e.jsxs(Me,{value:a.terminationType,onValueChange:E=>i(C=>({...C,terminationType:E})),children:[e.jsx(ze,{children:e.jsx(Le,{})}),e.jsxs($e,{children:[e.jsx(Z,{value:"VOLUNTARY",children:"Voluntary"}),e.jsx(Z,{value:"INVOLUNTARY",children:"Involuntary"}),e.jsx(Z,{value:"IMMEDIATE",children:"Immediate"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"effectiveDate",children:"Effective Date *"}),e.jsx(pe,{id:"effectiveDate",type:"date",value:a.effectiveDate,onChange:E=>i(C=>({...C,effectiveDate:E.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"effectiveTime",children:"Effective Time"}),e.jsx(pe,{id:"effectiveTime",type:"time",value:a.effectiveTime,onChange:E=>i(C=>({...C,effectiveTime:E.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"reason",children:"Reason *"}),e.jsx(pe,{id:"reason",value:a.reason,onChange:E=>i(C=>({...C,reason:E.target.value})),placeholder:"Enter termination reason"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Immediate Termination"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Terminate immediately without grace period"})]}),e.jsx(Pe,{checked:a.isImmediate,onCheckedChange:E=>i(C=>({...C,isImmediate:E}))})]}),a.terminationType==="IMMEDIATE"&&e.jsxs(gs,{className:"border-red-200 bg-red-50",children:[e.jsx(et,{className:"h-4 w-4 text-red-600"}),e.jsxs(ys,{className:"text-red-800",children:[e.jsx("strong",{children:"Immediate Termination:"})," This will immediately disable all accounts and remove access. Ensure all necessary data has been backed up and manager has been notified."]})]}),a.terminationType==="INVOLUNTARY"&&e.jsxs(gs,{className:"border-orange-200 bg-orange-50",children:[e.jsx(et,{className:"h-4 w-4 text-orange-600"}),e.jsxs(ys,{className:"text-orange-800",children:[e.jsx("strong",{children:"Involuntary Termination:"})," Additional security measures will be applied. Consider immediate account disable and data preservation."]})]})]}),n===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Access Actions"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure what actions will be taken during offboarding"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(rd,{className:"w-5 h-5"}),"Account Actions"]})}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Disable Accounts"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Disable all user accounts immediately"})]}),e.jsx(Pe,{checked:a.actions.disableAccounts,onCheckedChange:E=>i(C=>({...C,actions:{...C.actions,disableAccounts:E}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Remove Access"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Remove all role and entitlement access"})]}),e.jsx(Pe,{checked:a.actions.removeAccess,onCheckedChange:E=>i(C=>({...C,actions:{...C.actions,removeAccess:E}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Reclaim Licenses"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Reclaim software licenses for reuse"})]}),e.jsx(Pe,{checked:a.actions.reclaimLicenses,onCheckedChange:E=>i(C=>({...C,actions:{...C.actions,reclaimLicenses:E}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Quarantine Groups"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Remove from all distribution groups"})]}),e.jsx(Pe,{checked:a.actions.quarantineGroups,onCheckedChange:E=>i(C=>({...C,actions:{...C.actions,quarantineGroups:E}}))})]})]})})]}),e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(y5,{className:"w-5 h-5"}),"Data Actions"]})}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Forward Mail"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Forward emails to manager or delegate"})]}),e.jsx(Pe,{checked:a.actions.forwardMail,onCheckedChange:E=>i(C=>({...C,actions:{...C.actions,forwardMail:E}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Manager Data Access"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Grant manager access to files and data"})]}),e.jsx(Pe,{checked:a.actions.managerDataAccess,onCheckedChange:E=>i(C=>({...C,actions:{...C.actions,managerDataAccess:E}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Wipe MDM"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Remote wipe mobile devices"})]}),e.jsx(Pe,{checked:a.actions.wipeMdm,onCheckedChange:E=>i(C=>({...C,actions:{...C.actions,wipeMdm:E}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Delete After Retention"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Delete accounts after retention period"})]}),e.jsx(Pe,{checked:a.actions.deleteAfterRetention,onCheckedChange:E=>i(C=>({...C,actions:{...C.actions,deleteAfterRetention:E}}))})]})]})})]})]}),e.jsxs(se,{className:"border-blue-200 bg-blue-50",children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(Sr,{className:"w-5 h-5"}),"AI Risk Detection"]}),e.jsx(Be,{className:"text-blue-700",children:"AI analyzes termination actions for potential risks"})]}),e.jsx(je,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",onClick:b,disabled:o,children:[e.jsx(Qt,{className:"w-4 h-4 mr-1"}),"Analyze Risks"]}),e.jsx("span",{className:"text-xs text-blue-600",children:"AI will detect at-risk entitlements and recommend retention duration"})]})})]}),a.aiAnomalies.length>0&&e.jsxs(gs,{className:"border-orange-200 bg-orange-50",children:[e.jsx(et,{className:"h-4 w-4 text-orange-600"}),e.jsxs(ys,{className:"text-orange-800",children:[e.jsx("strong",{children:"AI Detected Risks:"}),e.jsx("ul",{className:"mt-2 space-y-1",children:a.aiAnomalies.map(E=>e.jsxs("li",{className:"text-sm",children:[" ",E.title,": ",E.description]},E.id))})]})]})]}),n===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Safety Controls"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure safety measures and data retention policies"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"gracePeriod",children:"Grace Period (days)"}),e.jsx(pe,{id:"gracePeriod",type:"number",min:"0",max:"30",value:a.gracePeriod,onChange:E=>i(C=>({...C,gracePeriod:parseInt(E.target.value)||0}))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Time before accounts are fully disabled"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"dataRetentionPeriod",children:"Data Retention Period (days)"}),e.jsx(pe,{id:"dataRetentionPeriod",type:"number",min:"1",max:"365",value:a.dataRetentionPeriod,onChange:E=>i(C=>({...C,dataRetentionPeriod:parseInt(E.target.value)||30}))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"How long to retain data before deletion"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Litigation Hold"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Preserve all data for legal proceedings"})]}),e.jsx(Pe,{checked:a.litigationHold,onCheckedChange:E=>i(C=>({...C,litigationHold:E}))})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Manager Data Handover"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Transfer data ownership to manager"})]}),e.jsx(Pe,{checked:a.managerDataHandover,onCheckedChange:E=>i(C=>({...C,managerDataHandover:E}))})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Requires Approval"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Manager must approve termination actions"})]}),e.jsx(Pe,{checked:a.requiresApproval,onCheckedChange:E=>i(C=>({...C,requiresApproval:E}))})]})]}),a.gracePeriod===0&&e.jsxs(gs,{className:"border-red-200 bg-red-50",children:[e.jsx(et,{className:"h-4 w-4 text-red-600"}),e.jsxs(ys,{className:"text-red-800",children:[e.jsx("strong",{children:"No Grace Period:"})," Accounts will be disabled immediately. Ensure all necessary data has been backed up."]})]}),a.dataRetentionPeriod<7&&e.jsxs(gs,{className:"border-orange-200 bg-orange-50",children:[e.jsx(et,{className:"h-4 w-4 text-orange-600"}),e.jsxs(ys,{className:"text-orange-800",children:[e.jsx("strong",{children:"Short Retention Period:"})," Data will be deleted quickly. Consider extending retention period for compliance."]})]}),e.jsxs(se,{className:"border-green-200 bg-green-50",children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-green-800",children:[e.jsx(Qt,{className:"w-5 h-5"}),"AI Recommendations"]}),e.jsx(Be,{className:"text-green-700",children:"AI suggests optimal retention duration by role and regulation"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-green-800",children:"Based on role analysis and regulatory requirements:"}),e.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[e.jsx("li",{children:" Recommended retention: 30 days for standard roles"}),e.jsx("li",{children:" Manager approval required for privileged access"}),e.jsx("li",{children:" Consider litigation hold for involuntary terminations"})]})]})})]})]}),n===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review & Submit"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Review all termination details before submitting"})]}),e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsx(Se,{children:"Termination Summary"})}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Identity"}),e.jsx("p",{className:"text-sm",children:a.identity?.displayName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.identity?.email})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Department"}),e.jsx("p",{className:"text-sm",children:a.identity?.department}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.identity?.managerName})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Termination Type"}),e.jsx(J,{variant:"outline",className:`text-xs ${A(a.terminationType)}`,children:a.terminationType})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Effective"}),e.jsxs("p",{className:"text-sm",children:[a.effectiveDate," at ",a.effectiveTime]})]})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600",children:"Account Actions:"}),e.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[a.actions.disableAccounts&&e.jsx("li",{children:" Disable accounts"}),a.actions.removeAccess&&e.jsx("li",{children:" Remove access"}),a.actions.reclaimLicenses&&e.jsx("li",{children:" Reclaim licenses"}),a.actions.quarantineGroups&&e.jsx("li",{children:" Quarantine groups"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Data Actions:"}),e.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[a.actions.forwardMail&&e.jsx("li",{children:" Forward mail"}),a.actions.managerDataAccess&&e.jsx("li",{children:" Manager data access"}),a.actions.wipeMdm&&e.jsx("li",{children:" Wipe MDM"}),a.actions.deleteAfterRetention&&e.jsx("li",{children:" Delete after retention"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Safety Controls"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-1",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm",children:["Grace Period: ",a.gracePeriod," days"]}),e.jsxs("p",{className:"text-sm",children:["Data Retention: ",a.dataRetentionPeriod," days"]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm",children:["Litigation Hold: ",a.litigationHold?"Yes":"No"]}),e.jsxs("p",{className:"text-sm",children:["Manager Handover: ",a.managerDataHandover?"Yes":"No"]})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-sm font-medium",children:"Risk Assessment"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(J,{variant:"outline",className:`text-xs ${y(x())}`,children:[x()," RISK"]}),a.aiAnomalies.length>0&&e.jsxs("span",{className:"text-xs text-orange-600",children:[a.aiAnomalies.length," risks detected"]})]})]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"comments",children:"Comments *"}),e.jsx(mn,{id:"comments",value:a.comments,onChange:E=>i(C=>({...C,comments:E.target.value})),placeholder:"Add termination justification and special instructions...",className:"min-h-[100px]"})]})]})]}),e.jsx("div",{className:"border-t p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:n>0&&e.jsxs(L,{variant:"outline",onClick:v,children:[e.jsx(Va,{className:"w-4 h-4 mr-1"}),"Previous"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{variant:"outline",onClick:t,children:"Cancel"}),n<f.length-1?e.jsxs(L,{onClick:m,children:["Next",e.jsx(Dn,{className:"w-4 h-4 ml-1"})]}):e.jsx(L,{onClick:g,disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(sr,{className:"w-4 h-4 mr-1 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(jn,{className:"w-4 h-4 mr-1"}),"Submit Request"]})})]})]})})]})})}function lNe({request:t,onClose:r,onUpdate:n}){const[s,a]=j.useState("timeline"),[i,o]=j.useState(!1),[l,d]=j.useState(null),[u,f]=j.useState("");useEffect(()=>{t.correlationId&&t.justification?.includes("triggered by ISR")&&m()},[t.correlationId]);const m=async()=>{const S={isrId:"isr-hris",attribute:"employmentStatus",beforeValue:"PENDING",afterValue:"ACTIVE",timestamp:t.submittedAt,correlationId:t.correlationId,explanation:`This request was automatically triggered when the ${t.changeSet?.attributeChanges?Object.keys(t.changeSet.attributeChanges)[0]:"employmentStatus"} attribute changed in the HRIS system.`};d(S)},v=S=>{switch(S){case"PENDING_APPROVAL":return"text-yellow-600 bg-yellow-100";case"IN_PROGRESS":return"text-blue-600 bg-blue-100";case"COMPLETED":return"text-green-600 bg-green-100";case"FAILED":return"text-red-600 bg-red-100";case"REJECTED":return"text-red-600 bg-red-100";case"CANCELLED":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},g=S=>{switch(S){case"LOW":return"text-green-600 bg-green-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"HIGH":return"text-orange-600 bg-orange-100";case"CRITICAL":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},b=S=>{switch(S){case"PENDING":return"text-yellow-600 bg-yellow-100";case"APPROVED":return"text-green-600 bg-green-100";case"REJECTED":return"text-red-600 bg-red-100";case"DELEGATED":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},x=S=>{switch(S){case"PENDING":return"text-gray-600 bg-gray-100";case"IN_PROGRESS":return"text-blue-600 bg-blue-100";case"COMPLETED":return"text-green-600 bg-green-100";case"FAILED":return"text-red-600 bg-red-100";case"RETRYING":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},y=S=>{switch(S){case"JOINER":return e.jsx(hn,{className:"w-5 h-5 text-green-600"});case"MOVER":return e.jsx(yi,{className:"w-5 h-5 text-blue-600"});case"LEAVER":return e.jsx(ko,{className:"w-5 h-5 text-red-600"});default:return e.jsx(pa,{className:"w-5 h-5 text-gray-600"})}},A=async(S,R)=>{o(!0),await new Promise(O=>setTimeout(O,1e3));const T={...t,approvals:t.approvals.map(O=>O.id===S?{...O,state:R,comments:u,submittedAt:new Date().toISOString()}:O),status:R==="APPROVE"?"IN_PROGRESS":"REJECTED"};n(T),f(""),o(!1)},E=async S=>{o(!0),await new Promise(T=>setTimeout(T,1e3));const R={...t,tasks:t.tasks.map(T=>T.id===S?{...T,state:"RETRYING",retryCount:T.retryCount+1}:T)};n(R),o(!1)},C=async()=>{o(!0),await new Promise(R=>setTimeout(R,2e3));const S={...t,tasks:t.tasks.map(R=>R.state==="FAILED"?{...R,state:"RETRYING",retryCount:R.retryCount+1}:R)};n(S),o(!1)},w=S=>new Date(S).toLocaleString(),k=()=>{const S=t.tasks.length,R=t.tasks.filter(T=>T.state==="COMPLETED").length;return S>0?R/S*100:0};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"border-b p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[y(t.type),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:t.identity.displayName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.type," Request  ",t.identity.department,"  ",w(t.submittedAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${v(t.status)}`,children:t.status.replace("_"," ")}),e.jsxs(J,{variant:"outline",className:`text-xs ${g(t.riskLevel)}`,children:[t.riskLevel," RISK"]}),t.slaBreached&&e.jsx(J,{variant:"destructive",className:"text-xs",children:"SLA Breached"}),e.jsx(L,{variant:"ghost",onClick:r,children:e.jsx($t,{className:"w-4 h-4"})})]})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:e.jsxs(pn,{value:s,onValueChange:a,className:"w-full",children:[e.jsxs(sn,{className:"grid w-full grid-cols-6",children:[e.jsx(Ie,{value:"timeline",children:"Timeline"}),e.jsx(Ie,{value:"approvals",children:"Approvals"}),e.jsx(Ie,{value:"tasks",children:"Tasks"}),e.jsx(Ie,{value:"access",children:"Access Plan"}),e.jsx(Ie,{value:"ai",children:"AI Insights"}),e.jsx(Ie,{value:"notes",children:"Notes"})]}),e.jsx(De,{value:"timeline",className:"space-y-6",children:e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"w-5 h-5"}),"Request Timeline"]}),e.jsx(Be,{children:"Complete audit trail of request activities"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border bg-card",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium",children:"Request Created"}),e.jsx(J,{variant:"outline",className:"text-xs",children:"SYSTEM"}),l&&e.jsxs(J,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800",children:[e.jsx(Sr,{className:"w-3 h-3 mr-1"}),"Auto-Generated"]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.type," request created by ",t.submittedByName]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[w(t.createdAt),"  Correlation ID: ",t.correlationId]})]})]}),l&&e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border bg-blue-50 border-blue-200",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-medium text-blue-800",children:"ISR Trigger Source"}),e.jsx(J,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800",children:l.isrId})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-blue-700",children:"Attribute Change:"}),e.jsx(J,{variant:"outline",className:"text-xs bg-white",children:l.attribute}),e.jsx(Dn,{className:"w-3 h-3 text-blue-600"}),e.jsxs("span",{className:"text-sm text-blue-700",children:['"',l.beforeValue,'"  "',l.afterValue,'"']})]}),e.jsx("p",{className:"text-sm text-blue-700",children:l.explanation}),e.jsxs("p",{className:"text-xs text-blue-600",children:["Detected at: ",new Date(l.timestamp).toLocaleString()]})]})]})]}),t.approvals.map(S=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border bg-card",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${S.state==="APPROVED"?"bg-green-500":S.state==="REJECTED"?"bg-red-500":"bg-yellow-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium",children:S.state==="APPROVED"?"Approved":S.state==="REJECTED"?"Rejected":"Pending Approval"}),e.jsx(J,{variant:"outline",className:"text-xs",children:S.approverRole})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.approverName," ",S.state==="PENDING"?"needs to approve":S.state==="APPROVED"?"approved":"rejected"," this request"]}),S.comments&&e.jsxs("p",{className:"text-sm mt-1 italic",children:['"',S.comments,'"']}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:S.submittedAt?w(S.submittedAt):`Due: ${w(S.dueDate)}`})]})]},S.id)),t.tasks.map(S=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border bg-card",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${S.state==="COMPLETED"?"bg-green-500":S.state==="FAILED"?"bg-red-500":S.state==="IN_PROGRESS"?"bg-blue-500":"bg-gray-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium",children:S.action}),e.jsx(J,{variant:"outline",className:"text-xs",children:S.connectorName}),e.jsx(J,{variant:"outline",className:`text-xs ${x(S.state)}`,children:S.state})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Target: ",S.target]}),S.message&&e.jsx("p",{className:"text-sm mt-1",children:S.message}),S.errorDetails&&e.jsx("p",{className:"text-sm mt-1 text-red-600",children:S.errorDetails}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[S.startedAt?`Started: ${w(S.startedAt)}`:"Not started",S.completedAt&&`  Completed: ${w(S.completedAt)}`,S.retryCount>0&&`  Retries: ${S.retryCount}`]})]})]},S.id)),e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border bg-card",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium",children:"Status Updated"}),e.jsx(J,{variant:"outline",className:"text-xs",children:"SYSTEM"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Request status changed to ",t.status]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:w(t.updatedAt)})]})]})]})})]})}),e.jsx(De,{value:"approvals",className:"space-y-6",children:e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(jn,{className:"w-5 h-5"}),"Approval Workflow"]}),e.jsx(Be,{children:"Current approval status and actions"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-4",children:t.approvals.map(S=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${S.state==="APPROVED"?"bg-green-500":S.state==="REJECTED"?"bg-red-500":"bg-yellow-500"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:S.approverName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:S.approverRole})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${b(S.state)}`,children:S.state}),S.isRequired&&e.jsx(J,{variant:"secondary",className:"text-xs",children:"Required"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Due Date:"}),e.jsx("span",{className:S.state==="PENDING"&&new Date(S.dueDate)<new Date?"text-red-600":"",children:w(S.dueDate)})]}),S.submittedAt&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Submitted:"}),e.jsx("span",{children:w(S.submittedAt)})]}),S.comments&&e.jsx("div",{className:"mt-2 p-2 rounded bg-muted",children:e.jsxs("p",{className:"text-sm italic",children:['"',S.comments,'"']})})]}),S.state==="PENDING"&&e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx(mn,{placeholder:"Add approval comments...",value:u,onChange:R=>f(R.target.value),className:"min-h-[80px]"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{size:"sm",onClick:()=>A(S.id,"APPROVE"),disabled:i,children:[e.jsx(jn,{className:"w-4 h-4 mr-1"}),"Approve"]}),e.jsxs(L,{size:"sm",variant:"destructive",onClick:()=>A(S.id,"REJECT"),disabled:i,children:[e.jsx(Cr,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})]},S.id))})})]})}),e.jsx(De,{value:"tasks",className:"space-y-6",children:e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"w-5 h-5"}),"Task Execution"]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(L,{variant:"outline",size:"sm",onClick:C,disabled:i||!t.tasks.some(S=>S.state==="FAILED"),children:[e.jsx(va,{className:"w-4 h-4 mr-1"}),"Retry Failed"]})})]}),e.jsx(Be,{children:"Connector execution status and retry options"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium",children:"Overall Progress"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.tasks.filter(S=>S.state==="COMPLETED").length," / ",t.tasks.length," completed"]})]}),e.jsx(Nr,{value:k(),className:"h-2"})]}),t.tasks.map(S=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${S.state==="COMPLETED"?"bg-green-500":S.state==="FAILED"?"bg-red-500":S.state==="IN_PROGRESS"?"bg-blue-500":S.state==="RETRYING"?"bg-orange-500":"bg-gray-500"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:S.action}),e.jsx("p",{className:"text-sm text-muted-foreground",children:S.connectorName})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${x(S.state)}`,children:S.state}),S.state==="FAILED"&&e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>E(S.id),disabled:i||S.retryCount>=S.maxRetries,children:[e.jsx(Pm,{className:"w-4 h-4 mr-1"}),"Retry"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Target:"}),e.jsx("span",{className:"font-mono text-xs",children:S.target})]}),S.message&&e.jsx("div",{className:"text-sm text-muted-foreground",children:S.message}),S.errorDetails&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:S.errorDetails}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Retries: ",S.retryCount,"/",S.maxRetries]}),e.jsxs("span",{children:["Correlation: ",S.correlationId]})]})]})]},S.id))]})})]})}),e.jsx(De,{value:"access",className:"space-y-6",children:e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-5 h-5"}),"Access Plan"]}),e.jsx(Be,{children:"Roles and entitlements to be modified"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Role Changes"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.changeSet.addedRoles.length>0&&e.jsxs("div",{className:"p-3 rounded-lg border bg-green-50 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(tv,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"font-medium text-green-800",children:"Adding Roles"})]}),e.jsx("div",{className:"space-y-1",children:t.changeSet.addedRoles.map(S=>{const R=Qr.getRole(S);return R?e.jsx(J,{variant:"outline",className:"text-xs mr-1",children:R.name},S):null})})]}),t.changeSet.removedRoles.length>0&&e.jsxs("div",{className:"p-3 rounded-lg border bg-red-50 border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ev,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"font-medium text-red-800",children:"Removing Roles"})]}),e.jsx("div",{className:"space-y-1",children:t.changeSet.removedRoles.map(S=>{const R=Qr.getRole(S);return R?e.jsx(J,{variant:"outline",className:"text-xs mr-1",children:R.name},S):null})})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Entitlement Changes"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.changeSet.addedEntitlements.length>0&&e.jsxs("div",{className:"p-3 rounded-lg border bg-green-50 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(tv,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"font-medium text-green-800",children:"Adding Entitlements"})]}),e.jsx("div",{className:"space-y-1",children:t.changeSet.addedEntitlements.map(S=>{const R=Qr.getEntitlement(S);return R?e.jsxs("div",{className:"text-xs",children:[e.jsx("span",{className:"font-medium",children:R.name}),e.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",R.applicationName,")"]})]},S):null})})]}),t.changeSet.removedEntitlements.length>0&&e.jsxs("div",{className:"p-3 rounded-lg border bg-red-50 border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ev,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"font-medium text-red-800",children:"Removing Entitlements"})]}),e.jsx("div",{className:"space-y-1",children:t.changeSet.removedEntitlements.map(S=>{const R=Qr.getEntitlement(S);return R?e.jsxs("div",{className:"text-xs",children:[e.jsx("span",{className:"font-medium",children:R.name}),e.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",R.applicationName,")"]})]},S):null})})]})]})]}),Object.keys(t.changeSet.modifiedAttributes).length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Attribute Changes"}),e.jsx("div",{className:"space-y-2",children:Object.entries(t.changeSet.modifiedAttributes).map(([S,R])=>e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded border bg-card",children:[e.jsxs("span",{className:"font-medium capitalize",children:[S,":"]}),e.jsx("span",{className:"text-muted-foreground",children:R.before}),e.jsx(Dn,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:R.after})]},S))})]})]})})]})}),e.jsx(De,{value:"ai",className:"space-y-6",children:e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(Sr,{className:"w-5 h-5"}),"AI Insights"]}),e.jsx(Be,{children:"AI-generated suggestions, anomalies, and explanations"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-6",children:[t.aiHints.suggestions.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"AI Suggestions"}),e.jsx("div",{className:"space-y-3",children:t.aiHints.suggestions.map(S=>e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:"text-xs",children:S.type}),e.jsx("span",{className:"font-medium",children:S.title}),e.jsx(J,{variant:"outline",className:`text-xs ${g(S.riskLevel)}`,children:S.riskLevel})]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(S.confidence*100),"% confidence"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:S.description}),e.jsx("p",{className:"text-xs text-blue-600",children:S.rationale})]},S.id))})]}),t.aiHints.anomalies.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"AI Detected Anomalies"}),e.jsx("div",{className:"space-y-3",children:t.aiHints.anomalies.map(S=>e.jsxs(gs,{className:"border-orange-200 bg-orange-50",children:[e.jsx(fr,{className:"h-4 w-4 text-orange-600"}),e.jsxs(ys,{className:"text-orange-800",children:[e.jsx("div",{className:"font-medium",children:S.title}),e.jsx("p",{className:"text-sm mt-1",children:S.description}),e.jsxs("p",{className:"text-xs mt-2 italic",children:["Recommendation: ",S.recommendation]})]})]},S.id))})]}),t.aiHints.explanation&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"AI Explanation"}),e.jsx("div",{className:"p-3 rounded-lg border bg-blue-50 border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-800",children:t.aiHints.explanation})})]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"AI Confidence"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(t.aiHints.confidence*100),"%"]})]}),e.jsx(Nr,{value:t.aiHints.confidence*100,className:"h-2 mt-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Generated: ",w(t.aiHints.generatedAt)]})]})]})})]})}),e.jsx(De,{value:"notes",className:"space-y-6",children:e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(Pi,{className:"w-5 h-5"}),"Request Notes"]}),e.jsx(Be,{children:"Comments and additional context"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Label,{className:"text-sm font-medium",children:"Request Comments"}),e.jsx("div",{className:"p-3 rounded-lg border bg-card mt-1",children:e.jsx("p",{className:"text-sm",children:t.comments||"No comments provided"})})]}),e.jsxs("div",{children:[e.jsx(Label,{className:"text-sm font-medium",children:"Additional Notes"}),e.jsx(mn,{placeholder:"Add additional notes or context...",className:"min-h-[100px] mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{size:"sm",children:[e.jsx(Pi,{className:"w-4 h-4 mr-1"}),"Add Note"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(xr,{className:"w-4 h-4 mr-1"}),"Export Notes"]})]})]})})]})})]})}),e.jsx("div",{className:"border-t p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(fa,{className:"w-4 h-4 mr-1"}),"Copy Request"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(xr,{className:"w-4 h-4 mr-1"}),"Export Evidence"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{variant:"outline",onClick:r,children:"Close"}),t.status==="PENDING_APPROVAL"&&e.jsx(L,{variant:"destructive",children:"Cancel Request"})]})]})})]})})}function cNe(){const[t,r]=j.useState("birthright"),[n,s]=j.useState(""),[a,i]=j.useState(null),[o,l]=j.useState([]),[d,u]=j.useState(!1),[f]=j.useState(()=>$g()),m=Qr.getPolicies(),v=Qr.getSodConflicts();Qr.getIdentities();const g=Qr.getRoles(),b=Qr.getEntitlements(),x=k=>{switch(k){case"LOW":return"text-green-600 bg-green-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"HIGH":return"text-orange-600 bg-orange-100";case"CRITICAL":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},y=k=>{switch(k){case"BIRTHRIGHT":return"text-blue-600 bg-blue-100";case"SOD":return"text-red-600 bg-red-100";case"RISK":return"text-orange-600 bg-orange-100";case"CERTIFICATION":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},A=async(k,S)=>{u(!0),await new Promise(T=>setTimeout(T,1e3));const R={id:`test-${Date.now()}`,policyId:k.id,policyName:k.name,testData:S,matches:Math.random()>.3,matchedConditions:k.rule.conditions.slice(0,Math.floor(Math.random()*k.rule.conditions.length)+1),recommendedActions:k.rule.actions,timestamp:new Date().toISOString()};l(T=>[R,...T]),u(!1)},E=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Birthright Rules"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Attribute-driven access mapping for new hires"})]}),e.jsxs(L,{children:[e.jsx(At,{className:"w-4 h-4 mr-1"}),"New Birthright Rule"]})]}),e.jsx("div",{className:"space-y-4",children:m.filter(k=>k.type==="BIRTHRIGHT").map(k=>e.jsxs(se,{className:"hover:border-primary/50 transition-colors",children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(bt,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx(Se,{className:"text-lg",children:k.name}),e.jsx(Be,{children:k.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${y(k.type)}`,children:k.type}),e.jsxs(J,{variant:"outline",className:"text-xs",children:["Priority ",k.rule.priority]}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ma,{className:"w-4 h-4"})})]})]})}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Conditions"}),e.jsx("div",{className:"space-y-2",children:k.rule.conditions.map((S,R)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded border bg-card",children:[e.jsx("span",{className:"font-medium",children:S.field}),e.jsx("span",{className:"text-muted-foreground",children:S.operator}),e.jsx(J,{variant:"outline",className:"text-xs",children:Array.isArray(S.value)?S.value.join(", "):S.value}),S.logicalOperator&&e.jsx(J,{variant:"secondary",className:"text-xs",children:S.logicalOperator})]},R))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Actions"}),e.jsx("div",{className:"space-y-2",children:k.rule.actions.map((S,R)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded border bg-card",children:[e.jsx(J,{variant:"outline",className:"text-xs",children:S.type.replace("_"," ")}),e.jsx("span",{className:"font-medium",children:S.target}),S.parameters&&e.jsx("span",{className:"text-xs text-muted-foreground",children:JSON.stringify(S.parameters)})]},R))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(ir,{className:"w-4 h-4 mr-1"}),"View Details"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(bs,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(ts,{className:"w-4 h-4 mr-1"}),"Test"]})]})]})})]},k.id))}),e.jsxs(se,{className:"border-blue-200 bg-blue-50",children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(Qt,{className:"w-5 h-5"}),"Policy Tester"]}),e.jsx(Be,{className:"text-blue-700",children:"Test birthright policies with sample identity attributes"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Department"}),e.jsxs(Me,{children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select department"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"Engineering",children:"Engineering"}),e.jsx(Z,{value:"Finance",children:"Finance"}),e.jsx(Z,{value:"Sales",children:"Sales"}),e.jsx(Z,{value:"Marketing",children:"Marketing"}),e.jsx(Z,{value:"HR",children:"Human Resources"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Employment Type"}),e.jsxs(Me,{children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select employment type"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"PERMANENT",children:"Permanent"}),e.jsx(Z,{value:"CONTRACTOR",children:"Contractor"}),e.jsx(Z,{value:"INTERN",children:"Intern"}),e.jsx(Z,{value:"VENDOR",children:"Vendor"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Location"}),e.jsxs(Me,{children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select location"})}),e.jsxs($e,{children:[e.jsx(Z,{value:"San Francisco",children:"San Francisco"}),e.jsx(Z,{value:"New York",children:"New York"}),e.jsx(Z,{value:"Chicago",children:"Chicago"}),e.jsx(Z,{value:"London",children:"London"}),e.jsx(Z,{value:"Remote",children:"Remote"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Company"}),e.jsx(pe,{placeholder:"Enter company",defaultValue:"ACME Corp"})]})]}),e.jsxs(L,{onClick:()=>A(m[0],{department:"Engineering",employmentType:"PERMANENT"}),children:[e.jsx(ts,{className:"w-4 h-4 mr-1"}),"Test Policies"]})]})})]}),o.length>0&&e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Test Results"}),e.jsx(Be,{children:"Policy evaluation results"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:o.map(k=>e.jsxs("div",{className:"p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:k.policyName}),e.jsx(J,{variant:"outline",className:`text-xs ${k.matches?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:k.matches?"MATCH":"NO MATCH"})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(k.timestamp).toLocaleString()})]}),k.matchedConditions.length>0&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Matched conditions: ",k.matchedConditions.length]})]},k.id))})})]})]}),C=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Separation of Duties Matrix"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Conflicting roles and entitlements with severity levels"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",children:[e.jsx(Oi,{className:"w-4 h-4 mr-1"}),"Import Matrix"]}),e.jsxs(L,{children:[e.jsx(At,{className:"w-4 h-4 mr-1"}),"New SoD Rule"]})]})]}),e.jsx("div",{className:"space-y-4",children:v.map(k=>e.jsxs(se,{className:"hover:border-primary/50 transition-colors",children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(et,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx(Se,{className:"text-lg",children:k.ruleName}),e.jsx(Be,{children:k.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${x(k.severity)}`,children:k.severity}),e.jsxs(J,{variant:"outline",className:"text-xs",children:[k.conflictingRoles.length+k.conflictingEntitlements.length," conflicts"]}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ma,{className:"w-4 h-4"})})]})]})}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[k.conflictingRoles.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Conflicting Roles"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:k.conflictingRoles.map(S=>{const R=g.find(T=>T.id===S);return R?e.jsx(J,{variant:"outline",className:"text-xs",children:R.name},S):null})})]}),k.conflictingEntitlements.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Conflicting Entitlements"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:k.conflictingEntitlements.map(S=>{const R=b.find(T=>T.id===S);return R?e.jsx(J,{variant:"outline",className:"text-xs",children:R.name},S):null})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Mitigation Options"}),e.jsx("div",{className:"space-y-1",children:k.mitigationOptions.map((S,R)=>e.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",S]},R))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(ir,{className:"w-4 h-4 mr-1"}),"View Details"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(bs,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(ts,{className:"w-4 h-4 mr-1"}),"Test Conflict"]})]})]})})]},k.id))}),e.jsxs(se,{className:"border-orange-200 bg-orange-50",children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-orange-800",children:[e.jsx(Ud,{className:"w-5 h-5"}),"What-if Access Checker"]}),e.jsx(Be,{className:"text-orange-700",children:"Test access combinations for SoD conflicts"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Current Roles"}),e.jsxs(Me,{children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select roles"})}),e.jsx($e,{children:g.map(k=>e.jsx(Z,{value:k.id,children:k.name},k.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Proposed Roles"}),e.jsxs(Me,{children:[e.jsx(ze,{children:e.jsx(Le,{placeholder:"Select additional roles"})}),e.jsx($e,{children:g.map(k=>e.jsx(Z,{value:k.id,children:k.name},k.id))})]})]})]}),e.jsxs(L,{children:[e.jsx(ts,{className:"w-4 h-4 mr-1"}),"Check for Conflicts"]})]})})]})]}),w=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Risk Policies"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Risk scoring weights and thresholds"})]}),e.jsxs(L,{children:[e.jsx(At,{className:"w-4 h-4 mr-1"}),"New Risk Policy"]})]}),e.jsx("div",{className:"space-y-4",children:m.filter(k=>k.type==="RISK").map(k=>e.jsxs(se,{className:"hover:border-primary/50 transition-colors",children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(bt,{className:"w-5 h-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx(Se,{className:"text-lg",children:k.name}),e.jsx(Be,{children:k.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${y(k.type)}`,children:k.type}),e.jsxs(J,{variant:"outline",className:"text-xs",children:["Priority ",k.rule.priority]}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ma,{className:"w-4 h-4"})})]})]})}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Risk Weights"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Identity Risk"}),e.jsx("span",{className:"text-sm font-medium",children:"25%"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Entitlement Risk"}),e.jsx("span",{className:"text-sm font-medium",children:"30%"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"SoD Presence"}),e.jsx("span",{className:"text-sm font-medium",children:"20%"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Peer Deviation"}),e.jsx("span",{className:"text-sm font-medium",children:"15%"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Geo/Time Anomalies"}),e.jsx("span",{className:"text-sm font-medium",children:"10%"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Risk Thresholds"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-2 rounded border bg-green-50",children:[e.jsx("div",{className:"text-sm font-medium text-green-800",children:"Low"}),e.jsx("div",{className:"text-xs text-green-600",children:"0-25"})]}),e.jsxs("div",{className:"text-center p-2 rounded border bg-yellow-50",children:[e.jsx("div",{className:"text-sm font-medium text-yellow-800",children:"Medium"}),e.jsx("div",{className:"text-xs text-yellow-600",children:"26-50"})]}),e.jsxs("div",{className:"text-center p-2 rounded border bg-orange-50",children:[e.jsx("div",{className:"text-sm font-medium text-orange-800",children:"High"}),e.jsx("div",{className:"text-xs text-orange-600",children:"51-75"})]}),e.jsxs("div",{className:"text-center p-2 rounded border bg-red-50",children:[e.jsx("div",{className:"text-sm font-medium text-red-800",children:"Critical"}),e.jsx("div",{className:"text-xs text-red-600",children:"76-100"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(ir,{className:"w-4 h-4 mr-1"}),"View Details"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(bs,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(ts,{className:"w-4 h-4 mr-1"}),"Test Scoring"]})]})]})})]},k.id))}),e.jsxs(se,{className:"border-purple-200 bg-purple-50",children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2 text-purple-800",children:[e.jsx(Sr,{className:"w-5 h-5"}),"Risk Calculator"]}),e.jsx(Be,{className:"text-purple-700",children:"Calculate risk score for specific access combinations"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Identity Risk Score"}),e.jsx(pe,{type:"number",placeholder:"0-100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Entitlement Risk Score"}),e.jsx(pe,{type:"number",placeholder:"0-100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"SoD Conflicts"}),e.jsx(pe,{type:"number",placeholder:"Number of conflicts"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Peer Deviation"}),e.jsx(pe,{type:"number",placeholder:"Deviation percentage"})]})]}),e.jsxs(L,{children:[e.jsx(Sr,{className:"w-4 h-4 mr-1"}),"Calculate Risk Score"]})]})})]})]});return e.jsxs("div",{className:"flex flex-col h-full bg-background",children:[e.jsx("div",{className:"sticky top-16 z-10 bg-background border-b",children:e.jsx("div",{className:"p-6 max-w-[1800px] mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Policies Workspace"}),e.jsxs(J,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Policy Management"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Birthright rules, SoD matrix, risk policies, and policy testing"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(xr,{className:"w-4 h-4 mr-1"}),"Export Policies"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(Oi,{className:"w-4 h-4 mr-1"}),"Import Policies"]}),e.jsxs(L,{size:"sm",children:[e.jsx(At,{className:"w-4 h-4 mr-1"}),"New Policy"]})]})]})})}),e.jsx("div",{className:"p-6 max-w-[1800px] mx-auto w-full flex-1",children:e.jsxs(pn,{value:t,onValueChange:r,className:"w-full",children:[e.jsxs(sn,{className:"grid w-full grid-cols-3",children:[e.jsx(Ie,{value:"birthright",children:"Birthright Rules"}),e.jsx(Ie,{value:"sod",children:"SoD Matrix"}),e.jsx(Ie,{value:"risk",children:"Risk Policies"})]}),e.jsx(De,{value:"birthright",className:"space-y-6",children:e.jsx(E,{})}),e.jsx(De,{value:"sod",className:"space-y-6",children:e.jsx(C,{})}),e.jsx(De,{value:"risk",className:"space-y-6",children:e.jsx(w,{})})]})})]})}function dNe(){const[t,r]=j.useState("overview"),[n,s]=j.useState(""),[a,i]=j.useState({type:"",status:"",riskLevel:"",department:""}),[o,l]=j.useState(!1),[d,u]=j.useState(!1),[f,m]=j.useState(!1),[v,g]=j.useState(null),b=Qr.getJmlRequests();Qr.getMetrics();const x=Qr.getTrends(),y=j.useMemo(()=>b.filter(O=>{const U=!n||O.identity.displayName.toLowerCase().includes(n.toLowerCase())||O.identity.email.toLowerCase().includes(n.toLowerCase())||O.comments?.toLowerCase().includes(n.toLowerCase()),D=!a.type||O.type===a.type,I=!a.status||O.status===a.status,B=!a.riskLevel||O.riskLevel===a.riskLevel,M=!a.department||O.identity.department===a.department;return U&&D&&I&&B&&M}),[b,n,a]),A=j.useMemo(()=>{const O=b.filter(M=>M.status==="PENDING_APPROVAL").length,U=b.filter(M=>M.status==="IN_PROGRESS").length,D=b.filter(M=>M.status==="COMPLETED").length,I=b.filter(M=>M.status==="FAILED").length,B=b.filter(M=>M.riskLevel==="HIGH"||M.riskLevel==="CRITICAL").length;return{pending:O,inProgress:U,completed:D,failed:I,highRisk:B}},[b]),E=O=>{switch(O){case"PENDING_APPROVAL":return"text-yellow-600 bg-yellow-100";case"IN_PROGRESS":return"text-blue-600 bg-blue-100";case"COMPLETED":return"text-green-600 bg-green-100";case"FAILED":return"text-red-600 bg-red-100";case"REJECTED":return"text-red-600 bg-red-100";case"CANCELLED":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},C=O=>{switch(O){case"LOW":return"text-green-600 bg-green-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"HIGH":return"text-orange-600 bg-orange-100";case"CRITICAL":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},w=O=>{switch(O){case"JOINER":return e.jsx(hn,{className:"w-4 h-4 text-green-600"});case"MOVER":return e.jsx(yi,{className:"w-4 h-4 text-blue-600"});case"LEAVER":return e.jsx(ko,{className:"w-4 h-4 text-red-600"});default:return e.jsx(zt,{className:"w-4 h-4 text-gray-600"})}},k=O=>{console.log("Joiner request completed:",O),l(!1)},S=O=>{console.log("Mover request completed:",O),u(!1)},R=O=>{console.log("Leaver request completed:",O),m(!1)},T=O=>{console.log("Request updated:",O)};return e.jsxs("div",{className:"flex flex-col h-full bg-background",children:[e.jsx("div",{className:"sticky top-16 z-10 bg-background border-b",children:e.jsx("div",{className:"p-6 max-w-[1800px] mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Identity Lifecycle Management"}),e.jsxs(J,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[e.jsx(Ss,{className:"w-3 h-3 mr-1"}),"JML"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered Joiner, Mover, and Leaver processes with enterprise controls"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(va,{className:"w-4 h-4 mr-1"}),"Refresh"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(xr,{className:"w-4 h-4 mr-1"}),"Export"]}),e.jsxs(L,{size:"sm",onClick:()=>l(!0),children:[e.jsx(At,{className:"w-4 h-4 mr-1"}),"New Request"]})]})]})})}),e.jsx("div",{className:"p-6 max-w-[1800px] mx-auto w-full flex-1",children:e.jsxs(pn,{value:t,onValueChange:r,className:"w-full",children:[e.jsxs(sn,{className:"grid w-full grid-cols-8",children:[e.jsx(Ie,{value:"overview",children:"Overview"}),e.jsx(Ie,{value:"joiners",children:"Joiners"}),e.jsx(Ie,{value:"movers",children:"Movers"}),e.jsx(Ie,{value:"leavers",children:"Leavers"}),e.jsx(Ie,{value:"requests",children:"Requests"}),e.jsx(Ie,{value:"policies",children:"Policies"}),e.jsx(Ie,{value:"analytics",children:"Analytics"}),e.jsx(Ie,{value:"audit",children:"Audit"})]}),e.jsxs(De,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs(se,{children:[e.jsx(Ne,{className:"pb-2",children:e.jsx(Se,{className:"text-sm font-medium",children:"Pending Approvals"})}),e.jsxs(je,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:A.pending}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),e.jsxs(se,{children:[e.jsx(Ne,{className:"pb-2",children:e.jsx(Se,{className:"text-sm font-medium",children:"In Progress"})}),e.jsxs(je,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A.inProgress}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently executing"})]})]}),e.jsxs(se,{children:[e.jsx(Ne,{className:"pb-2",children:e.jsx(Se,{className:"text-sm font-medium",children:"Completed"})}),e.jsxs(je,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:A.completed}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This week"})]})]}),e.jsxs(se,{children:[e.jsx(Ne,{className:"pb-2",children:e.jsx(Se,{className:"text-sm font-medium",children:"Open Failures"})}),e.jsxs(je,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:A.failed}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]}),e.jsxs(se,{children:[e.jsx(Ne,{className:"pb-2",children:e.jsx(Se,{className:"text-sm font-medium",children:"High Risk"})}),e.jsxs(je,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:A.highRisk}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Require review"})]})]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(Sr,{className:"w-5 h-5 text-purple-600"}),"AI Spotlight"]}),e.jsx(Be,{children:"Natural language commands for JML processes"})]}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(pe,{placeholder:"Try: 'Create joiner for Ava Patel starting 2025-01-15 in Finance, London'",className:"flex-1"}),e.jsx(L,{children:"Parse"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Create joiner for Ava Patel starting 2025-01-15 in Finance, London, manager EMP00123","Move EMP00987 to Engineering (DevOps) next Monday 09:00; propose access","Terminate EMP00421 today 17:00; immediate disable; mailbox retain 30 days","Explain why Salesforce Admin was suggested for EMP00777; show SoD risks"].map((O,U)=>e.jsx(L,{variant:"outline",size:"sm",className:"text-xs",children:O},U))})]})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"JML Volume Trends"}),e.jsx(Be,{children:"Weekly trends for Joiner, Mover, and Leaver processes"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-4",children:x.slice(-7).map((O,U)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-medium",children:O.date}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(J,{variant:"outline",className:"text-green-600",children:[O.joiners," Joiners"]}),e.jsxs(J,{variant:"outline",className:"text-blue-600",children:[O.movers," Movers"]}),e.jsxs(J,{variant:"outline",className:"text-red-600",children:[O.leavers," Leavers"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Risk: ",Object.values(O.riskDistribution).reduce((D,I)=>D+I,0)," total"]}),O.slaBreaches>0&&e.jsxs(J,{variant:"destructive",className:"text-xs",children:[O.slaBreaches," SLA breach"]})]})]},U))})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Recent Activity"}),e.jsx(Be,{children:"Latest JML requests and system events"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:b.slice(0,5).map(O=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[w(O.type),e.jsx("div",{className:`w-2 h-2 rounded-full ${O.status==="COMPLETED"?"bg-green-500":O.status==="IN_PROGRESS"?"bg-blue-500":O.status==="PENDING_APPROVAL"?"bg-yellow-500":"bg-red-500"}`})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:O.identity.displayName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[O.type,"  ",O.identity.department,"  ",O.comments]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${C(O.riskLevel)}`,children:O.riskLevel}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(O.submittedAt).toLocaleDateString()})]})]},O.id))})})]})]}),e.jsxs(De,{value:"joiners",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Joiner Requests"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"New hire onboarding and access provisioning"})]}),e.jsxs(L,{onClick:()=>l(!0),children:[e.jsx(hn,{className:"w-4 h-4 mr-1"}),"New Joiner"]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Active Joiner Requests"}),e.jsx(Be,{children:"New hire onboarding in progress"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:y.filter(O=>O.type==="JOINER").map(O=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card hover:border-primary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(hn,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:O.identity.displayName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[O.identity.department,"  ",O.identity.employmentType,"  Start: ",O.effectiveDate]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${E(O.status)}`,children:O.status.replace("_"," ")}),e.jsx(J,{variant:"outline",className:`text-xs ${C(O.riskLevel)}`,children:O.riskLevel}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ma,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[O.changeSet.addedRoles.length," roles"]}),e.jsxs("span",{children:[O.changeSet.addedEntitlements.length," entitlements"]}),e.jsxs("span",{children:[O.approvals.length," approvals"]}),e.jsxs("span",{children:[O.tasks.length," tasks"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(bs,{className:"w-4 h-4"})})]})]})]},O.id))})})]})]}),e.jsxs(De,{value:"movers",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Mover Requests"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Role changes and access modifications"})]}),e.jsxs(L,{onClick:()=>u(!0),children:[e.jsx(yi,{className:"w-4 h-4 mr-1"}),"New Mover"]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Active Mover Requests"}),e.jsx(Be,{children:"Role and access changes in progress"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:y.filter(O=>O.type==="MOVER").map(O=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card hover:border-primary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yi,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:O.identity.displayName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[O.changeSet.modifiedAttributes.department?`${O.changeSet.modifiedAttributes.department.before}  ${O.changeSet.modifiedAttributes.department.after}`:"Role change","  Effective: ",O.effectiveDate]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${E(O.status)}`,children:O.status.replace("_"," ")}),e.jsx(J,{variant:"outline",className:`text-xs ${C(O.riskLevel)}`,children:O.riskLevel}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ma,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["+",O.changeSet.addedRoles.length," roles"]}),e.jsxs("span",{children:["-",O.changeSet.removedRoles.length," roles"]}),e.jsxs("span",{children:["+",O.changeSet.addedEntitlements.length," entitlements"]}),e.jsxs("span",{children:["-",O.changeSet.removedEntitlements.length," entitlements"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(bs,{className:"w-4 h-4"})})]})]})]},O.id))})})]})]}),e.jsxs(De,{value:"leavers",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Leaver Requests"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Offboarding and access revocation"})]}),e.jsxs(L,{onClick:()=>m(!0),children:[e.jsx(ko,{className:"w-4 h-4 mr-1"}),"New Leaver"]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Active Leaver Requests"}),e.jsx(Be,{children:"Termination and offboarding in progress"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:y.filter(O=>O.type==="LEAVER").map(O=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card hover:border-primary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ko,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:O.identity.displayName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[O.identity.department,"  Effective: ",O.effectiveDate," ",O.effectiveTime]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${E(O.status)}`,children:O.status.replace("_"," ")}),e.jsx(J,{variant:"outline",className:`text-xs ${C(O.riskLevel)}`,children:O.riskLevel}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ma,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["-",O.changeSet.removedRoles.length," roles"]}),e.jsxs("span",{children:["-",O.changeSet.removedEntitlements.length," entitlements"]}),e.jsxs("span",{children:[O.tasks.filter(U=>U.state==="COMPLETED").length,"/",O.tasks.length," tasks"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(bs,{className:"w-4 h-4"})})]})]})]},O.id))})})]})]}),e.jsxs(De,{value:"requests",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"All Requests"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete view of all JML requests"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(ns,{className:"w-4 h-4 mr-1"}),"Filters"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(xr,{className:"w-4 h-4 mr-1"}),"Export"]})]})]}),e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsx(Se,{children:"Search & Filter"})}),e.jsx(je,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Lr,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(pe,{placeholder:"Search requests...",value:n,onChange:O=>s(O.target.value),className:"pl-8"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:a.type,onChange:O=>i({...a,type:O.target.value}),className:"px-3 py-2 border rounded-md text-sm",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"JOINER",children:"Joiners"}),e.jsx("option",{value:"MOVER",children:"Movers"}),e.jsx("option",{value:"LEAVER",children:"Leavers"})]}),e.jsxs("select",{value:a.status,onChange:O=>i({...a,status:O.target.value}),className:"px-3 py-2 border rounded-md text-sm",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"PENDING_APPROVAL",children:"Pending Approval"}),e.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"FAILED",children:"Failed"})]}),e.jsxs("select",{value:a.riskLevel,onChange:O=>i({...a,riskLevel:O.target.value}),className:"px-3 py-2 border rounded-md text-sm",children:[e.jsx("option",{value:"",children:"All Risk Levels"}),e.jsx("option",{value:"LOW",children:"Low"}),e.jsx("option",{value:"MEDIUM",children:"Medium"}),e.jsx("option",{value:"HIGH",children:"High"}),e.jsx("option",{value:"CRITICAL",children:"Critical"})]})]})]})})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{children:["Requests (",y.length,")"]}),e.jsx(Be,{children:"All JML requests with current status"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-3",children:y.map(O=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card hover:border-primary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[w(O.type),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:O.identity.displayName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[O.type,"  ",O.identity.department,"  Submitted: ",new Date(O.submittedAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${E(O.status)}`,children:O.status.replace("_"," ")}),e.jsx(J,{variant:"outline",className:`text-xs ${C(O.riskLevel)}`,children:O.riskLevel}),O.slaBreached&&e.jsx(J,{variant:"destructive",className:"text-xs",children:"SLA Breached"}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ma,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Submitted by ",O.submittedByName]}),e.jsxs("span",{children:["Effective: ",O.effectiveDate]}),e.jsxs("span",{children:[O.approvals.length," approvals"]}),e.jsxs("span",{children:[O.tasks.length," tasks"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(ir,{className:"w-4 h-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(bs,{className:"w-4 h-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(fa,{className:"w-4 h-4"})})]})]})]},O.id))})})]})]}),e.jsx(De,{value:"policies",className:"space-y-6",children:e.jsx(cNe,{})}),e.jsx(De,{value:"analytics",className:"space-y-6",children:e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Analytics & Insights"}),e.jsx(Be,{children:"Risk analysis, SLA tracking, and AI insights"})]}),e.jsx(je,{children:e.jsx("p",{className:"text-muted-foreground",children:"Analytics dashboard will be implemented in the next phase."})})]})}),e.jsx(De,{value:"audit",className:"space-y-6",children:e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsx(Se,{children:"Audit & Exports"}),e.jsx(Be,{children:"Immutable audit trails and evidence packs"})]}),e.jsx(je,{children:e.jsx("p",{className:"text-muted-foreground",children:"Audit and export features will be implemented in the next phase."})})]})})]})}),o&&e.jsx(aNe,{onClose:()=>l(!1),onComplete:k}),d&&e.jsx(iNe,{onClose:()=>u(!1),onComplete:S}),f&&e.jsx(oNe,{onClose:()=>m(!1),onComplete:R}),v&&e.jsx(lNe,{request:v,onClose:()=>g(null),onUpdate:T})]})}class uNe{triggerRules=[];isrs=[];attributeDeltas=[];constructor(){this.initializeDefaultRules()}initializeDefaultRules(){this.loadTriggerRules()}async loadTriggerRules(){this.triggerRules=await Da.listTriggerRules()}async loadISRs(){this.isrs=await Da.listISRs()}async evaluateAttributeChange(r,n,s,a,i,o){const l={identityId:r,attribute:n,before:s,after:a,source:i,timestamp:new Date().toISOString(),correlationId:o};this.attributeDeltas.push(l);const d={identityId:r,delta:l,isrId:i,correlationId:o,timestamp:l.timestamp};return await this.evaluateTriggerRules(d)}async evaluateTriggerRules(r){const n=[],s=[],a=[],i=[...this.triggerRules].sort((o,l)=>o.priority-l.priority);for(const o of i){if(!o.isActive){s.push(o);continue}await this.evaluateRule(o,r)?(n.push(o),a.push(o.outputs),o.triggerCount++,o.lastTriggered=new Date().toISOString(),await Da.updateTriggerRule(o.id,o)):s.push(o)}return{triggeredRules:n,suppressedRules:s,jmlActions:a,correlationId:r.correlationId}}async evaluateRule(r,n){let s=!0,a="AND";for(let i=0;i<r.conditions.length;i++){const o=r.conditions[i],l=await this.evaluateCondition(o,n);i===0?s=l:a==="AND"?s=s&&l:s=s||l,o.logicalOperator&&(a=o.logicalOperator)}return s}async evaluateCondition(r,n){const{delta:s}=n;if(r.attribute!==s.attribute)return!1;switch(r.operator){case"EQUALS":return s.after===r.value;case"NOT_EQUALS":return s.after!==r.value;case"TRANSITION":return r.beforeValue!==void 0&&r.afterValue!==void 0?s.before===r.beforeValue&&s.after===r.afterValue:r.afterValue!==void 0?s.after===r.afterValue:!1;case"WITHIN_WINDOW":if(r.windowDays&&s.attribute==="startDate"){const a=new Date(s.after),i=new Date,o=Math.ceil((a.getTime()-i.getTime())/(1e3*60*60*24));return o>=0&&o<=r.windowDays}return!1;case"BEFORE":if(r.value==="today"){const a=new Date(s.after),i=new Date;return i.setHours(0,0,0,0),a<i}return!1;case"AFTER":if(r.value==="today"){const a=new Date(s.after),i=new Date;return i.setHours(0,0,0,0),a>i}return!1;case"REGEX":return r.pattern?new RegExp(r.pattern).test(String(s.after)):!1;case"IN_LIST":return r.list?r.list.includes(s.after):!1;case"CUSTOM":return await this.evaluateCustomPredicate(r.customPredicate||"",n);default:return!1}}async evaluateCustomPredicate(r,n){const{delta:s}=n;try{if(r.includes("contains")){const a=r.match(/contains\("([^"]+)"\)/);if(a)return String(s.after).toLowerCase().includes(a[1].toLowerCase())}if(r.includes("startsWith")){const a=r.match(/startsWith\("([^"]+)"\)/);if(a)return String(s.after).startsWith(a[1])}if(r.includes("endsWith")){const a=r.match(/endsWith\("([^"]+)"\)/);if(a)return String(s.after).endsWith(a[1])}if(r.includes("dateDiff")){const a=r.match(/dateDiff\("([^"]+)",\s*(\d+)\)/);if(a){const i=a[1],o=parseInt(a[2]),l=new Date(s.after),d=new Date,u=Math.ceil((l.getTime()-d.getTime())/(1e3*60*60*24));return Math.abs(u)<=o}}return!1}catch(a){return console.error("Error evaluating custom predicate:",a),!1}}async createJMLFromTrigger(r,n,s,a){let i=new Date;if(n.effectiveDate)if(n.effectiveDate==="startDate"&&s.delta.attribute==="startDate")i=new Date(s.delta.after);else if(n.effectiveDate==="next_business_day"){if(i=this.getNextBusinessDay(),n.effectiveTime){const[m,v]=n.effectiveTime.split(":").map(Number);i.setHours(m,v,0,0)}}else i=new Date(n.effectiveDate);const o=await this.calculateRiskScore(n,s,a),l=await this.evaluateBirthright(a),d=this.buildAccessPlan(l),u=await this.evaluateSoD(d);return{id:`jml-trigger-${Date.now()}`,type:n.type,identityRef:s.identityId,submittedBy:"system",submittedAt:new Date().toISOString(),effectiveDate:i.toISOString(),status:n.autoSubmit?"PENDING_APPROVAL":"DRAFT",riskScore:o.score,approvals:this.buildApprovalChain(n),tasks:this.buildTaskList(n),aiHints:{suggestions:l.roles.map(m=>({type:"ROLE",id:m.id,name:m.name,confidence:l.confidence,rationale:l.reasoning,sodRisk:u.violations.some(v=>v.conflictingItems.includes(m.id))})),anomalies:[],explanation:await this.generateTriggerExplanation(s,r),summary:`Auto-generated ${n.type} request from ISR trigger: ${r}`},changeSet:{addedRoles:l.roles.map(m=>m.id),addedEntitlements:l.entitlements.map(m=>m.id),attributeChanges:{[s.delta.attribute]:{oldValue:s.delta.before,newValue:s.delta.after}}},justification:`Automatically triggered by ISR rule: ${r}. ${n.notes||""}`,correlationId:s.correlationId}}getNextBusinessDay(){const r=new Date;for(r.setDate(r.getDate()+1);r.getDay()===0||r.getDay()===6;)r.setDate(r.getDate()+1);return r}async calculateRiskScore(r,n,s){let a=0;const i=[],o={JOINER:20,MOVER:40,LEAVER:10};a+=o[r.type]||0,i.push({factor:"JML Type",weight:.3,value:o[r.type]||0,contribution:o[r.type]||0});const l=this.getAttributeRiskLevel(n.delta.attribute);if(a+=l,i.push({factor:"Attribute Change",weight:.2,value:l,contribution:l}),s.riskLevel){const f={LOW:0,MEDIUM:20,HIGH:40,CRITICAL:60};a+=f[s.riskLevel]||0,i.push({factor:"Identity Risk Level",weight:.3,value:f[s.riskLevel]||0,contribution:f[s.riskLevel]||0})}const d=this.buildAccessPlan(await this.evaluateBirthright(s)),u=await this.evaluateSoD(d);if(u.violations.length>0){const f=u.violations.length*15;a+=f,i.push({factor:"SoD Violations",weight:.2,value:f,contribution:f})}return a=Math.min(100,Math.max(0,a)),{score:a,level:this.calculateRiskLevel(a),factors:i,recommendations:this.generateRiskRecommendations(a,i)}}getAttributeRiskLevel(r){return{employmentStatus:30,department:25,location:20,managerId:35,title:15,company:40,division:30,grade:25,costCenter:20,startDate:10,endDate:15}[r]||10}calculateRiskLevel(r){return r>=80?"CRITICAL":r>=60?"HIGH":r>=40?"MEDIUM":"LOW"}generateRiskRecommendations(r,n){const s=[];return r>=60&&(s.push("Require additional approval from IAM Admin"),s.push("Schedule manual review before execution")),n.some(a=>a.factor==="SoD Violations"&&a.value>0)&&s.push("Review and resolve SoD violations before proceeding"),r>=40&&s.push("Consider phased rollout for high-risk changes"),s}async evaluateBirthright(r){const n=[],s=[];if(r.department)switch(r.department.toLowerCase()){case"engineering":n.push({id:"role-engineer",name:"Software Engineer",description:"Standard engineering role",permissions:["read:code","write:code","deploy:staging"]});break;case"sales":n.push({id:"role-sales",name:"Sales Representative",description:"Sales team member",permissions:["read:crm","write:crm","view:reports"]});break;case"finance":n.push({id:"role-finance",name:"Finance Analyst",description:"Finance team member",permissions:["read:financials","write:budgets","view:reports"]});break}return s.push({id:"ent-basic-access",name:"Basic System Access",description:"Standard system access",type:"APPLICATION",applicationId:"app-basic",permissions:["read:profile","update:profile"]}),{roles:n,entitlements:s,confidence:.8,reasoning:`Assigned roles based on department: ${r.department}`}}buildAccessPlan(r){return{addedRoles:r.roles.map(n=>n.id),removedRoles:[],addedEntitlements:r.entitlements.map(n=>n.id),removedEntitlements:[],existingRoles:[],existingEntitlements:[]}}async evaluateSoD(r){const n=[],s=r.addedRoles.includes("role-finance"),a=r.addedRoles.includes("role-accounting");return s&&a&&n.push({id:"sod-finance-accounting",description:"Finance and Accounting roles cannot be assigned to the same person",conflictingItems:["role-finance","role-accounting"],severity:"HIGH",mitigationOptions:["Remove one of the conflicting roles","Add compensating controls","Require additional approval"]}),{violations:n,severity:n.length>0?"HIGH":"LOW",recommendations:n.length>0?["Review and resolve SoD violations"]:["No SoD violations detected"]}}buildApprovalChain(r){const n=[];return r.requireManagerApproval&&n.push({step:1,approverRole:"MANAGER",approverType:"MANAGER",isRequired:!0,dueDays:3,status:"PENDING"}),r.approvalsChain&&r.approvalsChain.forEach(s=>{n.push({step:s.step,approverRole:s.approverRole,approverType:s.approverType,isRequired:s.isRequired,dueDays:s.dueDays,status:"PENDING"})}),n}buildTaskList(r){const n=[];switch(r.type){case"JOINER":n.push({id:"task-create-accounts",name:"Create User Accounts",description:"Create accounts in target systems",status:"PENDING",priority:"HIGH"}),n.push({id:"task-assign-roles",name:"Assign Birthright Roles",description:"Assign default roles and permissions",status:"PENDING",priority:"HIGH"});break;case"MOVER":n.push({id:"task-update-access",name:"Update Access Rights",description:"Modify access based on new role/department",status:"PENDING",priority:"MEDIUM"});break;case"LEAVER":n.push({id:"task-disable-accounts",name:"Disable User Accounts",description:"Disable all user accounts",status:"PENDING",priority:"HIGH"}),n.push({id:"task-revoke-access",name:"Revoke All Access",description:"Remove all roles and permissions",status:"PENDING",priority:"HIGH"});break}return n}async generateTriggerExplanation(r,n){const{delta:s,isrId:a}=r;return`This ${n} was triggered because the ${s.attribute} attribute changed from "${s.before}" to "${s.after}" at ${s.timestamp}. This change was detected by ISR ${a} and matched the trigger conditions for automatic JML request creation.`}async createTriggerRule(r){const n=await Da.createTriggerRule(r);return this.triggerRules.push(n),n}async updateTriggerRule(r,n){const s=await Da.updateTriggerRule(r,n),a=this.triggerRules.findIndex(i=>i.id===r);return a!==-1&&(this.triggerRules[a]=s),s}async deleteTriggerRule(r){this.triggerRules=this.triggerRules.filter(n=>n.id!==r)}getTriggerRules(){return[...this.triggerRules]}getAttributeDeltas(){return[...this.attributeDeltas]}}const hNe=new uNe,Gp=[{identityId:"identity-001",attribute:"employmentStatus",before:"PENDING",after:"ACTIVE",source:"isr-hris",timestamp:"2024-01-15T09:00:00Z",correlationId:"batch-001"},{identityId:"identity-002",attribute:"department",before:"Sales",after:"Finance",source:"isr-hris",timestamp:"2024-01-15T10:30:00Z",correlationId:"batch-001"},{identityId:"identity-003",attribute:"employmentStatus",before:"ACTIVE",after:"TERMINATED",source:"isr-hris",timestamp:"2024-01-15T14:00:00Z",correlationId:"batch-001"},{identityId:"identity-004",attribute:"managerId",before:"mgr-001",after:"mgr-002",source:"isr-hris",timestamp:"2024-01-15T11:15:00Z",correlationId:"batch-001"},{identityId:"identity-005",attribute:"endDate",before:"2024-02-15",after:"2024-01-15",source:"isr-contractor",timestamp:"2024-01-15T16:00:00Z",correlationId:"webhook-001"}],pN=[{score:25,level:"LOW",factors:[{factor:"JML Type",weight:.3,value:20,contribution:6},{factor:"Attribute Change",weight:.2,value:10,contribution:2},{factor:"Identity Risk Level",weight:.3,value:0,contribution:0},{factor:"SoD Violations",weight:.2,value:0,contribution:0}],recommendations:["Standard low-risk change - proceed with normal approval process"]},{score:65,level:"HIGH",factors:[{factor:"JML Type",weight:.3,value:40,contribution:12},{factor:"Attribute Change",weight:.2,value:35,contribution:7},{factor:"Identity Risk Level",weight:.3,value:40,contribution:12},{factor:"SoD Violations",weight:.2,value:30,contribution:6}],recommendations:["Require additional approval from IAM Admin","Schedule manual review before execution","Review and resolve SoD violations before proceeding"]}],Kp=[{id:"jml-trigger-001",type:"JOINER",identityRef:"identity-001",submittedBy:"system",submittedAt:"2024-01-15T09:00:00Z",effectiveDate:"2024-01-15T09:00:00Z",status:"DRAFT",riskScore:25,justification:"Automatically triggered by ISR rule: trigger-joiner-hire. New employee onboarding triggered by HRIS status change.",correlationId:"batch-001",aiHints:{suggestions:[{type:"ROLE",id:"role-engineer",name:"Software Engineer",confidence:.8,rationale:"Assigned based on department: Engineering",sodRisk:!1}],anomalies:[],explanation:'This request was automatically triggered when the employmentStatus attribute changed from "PENDING" to "ACTIVE" at 2024-01-15T09:00:00Z. This change was detected by ISR isr-hris and matched the trigger conditions for automatic JML request creation.',summary:"Auto-generated JOINER request from ISR trigger: trigger-joiner-hire"},changeSet:{addedRoles:["role-engineer"],addedEntitlements:["ent-basic-access"],attributeChanges:{employmentStatus:{oldValue:"PENDING",newValue:"ACTIVE"}}}},{id:"jml-trigger-002",type:"MOVER",identityRef:"identity-002",submittedBy:"system",submittedAt:"2024-01-15T10:30:00Z",effectiveDate:"2024-01-16T08:30:00Z",status:"PENDING_APPROVAL",riskScore:45,justification:"Automatically triggered by ISR rule: trigger-mover-org-change. Organizational change detected - access review required.",correlationId:"batch-001",aiHints:{suggestions:[{type:"ROLE",id:"role-finance",name:"Finance Analyst",confidence:.85,rationale:"Assigned based on department change: Sales  Finance",sodRisk:!0}],anomalies:[{type:"SOD_VIOLATION",description:"Finance role conflicts with existing Sales role",severity:"HIGH",recommendation:"Review role assignments to resolve conflict"}],explanation:'This request was automatically triggered when the department attribute changed from "Sales" to "Finance" at 2024-01-15T10:30:00Z. This change was detected by ISR isr-hris and matched the trigger conditions for automatic JML request creation.',summary:"Auto-generated MOVER request from ISR trigger: trigger-mover-org-change"},changeSet:{addedRoles:["role-finance"],removedRoles:["role-sales"],addedEntitlements:[],removedEntitlements:[],attributeChanges:{department:{oldValue:"Sales",newValue:"Finance"}}}},{id:"jml-trigger-003",type:"LEAVER",identityRef:"identity-003",submittedBy:"system",submittedAt:"2024-01-15T14:00:00Z",effectiveDate:"2024-01-15T14:00:00Z",status:"IN_PROGRESS",riskScore:15,justification:"Automatically triggered by ISR rule: trigger-leaver-termination. Employee termination - immediate access revocation.",correlationId:"batch-001",aiHints:{suggestions:[],anomalies:[],explanation:'This request was automatically triggered when the employmentStatus attribute changed from "ACTIVE" to "TERMINATED" at 2024-01-15T14:00:00Z. This change was detected by ISR isr-hris and matched the trigger conditions for automatic JML request creation.',summary:"Auto-generated LEAVER request from ISR trigger: trigger-leaver-termination"},changeSet:{addedRoles:[],removedRoles:["role-engineer"],addedEntitlements:[],removedEntitlements:["ent-basic-access"],attributeChanges:{employmentStatus:{oldValue:"ACTIVE",newValue:"TERMINATED"}}}}],mNe={joinerScenario:{name:"New Employee Onboarding",description:"Demonstrates automatic JML request creation when a new employee is hired",steps:["1. HR updates employment status from PENDING to ACTIVE in Workday","2. ISR detects the change and evaluates trigger rules","3. Joiner trigger rule matches the conditions","4. JML request is automatically created with birthright access","5. Request is submitted for manager approval","6. Upon approval, access provisioning tasks are executed"],expectedOutcome:"New employee receives appropriate access based on department and role"},moverScenario:{name:"Department Transfer",description:"Demonstrates automatic JML request creation when an employee changes departments",steps:["1. HR updates department from Sales to Finance in Workday","2. ISR detects the change and evaluates trigger rules","3. Mover trigger rule matches the conditions","4. JML request is created with delta access plan","5. SoD check identifies potential conflicts","6. Request requires additional approval due to risk level","7. Upon approval, access is updated accordingly"],expectedOutcome:"Employee access is updated to reflect new department while maintaining compliance"},leaverScenario:{name:"Employee Termination",description:"Demonstrates automatic JML request creation when an employee is terminated",steps:["1. HR updates employment status to TERMINATED in Workday","2. ISR detects the change and evaluates trigger rules","3. Leaver trigger rule matches the conditions","4. JML request is automatically created and submitted","5. Access revocation tasks are executed immediately","6. Accounts are disabled and access is removed","7. Data retention policies are applied"],expectedOutcome:"Employee access is immediately revoked while preserving necessary data"}},fNe=t=>{switch(t){case"joiner":return{delta:Gp[0],jmlRequest:Kp[0],riskScore:pN[0]};case"mover":return{delta:Gp[1],jmlRequest:Kp[1],riskScore:pN[1]};case"leaver":return{delta:Gp[2],jmlRequest:Kp[2],riskScore:pN[0]};default:return null}};function pNe(){const[t,r]=j.useState("overview"),[n,s]=j.useState([]),[a,i]=j.useState([]),[o,l]=j.useState([]),[d,u]=j.useState([]),[f,m]=j.useState(!1),[v,g]=j.useState([]);j.useEffect(()=>{b()},[]);const b=async()=>{const w=await Da.listISRs(),k=await Da.listTriggerRules();s(w),i(k),l(Gp),u(Kp)},x=async w=>{m(!0);try{const k=fNe(w);if(!k)return;const{delta:S,jmlRequest:R,riskScore:T}=k,O=await hNe.evaluateAttributeChange(S.identityId,S.attribute,S.before,S.after,S.source,S.correlationId),U={scenario:w,delta:S,triggerResult:O,jmlRequest:R,riskScore:T,timestamp:new Date().toISOString()};g(D=>[U,...D]),u(D=>[R,...D])}catch(k){console.error("Simulation failed:",k)}finally{m(!1)}},y=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(se,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Se,{className:"text-sm font-medium",children:"Active ISRs"}),e.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(je,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Identity Systems of Record"})]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Se,{className:"text-sm font-medium",children:"Trigger Rules"}),e.jsx(Sr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(je,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active trigger rules"})]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Se,{className:"text-sm font-medium",children:"Auto-Generated Requests"}),e.jsx(Ss,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(je,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]})]}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-5 h-5"}),"Demo Scenarios"]}),e.jsx(Be,{children:"Test the ISR trigger engine with realistic scenarios"})]}),e.jsx(je,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(mNe).map(([w,k])=>e.jsxs(se,{className:"border-dashed",children:[e.jsxs(Ne,{children:[e.jsx(Se,{className:"text-base",children:k.name}),e.jsx(Be,{className:"text-sm",children:k.description})]}),e.jsx(je,{children:e.jsx(L,{onClick:()=>x(w),disabled:f,className:"w-full",variant:"outline",children:f?e.jsxs(e.Fragment,{children:[e.jsx(va,{className:"w-4 h-4 mr-2 animate-spin"}),"Simulating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ts,{className:"w-4 h-4 mr-2"}),"Run Demo"]})})})]},w))})})]}),v.length>0&&e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(zk,{className:"w-5 h-5"}),"Recent Simulations"]}),e.jsx(Be,{children:"Results from recent trigger simulations"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-4",children:v.slice(0,5).map((w,k)=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:"text-xs",children:w.scenario.toUpperCase()}),e.jsxs(J,{variant:"outline",className:`text-xs ${w.riskScore.level==="LOW"?"text-green-600 bg-green-100":w.riskScore.level==="MEDIUM"?"text-yellow-600 bg-yellow-100":w.riskScore.level==="HIGH"?"text-orange-600 bg-orange-100":"text-red-600 bg-red-100"}`,children:[w.riskScore.level," RISK"]})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(w.timestamp).toLocaleTimeString()})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Attribute Change:"}),e.jsx(J,{variant:"outline",className:"text-xs",children:w.delta.attribute}),e.jsx(Dn,{className:"w-3 h-3"}),e.jsxs("span",{className:"text-sm",children:['"',w.delta.before,'"  "',w.delta.after,'"']})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Triggered Rules:"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.triggerResult.triggeredRules.length," rules matched"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"JML Actions:"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.triggerResult.jmlActions.length," actions generated"]})]})]})]},k))})})]})]}),A=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Identity Systems of Record"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configured ISRs and their attribute mastership"})]}),e.jsxs(L,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2"}),"Add ISR"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(w=>e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Se,{className:"text-base",children:w.name}),e.jsx(Be,{children:w.description})]}),e.jsx(J,{variant:w.isActive?"default":"secondary",children:w.isActive?"Active":"Inactive"})]})}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Mastered Attributes"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[w.scope.masteredAttributes.slice(0,6).map(k=>e.jsx(J,{variant:"outline",className:"text-xs",children:k},k)),w.scope.masteredAttributes.length>6&&e.jsxs(J,{variant:"outline",className:"text-xs",children:["+",w.scope.masteredAttributes.length-6," more"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Ingestion Mode"}),e.jsx(J,{variant:"outline",className:"text-xs",children:w.ingestionMode.type})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Change Detection"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:`text-xs ${w.changeDetection.enabled?"text-green-600 bg-green-100":"text-gray-600 bg-gray-100"}`,children:w.changeDetection.enabled?"Enabled":"Disabled"}),w.changeDetection.realTimeProcessing&&e.jsx(J,{variant:"outline",className:"text-xs text-blue-600 bg-blue-100",children:"Real-time"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(ir,{className:"w-4 h-4 mr-1"}),"View Details"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),"Configure"]})]})]})})]},w.id))})]}),E=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Trigger Rules"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Rules that automatically create JML requests based on attribute changes"})]}),e.jsxs(L,{children:[e.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Add Rule"]})]}),e.jsx("div",{className:"space-y-4",children:a.map(w=>e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Se,{className:"text-base",children:w.name}),e.jsx(Be,{children:w.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:w.isActive?"default":"secondary",children:w.isActive?"Active":"Inactive"}),e.jsxs(J,{variant:"outline",className:"text-xs",children:["Priority ",w.priority]})]})]})}),e.jsx(je,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Trigger Conditions"}),e.jsx("div",{className:"space-y-2",children:w.conditions.map((k,S)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(J,{variant:"outline",className:"text-xs",children:k.attribute}),e.jsx("span",{className:"text-muted-foreground",children:k.operator.replace("_"," ").toLowerCase()}),k.beforeValue&&e.jsxs("span",{className:"text-muted-foreground",children:['"',k.beforeValue,'" ']}),k.afterValue&&e.jsxs("span",{className:"text-muted-foreground",children:['"',k.afterValue,'"']}),k.value&&e.jsxs("span",{className:"text-muted-foreground",children:['"',k.value,'"']})]},k.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"JML Action"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:"text-xs",children:w.outputs.type}),w.outputs.autoSubmit&&e.jsx(J,{variant:"outline",className:"text-xs text-green-600 bg-green-100",children:"Auto-submit"}),w.outputs.sodPreCheck&&e.jsx(J,{variant:"outline",className:"text-xs text-blue-600 bg-blue-100",children:"SoD Check"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Triggered ",w.triggerCount," times"]}),w.lastTriggered&&e.jsxs("span",{children:["Last: ",new Date(w.lastTriggered).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(ir,{className:"w-4 h-4 mr-1"}),"View Details"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})})]},w.id))})]}),C=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Trigger Activity"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recent attribute changes and triggered JML requests"})]}),e.jsxs(L,{variant:"outline",children:[e.jsx(va,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),e.jsx("div",{className:"space-y-4",children:o.map((w,k)=>e.jsx(se,{children:e.jsx(je,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:"text-xs",children:w.source}),e.jsx(J,{variant:"outline",className:"text-xs",children:w.attribute}),e.jsx(Dn,{className:"w-3 h-3"}),e.jsxs("span",{className:"text-sm",children:['"',w.before,'"  "',w.after,'"']})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Identity: ",w.identityId,"  ",new Date(w.timestamp).toLocaleString()]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:w.correlationId})]})})},k))}),e.jsxs(se,{children:[e.jsxs(Ne,{children:[e.jsxs(Se,{className:"flex items-center gap-2",children:[e.jsx(Pi,{className:"w-5 h-5"}),"Generated JML Requests"]}),e.jsx(Be,{children:"Requests automatically created by trigger rules"})]}),e.jsx(je,{children:e.jsx("div",{className:"space-y-4",children:d.map(w=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:"outline",className:"text-xs",children:w.type}),e.jsx(J,{variant:"outline",className:`text-xs ${w.status==="COMPLETED"?"text-green-600 bg-green-100":w.status==="PENDING_APPROVAL"?"text-yellow-600 bg-yellow-100":w.status==="IN_PROGRESS"?"text-blue-600 bg-blue-100":"text-gray-600 bg-gray-100"}`,children:w.status.replace("_"," ")}),e.jsxs(J,{variant:"outline",className:`text-xs ${w.riskLevel==="LOW"?"text-green-600 bg-green-100":w.riskLevel==="MEDIUM"?"text-yellow-600 bg-yellow-100":w.riskLevel==="HIGH"?"text-orange-600 bg-orange-100":"text-red-600 bg-red-100"}`,children:[w.riskLevel," RISK"]})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(w.submittedAt).toLocaleString()})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Identity:"})," ",w.identityRef]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Justification:"})," ",w.justification]}),w.correlationId&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Correlation ID: ",w.correlationId]})]})]},w.id))})})]})]});return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"ISR Demo"}),e.jsx("p",{className:"text-muted-foreground",children:"Identity System of Record - Attribute-driven JML triggers"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Export Data"]}),e.jsxs(L,{children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),"Configure"]})]})]}),e.jsxs(pn,{value:t,onValueChange:r,children:[e.jsxs(sn,{className:"grid w-full grid-cols-4",children:[e.jsx(Ie,{value:"overview",children:"Overview"}),e.jsx(Ie,{value:"isrs",children:"ISRs"}),e.jsx(Ie,{value:"rules",children:"Trigger Rules"}),e.jsx(Ie,{value:"activity",children:"Activity"})]}),e.jsx(De,{value:"overview",children:e.jsx(y,{})}),e.jsx(De,{value:"isrs",children:e.jsx(A,{})}),e.jsx(De,{value:"rules",children:e.jsx(E,{})}),e.jsx(De,{value:"activity",children:e.jsx(C,{})})]})]})}async function vNe(t){let r=vt.from("users").select("id",{count:"exact",head:!0}).eq("status","active").is("deleted_at",null);const{count:n}=await r;let s=vt.from("applications").select("id",{count:"exact",head:!0}).eq("is_active",!0);const{count:a}=await s;let i=vt.from("access_requests").select("id",{count:"exact",head:!0}).eq("status","Pending");const{count:o}=await i;let l=vt.from("jml_requests").select("id",{count:"exact",head:!0}).in("status",["DRAFT","PENDING_APPROVAL"]);const{count:d}=await l;return{totalUsers:n||0,totalApplications:a||0,pendingAccessRequests:o||0,pendingJmlRequests:d||0}}function xNe(){const[t,r]=j.useState("idle"),[n,s]=j.useState(null),[a,i]=j.useState(null),o=async()=>{r("testing"),s(null),i(null);try{if(!await sV())throw new Error("Connection test failed");const d=await vNe();i(d),r("success")}catch(l){r("error"),s(l instanceof Error?l.message:"Unknown error"),console.error("Supabase connection test failed:",l)}};return j.useEffect(()=>{o()},[]),e.jsx(se,{className:"p-6 max-w-2xl mx-auto my-8",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Supabase Connection Test"}),e.jsxs(L,{variant:"outline",size:"sm",onClick:o,disabled:t==="testing",children:[t==="testing"?e.jsx(Lh,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(va,{className:"w-4 h-4 mr-2"}),"Test Connection"]})]}),e.jsxs("div",{className:"border-t pt-4",children:[t==="idle"&&e.jsx("div",{className:"text-muted-foreground",children:'Click "Test Connection" to verify Supabase setup'}),t==="testing"&&e.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[e.jsx(Lh,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Testing connection to Supabase..."})]}),t==="success"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsx(cr,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:" Connection successful!"})]}),a&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-950 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Database Statistics:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Total Users"}),e.jsx("div",{className:"text-2xl font-semibold",children:a.totalUsers})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Applications"}),e.jsx("div",{className:"text-2xl font-semibold",children:a.totalApplications})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Pending Requests"}),e.jsx("div",{className:"text-2xl font-semibold",children:a.pendingAccessRequests})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Pending JML"}),e.jsx("div",{className:"text-2xl font-semibold",children:a.pendingJmlRequests})]})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{children:" Environment variables loaded correctly"}),e.jsx("p",{children:" Supabase client initialized"}),e.jsx("p",{children:" Database connection established"}),e.jsx("p",{children:" Tables are accessible"})]})]}),t==="error"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[e.jsx(Cr,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:" Connection failed"})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-950 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2 text-red-900 dark:text-red-100",children:"Error Details:"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200 font-mono",children:n})]}),e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsx("p",{className:"font-medium",children:"Troubleshooting checklist:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[e.jsxs("li",{children:["Verify ",e.jsx("code",{children:".env.local"})," file exists in project root"]}),e.jsx("li",{children:"Check VITE_SUPABASE_URL is correct (no trailing slash)"}),e.jsx("li",{children:"Check VITE_SUPABASE_ANON_KEY is correct"}),e.jsx("li",{children:"Restart the dev server after updating .env.local"}),e.jsx("li",{children:"Verify RLS is disabled for development"}),e.jsx("li",{children:"Check Supabase project is running"})]})]})]})]})]})})}function gNe(){const[t]=_H(),r=$r(),n=t.get("token"),[s,a]=j.useState(""),[i,o]=j.useState(""),[l,d]=j.useState(""),[u,f]=j.useState(!1),[m,v]=j.useState(!1),[g,b]=j.useState("");j.useEffect(()=>{n||b("Invalid invitation link. Please check the URL and try again.")},[n]);const x=async y=>{if(y.preventDefault(),!n){b("Invalid invitation token");return}if(!s.trim()){b("Please enter your name");return}if(!i){b("Please enter a password");return}if(i!==l){b("Passwords do not match");return}if(i.length<8){b("Password must be at least 8 characters long");return}f(!0),b("");try{const A=await fetch("https://syhakcccldxfvcuczaol.supabase.co/functions/v1/invite-accept",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,password:i,name:s.trim()})}),E=await A.json();if(!A.ok)throw new Error(E.error||"Failed to accept invitation");if(E.success)v(!0),Ae.success("Welcome to the team!",{description:E.message||"Your account has been created successfully."}),E.session?setTimeout(()=>{r("/")},2e3):setTimeout(()=>{r("/auth")},2e3);else throw new Error(E.error||"Failed to accept invitation")}catch(A){console.error("Error accepting invitation:",A),b(A.message||"Failed to accept invitation. Please try again.")}finally{f(!1)}};return m?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs(se,{className:"w-full max-w-md p-8 text-center",children:[e.jsx(jn,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to the team!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been created successfully. You'll be redirected shortly."}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full animate-pulse",style:{width:"100%"}})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs(se,{className:"w-full max-w-md p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(hn,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Accept Invitation"}),e.jsx("p",{className:"text-gray-600",children:"Complete your account setup to join the organization"})]}),g&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fr,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsx("p",{className:"text-red-800 text-sm",children:g})]})}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"name",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(pa,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx(pe,{id:"name",type:"text",placeholder:"Enter your full name",value:s,onChange:y=>a(y.target.value),className:"pl-10",required:!0,disabled:u})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(rd,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx(pe,{id:"password",type:"password",placeholder:"Create a password",value:i,onChange:y=>o(y.target.value),className:"pl-10",required:!0,disabled:u,minLength:8})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Password must be at least 8 characters long"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(rd,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx(pe,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:l,onChange:y=>d(y.target.value),className:"pl-10",required:!0,disabled:u,minLength:8})]})]}),e.jsx(L,{type:"submit",className:"w-full",disabled:u||!n,children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(hn,{className:"w-4 h-4 mr-2"}),"Accept Invitation"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"By accepting this invitation, you agree to join the organization and abide by its policies."})})]})})}function yNe(){const[t,r]=j.useState([]),[n,s]=j.useState(!1),[a,i]=j.useState(null),[o,l]=j.useState(null);j.useEffect(()=>{(async()=>{const{data:{session:f}}=await vt.auth.getSession();l(f)})()},[]);const d=async()=>{s(!0),i(null);try{console.log("Calling identities function...");const{data:u,error:f}=await vt.functions.invoke("identities");if(console.log("Function response:",{data:u,error:f}),f){i(`Function error: ${f.message}`);return}if(u?.error){i(`API error: ${u.error}`);return}r(u?.data||[])}catch(u){console.error("Network error:",u),i(`Network error: ${u}`)}finally{s(!1)}};return e.jsx("div",{className:"container mx-auto p-6 space-y-6",children:e.jsxs(se,{children:[e.jsx(Ne,{children:e.jsx(Se,{children:"Test Identities Edge Function"})}),e.jsxs(je,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Session Info:"}),e.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs overflow-auto",children:o?JSON.stringify({user_id:o.user?.id,email:o.user?.email,org_id:o.user?.user_metadata?.org_id,roles:o.user?.user_metadata?.roles},null,2):"Loading..."})]}),e.jsx(L,{onClick:d,disabled:n,children:n?"Loading...":"Fetch Identities"}),a&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-3",children:e.jsx("p",{className:"text-red-800 text-sm",children:a})}),t.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-2",children:["Identities (",t.length,"):"]}),e.jsx("div",{className:"space-y-2",children:t.map(u=>e.jsxs("div",{className:"border rounded p-3 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:u.display_name}),e.jsxs("span",{className:"text-gray-600 ml-2",children:["(",u.email,")"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(J,{variant:u.risk_level==="HIGH"?"destructive":"secondary",children:u.risk_level}),e.jsx(J,{variant:u.status==="active"?"default":"outline",children:u.status}),u.mfa_enabled&&e.jsx(J,{variant:"outline",children:"MFA"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[u.job_title,"  ",u.department,"  Manager: ",u.manager_name]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Started: ",new Date(u.start_date).toLocaleDateString(),"  Last login: ",u.last_login_at?new Date(u.last_login_at).toLocaleDateString():"Never"]})]},u.id))})]})]})]})})}function bNe(){return e.jsx(WR,{children:e.jsx(vee,{children:e.jsx(gee,{children:e.jsx(dye,{children:e.jsxs(SH,{children:[e.jsx(WR,{children:e.jsxs(eH,{children:[e.jsx(gt,{path:"/auth",element:e.jsx(iY,{})}),e.jsx(gt,{path:"/register",element:e.jsx(oY,{})}),e.jsx(gt,{path:"/accept-invite",element:e.jsx(gNe,{})}),e.jsxs(gt,{element:e.jsx(Zee,{}),children:[e.jsx(gt,{path:"/",element:e.jsx(sge,{})}),e.jsx(gt,{path:"/requests",element:e.jsx(Q1,{})}),e.jsx(gt,{path:"/requests/new",element:e.jsx(Q1,{})}),e.jsx(gt,{path:"/requests/:id",element:e.jsx(Q1,{})}),e.jsx(gt,{path:"/approvals",element:e.jsx(HM,{})}),e.jsx(gt,{path:"/approvals/:id",element:e.jsx(HM,{})}),e.jsx(gt,{path:"/identities",element:e.jsx($M,{})}),e.jsx(gt,{path:"/identities/:userId",element:e.jsx($M,{})}),e.jsx(gt,{path:"/access",element:e.jsx(xN,{to:"/access/roles",replace:!0})}),e.jsx(gt,{path:"/access/roles/new",element:e.jsx(Awe,{})}),e.jsx(gt,{path:"/access/roles/:roleId",element:e.jsx(wwe,{})}),e.jsx(gt,{path:"/access/roles",element:e.jsx($p,{})}),e.jsx(gt,{path:"/access/entitlements/:entitlementId",element:e.jsx(Twe,{})}),e.jsx(gt,{path:"/access/entitlements",element:e.jsx($p,{})}),e.jsx(gt,{path:"/access/apps/:appId",element:e.jsx($p,{})}),e.jsx(gt,{path:"/access/apps",element:e.jsx($p,{})}),e.jsx(gt,{path:"/reviews",element:e.jsx(Xwe,{})}),e.jsx(gt,{path:"/reviews/new",element:e.jsx(y1e,{})}),e.jsx(gt,{path:"/reviews/:campaignId/workbench",element:e.jsx(i1e,{})}),e.jsx(gt,{path:"/risk",element:e.jsx(X0e,{})}),e.jsx(gt,{path:"/reports",element:e.jsx(L1e,{})}),e.jsx(gt,{path:"/policies",element:e.jsx(H1e,{})}),e.jsx(gt,{path:"/lifecycle",element:e.jsx(nNe,{})}),e.jsx(gt,{path:"/jml",element:e.jsx(dNe,{})}),e.jsx(gt,{path:"/isr-demo",element:e.jsx(pNe,{})}),e.jsx(gt,{path:"/integrations",element:e.jsx(Xbe,{})}),e.jsx(gt,{path:"/integrations/new",element:e.jsx(Gwe,{onClose:()=>window.location.href="/integrations"})}),e.jsx(gt,{path:"/integrations/:id",element:e.jsx(dB,{})}),e.jsx(gt,{path:"/settings",element:e.jsx(gje,{})}),e.jsx(gt,{path:"/test-connection",element:e.jsx(xNe,{})}),e.jsx(gt,{path:"/test-identities",element:e.jsx(yNe,{})})]}),e.jsx(gt,{path:"*",element:e.jsx(xN,{to:"/auth",replace:!0})})]})}),e.jsx(Nje,{})]})})})})})}oq.createRoot(document.getElementById("root")).render(e.jsx(bNe,{}));export{Mn as A,J as B,wx as C,ya as D,Dr as E,Mr as F,Mh as K,G as L,So as P,$ as R,bt as S,Do as T,zt as U,$t as X,Ai as a,Ei as b,_i as c,Nr as d,sr as e,Sa as f,Xr as g,Pe as h,L as i,e as j,PG as k,Ga as l,Ln as m,cr as n,Oh as o,et as p,Sm as q,j as r,ba as s,ja as t,Ct as u,vye as v,xye as w,Zr as x,Or as y,Ir as z};
